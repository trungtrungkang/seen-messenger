!function(e){function r(e,r,o){return 4===arguments.length?t.apply(this,arguments):void n(e,{declarative:!0,deps:r,declare:o})}function t(e,r,t,o){n(e,{declarative:!1,deps:r,executingRequire:t,execute:o})}function n(e,r){r.name=e,e in v||(v[e]=r),r.normalizedDeps=r.deps}function o(e,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==g.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var t=0,n=e.normalizedDeps.length;n>t;t++){var a=e.normalizedDeps[t],u=v[a];if(u&&!u.evaluated){var d=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<d){if(void 0!==u.groupIndex&&(r[u.groupIndex].splice(g.call(r[u.groupIndex],u),1),0==r[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=d}o(u,r)}}}}function a(e){var r=v[e];r.groupIndex=0;var t=[];o(r,t);for(var n=!!r.declarative==t.length%2,a=t.length-1;a>=0;a--){for(var u=t[a],i=0;i<u.length;i++){var s=u[i];n?d(s):l(s)}n=!n}}function u(e){return y[e]||(y[e]={name:e,dependencies:[],exports:{},importers:[]})}function d(r){if(!r.module){var t=r.module=u(r.name),n=r.module.exports,o=r.declare.call(e,function(e,r){if(t.locked=!0,"object"==typeof e)for(var o in e)n[o]=e[o];else n[e]=r;for(var a=0,u=t.importers.length;u>a;a++){var d=t.importers[a];if(!d.locked)for(var i=0;i<d.dependencies.length;++i)d.dependencies[i]===t&&d.setters[i](n)}return t.locked=!1,r},{id:r.name});t.setters=o.setters,t.execute=o.execute;for(var a=0,i=r.normalizedDeps.length;i>a;a++){var l,s=r.normalizedDeps[a],c=v[s],f=y[s];f?l=f.exports:c&&!c.declarative?l=c.esModule:c?(d(c),f=c.module,l=f.exports):l=p(s),f&&f.importers?(f.importers.push(t),t.dependencies.push(f)):t.dependencies.push(null),t.setters[a]&&t.setters[a](l)}}}function i(e){var r,t=v[e];if(t)t.declarative?f(e,[]):t.evaluated||l(t),r=t.module.exports;else if(r=p(e),!r)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&r&&r.__useDefault?r["default"]:r}function l(r){if(!r.module){var t={},n=r.module={exports:t,id:r.name};if(!r.executingRequire)for(var o=0,a=r.normalizedDeps.length;a>o;o++){var u=r.normalizedDeps[o],d=v[u];d&&l(d)}r.evaluated=!0;var c=r.execute.call(e,function(e){for(var t=0,n=r.deps.length;n>t;t++)if(r.deps[t]==e)return i(r.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,n);c&&(n.exports=c),t=n.exports,t&&t.__esModule?r.esModule=t:r.esModule=s(t)}}function s(r){var t={};if(("object"==typeof r||"function"==typeof r)&&r!==e)if(m)for(var n in r)"default"!==n&&c(t,r,n);else{var o=r&&r.hasOwnProperty;for(var n in r)"default"===n||o&&!r.hasOwnProperty(n)||(t[n]=r[n])}return t["default"]=r,x(t,"__useDefault",{value:!0}),t}function c(e,r,t){try{var n;(n=Object.getOwnPropertyDescriptor(r,t))&&x(e,t,n)}catch(o){return e[t]=r[t],!1}}function f(r,t){var n=v[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var u=n.normalizedDeps[o];-1==g.call(t,u)&&(v[u]?f(u,t):p(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function p(e){if(I[e])return I[e];if("@node/"==e.substr(0,6))return I[e]=s(D(e.substr(6)));var r=v[e];if(!r)throw"Module "+e+" not present.";return a(e),f(e,[]),v[e]=void 0,r.declarative&&x(r.module.exports,"__esModule",{value:!0}),I[e]=r.declarative?r.module.exports:r.esModule}var v={},g=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},m=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(h){m=!1}var x;!function(){try{Object.defineProperty({},"a",{})&&(x=Object.defineProperty)}catch(e){x=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var y={},D="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,I={"@empty":{}};return function(e,n,o,a){return function(u){u(function(u){for(var d={_nodeRequire:D,register:r,registerDynamic:t,get:p,set:function(e,r){I[e]=r},newModule:function(e){return e}},i=0;i<n.length;i++)(function(e,r){r&&r.__esModule?I[e]=r:I[e]=s(r)})(n[i],arguments[i]);a(d);var l=p(e[0]);if(e.length>1)for(var i=1;i<e.length;i++)p(e[i]);return o?l["default"]:l})}}}("undefined"!=typeof self?self:global)

(["1"], [], false, function($__System) {
var require = this.require, exports = this.exports, module = this.module;
!function(e){function r(e,r){for(var n=e.split(".");n.length;)r=r[n.shift()];return r}function n(n){if("string"==typeof n)return r(n,e);if(!(n instanceof Array))throw new Error("Global exports must be a string or array.");for(var t={},o=!0,f=0;f<n.length;f++){var i=r(n[f],e);o&&(t["default"]=i,o=!1),t[n[f].split(".").pop()]=i}return t}function t(r){if(Object.keys)Object.keys(e).forEach(r);else for(var n in e)a.call(e,n)&&r(n)}function o(r){t(function(n){if(-1==l.call(s,n)){try{var t=e[n]}catch(o){s.push(n)}r(n,t)}})}var f,i=$__System,a=Object.prototype.hasOwnProperty,l=Array.prototype.indexOf||function(e){for(var r=0,n=this.length;n>r;r++)if(this[r]===e)return r;return-1},s=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];i.set("@@global-helpers",i.newModule({prepareGlobal:function(r,t,i){var a=e.define;e.define=void 0;var l;if(i){l={};for(var s in i)l[s]=e[s],e[s]=i[s]}return t||(f={},o(function(e,r){f[e]=r})),function(){var r;if(t)r=n(t);else{r={};var i,s;o(function(e,n){f[e]!==n&&"undefined"!=typeof n&&(r[e]=n,"undefined"!=typeof i?s||i===n||(s=!0):i=n)}),r=s?r:i}if(l)for(var u in l)e[u]=l[u];return e.define=a,r}}}))}("undefined"!=typeof self?self:global);
!function(e){function n(e,n){e=e.replace(l,"");var r=e.match(u),t=(r[1].split(",")[n]||"require").replace(s,""),i=p[t]||(p[t]=new RegExp(a+t+f,"g"));i.lastIndex=0;for(var o,c=[];o=i.exec(e);)c.push(o[2]||o[3]);return c}function r(e,n,t,o){if("object"==typeof e&&!(e instanceof Array))return r.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof n&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var l=i.get(e);return l.__useDefault?l["default"]:l}throw new TypeError("Invalid require")}for(var a=[],f=0;f<e.length;f++)a.push(i["import"](e[f],o));Promise.all(a).then(function(e){n&&n.apply(null,e)},t)}function t(t,l,a){"string"!=typeof t&&(a=l,l=t,t=null),l instanceof Array||(a=l,l=["require","exports","module"].splice(0,a.length)),"function"!=typeof a&&(a=function(e){return function(){return e}}(a)),void 0===l[l.length-1]&&l.pop();var f,u,s;-1!=(f=o.call(l,"require"))&&(l.splice(f,1),t||(l=l.concat(n(a.toString(),f)))),-1!=(u=o.call(l,"exports"))&&l.splice(u,1),-1!=(s=o.call(l,"module"))&&l.splice(s,1);var p={name:t,deps:l,execute:function(n,t,o){for(var p=[],c=0;c<l.length;c++)p.push(n(l[c]));o.uri=o.id,o.config=function(){},-1!=s&&p.splice(s,0,o),-1!=u&&p.splice(u,0,t),-1!=f&&p.splice(f,0,function(e,t,l){return"string"==typeof e&&"function"!=typeof t?n(e):r.call(i,e,t,l,o.id)});var d=a.apply(-1==u?e:t,p);return"undefined"==typeof d&&o&&(d=o.exports),"undefined"!=typeof d?d:void 0}};if(t)c.anonDefine||c.isBundle?c.anonDefine&&c.anonDefine.name&&(c.anonDefine=null):c.anonDefine=p,c.isBundle=!0,i.registerDynamic(p.name,p.deps,!1,p.execute);else{if(c.anonDefine&&!c.anonDefine.name)throw new Error("Multiple anonymous defines in module "+t);c.anonDefine=p}}var i=$__System,o=Array.prototype.indexOf||function(e){for(var n=0,r=this.length;r>n;n++)if(this[n]===e)return n;return-1},l=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,a="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",f="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",u=/\(([^\)]*)\)/,s=/^\s+|\s+$/g,p={};t.amd={};var c={isBundle:!1,anonDefine:null};i.amdDefine=t,i.amdRequire=r}("undefined"!=typeof self?self:global);
$__System.registerDynamic("2", ["3"], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  var process = $__require('3');
  function normalizeArray(parts, allowAboveRoot) {
    var up = 0;
    for (var i = parts.length - 1; i >= 0; i--) {
      var last = parts[i];
      if (last === '.') {
        parts.splice(i, 1);
      } else if (last === '..') {
        parts.splice(i, 1);
        up++;
      } else if (up) {
        parts.splice(i, 1);
        up--;
      }
    }
    if (allowAboveRoot) {
      for (; up--; up) {
        parts.unshift('..');
      }
    }
    return parts;
  }
  var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
  var splitPath = function(filename) {
    return splitPathRe.exec(filename).slice(1);
  };
  exports.resolve = function() {
    var resolvedPath = '',
        resolvedAbsolute = false;
    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
      var path = (i >= 0) ? arguments[i] : process.cwd();
      if (typeof path !== 'string') {
        throw new TypeError('Arguments to path.resolve must be strings');
      } else if (!path) {
        continue;
      }
      resolvedPath = path + '/' + resolvedPath;
      resolvedAbsolute = path.charAt(0) === '/';
    }
    resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
      return !!p;
    }), !resolvedAbsolute).join('/');
    return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
  };
  exports.normalize = function(path) {
    var isAbsolute = exports.isAbsolute(path),
        trailingSlash = substr(path, -1) === '/';
    path = normalizeArray(filter(path.split('/'), function(p) {
      return !!p;
    }), !isAbsolute).join('/');
    if (!path && !isAbsolute) {
      path = '.';
    }
    if (path && trailingSlash) {
      path += '/';
    }
    return (isAbsolute ? '/' : '') + path;
  };
  exports.isAbsolute = function(path) {
    return path.charAt(0) === '/';
  };
  exports.join = function() {
    var paths = Array.prototype.slice.call(arguments, 0);
    return exports.normalize(filter(paths, function(p, index) {
      if (typeof p !== 'string') {
        throw new TypeError('Arguments to path.join must be strings');
      }
      return p;
    }).join('/'));
  };
  exports.relative = function(from, to) {
    from = exports.resolve(from).substr(1);
    to = exports.resolve(to).substr(1);
    function trim(arr) {
      var start = 0;
      for (; start < arr.length; start++) {
        if (arr[start] !== '')
          break;
      }
      var end = arr.length - 1;
      for (; end >= 0; end--) {
        if (arr[end] !== '')
          break;
      }
      if (start > end)
        return [];
      return arr.slice(start, end - start + 1);
    }
    var fromParts = trim(from.split('/'));
    var toParts = trim(to.split('/'));
    var length = Math.min(fromParts.length, toParts.length);
    var samePartsLength = length;
    for (var i = 0; i < length; i++) {
      if (fromParts[i] !== toParts[i]) {
        samePartsLength = i;
        break;
      }
    }
    var outputParts = [];
    for (var i = samePartsLength; i < fromParts.length; i++) {
      outputParts.push('..');
    }
    outputParts = outputParts.concat(toParts.slice(samePartsLength));
    return outputParts.join('/');
  };
  exports.sep = '/';
  exports.delimiter = ':';
  exports.dirname = function(path) {
    var result = splitPath(path),
        root = result[0],
        dir = result[1];
    if (!root && !dir) {
      return '.';
    }
    if (dir) {
      dir = dir.substr(0, dir.length - 1);
    }
    return root + dir;
  };
  exports.basename = function(path, ext) {
    var f = splitPath(path)[2];
    if (ext && f.substr(-1 * ext.length) === ext) {
      f = f.substr(0, f.length - ext.length);
    }
    return f;
  };
  exports.extname = function(path) {
    return splitPath(path)[3];
  };
  function filter(xs, f) {
    if (xs.filter)
      return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
      if (f(xs[i], i, xs))
        res.push(xs[i]);
    }
    return res;
  }
  var substr = 'ab'.substr(-1) === 'b' ? function(str, start, len) {
    return str.substr(start, len);
  } : function(str, start, len) {
    if (start < 0)
      start = str.length + start;
    return str.substr(start, len);
  };
  ;
  return module.exports;
});

$__System.registerDynamic("4", ["5", "6", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var getKeys = $__require('5'),
      toIObject = $__require('6');
  module.exports = function(object, el) {
    var O = toIObject(object),
        keys = getKeys(O),
        length = keys.length,
        index = 0,
        key;
    while (length > index)
      if (O[key = keys[index++]] === el)
        return key;
  };
  return module.exports;
});

$__System.registerDynamic("7", ["5", "8", "9", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var getKeys = $__require('5'),
      gOPS = $__require('8'),
      pIE = $__require('9');
  module.exports = function(it) {
    var result = getKeys(it),
        getSymbols = gOPS.f;
    if (getSymbols) {
      var symbols = getSymbols(it),
          isEnum = pIE.f,
          i = 0,
          key;
      while (symbols.length > i)
        if (isEnum.call(it, key = symbols[i++]))
          result.push(key);
    }
    return result;
  };
  return module.exports;
});

$__System.registerDynamic("a", ["b", "c", "d", "e", "f", "10", "11", "12", "13", "14", "15", "16", "17", "4", "7", "18", "19", "6", "1a", "1b", "1c", "1d", "1e", "1f", "5", "20", "9", "8", "21", "22", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      has = $__require('c'),
      DESCRIPTORS = $__require('d'),
      $export = $__require('e'),
      redefine = $__require('f'),
      META = $__require('10').KEY,
      $fails = $__require('11'),
      shared = $__require('12'),
      setToStringTag = $__require('13'),
      uid = $__require('14'),
      wks = $__require('15'),
      wksExt = $__require('16'),
      wksDefine = $__require('17'),
      keyOf = $__require('4'),
      enumKeys = $__require('7'),
      isArray = $__require('18'),
      anObject = $__require('19'),
      toIObject = $__require('6'),
      toPrimitive = $__require('1a'),
      createDesc = $__require('1b'),
      _create = $__require('1c'),
      gOPNExt = $__require('1d'),
      $GOPD = $__require('1e'),
      $DP = $__require('1f'),
      $keys = $__require('5'),
      gOPD = $GOPD.f,
      dP = $DP.f,
      gOPN = gOPNExt.f,
      $Symbol = global.Symbol,
      $JSON = global.JSON,
      _stringify = $JSON && $JSON.stringify,
      PROTOTYPE = 'prototype',
      HIDDEN = wks('_hidden'),
      TO_PRIMITIVE = wks('toPrimitive'),
      isEnum = {}.propertyIsEnumerable,
      SymbolRegistry = shared('symbol-registry'),
      AllSymbols = shared('symbols'),
      OPSymbols = shared('op-symbols'),
      ObjectProto = Object[PROTOTYPE],
      USE_NATIVE = typeof $Symbol == 'function',
      QObject = global.QObject;
  var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;
  var setSymbolDesc = DESCRIPTORS && $fails(function() {
    return _create(dP({}, 'a', {get: function() {
        return dP(this, 'a', {value: 7}).a;
      }})).a != 7;
  }) ? function(it, key, D) {
    var protoDesc = gOPD(ObjectProto, key);
    if (protoDesc)
      delete ObjectProto[key];
    dP(it, key, D);
    if (protoDesc && it !== ObjectProto)
      dP(ObjectProto, key, protoDesc);
  } : dP;
  var wrap = function(tag) {
    var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
    sym._k = tag;
    return sym;
  };
  var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it) {
    return typeof it == 'symbol';
  } : function(it) {
    return it instanceof $Symbol;
  };
  var $defineProperty = function defineProperty(it, key, D) {
    if (it === ObjectProto)
      $defineProperty(OPSymbols, key, D);
    anObject(it);
    key = toPrimitive(key, true);
    anObject(D);
    if (has(AllSymbols, key)) {
      if (!D.enumerable) {
        if (!has(it, HIDDEN))
          dP(it, HIDDEN, createDesc(1, {}));
        it[HIDDEN][key] = true;
      } else {
        if (has(it, HIDDEN) && it[HIDDEN][key])
          it[HIDDEN][key] = false;
        D = _create(D, {enumerable: createDesc(0, false)});
      }
      return setSymbolDesc(it, key, D);
    }
    return dP(it, key, D);
  };
  var $defineProperties = function defineProperties(it, P) {
    anObject(it);
    var keys = enumKeys(P = toIObject(P)),
        i = 0,
        l = keys.length,
        key;
    while (l > i)
      $defineProperty(it, key = keys[i++], P[key]);
    return it;
  };
  var $create = function create(it, P) {
    return P === undefined ? _create(it) : $defineProperties(_create(it), P);
  };
  var $propertyIsEnumerable = function propertyIsEnumerable(key) {
    var E = isEnum.call(this, key = toPrimitive(key, true));
    if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))
      return false;
    return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
  };
  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
    it = toIObject(it);
    key = toPrimitive(key, true);
    if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))
      return;
    var D = gOPD(it, key);
    if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))
      D.enumerable = true;
    return D;
  };
  var $getOwnPropertyNames = function getOwnPropertyNames(it) {
    var names = gOPN(toIObject(it)),
        result = [],
        i = 0,
        key;
    while (names.length > i) {
      if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)
        result.push(key);
    }
    return result;
  };
  var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
    var IS_OP = it === ObjectProto,
        names = gOPN(IS_OP ? OPSymbols : toIObject(it)),
        result = [],
        i = 0,
        key;
    while (names.length > i) {
      if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))
        result.push(AllSymbols[key]);
    }
    return result;
  };
  if (!USE_NATIVE) {
    $Symbol = function Symbol() {
      if (this instanceof $Symbol)
        throw TypeError('Symbol is not a constructor!');
      var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
      var $set = function(value) {
        if (this === ObjectProto)
          $set.call(OPSymbols, value);
        if (has(this, HIDDEN) && has(this[HIDDEN], tag))
          this[HIDDEN][tag] = false;
        setSymbolDesc(this, tag, createDesc(1, value));
      };
      if (DESCRIPTORS && setter)
        setSymbolDesc(ObjectProto, tag, {
          configurable: true,
          set: $set
        });
      return wrap(tag);
    };
    redefine($Symbol[PROTOTYPE], 'toString', function toString() {
      return this._k;
    });
    $GOPD.f = $getOwnPropertyDescriptor;
    $DP.f = $defineProperty;
    $__require('20').f = gOPNExt.f = $getOwnPropertyNames;
    $__require('9').f = $propertyIsEnumerable;
    $__require('8').f = $getOwnPropertySymbols;
    if (DESCRIPTORS && !$__require('21')) {
      redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
    }
    wksExt.f = function(name) {
      return wrap(wks(name));
    };
  }
  $export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});
  for (var symbols = ('hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables').split(','),
      i = 0; symbols.length > i; )
    wks(symbols[i++]);
  for (var symbols = $keys(wks.store),
      i = 0; symbols.length > i; )
    wksDefine(symbols[i++]);
  $export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
    'for': function(key) {
      return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);
    },
    keyFor: function keyFor(key) {
      if (isSymbol(key))
        return keyOf(SymbolRegistry, key);
      throw TypeError(key + ' is not a symbol!');
    },
    useSetter: function() {
      setter = true;
    },
    useSimple: function() {
      setter = false;
    }
  });
  $export($export.S + $export.F * !USE_NATIVE, 'Object', {
    create: $create,
    defineProperty: $defineProperty,
    defineProperties: $defineProperties,
    getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
    getOwnPropertyNames: $getOwnPropertyNames,
    getOwnPropertySymbols: $getOwnPropertySymbols
  });
  $JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function() {
    var S = $Symbol();
    return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';
  })), 'JSON', {stringify: function stringify(it) {
      if (it === undefined || isSymbol(it))
        return;
      var args = [it],
          i = 1,
          replacer,
          $replacer;
      while (arguments.length > i)
        args.push(arguments[i++]);
      replacer = args[1];
      if (typeof replacer == 'function')
        $replacer = replacer;
      if ($replacer || !isArray(replacer))
        replacer = function(key, value) {
          if ($replacer)
            value = $replacer.call(this, key, value);
          if (!isSymbol(value))
            return value;
        };
      args[1] = replacer;
      return _stringify.apply($JSON, args);
    }});
  $Symbol[PROTOTYPE][TO_PRIMITIVE] || $__require('22')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
  setToStringTag($Symbol, 'Symbol');
  setToStringTag(Math, 'Math', true);
  setToStringTag(global.JSON, 'JSON', true);
  return module.exports;
});

$__System.registerDynamic("23", ["e", "1c", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Object', {create: $__require('1c')});
  return module.exports;
});

$__System.registerDynamic("24", ["e", "d", "1f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S + $export.F * !$__require('d'), 'Object', {defineProperty: $__require('1f').f});
  return module.exports;
});

$__System.registerDynamic("25", ["e", "d", "26", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S + $export.F * !$__require('d'), 'Object', {defineProperties: $__require('26')});
  return module.exports;
});

$__System.registerDynamic("27", ["6", "1e", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toIObject = $__require('6'),
      $getOwnPropertyDescriptor = $__require('1e').f;
  $__require('28')('getOwnPropertyDescriptor', function() {
    return function getOwnPropertyDescriptor(it, key) {
      return $getOwnPropertyDescriptor(toIObject(it), key);
    };
  });
  return module.exports;
});

$__System.registerDynamic("29", ["2a", "2b", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toObject = $__require('2a'),
      $getPrototypeOf = $__require('2b');
  $__require('28')('getPrototypeOf', function() {
    return function getPrototypeOf(it) {
      return $getPrototypeOf(toObject(it));
    };
  });
  return module.exports;
});

$__System.registerDynamic("2c", ["2a", "5", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toObject = $__require('2a'),
      $keys = $__require('5');
  $__require('28')('keys', function() {
    return function keys(it) {
      return $keys(toObject(it));
    };
  });
  return module.exports;
});

$__System.registerDynamic("1d", ["6", "20", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toIObject = $__require('6'),
      gOPN = $__require('20').f,
      toString = {}.toString;
  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
  var getWindowNames = function(it) {
    try {
      return gOPN(it);
    } catch (e) {
      return windowNames.slice();
    }
  };
  module.exports.f = function getOwnPropertyNames(it) {
    return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
  };
  return module.exports;
});

$__System.registerDynamic("2d", ["28", "1d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('28')('getOwnPropertyNames', function() {
    return $__require('1d').f;
  });
  return module.exports;
});

$__System.registerDynamic("2e", ["2f", "10", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      meta = $__require('10').onFreeze;
  $__require('28')('freeze', function($freeze) {
    return function freeze(it) {
      return $freeze && isObject(it) ? $freeze(meta(it)) : it;
    };
  });
  return module.exports;
});

$__System.registerDynamic("30", ["2f", "10", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      meta = $__require('10').onFreeze;
  $__require('28')('seal', function($seal) {
    return function seal(it) {
      return $seal && isObject(it) ? $seal(meta(it)) : it;
    };
  });
  return module.exports;
});

$__System.registerDynamic("31", ["2f", "10", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      meta = $__require('10').onFreeze;
  $__require('28')('preventExtensions', function($preventExtensions) {
    return function preventExtensions(it) {
      return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;
    };
  });
  return module.exports;
});

$__System.registerDynamic("32", ["2f", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f');
  $__require('28')('isFrozen', function($isFrozen) {
    return function isFrozen(it) {
      return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;
    };
  });
  return module.exports;
});

$__System.registerDynamic("33", ["2f", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f');
  $__require('28')('isSealed', function($isSealed) {
    return function isSealed(it) {
      return isObject(it) ? $isSealed ? $isSealed(it) : false : true;
    };
  });
  return module.exports;
});

$__System.registerDynamic("28", ["e", "34", "11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      core = $__require('34'),
      fails = $__require('11');
  module.exports = function(KEY, exec) {
    var fn = (core.Object || {})[KEY] || Object[KEY],
        exp = {};
    exp[KEY] = exec(fn);
    $export($export.S + $export.F * fails(function() {
      fn(1);
    }), 'Object', exp);
  };
  return module.exports;
});

$__System.registerDynamic("35", ["2f", "28", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f');
  $__require('28')('isExtensible', function($isExtensible) {
    return function isExtensible(it) {
      return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;
    };
  });
  return module.exports;
});

$__System.registerDynamic("36", ["e", "37", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S + $export.F, 'Object', {assign: $__require('37')});
  return module.exports;
});

$__System.registerDynamic("38", ["e", "39", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Object', {is: $__require('39')});
  return module.exports;
});

$__System.registerDynamic("3a", ["e", "3b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Object', {setPrototypeOf: $__require('3b').set});
  return module.exports;
});

$__System.registerDynamic("3c", ["3d", "15", "f", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var classof = $__require('3d'),
      test = {};
  test[$__require('15')('toStringTag')] = 'z';
  if (test + '' != '[object z]') {
    $__require('f')(Object.prototype, 'toString', function toString() {
      return '[object ' + classof(this) + ']';
    }, true);
  }
  return module.exports;
});

$__System.registerDynamic("3e", ["e", "3f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.P, 'Function', {bind: $__require('3f')});
  return module.exports;
});

$__System.registerDynamic("40", ["1f", "1b", "c", "d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var dP = $__require('1f').f,
      createDesc = $__require('1b'),
      has = $__require('c'),
      FProto = Function.prototype,
      nameRE = /^\s*function ([^ (]*)/,
      NAME = 'name';
  var isExtensible = Object.isExtensible || function() {
    return true;
  };
  NAME in FProto || $__require('d') && dP(FProto, NAME, {
    configurable: true,
    get: function() {
      try {
        var that = this,
            name = ('' + that).match(nameRE)[1];
        has(that, NAME) || !isExtensible(that) || dP(that, NAME, createDesc(5, name));
        return name;
      } catch (e) {
        return '';
      }
    }
  });
  return module.exports;
});

$__System.registerDynamic("41", ["2f", "2b", "15", "1f", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      getPrototypeOf = $__require('2b'),
      HAS_INSTANCE = $__require('15')('hasInstance'),
      FunctionProto = Function.prototype;
  if (!(HAS_INSTANCE in FunctionProto))
    $__require('1f').f(FunctionProto, HAS_INSTANCE, {value: function(O) {
        if (typeof this != 'function' || !isObject(O))
          return false;
        if (!isObject(this.prototype))
          return O instanceof this;
        while (O = getPrototypeOf(O))
          if (this.prototype === O)
            return true;
        return false;
      }});
  return module.exports;
});

$__System.registerDynamic("42", ["e", "43", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $parseInt = $__require('43');
  $export($export.G + $export.F * (parseInt != $parseInt), {parseInt: $parseInt});
  return module.exports;
});

$__System.registerDynamic("44", ["e", "45", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $parseFloat = $__require('45');
  $export($export.G + $export.F * (parseFloat != $parseFloat), {parseFloat: $parseFloat});
  return module.exports;
});

$__System.registerDynamic("46", ["b", "c", "47", "48", "1a", "11", "20", "1e", "1f", "49", "1c", "d", "f", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      has = $__require('c'),
      cof = $__require('47'),
      inheritIfRequired = $__require('48'),
      toPrimitive = $__require('1a'),
      fails = $__require('11'),
      gOPN = $__require('20').f,
      gOPD = $__require('1e').f,
      dP = $__require('1f').f,
      $trim = $__require('49').trim,
      NUMBER = 'Number',
      $Number = global[NUMBER],
      Base = $Number,
      proto = $Number.prototype,
      BROKEN_COF = cof($__require('1c')(proto)) == NUMBER,
      TRIM = 'trim' in String.prototype;
  var toNumber = function(argument) {
    var it = toPrimitive(argument, false);
    if (typeof it == 'string' && it.length > 2) {
      it = TRIM ? it.trim() : $trim(it, 3);
      var first = it.charCodeAt(0),
          third,
          radix,
          maxCode;
      if (first === 43 || first === 45) {
        third = it.charCodeAt(2);
        if (third === 88 || third === 120)
          return NaN;
      } else if (first === 48) {
        switch (it.charCodeAt(1)) {
          case 66:
          case 98:
            radix = 2;
            maxCode = 49;
            break;
          case 79:
          case 111:
            radix = 8;
            maxCode = 55;
            break;
          default:
            return +it;
        }
        for (var digits = it.slice(2),
            i = 0,
            l = digits.length,
            code; i < l; i++) {
          code = digits.charCodeAt(i);
          if (code < 48 || code > maxCode)
            return NaN;
        }
        return parseInt(digits, radix);
      }
    }
    return +it;
  };
  if (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {
    $Number = function Number(value) {
      var it = arguments.length < 1 ? 0 : value,
          that = this;
      return that instanceof $Number && (BROKEN_COF ? fails(function() {
        proto.valueOf.call(that);
      }) : cof(that) != NUMBER) ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);
    };
    for (var keys = $__require('d') ? gOPN(Base) : ('MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' + 'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' + 'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger').split(','),
        j = 0,
        key; keys.length > j; j++) {
      if (has(Base, key = keys[j]) && !has($Number, key)) {
        dP($Number, key, gOPD(Base, key));
      }
    }
    $Number.prototype = proto;
    proto.constructor = $Number;
    $__require('f')(global, NUMBER, $Number);
  }
  return module.exports;
});

$__System.registerDynamic("4a", ["e", "4b", "4c", "4d", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toInteger = $__require('4b'),
      aNumberValue = $__require('4c'),
      repeat = $__require('4d'),
      $toFixed = 1..toFixed,
      floor = Math.floor,
      data = [0, 0, 0, 0, 0, 0],
      ERROR = 'Number.toFixed: incorrect invocation!',
      ZERO = '0';
  var multiply = function(n, c) {
    var i = -1,
        c2 = c;
    while (++i < 6) {
      c2 += n * data[i];
      data[i] = c2 % 1e7;
      c2 = floor(c2 / 1e7);
    }
  };
  var divide = function(n) {
    var i = 6,
        c = 0;
    while (--i >= 0) {
      c += data[i];
      data[i] = floor(c / n);
      c = (c % n) * 1e7;
    }
  };
  var numToString = function() {
    var i = 6,
        s = '';
    while (--i >= 0) {
      if (s !== '' || i === 0 || data[i] !== 0) {
        var t = String(data[i]);
        s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;
      }
    }
    return s;
  };
  var pow = function(x, n, acc) {
    return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);
  };
  var log = function(x) {
    var n = 0,
        x2 = x;
    while (x2 >= 4096) {
      n += 12;
      x2 /= 4096;
    }
    while (x2 >= 2) {
      n += 1;
      x2 /= 2;
    }
    return n;
  };
  $export($export.P + $export.F * (!!$toFixed && (0.00008.toFixed(3) !== '0.000' || 0.9.toFixed(0) !== '1' || 1.255.toFixed(2) !== '1.25' || 1000000000000000128..toFixed(0) !== '1000000000000000128') || !$__require('11')(function() {
    $toFixed.call({});
  })), 'Number', {toFixed: function toFixed(fractionDigits) {
      var x = aNumberValue(this, ERROR),
          f = toInteger(fractionDigits),
          s = '',
          m = ZERO,
          e,
          z,
          j,
          k;
      if (f < 0 || f > 20)
        throw RangeError(ERROR);
      if (x != x)
        return 'NaN';
      if (x <= -1e21 || x >= 1e21)
        return String(x);
      if (x < 0) {
        s = '-';
        x = -x;
      }
      if (x > 1e-21) {
        e = log(x * pow(2, 69, 1)) - 69;
        z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);
        z *= 0x10000000000000;
        e = 52 - e;
        if (e > 0) {
          multiply(0, z);
          j = f;
          while (j >= 7) {
            multiply(1e7, 0);
            j -= 7;
          }
          multiply(pow(10, j, 1), 0);
          j = e - 1;
          while (j >= 23) {
            divide(1 << 23);
            j -= 23;
          }
          divide(1 << j);
          multiply(1, 1);
          divide(2);
          m = numToString();
        } else {
          multiply(0, z);
          multiply(1 << -e, 0);
          m = numToString() + repeat.call(ZERO, f);
        }
      }
      if (f > 0) {
        k = m.length;
        m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));
      } else {
        m = s + m;
      }
      return m;
    }});
  return module.exports;
});

$__System.registerDynamic("4c", ["47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var cof = $__require('47');
  module.exports = function(it, msg) {
    if (typeof it != 'number' && cof(it) != 'Number')
      throw TypeError(msg);
    return +it;
  };
  return module.exports;
});

$__System.registerDynamic("4e", ["e", "11", "4c", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $fails = $__require('11'),
      aNumberValue = $__require('4c'),
      $toPrecision = 1..toPrecision;
  $export($export.P + $export.F * ($fails(function() {
    return $toPrecision.call(1, undefined) !== '1';
  }) || !$fails(function() {
    $toPrecision.call({});
  })), 'Number', {toPrecision: function toPrecision(precision) {
      var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');
      return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);
    }});
  return module.exports;
});

$__System.registerDynamic("4f", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Number', {EPSILON: Math.pow(2, -52)});
  return module.exports;
});

$__System.registerDynamic("50", ["e", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      _isFinite = $__require('b').isFinite;
  $export($export.S, 'Number', {isFinite: function isFinite(it) {
      return typeof it == 'number' && _isFinite(it);
    }});
  return module.exports;
});

$__System.registerDynamic("51", ["e", "52", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Number', {isInteger: $__require('52')});
  return module.exports;
});

$__System.registerDynamic("53", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Number', {isNaN: function isNaN(number) {
      return number != number;
    }});
  return module.exports;
});

$__System.registerDynamic("52", ["2f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      floor = Math.floor;
  module.exports = function isInteger(it) {
    return !isObject(it) && isFinite(it) && floor(it) === it;
  };
  return module.exports;
});

$__System.registerDynamic("54", ["e", "52", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      isInteger = $__require('52'),
      abs = Math.abs;
  $export($export.S, 'Number', {isSafeInteger: function isSafeInteger(number) {
      return isInteger(number) && abs(number) <= 0x1fffffffffffff;
    }});
  return module.exports;
});

$__System.registerDynamic("55", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});
  return module.exports;
});

$__System.registerDynamic("56", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});
  return module.exports;
});

$__System.registerDynamic("45", ["b", "49", "57", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $parseFloat = $__require('b').parseFloat,
      $trim = $__require('49').trim;
  module.exports = 1 / $parseFloat($__require('57') + '-0') !== -Infinity ? function parseFloat(str) {
    var string = $trim(String(str), 3),
        result = $parseFloat(string);
    return result === 0 && string.charAt(0) == '-' ? -0 : result;
  } : $parseFloat;
  return module.exports;
});

$__System.registerDynamic("58", ["e", "45", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $parseFloat = $__require('45');
  $export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', {parseFloat: $parseFloat});
  return module.exports;
});

$__System.registerDynamic("43", ["b", "49", "57", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $parseInt = $__require('b').parseInt,
      $trim = $__require('49').trim,
      ws = $__require('57'),
      hex = /^[\-+]?0[xX]/;
  module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {
    var string = $trim(String(str), 3);
    return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));
  } : $parseInt;
  return module.exports;
});

$__System.registerDynamic("59", ["e", "43", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $parseInt = $__require('43');
  $export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', {parseInt: $parseInt});
  return module.exports;
});

$__System.registerDynamic("5a", ["e", "5b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      log1p = $__require('5b'),
      sqrt = Math.sqrt,
      $acosh = Math.acosh;
  $export($export.S + $export.F * !($acosh && Math.floor($acosh(Number.MAX_VALUE)) == 710 && $acosh(Infinity) == Infinity), 'Math', {acosh: function acosh(x) {
      return (x = +x) < 1 ? NaN : x > 94906265.62425156 ? Math.log(x) + Math.LN2 : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
    }});
  return module.exports;
});

$__System.registerDynamic("5c", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $asinh = Math.asinh;
  function asinh(x) {
    return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));
  }
  $export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', {asinh: asinh});
  return module.exports;
});

$__System.registerDynamic("5d", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $atanh = Math.atanh;
  $export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {atanh: function atanh(x) {
      return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;
    }});
  return module.exports;
});

$__System.registerDynamic("5e", ["e", "5f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      sign = $__require('5f');
  $export($export.S, 'Math', {cbrt: function cbrt(x) {
      return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);
    }});
  return module.exports;
});

$__System.registerDynamic("60", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {clz32: function clz32(x) {
      return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;
    }});
  return module.exports;
});

$__System.registerDynamic("61", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      exp = Math.exp;
  $export($export.S, 'Math', {cosh: function cosh(x) {
      return (exp(x = +x) + exp(-x)) / 2;
    }});
  return module.exports;
});

$__System.registerDynamic("62", ["e", "63", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $expm1 = $__require('63');
  $export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', {expm1: $expm1});
  return module.exports;
});

$__System.registerDynamic("64", ["e", "5f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      sign = $__require('5f'),
      pow = Math.pow,
      EPSILON = pow(2, -52),
      EPSILON32 = pow(2, -23),
      MAX32 = pow(2, 127) * (2 - EPSILON32),
      MIN32 = pow(2, -126);
  var roundTiesToEven = function(n) {
    return n + 1 / EPSILON - 1 / EPSILON;
  };
  $export($export.S, 'Math', {fround: function fround(x) {
      var $abs = Math.abs(x),
          $sign = sign(x),
          a,
          result;
      if ($abs < MIN32)
        return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
      a = (1 + EPSILON32 / EPSILON) * $abs;
      result = a - (a - $abs);
      if (result > MAX32 || result != result)
        return $sign * Infinity;
      return $sign * result;
    }});
  return module.exports;
});

$__System.registerDynamic("65", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      abs = Math.abs;
  $export($export.S, 'Math', {hypot: function hypot(value1, value2) {
      var sum = 0,
          i = 0,
          aLen = arguments.length,
          larg = 0,
          arg,
          div;
      while (i < aLen) {
        arg = abs(arguments[i++]);
        if (larg < arg) {
          div = larg / arg;
          sum = sum * div * div + 1;
          larg = arg;
        } else if (arg > 0) {
          div = arg / larg;
          sum += div * div;
        } else
          sum += arg;
      }
      return larg === Infinity ? Infinity : larg * Math.sqrt(sum);
    }});
  return module.exports;
});

$__System.registerDynamic("66", ["e", "11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $imul = Math.imul;
  $export($export.S + $export.F * $__require('11')(function() {
    return $imul(0xffffffff, 5) != -5 || $imul.length != 2;
  }), 'Math', {imul: function imul(x, y) {
      var UINT16 = 0xffff,
          xn = +x,
          yn = +y,
          xl = UINT16 & xn,
          yl = UINT16 & yn;
      return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
    }});
  return module.exports;
});

$__System.registerDynamic("67", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {log10: function log10(x) {
      return Math.log(x) / Math.LN10;
    }});
  return module.exports;
});

$__System.registerDynamic("5b", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = Math.log1p || function log1p(x) {
    return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);
  };
  return module.exports;
});

$__System.registerDynamic("68", ["e", "5b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {log1p: $__require('5b')});
  return module.exports;
});

$__System.registerDynamic("69", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {log2: function log2(x) {
      return Math.log(x) / Math.LN2;
    }});
  return module.exports;
});

$__System.registerDynamic("5f", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = Math.sign || function sign(x) {
    return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
  };
  return module.exports;
});

$__System.registerDynamic("6a", ["e", "5f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {sign: $__require('5f')});
  return module.exports;
});

$__System.registerDynamic("6b", ["e", "63", "11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      expm1 = $__require('63'),
      exp = Math.exp;
  $export($export.S + $export.F * $__require('11')(function() {
    return !Math.sinh(-2e-17) != -2e-17;
  }), 'Math', {sinh: function sinh(x) {
      return Math.abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);
    }});
  return module.exports;
});

$__System.registerDynamic("63", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $expm1 = Math.expm1;
  module.exports = (!$expm1 || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168 || $expm1(-2e-17) != -2e-17) ? function expm1(x) {
    return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;
  } : $expm1;
  return module.exports;
});

$__System.registerDynamic("6c", ["e", "63", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      expm1 = $__require('63'),
      exp = Math.exp;
  $export($export.S, 'Math', {tanh: function tanh(x) {
      var a = expm1(x = +x),
          b = expm1(-x);
      return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));
    }});
  return module.exports;
});

$__System.registerDynamic("6d", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {trunc: function trunc(it) {
      return (it > 0 ? Math.floor : Math.ceil)(it);
    }});
  return module.exports;
});

$__System.registerDynamic("6e", ["e", "6f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toIndex = $__require('6f'),
      fromCharCode = String.fromCharCode,
      $fromCodePoint = String.fromCodePoint;
  $export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {fromCodePoint: function fromCodePoint(x) {
      var res = [],
          aLen = arguments.length,
          i = 0,
          code;
      while (aLen > i) {
        code = +arguments[i++];
        if (toIndex(code, 0x10ffff) !== code)
          throw RangeError(code + ' is not a valid code point');
        res.push(code < 0x10000 ? fromCharCode(code) : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00));
      }
      return res.join('');
    }});
  return module.exports;
});

$__System.registerDynamic("70", ["e", "6", "71", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toIObject = $__require('6'),
      toLength = $__require('71');
  $export($export.S, 'String', {raw: function raw(callSite) {
      var tpl = toIObject(callSite.raw),
          len = toLength(tpl.length),
          aLen = arguments.length,
          res = [],
          i = 0;
      while (len > i) {
        res.push(String(tpl[i++]));
        if (i < aLen)
          res.push(String(arguments[i]));
      }
      return res.join('');
    }});
  return module.exports;
});

$__System.registerDynamic("72", ["49", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('49')('trim', function($trim) {
    return function trim() {
      return $trim(this, 3);
    };
  });
  return module.exports;
});

$__System.registerDynamic("73", ["74", "75", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $at = $__require('74')(true);
  $__require('75')(String, 'String', function(iterated) {
    this._t = String(iterated);
    this._i = 0;
  }, function() {
    var O = this._t,
        index = this._i,
        point;
    if (index >= O.length)
      return {
        value: undefined,
        done: true
      };
    point = $at(O, index);
    this._i += point.length;
    return {
      value: point,
      done: false
    };
  });
  return module.exports;
});

$__System.registerDynamic("76", ["e", "74", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $at = $__require('74')(false);
  $export($export.P, 'String', {codePointAt: function codePointAt(pos) {
      return $at(this, pos);
    }});
  return module.exports;
});

$__System.registerDynamic("77", ["e", "71", "78", "79", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toLength = $__require('71'),
      context = $__require('78'),
      ENDS_WITH = 'endsWith',
      $endsWith = ''[ENDS_WITH];
  $export($export.P + $export.F * $__require('79')(ENDS_WITH), 'String', {endsWith: function endsWith(searchString) {
      var that = context(this, searchString, ENDS_WITH),
          endPosition = arguments.length > 1 ? arguments[1] : undefined,
          len = toLength(that.length),
          end = endPosition === undefined ? len : Math.min(toLength(endPosition), len),
          search = String(searchString);
      return $endsWith ? $endsWith.call(that, search, end) : that.slice(end - search.length, end) === search;
    }});
  return module.exports;
});

$__System.registerDynamic("7a", ["e", "78", "79", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      context = $__require('78'),
      INCLUDES = 'includes';
  $export($export.P + $export.F * $__require('79')(INCLUDES), 'String', {includes: function includes(searchString) {
      return !!~context(this, searchString, INCLUDES).indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
    }});
  return module.exports;
});

$__System.registerDynamic("7b", ["e", "4d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.P, 'String', {repeat: $__require('4d')});
  return module.exports;
});

$__System.registerDynamic("78", ["7c", "7d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isRegExp = $__require('7c'),
      defined = $__require('7d');
  module.exports = function(that, searchString, NAME) {
    if (isRegExp(searchString))
      throw TypeError('String#' + NAME + " doesn't accept regex!");
    return String(defined(that));
  };
  return module.exports;
});

$__System.registerDynamic("79", ["15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var MATCH = $__require('15')('match');
  module.exports = function(KEY) {
    var re = /./;
    try {
      '/./'[KEY](re);
    } catch (e) {
      try {
        re[MATCH] = false;
        return !'/./'[KEY](re);
      } catch (f) {}
    }
    return true;
  };
  return module.exports;
});

$__System.registerDynamic("7e", ["e", "71", "78", "79", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toLength = $__require('71'),
      context = $__require('78'),
      STARTS_WITH = 'startsWith',
      $startsWith = ''[STARTS_WITH];
  $export($export.P + $export.F * $__require('79')(STARTS_WITH), 'String', {startsWith: function startsWith(searchString) {
      var that = context(this, searchString, STARTS_WITH),
          index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length)),
          search = String(searchString);
      return $startsWith ? $startsWith.call(that, search, index) : that.slice(index, index + search.length) === search;
    }});
  return module.exports;
});

$__System.registerDynamic("7f", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('anchor', function(createHTML) {
    return function anchor(name) {
      return createHTML(this, 'a', 'name', name);
    };
  });
  return module.exports;
});

$__System.registerDynamic("81", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('big', function(createHTML) {
    return function big() {
      return createHTML(this, 'big', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("82", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('blink', function(createHTML) {
    return function blink() {
      return createHTML(this, 'blink', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("83", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('bold', function(createHTML) {
    return function bold() {
      return createHTML(this, 'b', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("84", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('fixed', function(createHTML) {
    return function fixed() {
      return createHTML(this, 'tt', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("85", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('fontcolor', function(createHTML) {
    return function fontcolor(color) {
      return createHTML(this, 'font', 'color', color);
    };
  });
  return module.exports;
});

$__System.registerDynamic("86", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('fontsize', function(createHTML) {
    return function fontsize(size) {
      return createHTML(this, 'font', 'size', size);
    };
  });
  return module.exports;
});

$__System.registerDynamic("87", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('italics', function(createHTML) {
    return function italics() {
      return createHTML(this, 'i', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("88", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('link', function(createHTML) {
    return function link(url) {
      return createHTML(this, 'a', 'href', url);
    };
  });
  return module.exports;
});

$__System.registerDynamic("89", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('small', function(createHTML) {
    return function small() {
      return createHTML(this, 'small', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("8a", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('strike', function(createHTML) {
    return function strike() {
      return createHTML(this, 'strike', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("8b", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('sub', function(createHTML) {
    return function sub() {
      return createHTML(this, 'sub', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("80", ["e", "11", "7d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      fails = $__require('11'),
      defined = $__require('7d'),
      quot = /"/g;
  var createHTML = function(string, tag, attribute, value) {
    var S = String(defined(string)),
        p1 = '<' + tag;
    if (attribute !== '')
      p1 += ' ' + attribute + '="' + String(value).replace(quot, '&quot;') + '"';
    return p1 + '>' + S + '</' + tag + '>';
  };
  module.exports = function(NAME, exec) {
    var O = {};
    O[NAME] = exec(createHTML);
    $export($export.P + $export.F * fails(function() {
      var test = ''[NAME]('"');
      return test !== test.toLowerCase() || test.split('"').length > 3;
    }), 'String', O);
  };
  return module.exports;
});

$__System.registerDynamic("8c", ["80", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('80')('sup', function(createHTML) {
    return function sup() {
      return createHTML(this, 'sup', '', '');
    };
  });
  return module.exports;
});

$__System.registerDynamic("8d", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Date', {now: function() {
      return new Date().getTime();
    }});
  return module.exports;
});

$__System.registerDynamic("8e", ["e", "2a", "1a", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toObject = $__require('2a'),
      toPrimitive = $__require('1a');
  $export($export.P + $export.F * $__require('11')(function() {
    return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({toISOString: function() {
        return 1;
      }}) !== 1;
  }), 'Date', {toJSON: function toJSON(key) {
      var O = toObject(this),
          pv = toPrimitive(O);
      return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();
    }});
  return module.exports;
});

$__System.registerDynamic("8f", ["e", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      fails = $__require('11'),
      getTime = Date.prototype.getTime;
  var lz = function(num) {
    return num > 9 ? num : '0' + num;
  };
  $export($export.P + $export.F * (fails(function() {
    return new Date(-5e13 - 1).toISOString() != '0385-07-25T07:06:39.999Z';
  }) || !fails(function() {
    new Date(NaN).toISOString();
  })), 'Date', {toISOString: function toISOString() {
      if (!isFinite(getTime.call(this)))
        throw RangeError('Invalid time value');
      var d = this,
          y = d.getUTCFullYear(),
          m = d.getUTCMilliseconds(),
          s = y < 0 ? '-' : y > 9999 ? '+' : '';
      return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) + '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) + 'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) + ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';
    }});
  return module.exports;
});

$__System.registerDynamic("90", ["f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var DateProto = Date.prototype,
      INVALID_DATE = 'Invalid Date',
      TO_STRING = 'toString',
      $toString = DateProto[TO_STRING],
      getTime = DateProto.getTime;
  if (new Date(NaN) + '' != INVALID_DATE) {
    $__require('f')(DateProto, TO_STRING, function toString() {
      var value = getTime.call(this);
      return value === value ? $toString.call(this) : INVALID_DATE;
    });
  }
  return module.exports;
});

$__System.registerDynamic("91", ["19", "1a", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var anObject = $__require('19'),
      toPrimitive = $__require('1a'),
      NUMBER = 'number';
  module.exports = function(hint) {
    if (hint !== 'string' && hint !== NUMBER && hint !== 'default')
      throw TypeError('Incorrect hint');
    return toPrimitive(anObject(this), hint != NUMBER);
  };
  return module.exports;
});

$__System.registerDynamic("92", ["15", "22", "91", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var TO_PRIMITIVE = $__require('15')('toPrimitive'),
      proto = Date.prototype;
  if (!(TO_PRIMITIVE in proto))
    $__require('22')(proto, TO_PRIMITIVE, $__require('91'));
  return module.exports;
});

$__System.registerDynamic("93", ["e", "18", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Array', {isArray: $__require('18')});
  return module.exports;
});

$__System.registerDynamic("94", ["95", "e", "2a", "96", "97", "71", "98", "99", "9a", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var ctx = $__require('95'),
      $export = $__require('e'),
      toObject = $__require('2a'),
      call = $__require('96'),
      isArrayIter = $__require('97'),
      toLength = $__require('71'),
      createProperty = $__require('98'),
      getIterFn = $__require('99');
  $export($export.S + $export.F * !$__require('9a')(function(iter) {
    Array.from(iter);
  }), 'Array', {from: function from(arrayLike) {
      var O = toObject(arrayLike),
          C = typeof this == 'function' ? this : Array,
          aLen = arguments.length,
          mapfn = aLen > 1 ? arguments[1] : undefined,
          mapping = mapfn !== undefined,
          index = 0,
          iterFn = getIterFn(O),
          length,
          result,
          step,
          iterator;
      if (mapping)
        mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
      if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
        for (iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++) {
          createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
        }
      } else {
        length = toLength(O.length);
        for (result = new C(length); length > index; index++) {
          createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
        }
      }
      result.length = index;
      return result;
    }});
  return module.exports;
});

$__System.registerDynamic("9b", ["e", "98", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      createProperty = $__require('98');
  $export($export.S + $export.F * $__require('11')(function() {
    function F() {}
    return !(Array.of.call(F) instanceof F);
  }), 'Array', {of: function of() {
      var index = 0,
          aLen = arguments.length,
          result = new (typeof this == 'function' ? this : Array)(aLen);
      while (aLen > index)
        createProperty(result, index, arguments[index++]);
      result.length = aLen;
      return result;
    }});
  return module.exports;
});

$__System.registerDynamic("9c", ["e", "6", "9d", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toIObject = $__require('6'),
      arrayJoin = [].join;
  $export($export.P + $export.F * ($__require('9d') != Object || !$__require('9e')(arrayJoin)), 'Array', {join: function join(separator) {
      return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);
    }});
  return module.exports;
});

$__System.registerDynamic("9f", ["e", "a0", "47", "6f", "71", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      html = $__require('a0'),
      cof = $__require('47'),
      toIndex = $__require('6f'),
      toLength = $__require('71'),
      arraySlice = [].slice;
  $export($export.P + $export.F * $__require('11')(function() {
    if (html)
      arraySlice.call(html);
  }), 'Array', {slice: function slice(begin, end) {
      var len = toLength(this.length),
          klass = cof(this);
      end = end === undefined ? len : end;
      if (klass == 'Array')
        return arraySlice.call(this, begin, end);
      var start = toIndex(begin, len),
          upTo = toIndex(end, len),
          size = toLength(upTo - start),
          cloned = Array(size),
          i = 0;
      for (; i < size; i++)
        cloned[i] = klass == 'String' ? this.charAt(start + i) : this[start + i];
      return cloned;
    }});
  return module.exports;
});

$__System.registerDynamic("a1", ["e", "a2", "2a", "11", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      aFunction = $__require('a2'),
      toObject = $__require('2a'),
      fails = $__require('11'),
      $sort = [].sort,
      test = [1, 2, 3];
  $export($export.P + $export.F * (fails(function() {
    test.sort(undefined);
  }) || !fails(function() {
    test.sort(null);
  }) || !$__require('9e')($sort)), 'Array', {sort: function sort(comparefn) {
      return comparefn === undefined ? $sort.call(toObject(this)) : $sort.call(toObject(this), aFunction(comparefn));
    }});
  return module.exports;
});

$__System.registerDynamic("a3", ["e", "a4", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $forEach = $__require('a4')(0),
      STRICT = $__require('9e')([].forEach, true);
  $export($export.P + $export.F * !STRICT, 'Array', {forEach: function forEach(callbackfn) {
      return $forEach(this, callbackfn, arguments[1]);
    }});
  return module.exports;
});

$__System.registerDynamic("a5", ["e", "a4", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $map = $__require('a4')(1);
  $export($export.P + $export.F * !$__require('9e')([].map, true), 'Array', {map: function map(callbackfn) {
      return $map(this, callbackfn, arguments[1]);
    }});
  return module.exports;
});

$__System.registerDynamic("a6", ["e", "a4", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $filter = $__require('a4')(2);
  $export($export.P + $export.F * !$__require('9e')([].filter, true), 'Array', {filter: function filter(callbackfn) {
      return $filter(this, callbackfn, arguments[1]);
    }});
  return module.exports;
});

$__System.registerDynamic("a7", ["e", "a4", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $some = $__require('a4')(3);
  $export($export.P + $export.F * !$__require('9e')([].some, true), 'Array', {some: function some(callbackfn) {
      return $some(this, callbackfn, arguments[1]);
    }});
  return module.exports;
});

$__System.registerDynamic("a8", ["e", "a4", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $every = $__require('a4')(4);
  $export($export.P + $export.F * !$__require('9e')([].every, true), 'Array', {every: function every(callbackfn) {
      return $every(this, callbackfn, arguments[1]);
    }});
  return module.exports;
});

$__System.registerDynamic("a9", ["e", "aa", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $reduce = $__require('aa');
  $export($export.P + $export.F * !$__require('9e')([].reduce, true), 'Array', {reduce: function reduce(callbackfn) {
      return $reduce(this, callbackfn, arguments.length, arguments[1], false);
    }});
  return module.exports;
});

$__System.registerDynamic("aa", ["a2", "2a", "9d", "71", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var aFunction = $__require('a2'),
      toObject = $__require('2a'),
      IObject = $__require('9d'),
      toLength = $__require('71');
  module.exports = function(that, callbackfn, aLen, memo, isRight) {
    aFunction(callbackfn);
    var O = toObject(that),
        self = IObject(O),
        length = toLength(O.length),
        index = isRight ? length - 1 : 0,
        i = isRight ? -1 : 1;
    if (aLen < 2)
      for (; ; ) {
        if (index in self) {
          memo = self[index];
          index += i;
          break;
        }
        index += i;
        if (isRight ? index < 0 : length <= index) {
          throw TypeError('Reduce of empty array with no initial value');
        }
      }
    for (; isRight ? index >= 0 : length > index; index += i)
      if (index in self) {
        memo = callbackfn(memo, self[index], index, O);
      }
    return memo;
  };
  return module.exports;
});

$__System.registerDynamic("ab", ["e", "aa", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $reduce = $__require('aa');
  $export($export.P + $export.F * !$__require('9e')([].reduceRight, true), 'Array', {reduceRight: function reduceRight(callbackfn) {
      return $reduce(this, callbackfn, arguments.length, arguments[1], true);
    }});
  return module.exports;
});

$__System.registerDynamic("ac", ["e", "ad", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $indexOf = $__require('ad')(false),
      $native = [].indexOf,
      NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;
  $export($export.P + $export.F * (NEGATIVE_ZERO || !$__require('9e')($native)), 'Array', {indexOf: function indexOf(searchElement) {
      return NEGATIVE_ZERO ? $native.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments[1]);
    }});
  return module.exports;
});

$__System.registerDynamic("9e", ["11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var fails = $__require('11');
  module.exports = function(method, arg) {
    return !!method && fails(function() {
      arg ? method.call(null, function() {}, 1) : method.call(null);
    });
  };
  return module.exports;
});

$__System.registerDynamic("ae", ["e", "6", "4b", "71", "9e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toIObject = $__require('6'),
      toInteger = $__require('4b'),
      toLength = $__require('71'),
      $native = [].lastIndexOf,
      NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;
  $export($export.P + $export.F * (NEGATIVE_ZERO || !$__require('9e')($native)), 'Array', {lastIndexOf: function lastIndexOf(searchElement) {
      if (NEGATIVE_ZERO)
        return $native.apply(this, arguments) || 0;
      var O = toIObject(this),
          length = toLength(O.length),
          index = length - 1;
      if (arguments.length > 1)
        index = Math.min(index, toInteger(arguments[1]));
      if (index < 0)
        index = length + index;
      for (; index >= 0; index--)
        if (index in O)
          if (O[index] === searchElement)
            return index || 0;
      return -1;
    }});
  return module.exports;
});

$__System.registerDynamic("af", ["e", "b0", "b1", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.P, 'Array', {copyWithin: $__require('b0')});
  $__require('b1')('copyWithin');
  return module.exports;
});

$__System.registerDynamic("b2", ["e", "b3", "b1", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.P, 'Array', {fill: $__require('b3')});
  $__require('b1')('fill');
  return module.exports;
});

$__System.registerDynamic("b4", ["e", "a4", "b1", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $find = $__require('a4')(5),
      KEY = 'find',
      forced = true;
  if (KEY in [])
    Array(1)[KEY](function() {
      forced = false;
    });
  $export($export.P + $export.F * forced, 'Array', {find: function find(callbackfn) {
      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }});
  $__require('b1')(KEY);
  return module.exports;
});

$__System.registerDynamic("b5", ["e", "a4", "b1", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $find = $__require('a4')(6),
      KEY = 'findIndex',
      forced = true;
  if (KEY in [])
    Array(1)[KEY](function() {
      forced = false;
    });
  $export($export.P + $export.F * forced, 'Array', {findIndex: function findIndex(callbackfn) {
      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }});
  $__require('b1')(KEY);
  return module.exports;
});

$__System.registerDynamic("b6", ["b7", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('b7')('Array');
  return module.exports;
});

$__System.registerDynamic("b8", ["b", "48", "1f", "20", "7c", "b9", "d", "11", "15", "f", "b7", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      inheritIfRequired = $__require('48'),
      dP = $__require('1f').f,
      gOPN = $__require('20').f,
      isRegExp = $__require('7c'),
      $flags = $__require('b9'),
      $RegExp = global.RegExp,
      Base = $RegExp,
      proto = $RegExp.prototype,
      re1 = /a/g,
      re2 = /a/g,
      CORRECT_NEW = new $RegExp(re1) !== re1;
  if ($__require('d') && (!CORRECT_NEW || $__require('11')(function() {
    re2[$__require('15')('match')] = false;
    return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';
  }))) {
    $RegExp = function RegExp(p, f) {
      var tiRE = this instanceof $RegExp,
          piRE = isRegExp(p),
          fiU = f === undefined;
      return !tiRE && piRE && p.constructor === $RegExp && fiU ? p : inheritIfRequired(CORRECT_NEW ? new Base(piRE && !fiU ? p.source : p, f) : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f), tiRE ? this : proto, $RegExp);
    };
    var proxy = function(key) {
      key in $RegExp || dP($RegExp, key, {
        configurable: true,
        get: function() {
          return Base[key];
        },
        set: function(it) {
          Base[key] = it;
        }
      });
    };
    for (var keys = gOPN(Base),
        i = 0; keys.length > i; )
      proxy(keys[i++]);
    proto.constructor = $RegExp;
    $RegExp.prototype = proto;
    $__require('f')(global, 'RegExp', $RegExp);
  }
  $__require('b7')('RegExp');
  return module.exports;
});

$__System.registerDynamic("ba", ["bb", "19", "b9", "d", "f", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('bb');
  var anObject = $__require('19'),
      $flags = $__require('b9'),
      DESCRIPTORS = $__require('d'),
      TO_STRING = 'toString',
      $toString = /./[TO_STRING];
  var define = function(fn) {
    $__require('f')(RegExp.prototype, TO_STRING, fn, true);
  };
  if ($__require('11')(function() {
    return $toString.call({
      source: 'a',
      flags: 'b'
    }) != '/a/b';
  })) {
    define(function toString() {
      var R = anObject(this);
      return '/'.concat(R.source, '/', 'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);
    });
  } else if ($toString.name != TO_STRING) {
    define(function toString() {
      return $toString.call(this);
    });
  }
  return module.exports;
});

$__System.registerDynamic("bb", ["d", "1f", "b9", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  if ($__require('d') && /./g.flags != 'g')
    $__require('1f').f(RegExp.prototype, 'flags', {
      configurable: true,
      get: $__require('b9')
    });
  return module.exports;
});

$__System.registerDynamic("bc", ["bd", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('bd')('match', 1, function(defined, MATCH, $match) {
    return [function match(regexp) {
      'use strict';
      var O = defined(this),
          fn = regexp == undefined ? undefined : regexp[MATCH];
      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
    }, $match];
  });
  return module.exports;
});

$__System.registerDynamic("be", ["bd", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('bd')('replace', 2, function(defined, REPLACE, $replace) {
    return [function replace(searchValue, replaceValue) {
      'use strict';
      var O = defined(this),
          fn = searchValue == undefined ? undefined : searchValue[REPLACE];
      return fn !== undefined ? fn.call(searchValue, O, replaceValue) : $replace.call(String(O), searchValue, replaceValue);
    }, $replace];
  });
  return module.exports;
});

$__System.registerDynamic("bf", ["bd", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('bd')('search', 1, function(defined, SEARCH, $search) {
    return [function search(regexp) {
      'use strict';
      var O = defined(this),
          fn = regexp == undefined ? undefined : regexp[SEARCH];
      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
    }, $search];
  });
  return module.exports;
});

$__System.registerDynamic("bd", ["22", "f", "11", "7d", "15", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var hide = $__require('22'),
      redefine = $__require('f'),
      fails = $__require('11'),
      defined = $__require('7d'),
      wks = $__require('15');
  module.exports = function(KEY, length, exec) {
    var SYMBOL = wks(KEY),
        fns = exec(defined, SYMBOL, ''[KEY]),
        strfn = fns[0],
        rxfn = fns[1];
    if (fails(function() {
      var O = {};
      O[SYMBOL] = function() {
        return 7;
      };
      return ''[KEY](O) != 7;
    })) {
      redefine(String.prototype, KEY, strfn);
      hide(RegExp.prototype, SYMBOL, length == 2 ? function(string, arg) {
        return rxfn.call(string, this, arg);
      } : function(string) {
        return rxfn.call(string, this);
      });
    }
  };
  return module.exports;
});

$__System.registerDynamic("c0", ["bd", "7c", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('bd')('split', 2, function(defined, SPLIT, $split) {
    'use strict';
    var isRegExp = $__require('7c'),
        _split = $split,
        $push = [].push,
        $SPLIT = 'split',
        LENGTH = 'length',
        LAST_INDEX = 'lastIndex';
    if ('abbc'[$SPLIT](/(b)*/)[1] == 'c' || 'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 || 'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 || '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 || '.'[$SPLIT](/()()/)[LENGTH] > 1 || ''[$SPLIT](/.?/)[LENGTH]) {
      var NPCG = /()??/.exec('')[1] === undefined;
      $split = function(separator, limit) {
        var string = String(this);
        if (separator === undefined && limit === 0)
          return [];
        if (!isRegExp(separator))
          return _split.call(string, separator, limit);
        var output = [];
        var flags = (separator.ignoreCase ? 'i' : '') + (separator.multiline ? 'm' : '') + (separator.unicode ? 'u' : '') + (separator.sticky ? 'y' : '');
        var lastLastIndex = 0;
        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;
        var separatorCopy = new RegExp(separator.source, flags + 'g');
        var separator2,
            match,
            lastIndex,
            lastLength,
            i;
        if (!NPCG)
          separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\s)', flags);
        while (match = separatorCopy.exec(string)) {
          lastIndex = match.index + match[0][LENGTH];
          if (lastIndex > lastLastIndex) {
            output.push(string.slice(lastLastIndex, match.index));
            if (!NPCG && match[LENGTH] > 1)
              match[0].replace(separator2, function() {
                for (i = 1; i < arguments[LENGTH] - 2; i++)
                  if (arguments[i] === undefined)
                    match[i] = undefined;
              });
            if (match[LENGTH] > 1 && match.index < string[LENGTH])
              $push.apply(output, match.slice(1));
            lastLength = match[0][LENGTH];
            lastLastIndex = lastIndex;
            if (output[LENGTH] >= splitLimit)
              break;
          }
          if (separatorCopy[LAST_INDEX] === match.index)
            separatorCopy[LAST_INDEX]++;
        }
        if (lastLastIndex === string[LENGTH]) {
          if (lastLength || !separatorCopy.test(''))
            output.push('');
        } else
          output.push(string.slice(lastLastIndex));
        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;
      };
    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {
      $split = function(separator, limit) {
        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);
      };
    }
    return [function split(separator, limit) {
      var O = defined(this),
          fn = separator == undefined ? undefined : separator[SPLIT];
      return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);
    }, $split];
  });
  return module.exports;
});

$__System.registerDynamic("c1", ["21", "b", "95", "3d", "e", "2f", "a2", "c2", "c3", "c4", "c5", "c6", "15", "c7", "13", "b7", "34", "9a", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var LIBRARY = $__require('21'),
      global = $__require('b'),
      ctx = $__require('95'),
      classof = $__require('3d'),
      $export = $__require('e'),
      isObject = $__require('2f'),
      aFunction = $__require('a2'),
      anInstance = $__require('c2'),
      forOf = $__require('c3'),
      speciesConstructor = $__require('c4'),
      task = $__require('c5').set,
      microtask = $__require('c6')(),
      PROMISE = 'Promise',
      TypeError = global.TypeError,
      process = global.process,
      $Promise = global[PROMISE],
      process = global.process,
      isNode = classof(process) == 'process',
      empty = function() {},
      Internal,
      GenericPromiseCapability,
      Wrapper;
  var USE_NATIVE = !!function() {
    try {
      var promise = $Promise.resolve(1),
          FakePromise = (promise.constructor = {})[$__require('15')('species')] = function(exec) {
            exec(empty, empty);
          };
      return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;
    } catch (e) {}
  }();
  var sameConstructor = function(a, b) {
    return a === b || a === $Promise && b === Wrapper;
  };
  var isThenable = function(it) {
    var then;
    return isObject(it) && typeof(then = it.then) == 'function' ? then : false;
  };
  var newPromiseCapability = function(C) {
    return sameConstructor($Promise, C) ? new PromiseCapability(C) : new GenericPromiseCapability(C);
  };
  var PromiseCapability = GenericPromiseCapability = function(C) {
    var resolve,
        reject;
    this.promise = new C(function($$resolve, $$reject) {
      if (resolve !== undefined || reject !== undefined)
        throw TypeError('Bad Promise constructor');
      resolve = $$resolve;
      reject = $$reject;
    });
    this.resolve = aFunction(resolve);
    this.reject = aFunction(reject);
  };
  var perform = function(exec) {
    try {
      exec();
    } catch (e) {
      return {error: e};
    }
  };
  var notify = function(promise, isReject) {
    if (promise._n)
      return;
    promise._n = true;
    var chain = promise._c;
    microtask(function() {
      var value = promise._v,
          ok = promise._s == 1,
          i = 0;
      var run = function(reaction) {
        var handler = ok ? reaction.ok : reaction.fail,
            resolve = reaction.resolve,
            reject = reaction.reject,
            domain = reaction.domain,
            result,
            then;
        try {
          if (handler) {
            if (!ok) {
              if (promise._h == 2)
                onHandleUnhandled(promise);
              promise._h = 1;
            }
            if (handler === true)
              result = value;
            else {
              if (domain)
                domain.enter();
              result = handler(value);
              if (domain)
                domain.exit();
            }
            if (result === reaction.promise) {
              reject(TypeError('Promise-chain cycle'));
            } else if (then = isThenable(result)) {
              then.call(result, resolve, reject);
            } else
              resolve(result);
          } else
            reject(value);
        } catch (e) {
          reject(e);
        }
      };
      while (chain.length > i)
        run(chain[i++]);
      promise._c = [];
      promise._n = false;
      if (isReject && !promise._h)
        onUnhandled(promise);
    });
  };
  var onUnhandled = function(promise) {
    task.call(global, function() {
      var value = promise._v,
          abrupt,
          handler,
          console;
      if (isUnhandled(promise)) {
        abrupt = perform(function() {
          if (isNode) {
            process.emit('unhandledRejection', value, promise);
          } else if (handler = global.onunhandledrejection) {
            handler({
              promise: promise,
              reason: value
            });
          } else if ((console = global.console) && console.error) {
            console.error('Unhandled promise rejection', value);
          }
        });
        promise._h = isNode || isUnhandled(promise) ? 2 : 1;
      }
      promise._a = undefined;
      if (abrupt)
        throw abrupt.error;
    });
  };
  var isUnhandled = function(promise) {
    if (promise._h == 1)
      return false;
    var chain = promise._a || promise._c,
        i = 0,
        reaction;
    while (chain.length > i) {
      reaction = chain[i++];
      if (reaction.fail || !isUnhandled(reaction.promise))
        return false;
    }
    return true;
  };
  var onHandleUnhandled = function(promise) {
    task.call(global, function() {
      var handler;
      if (isNode) {
        process.emit('rejectionHandled', promise);
      } else if (handler = global.onrejectionhandled) {
        handler({
          promise: promise,
          reason: promise._v
        });
      }
    });
  };
  var $reject = function(value) {
    var promise = this;
    if (promise._d)
      return;
    promise._d = true;
    promise = promise._w || promise;
    promise._v = value;
    promise._s = 2;
    if (!promise._a)
      promise._a = promise._c.slice();
    notify(promise, true);
  };
  var $resolve = function(value) {
    var promise = this,
        then;
    if (promise._d)
      return;
    promise._d = true;
    promise = promise._w || promise;
    try {
      if (promise === value)
        throw TypeError("Promise can't be resolved itself");
      if (then = isThenable(value)) {
        microtask(function() {
          var wrapper = {
            _w: promise,
            _d: false
          };
          try {
            then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
          } catch (e) {
            $reject.call(wrapper, e);
          }
        });
      } else {
        promise._v = value;
        promise._s = 1;
        notify(promise, false);
      }
    } catch (e) {
      $reject.call({
        _w: promise,
        _d: false
      }, e);
    }
  };
  if (!USE_NATIVE) {
    $Promise = function Promise(executor) {
      anInstance(this, $Promise, PROMISE, '_h');
      aFunction(executor);
      Internal.call(this);
      try {
        executor(ctx($resolve, this, 1), ctx($reject, this, 1));
      } catch (err) {
        $reject.call(this, err);
      }
    };
    Internal = function Promise(executor) {
      this._c = [];
      this._a = undefined;
      this._s = 0;
      this._d = false;
      this._v = undefined;
      this._h = 0;
      this._n = false;
    };
    Internal.prototype = $__require('c7')($Promise.prototype, {
      then: function then(onFulfilled, onRejected) {
        var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
        reaction.fail = typeof onRejected == 'function' && onRejected;
        reaction.domain = isNode ? process.domain : undefined;
        this._c.push(reaction);
        if (this._a)
          this._a.push(reaction);
        if (this._s)
          notify(this, false);
        return reaction.promise;
      },
      'catch': function(onRejected) {
        return this.then(undefined, onRejected);
      }
    });
    PromiseCapability = function() {
      var promise = new Internal;
      this.promise = promise;
      this.resolve = ctx($resolve, promise, 1);
      this.reject = ctx($reject, promise, 1);
    };
  }
  $export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});
  $__require('13')($Promise, PROMISE);
  $__require('b7')(PROMISE);
  Wrapper = $__require('34')[PROMISE];
  $export($export.S + $export.F * !USE_NATIVE, PROMISE, {reject: function reject(r) {
      var capability = newPromiseCapability(this),
          $$reject = capability.reject;
      $$reject(r);
      return capability.promise;
    }});
  $export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {resolve: function resolve(x) {
      if (x instanceof $Promise && sameConstructor(x.constructor, this))
        return x;
      var capability = newPromiseCapability(this),
          $$resolve = capability.resolve;
      $$resolve(x);
      return capability.promise;
    }});
  $export($export.S + $export.F * !(USE_NATIVE && $__require('9a')(function(iter) {
    $Promise.all(iter)['catch'](empty);
  })), PROMISE, {
    all: function all(iterable) {
      var C = this,
          capability = newPromiseCapability(C),
          resolve = capability.resolve,
          reject = capability.reject;
      var abrupt = perform(function() {
        var values = [],
            index = 0,
            remaining = 1;
        forOf(iterable, false, function(promise) {
          var $index = index++,
              alreadyCalled = false;
          values.push(undefined);
          remaining++;
          C.resolve(promise).then(function(value) {
            if (alreadyCalled)
              return;
            alreadyCalled = true;
            values[$index] = value;
            --remaining || resolve(values);
          }, reject);
        });
        --remaining || resolve(values);
      });
      if (abrupt)
        reject(abrupt.error);
      return capability.promise;
    },
    race: function race(iterable) {
      var C = this,
          capability = newPromiseCapability(C),
          reject = capability.reject;
      var abrupt = perform(function() {
        forOf(iterable, false, function(promise) {
          C.resolve(promise).then(capability.resolve, reject);
        });
      });
      if (abrupt)
        reject(abrupt.error);
      return capability.promise;
    }
  });
  return module.exports;
});

$__System.registerDynamic("c8", ["c9", "ca", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var weak = $__require('c9');
  $__require('ca')('WeakSet', function(get) {
    return function WeakSet() {
      return get(this, arguments.length > 0 ? arguments[0] : undefined);
    };
  }, {add: function add(value) {
      return weak.def(this, value, true);
    }}, weak, false, true);
  return module.exports;
});

$__System.registerDynamic("cb", ["e", "cc", "cd", "19", "6f", "71", "2f", "b", "c4", "11", "b7", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $typed = $__require('cc'),
      buffer = $__require('cd'),
      anObject = $__require('19'),
      toIndex = $__require('6f'),
      toLength = $__require('71'),
      isObject = $__require('2f'),
      ArrayBuffer = $__require('b').ArrayBuffer,
      speciesConstructor = $__require('c4'),
      $ArrayBuffer = buffer.ArrayBuffer,
      $DataView = buffer.DataView,
      $isView = $typed.ABV && ArrayBuffer.isView,
      $slice = $ArrayBuffer.prototype.slice,
      VIEW = $typed.VIEW,
      ARRAY_BUFFER = 'ArrayBuffer';
  $export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), {ArrayBuffer: $ArrayBuffer});
  $export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {isView: function isView(it) {
      return $isView && $isView(it) || isObject(it) && VIEW in it;
    }});
  $export($export.P + $export.U + $export.F * $__require('11')(function() {
    return !new $ArrayBuffer(2).slice(1, undefined).byteLength;
  }), ARRAY_BUFFER, {slice: function slice(start, end) {
      if ($slice !== undefined && end === undefined)
        return $slice.call(anObject(this), start);
      var len = anObject(this).byteLength,
          first = toIndex(start, len),
          final = toIndex(end === undefined ? len : end, len),
          result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first)),
          viewS = new $DataView(this),
          viewT = new $DataView(result),
          index = 0;
      while (first < final) {
        viewT.setUint8(index++, viewS.getUint8(first++));
      }
      return result;
    }});
  $__require('b7')(ARRAY_BUFFER);
  return module.exports;
});

$__System.registerDynamic("ce", ["e", "cc", "cd", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.G + $export.W + $export.F * !$__require('cc').ABV, {DataView: $__require('cd').DataView});
  return module.exports;
});

$__System.registerDynamic("cf", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Int8', 1, function(init) {
    return function Int8Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("d1", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Uint8', 1, function(init) {
    return function Uint8Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("d2", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Uint8', 1, function(init) {
    return function Uint8ClampedArray(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  }, true);
  return module.exports;
});

$__System.registerDynamic("d3", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Int16', 2, function(init) {
    return function Int16Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("d4", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Uint16', 2, function(init) {
    return function Uint16Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("d5", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Int32', 4, function(init) {
    return function Int32Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("d6", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Uint32', 4, function(init) {
    return function Uint32Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("d7", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Float32', 4, function(init) {
    return function Float32Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("cc", ["b", "22", "14", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      hide = $__require('22'),
      uid = $__require('14'),
      TYPED = uid('typed_array'),
      VIEW = uid('view'),
      ABV = !!(global.ArrayBuffer && global.DataView),
      CONSTR = ABV,
      i = 0,
      l = 9,
      Typed;
  var TypedArrayConstructors = ('Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array').split(',');
  while (i < l) {
    if (Typed = global[TypedArrayConstructors[i++]]) {
      hide(Typed.prototype, TYPED, true);
      hide(Typed.prototype, VIEW, true);
    } else
      CONSTR = false;
  }
  module.exports = {
    ABV: ABV,
    CONSTR: CONSTR,
    TYPED: TYPED,
    VIEW: VIEW
  };
  return module.exports;
});

$__System.registerDynamic("cd", ["b", "d", "21", "cc", "22", "c7", "11", "c2", "4b", "71", "20", "1f", "b3", "13", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      DESCRIPTORS = $__require('d'),
      LIBRARY = $__require('21'),
      $typed = $__require('cc'),
      hide = $__require('22'),
      redefineAll = $__require('c7'),
      fails = $__require('11'),
      anInstance = $__require('c2'),
      toInteger = $__require('4b'),
      toLength = $__require('71'),
      gOPN = $__require('20').f,
      dP = $__require('1f').f,
      arrayFill = $__require('b3'),
      setToStringTag = $__require('13'),
      ARRAY_BUFFER = 'ArrayBuffer',
      DATA_VIEW = 'DataView',
      PROTOTYPE = 'prototype',
      WRONG_LENGTH = 'Wrong length!',
      WRONG_INDEX = 'Wrong index!',
      $ArrayBuffer = global[ARRAY_BUFFER],
      $DataView = global[DATA_VIEW],
      Math = global.Math,
      RangeError = global.RangeError,
      Infinity = global.Infinity,
      BaseBuffer = $ArrayBuffer,
      abs = Math.abs,
      pow = Math.pow,
      floor = Math.floor,
      log = Math.log,
      LN2 = Math.LN2,
      BUFFER = 'buffer',
      BYTE_LENGTH = 'byteLength',
      BYTE_OFFSET = 'byteOffset',
      $BUFFER = DESCRIPTORS ? '_b' : BUFFER,
      $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH,
      $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;
  var packIEEE754 = function(value, mLen, nBytes) {
    var buffer = Array(nBytes),
        eLen = nBytes * 8 - mLen - 1,
        eMax = (1 << eLen) - 1,
        eBias = eMax >> 1,
        rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0,
        i = 0,
        s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0,
        e,
        m,
        c;
    value = abs(value);
    if (value != value || value === Infinity) {
      m = value != value ? 1 : 0;
      e = eMax;
    } else {
      e = floor(log(value) / LN2);
      if (value * (c = pow(2, -e)) < 1) {
        e--;
        c *= 2;
      }
      if (e + eBias >= 1) {
        value += rt / c;
      } else {
        value += rt * pow(2, 1 - eBias);
      }
      if (value * c >= 2) {
        e++;
        c /= 2;
      }
      if (e + eBias >= eMax) {
        m = 0;
        e = eMax;
      } else if (e + eBias >= 1) {
        m = (value * c - 1) * pow(2, mLen);
        e = e + eBias;
      } else {
        m = value * pow(2, eBias - 1) * pow(2, mLen);
        e = 0;
      }
    }
    for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8)
      ;
    e = e << mLen | m;
    eLen += mLen;
    for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8)
      ;
    buffer[--i] |= s * 128;
    return buffer;
  };
  var unpackIEEE754 = function(buffer, mLen, nBytes) {
    var eLen = nBytes * 8 - mLen - 1,
        eMax = (1 << eLen) - 1,
        eBias = eMax >> 1,
        nBits = eLen - 7,
        i = nBytes - 1,
        s = buffer[i--],
        e = s & 127,
        m;
    s >>= 7;
    for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8)
      ;
    m = e & (1 << -nBits) - 1;
    e >>= -nBits;
    nBits += mLen;
    for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8)
      ;
    if (e === 0) {
      e = 1 - eBias;
    } else if (e === eMax) {
      return m ? NaN : s ? -Infinity : Infinity;
    } else {
      m = m + pow(2, mLen);
      e = e - eBias;
    }
    return (s ? -1 : 1) * m * pow(2, e - mLen);
  };
  var unpackI32 = function(bytes) {
    return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];
  };
  var packI8 = function(it) {
    return [it & 0xff];
  };
  var packI16 = function(it) {
    return [it & 0xff, it >> 8 & 0xff];
  };
  var packI32 = function(it) {
    return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];
  };
  var packF64 = function(it) {
    return packIEEE754(it, 52, 8);
  };
  var packF32 = function(it) {
    return packIEEE754(it, 23, 4);
  };
  var addGetter = function(C, key, internal) {
    dP(C[PROTOTYPE], key, {get: function() {
        return this[internal];
      }});
  };
  var get = function(view, bytes, index, isLittleEndian) {
    var numIndex = +index,
        intIndex = toInteger(numIndex);
    if (numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])
      throw RangeError(WRONG_INDEX);
    var store = view[$BUFFER]._b,
        start = intIndex + view[$OFFSET],
        pack = store.slice(start, start + bytes);
    return isLittleEndian ? pack : pack.reverse();
  };
  var set = function(view, bytes, index, conversion, value, isLittleEndian) {
    var numIndex = +index,
        intIndex = toInteger(numIndex);
    if (numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])
      throw RangeError(WRONG_INDEX);
    var store = view[$BUFFER]._b,
        start = intIndex + view[$OFFSET],
        pack = conversion(+value);
    for (var i = 0; i < bytes; i++)
      store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];
  };
  var validateArrayBufferArguments = function(that, length) {
    anInstance(that, $ArrayBuffer, ARRAY_BUFFER);
    var numberLength = +length,
        byteLength = toLength(numberLength);
    if (numberLength != byteLength)
      throw RangeError(WRONG_LENGTH);
    return byteLength;
  };
  if (!$typed.ABV) {
    $ArrayBuffer = function ArrayBuffer(length) {
      var byteLength = validateArrayBufferArguments(this, length);
      this._b = arrayFill.call(Array(byteLength), 0);
      this[$LENGTH] = byteLength;
    };
    $DataView = function DataView(buffer, byteOffset, byteLength) {
      anInstance(this, $DataView, DATA_VIEW);
      anInstance(buffer, $ArrayBuffer, DATA_VIEW);
      var bufferLength = buffer[$LENGTH],
          offset = toInteger(byteOffset);
      if (offset < 0 || offset > bufferLength)
        throw RangeError('Wrong offset!');
      byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);
      if (offset + byteLength > bufferLength)
        throw RangeError(WRONG_LENGTH);
      this[$BUFFER] = buffer;
      this[$OFFSET] = offset;
      this[$LENGTH] = byteLength;
    };
    if (DESCRIPTORS) {
      addGetter($ArrayBuffer, BYTE_LENGTH, '_l');
      addGetter($DataView, BUFFER, '_b');
      addGetter($DataView, BYTE_LENGTH, '_l');
      addGetter($DataView, BYTE_OFFSET, '_o');
    }
    redefineAll($DataView[PROTOTYPE], {
      getInt8: function getInt8(byteOffset) {
        return get(this, 1, byteOffset)[0] << 24 >> 24;
      },
      getUint8: function getUint8(byteOffset) {
        return get(this, 1, byteOffset)[0];
      },
      getInt16: function getInt16(byteOffset) {
        var bytes = get(this, 2, byteOffset, arguments[1]);
        return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
      },
      getUint16: function getUint16(byteOffset) {
        var bytes = get(this, 2, byteOffset, arguments[1]);
        return bytes[1] << 8 | bytes[0];
      },
      getInt32: function getInt32(byteOffset) {
        return unpackI32(get(this, 4, byteOffset, arguments[1]));
      },
      getUint32: function getUint32(byteOffset) {
        return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;
      },
      getFloat32: function getFloat32(byteOffset) {
        return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);
      },
      getFloat64: function getFloat64(byteOffset) {
        return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);
      },
      setInt8: function setInt8(byteOffset, value) {
        set(this, 1, byteOffset, packI8, value);
      },
      setUint8: function setUint8(byteOffset, value) {
        set(this, 1, byteOffset, packI8, value);
      },
      setInt16: function setInt16(byteOffset, value) {
        set(this, 2, byteOffset, packI16, value, arguments[2]);
      },
      setUint16: function setUint16(byteOffset, value) {
        set(this, 2, byteOffset, packI16, value, arguments[2]);
      },
      setInt32: function setInt32(byteOffset, value) {
        set(this, 4, byteOffset, packI32, value, arguments[2]);
      },
      setUint32: function setUint32(byteOffset, value) {
        set(this, 4, byteOffset, packI32, value, arguments[2]);
      },
      setFloat32: function setFloat32(byteOffset, value) {
        set(this, 4, byteOffset, packF32, value, arguments[2]);
      },
      setFloat64: function setFloat64(byteOffset, value) {
        set(this, 8, byteOffset, packF64, value, arguments[2]);
      }
    });
  } else {
    if (!fails(function() {
      new $ArrayBuffer;
    }) || !fails(function() {
      new $ArrayBuffer(.5);
    })) {
      $ArrayBuffer = function ArrayBuffer(length) {
        return new BaseBuffer(validateArrayBufferArguments(this, length));
      };
      var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];
      for (var keys = gOPN(BaseBuffer),
          j = 0,
          key; keys.length > j; ) {
        if (!((key = keys[j++]) in $ArrayBuffer))
          hide($ArrayBuffer, key, BaseBuffer[key]);
      }
      ;
      if (!LIBRARY)
        ArrayBufferProto.constructor = $ArrayBuffer;
    }
    var view = new $DataView(new $ArrayBuffer(2)),
        $setInt8 = $DataView[PROTOTYPE].setInt8;
    view.setInt8(0, 2147483648);
    view.setInt8(1, 2147483649);
    if (view.getInt8(0) || !view.getInt8(1))
      redefineAll($DataView[PROTOTYPE], {
        setInt8: function setInt8(byteOffset, value) {
          $setInt8.call(this, byteOffset, value << 24 >> 24);
        },
        setUint8: function setUint8(byteOffset, value) {
          $setInt8.call(this, byteOffset, value << 24 >> 24);
        }
      }, true);
  }
  setToStringTag($ArrayBuffer, ARRAY_BUFFER);
  setToStringTag($DataView, DATA_VIEW);
  hide($DataView[PROTOTYPE], $typed.VIEW, true);
  exports[ARRAY_BUFFER] = $ArrayBuffer;
  exports[DATA_VIEW] = $DataView;
  return module.exports;
});

$__System.registerDynamic("39", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = Object.is || function is(x, y) {
    return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
  };
  return module.exports;
});

$__System.registerDynamic("c4", ["19", "a2", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var anObject = $__require('19'),
      aFunction = $__require('a2'),
      SPECIES = $__require('15')('species');
  module.exports = function(O, D) {
    var C = anObject(O).constructor,
        S;
    return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
  };
  return module.exports;
});

$__System.registerDynamic("b3", ["2a", "6f", "71", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toObject = $__require('2a'),
      toIndex = $__require('6f'),
      toLength = $__require('71');
  module.exports = function fill(value) {
    var O = toObject(this),
        length = toLength(O.length),
        aLen = arguments.length,
        index = toIndex(aLen > 1 ? arguments[1] : undefined, length),
        end = aLen > 2 ? arguments[2] : undefined,
        endPos = end === undefined ? length : toIndex(end, length);
    while (endPos > index)
      O[index++] = value;
    return O;
  };
  return module.exports;
});

$__System.registerDynamic("b0", ["2a", "6f", "71", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toObject = $__require('2a'),
      toIndex = $__require('6f'),
      toLength = $__require('71');
  module.exports = [].copyWithin || function copyWithin(target, start) {
    var O = toObject(this),
        len = toLength(O.length),
        to = toIndex(target, len),
        from = toIndex(start, len),
        end = arguments.length > 2 ? arguments[2] : undefined,
        count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to),
        inc = 1;
    if (from < to && to < from + count) {
      inc = -1;
      from += count - 1;
      to += count - 1;
    }
    while (count-- > 0) {
      if (from in O)
        O[to] = O[from];
      else
        delete O[to];
      to += inc;
      from += inc;
    }
    return O;
  };
  return module.exports;
});

$__System.registerDynamic("d0", ["d", "21", "b", "11", "e", "cc", "cd", "95", "c2", "1b", "22", "c7", "4b", "71", "6f", "1a", "c", "39", "3d", "2f", "2a", "97", "1c", "2b", "20", "99", "14", "15", "a4", "ad", "c4", "d8", "d9", "9a", "b7", "b3", "b0", "1f", "1e", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  if ($__require('d')) {
    var LIBRARY = $__require('21'),
        global = $__require('b'),
        fails = $__require('11'),
        $export = $__require('e'),
        $typed = $__require('cc'),
        $buffer = $__require('cd'),
        ctx = $__require('95'),
        anInstance = $__require('c2'),
        propertyDesc = $__require('1b'),
        hide = $__require('22'),
        redefineAll = $__require('c7'),
        toInteger = $__require('4b'),
        toLength = $__require('71'),
        toIndex = $__require('6f'),
        toPrimitive = $__require('1a'),
        has = $__require('c'),
        same = $__require('39'),
        classof = $__require('3d'),
        isObject = $__require('2f'),
        toObject = $__require('2a'),
        isArrayIter = $__require('97'),
        create = $__require('1c'),
        getPrototypeOf = $__require('2b'),
        gOPN = $__require('20').f,
        getIterFn = $__require('99'),
        uid = $__require('14'),
        wks = $__require('15'),
        createArrayMethod = $__require('a4'),
        createArrayIncludes = $__require('ad'),
        speciesConstructor = $__require('c4'),
        ArrayIterators = $__require('d8'),
        Iterators = $__require('d9'),
        $iterDetect = $__require('9a'),
        setSpecies = $__require('b7'),
        arrayFill = $__require('b3'),
        arrayCopyWithin = $__require('b0'),
        $DP = $__require('1f'),
        $GOPD = $__require('1e'),
        dP = $DP.f,
        gOPD = $GOPD.f,
        RangeError = global.RangeError,
        TypeError = global.TypeError,
        Uint8Array = global.Uint8Array,
        ARRAY_BUFFER = 'ArrayBuffer',
        SHARED_BUFFER = 'Shared' + ARRAY_BUFFER,
        BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT',
        PROTOTYPE = 'prototype',
        ArrayProto = Array[PROTOTYPE],
        $ArrayBuffer = $buffer.ArrayBuffer,
        $DataView = $buffer.DataView,
        arrayForEach = createArrayMethod(0),
        arrayFilter = createArrayMethod(2),
        arraySome = createArrayMethod(3),
        arrayEvery = createArrayMethod(4),
        arrayFind = createArrayMethod(5),
        arrayFindIndex = createArrayMethod(6),
        arrayIncludes = createArrayIncludes(true),
        arrayIndexOf = createArrayIncludes(false),
        arrayValues = ArrayIterators.values,
        arrayKeys = ArrayIterators.keys,
        arrayEntries = ArrayIterators.entries,
        arrayLastIndexOf = ArrayProto.lastIndexOf,
        arrayReduce = ArrayProto.reduce,
        arrayReduceRight = ArrayProto.reduceRight,
        arrayJoin = ArrayProto.join,
        arraySort = ArrayProto.sort,
        arraySlice = ArrayProto.slice,
        arrayToString = ArrayProto.toString,
        arrayToLocaleString = ArrayProto.toLocaleString,
        ITERATOR = wks('iterator'),
        TAG = wks('toStringTag'),
        TYPED_CONSTRUCTOR = uid('typed_constructor'),
        DEF_CONSTRUCTOR = uid('def_constructor'),
        ALL_CONSTRUCTORS = $typed.CONSTR,
        TYPED_ARRAY = $typed.TYPED,
        VIEW = $typed.VIEW,
        WRONG_LENGTH = 'Wrong length!';
    var $map = createArrayMethod(1, function(O, length) {
      return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);
    });
    var LITTLE_ENDIAN = fails(function() {
      return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;
    });
    var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function() {
      new Uint8Array(1).set({});
    });
    var strictToLength = function(it, SAME) {
      if (it === undefined)
        throw TypeError(WRONG_LENGTH);
      var number = +it,
          length = toLength(it);
      if (SAME && !same(number, length))
        throw RangeError(WRONG_LENGTH);
      return length;
    };
    var toOffset = function(it, BYTES) {
      var offset = toInteger(it);
      if (offset < 0 || offset % BYTES)
        throw RangeError('Wrong offset!');
      return offset;
    };
    var validate = function(it) {
      if (isObject(it) && TYPED_ARRAY in it)
        return it;
      throw TypeError(it + ' is not a typed array!');
    };
    var allocate = function(C, length) {
      if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {
        throw TypeError('It is not a typed array constructor!');
      }
      return new C(length);
    };
    var speciesFromList = function(O, list) {
      return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);
    };
    var fromList = function(C, list) {
      var index = 0,
          length = list.length,
          result = allocate(C, length);
      while (length > index)
        result[index] = list[index++];
      return result;
    };
    var addGetter = function(it, key, internal) {
      dP(it, key, {get: function() {
          return this._d[internal];
        }});
    };
    var $from = function from(source) {
      var O = toObject(source),
          aLen = arguments.length,
          mapfn = aLen > 1 ? arguments[1] : undefined,
          mapping = mapfn !== undefined,
          iterFn = getIterFn(O),
          i,
          length,
          values,
          result,
          step,
          iterator;
      if (iterFn != undefined && !isArrayIter(iterFn)) {
        for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {
          values.push(step.value);
        }
        O = values;
      }
      if (mapping && aLen > 2)
        mapfn = ctx(mapfn, arguments[2], 2);
      for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {
        result[i] = mapping ? mapfn(O[i], i) : O[i];
      }
      return result;
    };
    var $of = function of() {
      var index = 0,
          length = arguments.length,
          result = allocate(this, length);
      while (length > index)
        result[index] = arguments[index++];
      return result;
    };
    var TO_LOCALE_BUG = !!Uint8Array && fails(function() {
      arrayToLocaleString.call(new Uint8Array(1));
    });
    var $toLocaleString = function toLocaleString() {
      return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);
    };
    var proto = {
      copyWithin: function copyWithin(target, start) {
        return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
      },
      every: function every(callbackfn) {
        return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
      },
      fill: function fill(value) {
        return arrayFill.apply(validate(this), arguments);
      },
      filter: function filter(callbackfn) {
        return speciesFromList(this, arrayFilter(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined));
      },
      find: function find(predicate) {
        return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
      },
      findIndex: function findIndex(predicate) {
        return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
      },
      forEach: function forEach(callbackfn) {
        arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
      },
      indexOf: function indexOf(searchElement) {
        return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
      },
      includes: function includes(searchElement) {
        return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
      },
      join: function join(separator) {
        return arrayJoin.apply(validate(this), arguments);
      },
      lastIndexOf: function lastIndexOf(searchElement) {
        return arrayLastIndexOf.apply(validate(this), arguments);
      },
      map: function map(mapfn) {
        return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);
      },
      reduce: function reduce(callbackfn) {
        return arrayReduce.apply(validate(this), arguments);
      },
      reduceRight: function reduceRight(callbackfn) {
        return arrayReduceRight.apply(validate(this), arguments);
      },
      reverse: function reverse() {
        var that = this,
            length = validate(that).length,
            middle = Math.floor(length / 2),
            index = 0,
            value;
        while (index < middle) {
          value = that[index];
          that[index++] = that[--length];
          that[length] = value;
        }
        return that;
      },
      some: function some(callbackfn) {
        return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
      },
      sort: function sort(comparefn) {
        return arraySort.call(validate(this), comparefn);
      },
      subarray: function subarray(begin, end) {
        var O = validate(this),
            length = O.length,
            $begin = toIndex(begin, length);
        return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(O.buffer, O.byteOffset + $begin * O.BYTES_PER_ELEMENT, toLength((end === undefined ? length : toIndex(end, length)) - $begin));
      }
    };
    var $slice = function slice(start, end) {
      return speciesFromList(this, arraySlice.call(validate(this), start, end));
    };
    var $set = function set(arrayLike) {
      validate(this);
      var offset = toOffset(arguments[1], 1),
          length = this.length,
          src = toObject(arrayLike),
          len = toLength(src.length),
          index = 0;
      if (len + offset > length)
        throw RangeError(WRONG_LENGTH);
      while (index < len)
        this[offset + index] = src[index++];
    };
    var $iterators = {
      entries: function entries() {
        return arrayEntries.call(validate(this));
      },
      keys: function keys() {
        return arrayKeys.call(validate(this));
      },
      values: function values() {
        return arrayValues.call(validate(this));
      }
    };
    var isTAIndex = function(target, key) {
      return isObject(target) && target[TYPED_ARRAY] && typeof key != 'symbol' && key in target && String(+key) == String(key);
    };
    var $getDesc = function getOwnPropertyDescriptor(target, key) {
      return isTAIndex(target, key = toPrimitive(key, true)) ? propertyDesc(2, target[key]) : gOPD(target, key);
    };
    var $setDesc = function defineProperty(target, key, desc) {
      if (isTAIndex(target, key = toPrimitive(key, true)) && isObject(desc) && has(desc, 'value') && !has(desc, 'get') && !has(desc, 'set') && !desc.configurable && (!has(desc, 'writable') || desc.writable) && (!has(desc, 'enumerable') || desc.enumerable)) {
        target[key] = desc.value;
        return target;
      } else
        return dP(target, key, desc);
    };
    if (!ALL_CONSTRUCTORS) {
      $GOPD.f = $getDesc;
      $DP.f = $setDesc;
    }
    $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {
      getOwnPropertyDescriptor: $getDesc,
      defineProperty: $setDesc
    });
    if (fails(function() {
      arrayToString.call({});
    })) {
      arrayToString = arrayToLocaleString = function toString() {
        return arrayJoin.call(this);
      };
    }
    var $TypedArrayPrototype$ = redefineAll({}, proto);
    redefineAll($TypedArrayPrototype$, $iterators);
    hide($TypedArrayPrototype$, ITERATOR, $iterators.values);
    redefineAll($TypedArrayPrototype$, {
      slice: $slice,
      set: $set,
      constructor: function() {},
      toString: arrayToString,
      toLocaleString: $toLocaleString
    });
    addGetter($TypedArrayPrototype$, 'buffer', 'b');
    addGetter($TypedArrayPrototype$, 'byteOffset', 'o');
    addGetter($TypedArrayPrototype$, 'byteLength', 'l');
    addGetter($TypedArrayPrototype$, 'length', 'e');
    dP($TypedArrayPrototype$, TAG, {get: function() {
        return this[TYPED_ARRAY];
      }});
    module.exports = function(KEY, BYTES, wrapper, CLAMPED) {
      CLAMPED = !!CLAMPED;
      var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array',
          ISNT_UINT8 = NAME != 'Uint8Array',
          GETTER = 'get' + KEY,
          SETTER = 'set' + KEY,
          TypedArray = global[NAME],
          Base = TypedArray || {},
          TAC = TypedArray && getPrototypeOf(TypedArray),
          FORCED = !TypedArray || !$typed.ABV,
          O = {},
          TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];
      var getter = function(that, index) {
        var data = that._d;
        return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);
      };
      var setter = function(that, index, value) {
        var data = that._d;
        if (CLAMPED)
          value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;
        data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);
      };
      var addElement = function(that, index) {
        dP(that, index, {
          get: function() {
            return getter(this, index);
          },
          set: function(value) {
            return setter(this, index, value);
          },
          enumerable: true
        });
      };
      if (FORCED) {
        TypedArray = wrapper(function(that, data, $offset, $length) {
          anInstance(that, TypedArray, NAME, '_d');
          var index = 0,
              offset = 0,
              buffer,
              byteLength,
              length,
              klass;
          if (!isObject(data)) {
            length = strictToLength(data, true);
            byteLength = length * BYTES;
            buffer = new $ArrayBuffer(byteLength);
          } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
            buffer = data;
            offset = toOffset($offset, BYTES);
            var $len = data.byteLength;
            if ($length === undefined) {
              if ($len % BYTES)
                throw RangeError(WRONG_LENGTH);
              byteLength = $len - offset;
              if (byteLength < 0)
                throw RangeError(WRONG_LENGTH);
            } else {
              byteLength = toLength($length) * BYTES;
              if (byteLength + offset > $len)
                throw RangeError(WRONG_LENGTH);
            }
            length = byteLength / BYTES;
          } else if (TYPED_ARRAY in data) {
            return fromList(TypedArray, data);
          } else {
            return $from.call(TypedArray, data);
          }
          hide(that, '_d', {
            b: buffer,
            o: offset,
            l: byteLength,
            e: length,
            v: new $DataView(buffer)
          });
          while (index < length)
            addElement(that, index++);
        });
        TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);
        hide(TypedArrayPrototype, 'constructor', TypedArray);
      } else if (!$iterDetect(function(iter) {
        new TypedArray(null);
        new TypedArray(iter);
      }, true)) {
        TypedArray = wrapper(function(that, data, $offset, $length) {
          anInstance(that, TypedArray, NAME);
          var klass;
          if (!isObject(data))
            return new Base(strictToLength(data, ISNT_UINT8));
          if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
            return $length !== undefined ? new Base(data, toOffset($offset, BYTES), $length) : $offset !== undefined ? new Base(data, toOffset($offset, BYTES)) : new Base(data);
          }
          if (TYPED_ARRAY in data)
            return fromList(TypedArray, data);
          return $from.call(TypedArray, data);
        });
        arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function(key) {
          if (!(key in TypedArray))
            hide(TypedArray, key, Base[key]);
        });
        TypedArray[PROTOTYPE] = TypedArrayPrototype;
        if (!LIBRARY)
          TypedArrayPrototype.constructor = TypedArray;
      }
      var $nativeIterator = TypedArrayPrototype[ITERATOR],
          CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined),
          $iterator = $iterators.values;
      hide(TypedArray, TYPED_CONSTRUCTOR, true);
      hide(TypedArrayPrototype, TYPED_ARRAY, NAME);
      hide(TypedArrayPrototype, VIEW, true);
      hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);
      if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {
        dP(TypedArrayPrototype, TAG, {get: function() {
            return NAME;
          }});
      }
      O[NAME] = TypedArray;
      $export($export.G + $export.W + $export.F * (TypedArray != Base), O);
      $export($export.S, NAME, {
        BYTES_PER_ELEMENT: BYTES,
        from: $from,
        of: $of
      });
      if (!(BYTES_PER_ELEMENT in TypedArrayPrototype))
        hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);
      $export($export.P, NAME, proto);
      setSpecies(NAME);
      $export($export.P + $export.F * FORCED_SET, NAME, {set: $set});
      $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);
      $export($export.P + $export.F * (TypedArrayPrototype.toString != arrayToString), NAME, {toString: arrayToString});
      $export($export.P + $export.F * fails(function() {
        new TypedArray(1).slice();
      }), NAME, {slice: $slice});
      $export($export.P + $export.F * (fails(function() {
        return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();
      }) || !fails(function() {
        TypedArrayPrototype.toLocaleString.call([1, 2]);
      })), NAME, {toLocaleString: $toLocaleString});
      Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;
      if (!LIBRARY && !CORRECT_ITER_NAME)
        hide(TypedArrayPrototype, ITERATOR, $iterator);
    };
  } else
    module.exports = function() {};
  return module.exports;
});

$__System.registerDynamic("da", ["d0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('d0')('Float64', 8, function(init) {
    return function Float64Array(data, byteOffset, length) {
      return init(this, data, byteOffset, length);
    };
  });
  return module.exports;
});

$__System.registerDynamic("db", ["e", "a2", "19", "b", "11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      aFunction = $__require('a2'),
      anObject = $__require('19'),
      rApply = ($__require('b').Reflect || {}).apply,
      fApply = Function.apply;
  $export($export.S + $export.F * !$__require('11')(function() {
    rApply(function() {});
  }), 'Reflect', {apply: function apply(target, thisArgument, argumentsList) {
      var T = aFunction(target),
          L = anObject(argumentsList);
      return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);
    }});
  return module.exports;
});

$__System.registerDynamic("3f", ["a2", "2f", "dc", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var aFunction = $__require('a2'),
      isObject = $__require('2f'),
      invoke = $__require('dc'),
      arraySlice = [].slice,
      factories = {};
  var construct = function(F, len, args) {
    if (!(len in factories)) {
      for (var n = [],
          i = 0; i < len; i++)
        n[i] = 'a[' + i + ']';
      factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');
    }
    return factories[len](F, args);
  };
  module.exports = Function.bind || function bind(that) {
    var fn = aFunction(this),
        partArgs = arraySlice.call(arguments, 1);
    var bound = function() {
      var args = partArgs.concat(arraySlice.call(arguments));
      return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);
    };
    if (isObject(fn.prototype))
      bound.prototype = fn.prototype;
    return bound;
  };
  return module.exports;
});

$__System.registerDynamic("dd", ["e", "1c", "a2", "19", "2f", "11", "3f", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      create = $__require('1c'),
      aFunction = $__require('a2'),
      anObject = $__require('19'),
      isObject = $__require('2f'),
      fails = $__require('11'),
      bind = $__require('3f'),
      rConstruct = ($__require('b').Reflect || {}).construct;
  var NEW_TARGET_BUG = fails(function() {
    function F() {}
    return !(rConstruct(function() {}, [], F) instanceof F);
  });
  var ARGS_BUG = !fails(function() {
    rConstruct(function() {});
  });
  $export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {construct: function construct(Target, args) {
      aFunction(Target);
      anObject(args);
      var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
      if (ARGS_BUG && !NEW_TARGET_BUG)
        return rConstruct(Target, args, newTarget);
      if (Target == newTarget) {
        switch (args.length) {
          case 0:
            return new Target;
          case 1:
            return new Target(args[0]);
          case 2:
            return new Target(args[0], args[1]);
          case 3:
            return new Target(args[0], args[1], args[2]);
          case 4:
            return new Target(args[0], args[1], args[2], args[3]);
        }
        var $args = [null];
        $args.push.apply($args, args);
        return new (bind.apply(Target, $args));
      }
      var proto = newTarget.prototype,
          instance = create(isObject(proto) ? proto : Object.prototype),
          result = Function.apply.call(Target, instance, args);
      return isObject(result) ? result : instance;
    }});
  return module.exports;
});

$__System.registerDynamic("de", ["1f", "e", "19", "1a", "11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var dP = $__require('1f'),
      $export = $__require('e'),
      anObject = $__require('19'),
      toPrimitive = $__require('1a');
  $export($export.S + $export.F * $__require('11')(function() {
    Reflect.defineProperty(dP.f({}, 1, {value: 1}), 1, {value: 2});
  }), 'Reflect', {defineProperty: function defineProperty(target, propertyKey, attributes) {
      anObject(target);
      propertyKey = toPrimitive(propertyKey, true);
      anObject(attributes);
      try {
        dP.f(target, propertyKey, attributes);
        return true;
      } catch (e) {
        return false;
      }
    }});
  return module.exports;
});

$__System.registerDynamic("df", ["e", "1e", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      gOPD = $__require('1e').f,
      anObject = $__require('19');
  $export($export.S, 'Reflect', {deleteProperty: function deleteProperty(target, propertyKey) {
      var desc = gOPD(anObject(target), propertyKey);
      return desc && !desc.configurable ? false : delete target[propertyKey];
    }});
  return module.exports;
});

$__System.registerDynamic("e0", ["e", "19", "e1", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      anObject = $__require('19');
  var Enumerate = function(iterated) {
    this._t = anObject(iterated);
    this._i = 0;
    var keys = this._k = [],
        key;
    for (key in iterated)
      keys.push(key);
  };
  $__require('e1')(Enumerate, 'Object', function() {
    var that = this,
        keys = that._k,
        key;
    do {
      if (that._i >= keys.length)
        return {
          value: undefined,
          done: true
        };
    } while (!((key = keys[that._i++]) in that._t));
    return {
      value: key,
      done: false
    };
  });
  $export($export.S, 'Reflect', {enumerate: function enumerate(target) {
      return new Enumerate(target);
    }});
  return module.exports;
});

$__System.registerDynamic("e2", ["1e", "2b", "c", "e", "2f", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var gOPD = $__require('1e'),
      getPrototypeOf = $__require('2b'),
      has = $__require('c'),
      $export = $__require('e'),
      isObject = $__require('2f'),
      anObject = $__require('19');
  function get(target, propertyKey) {
    var receiver = arguments.length < 3 ? target : arguments[2],
        desc,
        proto;
    if (anObject(target) === receiver)
      return target[propertyKey];
    if (desc = gOPD.f(target, propertyKey))
      return has(desc, 'value') ? desc.value : desc.get !== undefined ? desc.get.call(receiver) : undefined;
    if (isObject(proto = getPrototypeOf(target)))
      return get(proto, propertyKey, receiver);
  }
  $export($export.S, 'Reflect', {get: get});
  return module.exports;
});

$__System.registerDynamic("e3", ["1e", "e", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var gOPD = $__require('1e'),
      $export = $__require('e'),
      anObject = $__require('19');
  $export($export.S, 'Reflect', {getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
      return gOPD.f(anObject(target), propertyKey);
    }});
  return module.exports;
});

$__System.registerDynamic("e4", ["e", "2b", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      getProto = $__require('2b'),
      anObject = $__require('19');
  $export($export.S, 'Reflect', {getPrototypeOf: function getPrototypeOf(target) {
      return getProto(anObject(target));
    }});
  return module.exports;
});

$__System.registerDynamic("e5", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Reflect', {has: function has(target, propertyKey) {
      return propertyKey in target;
    }});
  return module.exports;
});

$__System.registerDynamic("e6", ["e", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      anObject = $__require('19'),
      $isExtensible = Object.isExtensible;
  $export($export.S, 'Reflect', {isExtensible: function isExtensible(target) {
      anObject(target);
      return $isExtensible ? $isExtensible(target) : true;
    }});
  return module.exports;
});

$__System.registerDynamic("e7", ["e", "e8", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Reflect', {ownKeys: $__require('e8')});
  return module.exports;
});

$__System.registerDynamic("e9", ["e", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      anObject = $__require('19'),
      $preventExtensions = Object.preventExtensions;
  $export($export.S, 'Reflect', {preventExtensions: function preventExtensions(target) {
      anObject(target);
      try {
        if ($preventExtensions)
          $preventExtensions(target);
        return true;
      } catch (e) {
        return false;
      }
    }});
  return module.exports;
});

$__System.registerDynamic("ea", ["1f", "1e", "2b", "c", "e", "1b", "19", "2f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var dP = $__require('1f'),
      gOPD = $__require('1e'),
      getPrototypeOf = $__require('2b'),
      has = $__require('c'),
      $export = $__require('e'),
      createDesc = $__require('1b'),
      anObject = $__require('19'),
      isObject = $__require('2f');
  function set(target, propertyKey, V) {
    var receiver = arguments.length < 4 ? target : arguments[3],
        ownDesc = gOPD.f(anObject(target), propertyKey),
        existingDescriptor,
        proto;
    if (!ownDesc) {
      if (isObject(proto = getPrototypeOf(target))) {
        return set(proto, propertyKey, V, receiver);
      }
      ownDesc = createDesc(0);
    }
    if (has(ownDesc, 'value')) {
      if (ownDesc.writable === false || !isObject(receiver))
        return false;
      existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);
      existingDescriptor.value = V;
      dP.f(receiver, propertyKey, existingDescriptor);
      return true;
    }
    return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);
  }
  $export($export.S, 'Reflect', {set: set});
  return module.exports;
});

$__System.registerDynamic("eb", ["e", "3b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      setProto = $__require('3b');
  if (setProto)
    $export($export.S, 'Reflect', {setPrototypeOf: function setPrototypeOf(target, proto) {
        setProto.check(target, proto);
        try {
          setProto.set(target, proto);
          return true;
        } catch (e) {
          return false;
        }
      }});
  return module.exports;
});

$__System.registerDynamic("ec", ["e", "ad", "b1", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $includes = $__require('ad')(true);
  $export($export.P, 'Array', {includes: function includes(el) {
      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
    }});
  $__require('b1')('includes');
  return module.exports;
});

$__System.registerDynamic("74", ["4b", "7d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toInteger = $__require('4b'),
      defined = $__require('7d');
  module.exports = function(TO_STRING) {
    return function(that, pos) {
      var s = String(defined(that)),
          i = toInteger(pos),
          l = s.length,
          a,
          b;
      if (i < 0 || i >= l)
        return TO_STRING ? '' : undefined;
      a = s.charCodeAt(i);
      return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
    };
  };
  return module.exports;
});

$__System.registerDynamic("ed", ["e", "74", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $at = $__require('74')(true);
  $export($export.P, 'String', {at: function at(pos) {
      return $at(this, pos);
    }});
  return module.exports;
});

$__System.registerDynamic("ee", ["e", "ef", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $pad = $__require('ef');
  $export($export.P, 'String', {padStart: function padStart(maxLength) {
      return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);
    }});
  return module.exports;
});

$__System.registerDynamic("4d", ["4b", "7d", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toInteger = $__require('4b'),
      defined = $__require('7d');
  module.exports = function repeat(count) {
    var str = String(defined(this)),
        res = '',
        n = toInteger(count);
    if (n < 0 || n == Infinity)
      throw RangeError("Count can't be negative");
    for (; n > 0; (n >>>= 1) && (str += str))
      if (n & 1)
        res += str;
    return res;
  };
  return module.exports;
});

$__System.registerDynamic("ef", ["71", "4d", "7d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toLength = $__require('71'),
      repeat = $__require('4d'),
      defined = $__require('7d');
  module.exports = function(that, maxLength, fillString, left) {
    var S = String(defined(that)),
        stringLength = S.length,
        fillStr = fillString === undefined ? ' ' : String(fillString),
        intMaxLength = toLength(maxLength);
    if (intMaxLength <= stringLength || fillStr == '')
      return S;
    var fillLen = intMaxLength - stringLength,
        stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));
    if (stringFiller.length > fillLen)
      stringFiller = stringFiller.slice(0, fillLen);
    return left ? stringFiller + S : S + stringFiller;
  };
  return module.exports;
});

$__System.registerDynamic("f0", ["e", "ef", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $pad = $__require('ef');
  $export($export.P, 'String', {padEnd: function padEnd(maxLength) {
      return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);
    }});
  return module.exports;
});

$__System.registerDynamic("f1", ["49", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('49')('trimLeft', function($trim) {
    return function trimLeft() {
      return $trim(this, 1);
    };
  }, 'trimStart');
  return module.exports;
});

$__System.registerDynamic("57", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' + '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';
  return module.exports;
});

$__System.registerDynamic("49", ["e", "7d", "11", "57", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      defined = $__require('7d'),
      fails = $__require('11'),
      spaces = $__require('57'),
      space = '[' + spaces + ']',
      non = '\u200b\u0085',
      ltrim = RegExp('^' + space + space + '*'),
      rtrim = RegExp(space + space + '*$');
  var exporter = function(KEY, exec, ALIAS) {
    var exp = {};
    var FORCE = fails(function() {
      return !!spaces[KEY]() || non[KEY]() != non;
    });
    var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
    if (ALIAS)
      exp[ALIAS] = fn;
    $export($export.P + $export.F * FORCE, 'String', exp);
  };
  var trim = exporter.trim = function(string, TYPE) {
    string = String(defined(string));
    if (TYPE & 1)
      string = string.replace(ltrim, '');
    if (TYPE & 2)
      string = string.replace(rtrim, '');
    return string;
  };
  module.exports = exporter;
  return module.exports;
});

$__System.registerDynamic("f2", ["49", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('49')('trimRight', function($trim) {
    return function trimRight() {
      return $trim(this, 2);
    };
  }, 'trimEnd');
  return module.exports;
});

$__System.registerDynamic("7c", ["2f", "47", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      cof = $__require('47'),
      MATCH = $__require('15')('match');
  module.exports = function(it) {
    var isRegExp;
    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');
  };
  return module.exports;
});

$__System.registerDynamic("b9", ["19", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var anObject = $__require('19');
  module.exports = function() {
    var that = anObject(this),
        result = '';
    if (that.global)
      result += 'g';
    if (that.ignoreCase)
      result += 'i';
    if (that.multiline)
      result += 'm';
    if (that.unicode)
      result += 'u';
    if (that.sticky)
      result += 'y';
    return result;
  };
  return module.exports;
});

$__System.registerDynamic("f3", ["e", "7d", "71", "7c", "b9", "e1", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      defined = $__require('7d'),
      toLength = $__require('71'),
      isRegExp = $__require('7c'),
      getFlags = $__require('b9'),
      RegExpProto = RegExp.prototype;
  var $RegExpStringIterator = function(regexp, string) {
    this._r = regexp;
    this._s = string;
  };
  $__require('e1')($RegExpStringIterator, 'RegExp String', function next() {
    var match = this._r.exec(this._s);
    return {
      value: match,
      done: match === null
    };
  });
  $export($export.P, 'String', {matchAll: function matchAll(regexp) {
      defined(this);
      if (!isRegExp(regexp))
        throw TypeError(regexp + ' is not a regexp!');
      var S = String(this),
          flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp),
          rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);
      rx.lastIndex = toLength(regexp.lastIndex);
      return new $RegExpStringIterator(rx, S);
    }});
  return module.exports;
});

$__System.registerDynamic("f4", ["17", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('17')('asyncIterator');
  return module.exports;
});

$__System.registerDynamic("16", ["15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.f = $__require('15');
  return module.exports;
});

$__System.registerDynamic("17", ["b", "34", "21", "16", "1f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      core = $__require('34'),
      LIBRARY = $__require('21'),
      wksExt = $__require('16'),
      defineProperty = $__require('1f').f;
  module.exports = function(name) {
    var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
    if (name.charAt(0) != '_' && !(name in $Symbol))
      defineProperty($Symbol, name, {value: wksExt.f(name)});
  };
  return module.exports;
});

$__System.registerDynamic("f5", ["17", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('17')('observable');
  return module.exports;
});

$__System.registerDynamic("20", ["f6", "f7", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $keys = $__require('f6'),
      hiddenKeys = $__require('f7').concat('length', 'prototype');
  exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
    return $keys(O, hiddenKeys);
  };
  return module.exports;
});

$__System.registerDynamic("e8", ["20", "8", "19", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var gOPN = $__require('20'),
      gOPS = $__require('8'),
      anObject = $__require('19'),
      Reflect = $__require('b').Reflect;
  module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {
    var keys = gOPN.f(anObject(it)),
        getSymbols = gOPS.f;
    return getSymbols ? keys.concat(getSymbols(it)) : keys;
  };
  return module.exports;
});

$__System.registerDynamic("98", ["1f", "1b", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $defineProperty = $__require('1f'),
      createDesc = $__require('1b');
  module.exports = function(object, index, value) {
    if (index in object)
      $defineProperty.f(object, index, createDesc(0, value));
    else
      object[index] = value;
  };
  return module.exports;
});

$__System.registerDynamic("f8", ["e", "e8", "6", "1e", "98", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      ownKeys = $__require('e8'),
      toIObject = $__require('6'),
      gOPD = $__require('1e'),
      createProperty = $__require('98');
  $export($export.S, 'Object', {getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
      var O = toIObject(object),
          getDesc = gOPD.f,
          keys = ownKeys(O),
          result = {},
          i = 0,
          key;
      while (keys.length > i)
        createProperty(result, key = keys[i++], getDesc(O, key));
      return result;
    }});
  return module.exports;
});

$__System.registerDynamic("f9", ["e", "fa", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $values = $__require('fa')(false);
  $export($export.S, 'Object', {values: function values(it) {
      return $values(it);
    }});
  return module.exports;
});

$__System.registerDynamic("fa", ["5", "6", "9", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var getKeys = $__require('5'),
      toIObject = $__require('6'),
      isEnum = $__require('9').f;
  module.exports = function(isEntries) {
    return function(it) {
      var O = toIObject(it),
          keys = getKeys(O),
          length = keys.length,
          i = 0,
          result = [],
          key;
      while (length > i)
        if (isEnum.call(O, key = keys[i++])) {
          result.push(isEntries ? [key, O[key]] : O[key]);
        }
      return result;
    };
  };
  return module.exports;
});

$__System.registerDynamic("fb", ["e", "fa", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $entries = $__require('fa')(true);
  $export($export.S, 'Object', {entries: function entries(it) {
      return $entries(it);
    }});
  return module.exports;
});

$__System.registerDynamic("fc", ["e", "2a", "a2", "1f", "d", "fd", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toObject = $__require('2a'),
      aFunction = $__require('a2'),
      $defineProperty = $__require('1f');
  $__require('d') && $export($export.P + $__require('fd'), 'Object', {__defineGetter__: function __defineGetter__(P, getter) {
      $defineProperty.f(toObject(this), P, {
        get: aFunction(getter),
        enumerable: true,
        configurable: true
      });
    }});
  return module.exports;
});

$__System.registerDynamic("fe", ["e", "2a", "a2", "1f", "d", "fd", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toObject = $__require('2a'),
      aFunction = $__require('a2'),
      $defineProperty = $__require('1f');
  $__require('d') && $export($export.P + $__require('fd'), 'Object', {__defineSetter__: function __defineSetter__(P, setter) {
      $defineProperty.f(toObject(this), P, {
        set: aFunction(setter),
        enumerable: true,
        configurable: true
      });
    }});
  return module.exports;
});

$__System.registerDynamic("ff", ["e", "2a", "1a", "2b", "1e", "d", "fd", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toObject = $__require('2a'),
      toPrimitive = $__require('1a'),
      getPrototypeOf = $__require('2b'),
      getOwnPropertyDescriptor = $__require('1e').f;
  $__require('d') && $export($export.P + $__require('fd'), 'Object', {__lookupGetter__: function __lookupGetter__(P) {
      var O = toObject(this),
          K = toPrimitive(P, true),
          D;
      do {
        if (D = getOwnPropertyDescriptor(O, K))
          return D.get;
      } while (O = getPrototypeOf(O));
    }});
  return module.exports;
});

$__System.registerDynamic("fd", ["21", "11", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = $__require('21') || !$__require('11')(function() {
    var K = Math.random();
    __defineSetter__.call(null, K, function() {});
    delete $__require('b')[K];
  });
  return module.exports;
});

$__System.registerDynamic("100", ["e", "2a", "1a", "2b", "1e", "d", "fd", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      toObject = $__require('2a'),
      toPrimitive = $__require('1a'),
      getPrototypeOf = $__require('2b'),
      getOwnPropertyDescriptor = $__require('1e').f;
  $__require('d') && $export($export.P + $__require('fd'), 'Object', {__lookupSetter__: function __lookupSetter__(P) {
      var O = toObject(this),
          K = toPrimitive(P, true),
          D;
      do {
        if (D = getOwnPropertyDescriptor(O, K))
          return D.set;
      } while (O = getPrototypeOf(O));
    }});
  return module.exports;
});

$__System.registerDynamic("101", ["e", "102", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.P + $export.R, 'Map', {toJSON: $__require('102')('Map')});
  return module.exports;
});

$__System.registerDynamic("102", ["3d", "103", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var classof = $__require('3d'),
      from = $__require('103');
  module.exports = function(NAME) {
    return function toJSON() {
      if (classof(this) != NAME)
        throw TypeError(NAME + "#toJSON isn't generic");
      return from(this);
    };
  };
  return module.exports;
});

$__System.registerDynamic("104", ["e", "102", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.P + $export.R, 'Set', {toJSON: $__require('102')('Set')});
  return module.exports;
});

$__System.registerDynamic("105", ["e", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'System', {global: $__require('b')});
  return module.exports;
});

$__System.registerDynamic("106", ["e", "47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      cof = $__require('47');
  $export($export.S, 'Error', {isError: function isError(it) {
      return cof(it) === 'Error';
    }});
  return module.exports;
});

$__System.registerDynamic("107", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {iaddh: function iaddh(x0, x1, y0, y1) {
      var $x0 = x0 >>> 0,
          $x1 = x1 >>> 0,
          $y0 = y0 >>> 0;
      return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;
    }});
  return module.exports;
});

$__System.registerDynamic("108", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {isubh: function isubh(x0, x1, y0, y1) {
      var $x0 = x0 >>> 0,
          $x1 = x1 >>> 0,
          $y0 = y0 >>> 0;
      return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;
    }});
  return module.exports;
});

$__System.registerDynamic("109", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {imulh: function imulh(u, v) {
      var UINT16 = 0xffff,
          $u = +u,
          $v = +v,
          u0 = $u & UINT16,
          v0 = $v & UINT16,
          u1 = $u >> 16,
          v1 = $v >> 16,
          t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
      return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);
    }});
  return module.exports;
});

$__System.registerDynamic("10a", ["e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e');
  $export($export.S, 'Math', {umulh: function umulh(u, v) {
      var UINT16 = 0xffff,
          $u = +u,
          $v = +v,
          u0 = $u & UINT16,
          v0 = $v & UINT16,
          u1 = $u >>> 16,
          v1 = $v >>> 16,
          t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
      return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);
    }});
  return module.exports;
});

$__System.registerDynamic("10b", ["10c", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      toMetaKey = metadata.key,
      ordinaryDefineOwnMetadata = metadata.set;
  metadata.exp({defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {
      ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));
    }});
  return module.exports;
});

$__System.registerDynamic("10d", ["10c", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      toMetaKey = metadata.key,
      getOrCreateMetadataMap = metadata.map,
      store = metadata.store;
  metadata.exp({deleteMetadata: function deleteMetadata(metadataKey, target) {
      var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]),
          metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);
      if (metadataMap === undefined || !metadataMap['delete'](metadataKey))
        return false;
      if (metadataMap.size)
        return true;
      var targetMetadata = store.get(target);
      targetMetadata['delete'](targetKey);
      return !!targetMetadata.size || store['delete'](target);
    }});
  return module.exports;
});

$__System.registerDynamic("10e", ["10c", "19", "2b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      getPrototypeOf = $__require('2b'),
      ordinaryHasOwnMetadata = metadata.has,
      ordinaryGetOwnMetadata = metadata.get,
      toMetaKey = metadata.key;
  var ordinaryGetMetadata = function(MetadataKey, O, P) {
    var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
    if (hasOwn)
      return ordinaryGetOwnMetadata(MetadataKey, O, P);
    var parent = getPrototypeOf(O);
    return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;
  };
  metadata.exp({getMetadata: function getMetadata(metadataKey, target) {
      return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
    }});
  return module.exports;
});

$__System.registerDynamic("10f", ["110", "ca", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var strong = $__require('110');
  module.exports = $__require('ca')('Set', function(get) {
    return function Set() {
      return get(this, arguments.length > 0 ? arguments[0] : undefined);
    };
  }, {add: function add(value) {
      return strong.def(this, value = value === 0 ? 0 : value, value);
    }}, strong);
  return module.exports;
});

$__System.registerDynamic("103", ["c3", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var forOf = $__require('c3');
  module.exports = function(iter, ITERATOR) {
    var result = [];
    forOf(iter, false, result.push, result, ITERATOR);
    return result;
  };
  return module.exports;
});

$__System.registerDynamic("111", ["10f", "103", "10c", "19", "2b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var Set = $__require('10f'),
      from = $__require('103'),
      metadata = $__require('10c'),
      anObject = $__require('19'),
      getPrototypeOf = $__require('2b'),
      ordinaryOwnMetadataKeys = metadata.keys,
      toMetaKey = metadata.key;
  var ordinaryMetadataKeys = function(O, P) {
    var oKeys = ordinaryOwnMetadataKeys(O, P),
        parent = getPrototypeOf(O);
    if (parent === null)
      return oKeys;
    var pKeys = ordinaryMetadataKeys(parent, P);
    return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;
  };
  metadata.exp({getMetadataKeys: function getMetadataKeys(target) {
      return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));
    }});
  return module.exports;
});

$__System.registerDynamic("112", ["10c", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      ordinaryGetOwnMetadata = metadata.get,
      toMetaKey = metadata.key;
  metadata.exp({getOwnMetadata: function getOwnMetadata(metadataKey, target) {
      return ordinaryGetOwnMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
    }});
  return module.exports;
});

$__System.registerDynamic("113", ["10c", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      ordinaryOwnMetadataKeys = metadata.keys,
      toMetaKey = metadata.key;
  metadata.exp({getOwnMetadataKeys: function getOwnMetadataKeys(target) {
      return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));
    }});
  return module.exports;
});

$__System.registerDynamic("114", ["10c", "19", "2b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      getPrototypeOf = $__require('2b'),
      ordinaryHasOwnMetadata = metadata.has,
      toMetaKey = metadata.key;
  var ordinaryHasMetadata = function(MetadataKey, O, P) {
    var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
    if (hasOwn)
      return true;
    var parent = getPrototypeOf(O);
    return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;
  };
  metadata.exp({hasMetadata: function hasMetadata(metadataKey, target) {
      return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
    }});
  return module.exports;
});

$__System.registerDynamic("115", ["10c", "19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      ordinaryHasOwnMetadata = metadata.has,
      toMetaKey = metadata.key;
  metadata.exp({hasOwnMetadata: function hasOwnMetadata(metadataKey, target) {
      return ordinaryHasOwnMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
    }});
  return module.exports;
});

$__System.registerDynamic("110", ["1f", "1c", "c7", "95", "c2", "7d", "c3", "75", "116", "b7", "d", "10", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var dP = $__require('1f').f,
      create = $__require('1c'),
      redefineAll = $__require('c7'),
      ctx = $__require('95'),
      anInstance = $__require('c2'),
      defined = $__require('7d'),
      forOf = $__require('c3'),
      $iterDefine = $__require('75'),
      step = $__require('116'),
      setSpecies = $__require('b7'),
      DESCRIPTORS = $__require('d'),
      fastKey = $__require('10').fastKey,
      SIZE = DESCRIPTORS ? '_s' : 'size';
  var getEntry = function(that, key) {
    var index = fastKey(key),
        entry;
    if (index !== 'F')
      return that._i[index];
    for (entry = that._f; entry; entry = entry.n) {
      if (entry.k == key)
        return entry;
    }
  };
  module.exports = {
    getConstructor: function(wrapper, NAME, IS_MAP, ADDER) {
      var C = wrapper(function(that, iterable) {
        anInstance(that, C, NAME, '_i');
        that._i = create(null);
        that._f = undefined;
        that._l = undefined;
        that[SIZE] = 0;
        if (iterable != undefined)
          forOf(iterable, IS_MAP, that[ADDER], that);
      });
      redefineAll(C.prototype, {
        clear: function clear() {
          for (var that = this,
              data = that._i,
              entry = that._f; entry; entry = entry.n) {
            entry.r = true;
            if (entry.p)
              entry.p = entry.p.n = undefined;
            delete data[entry.i];
          }
          that._f = that._l = undefined;
          that[SIZE] = 0;
        },
        'delete': function(key) {
          var that = this,
              entry = getEntry(that, key);
          if (entry) {
            var next = entry.n,
                prev = entry.p;
            delete that._i[entry.i];
            entry.r = true;
            if (prev)
              prev.n = next;
            if (next)
              next.p = prev;
            if (that._f == entry)
              that._f = next;
            if (that._l == entry)
              that._l = prev;
            that[SIZE]--;
          }
          return !!entry;
        },
        forEach: function forEach(callbackfn) {
          anInstance(this, C, 'forEach');
          var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3),
              entry;
          while (entry = entry ? entry.n : this._f) {
            f(entry.v, entry.k, this);
            while (entry && entry.r)
              entry = entry.p;
          }
        },
        has: function has(key) {
          return !!getEntry(this, key);
        }
      });
      if (DESCRIPTORS)
        dP(C.prototype, 'size', {get: function() {
            return defined(this[SIZE]);
          }});
      return C;
    },
    def: function(that, key, value) {
      var entry = getEntry(that, key),
          prev,
          index;
      if (entry) {
        entry.v = value;
      } else {
        that._l = entry = {
          i: index = fastKey(key, true),
          k: key,
          v: value,
          p: prev = that._l,
          n: undefined,
          r: false
        };
        if (!that._f)
          that._f = entry;
        if (prev)
          prev.n = entry;
        that[SIZE]++;
        if (index !== 'F')
          that._i[index] = entry;
      }
      return that;
    },
    getEntry: getEntry,
    setStrong: function(C, NAME, IS_MAP) {
      $iterDefine(C, NAME, function(iterated, kind) {
        this._t = iterated;
        this._k = kind;
        this._l = undefined;
      }, function() {
        var that = this,
            kind = that._k,
            entry = that._l;
        while (entry && entry.r)
          entry = entry.p;
        if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
          that._t = undefined;
          return step(1);
        }
        if (kind == 'keys')
          return step(0, entry.k);
        if (kind == 'values')
          return step(0, entry.v);
        return step(0, [entry.k, entry.v]);
      }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);
      setSpecies(NAME);
    }
  };
  return module.exports;
});

$__System.registerDynamic("117", ["110", "ca", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var strong = $__require('110');
  module.exports = $__require('ca')('Map', function(get) {
    return function Map() {
      return get(this, arguments.length > 0 ? arguments[0] : undefined);
    };
  }, {
    get: function get(key) {
      var entry = strong.getEntry(this, key);
      return entry && entry.v;
    },
    set: function set(key, value) {
      return strong.def(this, key === 0 ? 0 : key, value);
    }
  }, strong, true);
  return module.exports;
});

$__System.registerDynamic("8", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.f = Object.getOwnPropertySymbols;
  return module.exports;
});

$__System.registerDynamic("37", ["5", "8", "9", "2a", "9d", "11", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var getKeys = $__require('5'),
      gOPS = $__require('8'),
      pIE = $__require('9'),
      toObject = $__require('2a'),
      IObject = $__require('9d'),
      $assign = Object.assign;
  module.exports = !$assign || $__require('11')(function() {
    var A = {},
        B = {},
        S = Symbol(),
        K = 'abcdefghijklmnopqrst';
    A[S] = 7;
    K.split('').forEach(function(k) {
      B[k] = k;
    });
    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
  }) ? function assign(target, source) {
    var T = toObject(target),
        aLen = arguments.length,
        index = 1,
        getSymbols = gOPS.f,
        isEnum = pIE.f;
    while (aLen > index) {
      var S = IObject(arguments[index++]),
          keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S),
          length = keys.length,
          j = 0,
          key;
      while (length > j)
        if (isEnum.call(S, key = keys[j++]))
          T[key] = S[key];
    }
    return T;
  } : $assign;
  return module.exports;
});

$__System.registerDynamic("18", ["47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var cof = $__require('47');
  module.exports = Array.isArray || function isArray(arg) {
    return cof(arg) == 'Array';
  };
  return module.exports;
});

$__System.registerDynamic("118", ["2f", "18", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      isArray = $__require('18'),
      SPECIES = $__require('15')('species');
  module.exports = function(original) {
    var C;
    if (isArray(original)) {
      C = original.constructor;
      if (typeof C == 'function' && (C === Array || isArray(C.prototype)))
        C = undefined;
      if (isObject(C)) {
        C = C[SPECIES];
        if (C === null)
          C = undefined;
      }
    }
    return C === undefined ? Array : C;
  };
  return module.exports;
});

$__System.registerDynamic("119", ["118", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var speciesConstructor = $__require('118');
  module.exports = function(original, length) {
    return new (speciesConstructor(original))(length);
  };
  return module.exports;
});

$__System.registerDynamic("a4", ["95", "9d", "2a", "71", "119", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var ctx = $__require('95'),
      IObject = $__require('9d'),
      toObject = $__require('2a'),
      toLength = $__require('71'),
      asc = $__require('119');
  module.exports = function(TYPE, $create) {
    var IS_MAP = TYPE == 1,
        IS_FILTER = TYPE == 2,
        IS_SOME = TYPE == 3,
        IS_EVERY = TYPE == 4,
        IS_FIND_INDEX = TYPE == 6,
        NO_HOLES = TYPE == 5 || IS_FIND_INDEX,
        create = $create || asc;
    return function($this, callbackfn, that) {
      var O = toObject($this),
          self = IObject(O),
          f = ctx(callbackfn, that, 3),
          length = toLength(self.length),
          index = 0,
          result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined,
          val,
          res;
      for (; length > index; index++)
        if (NO_HOLES || index in self) {
          val = self[index];
          res = f(val, index, O);
          if (TYPE) {
            if (IS_MAP)
              result[index] = res;
            else if (res)
              switch (TYPE) {
                case 3:
                  return true;
                case 5:
                  return val;
                case 6:
                  return index;
                case 2:
                  result.push(val);
              }
            else if (IS_EVERY)
              return false;
          }
        }
      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
    };
  };
  return module.exports;
});

$__System.registerDynamic("c9", ["c7", "10", "19", "2f", "c2", "c3", "a4", "c", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var redefineAll = $__require('c7'),
      getWeak = $__require('10').getWeak,
      anObject = $__require('19'),
      isObject = $__require('2f'),
      anInstance = $__require('c2'),
      forOf = $__require('c3'),
      createArrayMethod = $__require('a4'),
      $has = $__require('c'),
      arrayFind = createArrayMethod(5),
      arrayFindIndex = createArrayMethod(6),
      id = 0;
  var uncaughtFrozenStore = function(that) {
    return that._l || (that._l = new UncaughtFrozenStore);
  };
  var UncaughtFrozenStore = function() {
    this.a = [];
  };
  var findUncaughtFrozen = function(store, key) {
    return arrayFind(store.a, function(it) {
      return it[0] === key;
    });
  };
  UncaughtFrozenStore.prototype = {
    get: function(key) {
      var entry = findUncaughtFrozen(this, key);
      if (entry)
        return entry[1];
    },
    has: function(key) {
      return !!findUncaughtFrozen(this, key);
    },
    set: function(key, value) {
      var entry = findUncaughtFrozen(this, key);
      if (entry)
        entry[1] = value;
      else
        this.a.push([key, value]);
    },
    'delete': function(key) {
      var index = arrayFindIndex(this.a, function(it) {
        return it[0] === key;
      });
      if (~index)
        this.a.splice(index, 1);
      return !!~index;
    }
  };
  module.exports = {
    getConstructor: function(wrapper, NAME, IS_MAP, ADDER) {
      var C = wrapper(function(that, iterable) {
        anInstance(that, C, NAME, '_i');
        that._i = id++;
        that._l = undefined;
        if (iterable != undefined)
          forOf(iterable, IS_MAP, that[ADDER], that);
      });
      redefineAll(C.prototype, {
        'delete': function(key) {
          if (!isObject(key))
            return false;
          var data = getWeak(key);
          if (data === true)
            return uncaughtFrozenStore(this)['delete'](key);
          return data && $has(data, this._i) && delete data[this._i];
        },
        has: function has(key) {
          if (!isObject(key))
            return false;
          var data = getWeak(key);
          if (data === true)
            return uncaughtFrozenStore(this).has(key);
          return data && $has(data, this._i);
        }
      });
      return C;
    },
    def: function(that, key, value) {
      var data = getWeak(anObject(key), true);
      if (data === true)
        uncaughtFrozenStore(that).set(key, value);
      else
        data[that._i] = value;
      return that;
    },
    ufstore: uncaughtFrozenStore
  };
  return module.exports;
});

$__System.registerDynamic("10", ["14", "2f", "c", "1f", "11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var META = $__require('14')('meta'),
      isObject = $__require('2f'),
      has = $__require('c'),
      setDesc = $__require('1f').f,
      id = 0;
  var isExtensible = Object.isExtensible || function() {
    return true;
  };
  var FREEZE = !$__require('11')(function() {
    return isExtensible(Object.preventExtensions({}));
  });
  var setMeta = function(it) {
    setDesc(it, META, {value: {
        i: 'O' + ++id,
        w: {}
      }});
  };
  var fastKey = function(it, create) {
    if (!isObject(it))
      return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
    if (!has(it, META)) {
      if (!isExtensible(it))
        return 'F';
      if (!create)
        return 'E';
      setMeta(it);
    }
    return it[META].i;
  };
  var getWeak = function(it, create) {
    if (!has(it, META)) {
      if (!isExtensible(it))
        return true;
      if (!create)
        return false;
      setMeta(it);
    }
    return it[META].w;
  };
  var onFreeze = function(it) {
    if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META))
      setMeta(it);
    return it;
  };
  var meta = module.exports = {
    KEY: META,
    NEED: false,
    fastKey: fastKey,
    getWeak: getWeak,
    onFreeze: onFreeze
  };
  return module.exports;
});

$__System.registerDynamic("9a", ["15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var ITERATOR = $__require('15')('iterator'),
      SAFE_CLOSING = false;
  try {
    var riter = [7][ITERATOR]();
    riter['return'] = function() {
      SAFE_CLOSING = true;
    };
    Array.from(riter, function() {
      throw 2;
    });
  } catch (e) {}
  module.exports = function(exec, skipClosing) {
    if (!skipClosing && !SAFE_CLOSING)
      return false;
    var safe = false;
    try {
      var arr = [7],
          iter = arr[ITERATOR]();
      iter.next = function() {
        return {done: safe = true};
      };
      arr[ITERATOR] = function() {
        return iter;
      };
      exec(arr);
    } catch (e) {}
    return safe;
  };
  return module.exports;
});

$__System.registerDynamic("9", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.f = {}.propertyIsEnumerable;
  return module.exports;
});

$__System.registerDynamic("1e", ["9", "1b", "6", "1a", "c", "11a", "d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var pIE = $__require('9'),
      createDesc = $__require('1b'),
      toIObject = $__require('6'),
      toPrimitive = $__require('1a'),
      has = $__require('c'),
      IE8_DOM_DEFINE = $__require('11a'),
      gOPD = Object.getOwnPropertyDescriptor;
  exports.f = $__require('d') ? gOPD : function getOwnPropertyDescriptor(O, P) {
    O = toIObject(O);
    P = toPrimitive(P, true);
    if (IE8_DOM_DEFINE)
      try {
        return gOPD(O, P);
      } catch (e) {}
    if (has(O, P))
      return createDesc(!pIE.f.call(O, P), O[P]);
  };
  return module.exports;
});

$__System.registerDynamic("3b", ["2f", "19", "95", "1e", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      anObject = $__require('19');
  var check = function(O, proto) {
    anObject(O);
    if (!isObject(proto) && proto !== null)
      throw TypeError(proto + ": can't set as prototype!");
  };
  module.exports = {
    set: Object.setPrototypeOf || ('__proto__' in {} ? function(test, buggy, set) {
      try {
        set = $__require('95')(Function.call, $__require('1e').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) {
        buggy = true;
      }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy)
          O.__proto__ = proto;
        else
          set(O, proto);
        return O;
      };
    }({}, false) : undefined),
    check: check
  };
  return module.exports;
});

$__System.registerDynamic("48", ["2f", "3b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      setPrototypeOf = $__require('3b').set;
  module.exports = function(that, target, C) {
    var P,
        S = target.constructor;
    if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {
      setPrototypeOf(that, P);
    }
    return that;
  };
  return module.exports;
});

$__System.registerDynamic("ca", ["b", "e", "f", "c7", "10", "c3", "c2", "2f", "11", "9a", "13", "48", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      $export = $__require('e'),
      redefine = $__require('f'),
      redefineAll = $__require('c7'),
      meta = $__require('10'),
      forOf = $__require('c3'),
      anInstance = $__require('c2'),
      isObject = $__require('2f'),
      fails = $__require('11'),
      $iterDetect = $__require('9a'),
      setToStringTag = $__require('13'),
      inheritIfRequired = $__require('48');
  module.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
    var Base = global[NAME],
        C = Base,
        ADDER = IS_MAP ? 'set' : 'add',
        proto = C && C.prototype,
        O = {};
    var fixMethod = function(KEY) {
      var fn = proto[KEY];
      redefine(proto, KEY, KEY == 'delete' ? function(a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'has' ? function has(a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'get' ? function get(a) {
        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'add' ? function add(a) {
        fn.call(this, a === 0 ? 0 : a);
        return this;
      } : function set(a, b) {
        fn.call(this, a === 0 ? 0 : a, b);
        return this;
      });
    };
    if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function() {
      new C().entries().next();
    }))) {
      C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
      redefineAll(C.prototype, methods);
      meta.NEED = true;
    } else {
      var instance = new C,
          HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance,
          THROWS_ON_PRIMITIVES = fails(function() {
            instance.has(1);
          }),
          ACCEPT_ITERABLES = $iterDetect(function(iter) {
            new C(iter);
          }),
          BUGGY_ZERO = !IS_WEAK && fails(function() {
            var $instance = new C(),
                index = 5;
            while (index--)
              $instance[ADDER](index, index);
            return !$instance.has(-0);
          });
      if (!ACCEPT_ITERABLES) {
        C = wrapper(function(target, iterable) {
          anInstance(target, C, NAME);
          var that = inheritIfRequired(new Base, target, C);
          if (iterable != undefined)
            forOf(iterable, IS_MAP, that[ADDER], that);
          return that;
        });
        C.prototype = proto;
        proto.constructor = C;
      }
      if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
        fixMethod('delete');
        fixMethod('has');
        IS_MAP && fixMethod('get');
      }
      if (BUGGY_ZERO || HASNT_CHAINING)
        fixMethod(ADDER);
      if (IS_WEAK && proto.clear)
        delete proto.clear;
    }
    setToStringTag(C, NAME);
    O[NAME] = C;
    $export($export.G + $export.W + $export.F * (C != Base), O);
    if (!IS_WEAK)
      common.setStrong(C, NAME, IS_MAP);
    return C;
  };
  return module.exports;
});

$__System.registerDynamic("11b", ["a4", "f", "10", "37", "c9", "2f", "ca", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var each = $__require('a4')(0),
      redefine = $__require('f'),
      meta = $__require('10'),
      assign = $__require('37'),
      weak = $__require('c9'),
      isObject = $__require('2f'),
      getWeak = meta.getWeak,
      isExtensible = Object.isExtensible,
      uncaughtFrozenStore = weak.ufstore,
      tmp = {},
      InternalMap;
  var wrapper = function(get) {
    return function WeakMap() {
      return get(this, arguments.length > 0 ? arguments[0] : undefined);
    };
  };
  var methods = {
    get: function get(key) {
      if (isObject(key)) {
        var data = getWeak(key);
        if (data === true)
          return uncaughtFrozenStore(this).get(key);
        return data ? data[this._i] : undefined;
      }
    },
    set: function set(key, value) {
      return weak.def(this, key, value);
    }
  };
  var $WeakMap = module.exports = $__require('ca')('WeakMap', wrapper, methods, weak, true, true);
  if (new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7) {
    InternalMap = weak.getConstructor(wrapper);
    assign(InternalMap.prototype, methods);
    meta.NEED = true;
    each(['delete', 'has', 'get', 'set'], function(key) {
      var proto = $WeakMap.prototype,
          method = proto[key];
      redefine(proto, key, function(a, b) {
        if (isObject(a) && !isExtensible(a)) {
          if (!this._f)
            this._f = new InternalMap;
          var result = this._f[key](a, b);
          return key == 'set' ? this : result;
        }
        return method.call(this, a, b);
      });
    });
  }
  return module.exports;
});

$__System.registerDynamic("10c", ["117", "e", "12", "11b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var Map = $__require('117'),
      $export = $__require('e'),
      shared = $__require('12')('metadata'),
      store = shared.store || (shared.store = new ($__require('11b')));
  var getOrCreateMetadataMap = function(target, targetKey, create) {
    var targetMetadata = store.get(target);
    if (!targetMetadata) {
      if (!create)
        return undefined;
      store.set(target, targetMetadata = new Map);
    }
    var keyMetadata = targetMetadata.get(targetKey);
    if (!keyMetadata) {
      if (!create)
        return undefined;
      targetMetadata.set(targetKey, keyMetadata = new Map);
    }
    return keyMetadata;
  };
  var ordinaryHasOwnMetadata = function(MetadataKey, O, P) {
    var metadataMap = getOrCreateMetadataMap(O, P, false);
    return metadataMap === undefined ? false : metadataMap.has(MetadataKey);
  };
  var ordinaryGetOwnMetadata = function(MetadataKey, O, P) {
    var metadataMap = getOrCreateMetadataMap(O, P, false);
    return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);
  };
  var ordinaryDefineOwnMetadata = function(MetadataKey, MetadataValue, O, P) {
    getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);
  };
  var ordinaryOwnMetadataKeys = function(target, targetKey) {
    var metadataMap = getOrCreateMetadataMap(target, targetKey, false),
        keys = [];
    if (metadataMap)
      metadataMap.forEach(function(_, key) {
        keys.push(key);
      });
    return keys;
  };
  var toMetaKey = function(it) {
    return it === undefined || typeof it == 'symbol' ? it : String(it);
  };
  var exp = function(O) {
    $export($export.S, 'Reflect', O);
  };
  module.exports = {
    store: store,
    map: getOrCreateMetadataMap,
    has: ordinaryHasOwnMetadata,
    get: ordinaryGetOwnMetadata,
    set: ordinaryDefineOwnMetadata,
    keys: ordinaryOwnMetadataKeys,
    key: toMetaKey,
    exp: exp
  };
  return module.exports;
});

$__System.registerDynamic("11c", ["10c", "19", "a2", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var metadata = $__require('10c'),
      anObject = $__require('19'),
      aFunction = $__require('a2'),
      toMetaKey = metadata.key,
      ordinaryDefineOwnMetadata = metadata.set;
  metadata.exp({metadata: function metadata(metadataKey, metadataValue) {
      return function decorator(target, targetKey) {
        ordinaryDefineOwnMetadata(metadataKey, metadataValue, (targetKey !== undefined ? anObject : aFunction)(target), toMetaKey(targetKey));
      };
    }});
  return module.exports;
});

$__System.registerDynamic("11d", ["e", "c6", "b", "47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      microtask = $__require('c6')(),
      process = $__require('b').process,
      isNode = $__require('47')(process) == 'process';
  $export($export.G, {asap: function asap(fn) {
      var domain = isNode && process.domain;
      microtask(domain ? domain.bind(fn) : fn);
    }});
  return module.exports;
});

$__System.registerDynamic("c6", ["b", "c5", "47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      macrotask = $__require('c5').set,
      Observer = global.MutationObserver || global.WebKitMutationObserver,
      process = global.process,
      Promise = global.Promise,
      isNode = $__require('47')(process) == 'process';
  module.exports = function() {
    var head,
        last,
        notify;
    var flush = function() {
      var parent,
          fn;
      if (isNode && (parent = process.domain))
        parent.exit();
      while (head) {
        fn = head.fn;
        head = head.next;
        try {
          fn();
        } catch (e) {
          if (head)
            notify();
          else
            last = undefined;
          throw e;
        }
      }
      last = undefined;
      if (parent)
        parent.enter();
    };
    if (isNode) {
      notify = function() {
        process.nextTick(flush);
      };
    } else if (Observer) {
      var toggle = true,
          node = document.createTextNode('');
      new Observer(flush).observe(node, {characterData: true});
      notify = function() {
        node.data = toggle = !toggle;
      };
    } else if (Promise && Promise.resolve) {
      var promise = Promise.resolve();
      notify = function() {
        promise.then(flush);
      };
    } else {
      notify = function() {
        macrotask.call(global, flush);
      };
    }
    return function(fn) {
      var task = {
        fn: fn,
        next: undefined
      };
      if (last)
        last.next = task;
      if (!head) {
        head = task;
        notify();
      }
      last = task;
    };
  };
  return module.exports;
});

$__System.registerDynamic("c2", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(it, Constructor, name, forbiddenField) {
    if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
      throw TypeError(name + ': incorrect invocation!');
    }
    return it;
  };
  return module.exports;
});

$__System.registerDynamic("c7", ["f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var redefine = $__require('f');
  module.exports = function(target, src, safe) {
    for (var key in src)
      redefine(target, key, src[key], safe);
    return target;
  };
  return module.exports;
});

$__System.registerDynamic("96", ["19", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var anObject = $__require('19');
  module.exports = function(iterator, fn, value, entries) {
    try {
      return entries ? fn(anObject(value)[0], value[1]) : fn(value);
    } catch (e) {
      var ret = iterator['return'];
      if (ret !== undefined)
        anObject(ret.call(iterator));
      throw e;
    }
  };
  return module.exports;
});

$__System.registerDynamic("97", ["d9", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var Iterators = $__require('d9'),
      ITERATOR = $__require('15')('iterator'),
      ArrayProto = Array.prototype;
  module.exports = function(it) {
    return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
  };
  return module.exports;
});

$__System.registerDynamic("3d", ["47", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var cof = $__require('47'),
      TAG = $__require('15')('toStringTag'),
      ARG = cof(function() {
        return arguments;
      }()) == 'Arguments';
  var tryGet = function(it, key) {
    try {
      return it[key];
    } catch (e) {}
  };
  module.exports = function(it) {
    var O,
        T,
        B;
    return it === undefined ? 'Undefined' : it === null ? 'Null' : typeof(T = tryGet(O = Object(it), TAG)) == 'string' ? T : ARG ? cof(O) : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
  };
  return module.exports;
});

$__System.registerDynamic("99", ["3d", "15", "d9", "34", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var classof = $__require('3d'),
      ITERATOR = $__require('15')('iterator'),
      Iterators = $__require('d9');
  module.exports = $__require('34').getIteratorMethod = function(it) {
    if (it != undefined)
      return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];
  };
  return module.exports;
});

$__System.registerDynamic("c3", ["95", "96", "97", "19", "71", "99", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var ctx = $__require('95'),
      call = $__require('96'),
      isArrayIter = $__require('97'),
      anObject = $__require('19'),
      toLength = $__require('71'),
      getIterFn = $__require('99'),
      BREAK = {},
      RETURN = {};
  var exports = module.exports = function(iterable, entries, fn, that, ITERATOR) {
    var iterFn = ITERATOR ? function() {
      return iterable;
    } : getIterFn(iterable),
        f = ctx(fn, that, entries ? 2 : 1),
        index = 0,
        length,
        step,
        iterator,
        result;
    if (typeof iterFn != 'function')
      throw TypeError(iterable + ' is not iterable!');
    if (isArrayIter(iterFn))
      for (length = toLength(iterable.length); length > index; index++) {
        result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
        if (result === BREAK || result === RETURN)
          return result;
      }
    else
      for (iterator = iterFn.call(iterable); !(step = iterator.next()).done; ) {
        result = call(iterator, f, step.value, entries);
        if (result === BREAK || result === RETURN)
          return result;
      }
  };
  exports.BREAK = BREAK;
  exports.RETURN = RETURN;
  return module.exports;
});

$__System.registerDynamic("b7", ["b", "1f", "d", "15", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      dP = $__require('1f'),
      DESCRIPTORS = $__require('d'),
      SPECIES = $__require('15')('species');
  module.exports = function(KEY) {
    var C = global[KEY];
    if (DESCRIPTORS && C && !C[SPECIES])
      dP.f(C, SPECIES, {
        configurable: true,
        get: function() {
          return this;
        }
      });
  };
  return module.exports;
});

$__System.registerDynamic("11e", ["e", "b", "34", "c6", "15", "a2", "19", "c2", "c7", "22", "c3", "b7", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      global = $__require('b'),
      core = $__require('34'),
      microtask = $__require('c6')(),
      OBSERVABLE = $__require('15')('observable'),
      aFunction = $__require('a2'),
      anObject = $__require('19'),
      anInstance = $__require('c2'),
      redefineAll = $__require('c7'),
      hide = $__require('22'),
      forOf = $__require('c3'),
      RETURN = forOf.RETURN;
  var getMethod = function(fn) {
    return fn == null ? undefined : aFunction(fn);
  };
  var cleanupSubscription = function(subscription) {
    var cleanup = subscription._c;
    if (cleanup) {
      subscription._c = undefined;
      cleanup();
    }
  };
  var subscriptionClosed = function(subscription) {
    return subscription._o === undefined;
  };
  var closeSubscription = function(subscription) {
    if (!subscriptionClosed(subscription)) {
      subscription._o = undefined;
      cleanupSubscription(subscription);
    }
  };
  var Subscription = function(observer, subscriber) {
    anObject(observer);
    this._c = undefined;
    this._o = observer;
    observer = new SubscriptionObserver(this);
    try {
      var cleanup = subscriber(observer),
          subscription = cleanup;
      if (cleanup != null) {
        if (typeof cleanup.unsubscribe === 'function')
          cleanup = function() {
            subscription.unsubscribe();
          };
        else
          aFunction(cleanup);
        this._c = cleanup;
      }
    } catch (e) {
      observer.error(e);
      return;
    }
    if (subscriptionClosed(this))
      cleanupSubscription(this);
  };
  Subscription.prototype = redefineAll({}, {unsubscribe: function unsubscribe() {
      closeSubscription(this);
    }});
  var SubscriptionObserver = function(subscription) {
    this._s = subscription;
  };
  SubscriptionObserver.prototype = redefineAll({}, {
    next: function next(value) {
      var subscription = this._s;
      if (!subscriptionClosed(subscription)) {
        var observer = subscription._o;
        try {
          var m = getMethod(observer.next);
          if (m)
            return m.call(observer, value);
        } catch (e) {
          try {
            closeSubscription(subscription);
          } finally {
            throw e;
          }
        }
      }
    },
    error: function error(value) {
      var subscription = this._s;
      if (subscriptionClosed(subscription))
        throw value;
      var observer = subscription._o;
      subscription._o = undefined;
      try {
        var m = getMethod(observer.error);
        if (!m)
          throw value;
        value = m.call(observer, value);
      } catch (e) {
        try {
          cleanupSubscription(subscription);
        } finally {
          throw e;
        }
      }
      cleanupSubscription(subscription);
      return value;
    },
    complete: function complete(value) {
      var subscription = this._s;
      if (!subscriptionClosed(subscription)) {
        var observer = subscription._o;
        subscription._o = undefined;
        try {
          var m = getMethod(observer.complete);
          value = m ? m.call(observer, value) : undefined;
        } catch (e) {
          try {
            cleanupSubscription(subscription);
          } finally {
            throw e;
          }
        }
        cleanupSubscription(subscription);
        return value;
      }
    }
  });
  var $Observable = function Observable(subscriber) {
    anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);
  };
  redefineAll($Observable.prototype, {
    subscribe: function subscribe(observer) {
      return new Subscription(observer, this._f);
    },
    forEach: function forEach(fn) {
      var that = this;
      return new (core.Promise || global.Promise)(function(resolve, reject) {
        aFunction(fn);
        var subscription = that.subscribe({
          next: function(value) {
            try {
              return fn(value);
            } catch (e) {
              reject(e);
              subscription.unsubscribe();
            }
          },
          error: reject,
          complete: resolve
        });
      });
    }
  });
  redefineAll($Observable, {
    from: function from(x) {
      var C = typeof this === 'function' ? this : $Observable;
      var method = getMethod(anObject(x)[OBSERVABLE]);
      if (method) {
        var observable = anObject(method.call(x));
        return observable.constructor === C ? observable : new C(function(observer) {
          return observable.subscribe(observer);
        });
      }
      return new C(function(observer) {
        var done = false;
        microtask(function() {
          if (!done) {
            try {
              if (forOf(x, false, function(it) {
                observer.next(it);
                if (done)
                  return RETURN;
              }) === RETURN)
                return;
            } catch (e) {
              if (done)
                throw e;
              observer.error(e);
              return;
            }
            observer.complete();
          }
        });
        return function() {
          done = true;
        };
      });
    },
    of: function of() {
      for (var i = 0,
          l = arguments.length,
          items = Array(l); i < l; )
        items[i] = arguments[i++];
      return new (typeof this === 'function' ? this : $Observable)(function(observer) {
        var done = false;
        microtask(function() {
          if (!done) {
            for (var i = 0; i < items.length; ++i) {
              observer.next(items[i]);
              if (done)
                return;
            }
            observer.complete();
          }
        });
        return function() {
          done = true;
        };
      });
    }
  });
  hide($Observable.prototype, OBSERVABLE, function() {
    return this;
  });
  $export($export.G, {Observable: $Observable});
  $__require('b7')('Observable');
  return module.exports;
});

$__System.registerDynamic("11f", ["b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = $__require('b');
  return module.exports;
});

$__System.registerDynamic("120", ["11f", "dc", "a2", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var path = $__require('11f'),
      invoke = $__require('dc'),
      aFunction = $__require('a2');
  module.exports = function() {
    var fn = aFunction(this),
        length = arguments.length,
        pargs = Array(length),
        i = 0,
        _ = path._,
        holder = false;
    while (length > i)
      if ((pargs[i] = arguments[i++]) === _)
        holder = true;
    return function() {
      var that = this,
          aLen = arguments.length,
          j = 0,
          k = 0,
          args;
      if (!holder && !aLen)
        return invoke(fn, pargs, that);
      args = pargs.slice();
      if (holder)
        for (; length > j; j++)
          if (args[j] === _)
            args[j] = arguments[k++];
      while (aLen > k)
        args.push(arguments[k++]);
      return invoke(fn, args, that);
    };
  };
  return module.exports;
});

$__System.registerDynamic("121", ["b", "e", "dc", "120", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      $export = $__require('e'),
      invoke = $__require('dc'),
      partial = $__require('120'),
      navigator = global.navigator,
      MSIE = !!navigator && /MSIE .\./.test(navigator.userAgent);
  var wrap = function(set) {
    return MSIE ? function(fn, time) {
      return set(invoke(partial, [].slice.call(arguments, 2), typeof fn == 'function' ? fn : Function(fn)), time);
    } : set;
  };
  $export($export.G + $export.B + $export.F * MSIE, {
    setTimeout: wrap(global.setTimeout),
    setInterval: wrap(global.setInterval)
  });
  return module.exports;
});

$__System.registerDynamic("dc", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(fn, args, that) {
    var un = that === undefined;
    switch (args.length) {
      case 0:
        return un ? fn() : fn.call(that);
      case 1:
        return un ? fn(args[0]) : fn.call(that, args[0]);
      case 2:
        return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);
      case 3:
        return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);
      case 4:
        return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]);
    }
    return fn.apply(that, args);
  };
  return module.exports;
});

$__System.registerDynamic("c5", ["95", "dc", "a0", "122", "b", "47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var ctx = $__require('95'),
      invoke = $__require('dc'),
      html = $__require('a0'),
      cel = $__require('122'),
      global = $__require('b'),
      process = global.process,
      setTask = global.setImmediate,
      clearTask = global.clearImmediate,
      MessageChannel = global.MessageChannel,
      counter = 0,
      queue = {},
      ONREADYSTATECHANGE = 'onreadystatechange',
      defer,
      channel,
      port;
  var run = function() {
    var id = +this;
    if (queue.hasOwnProperty(id)) {
      var fn = queue[id];
      delete queue[id];
      fn();
    }
  };
  var listener = function(event) {
    run.call(event.data);
  };
  if (!setTask || !clearTask) {
    setTask = function setImmediate(fn) {
      var args = [],
          i = 1;
      while (arguments.length > i)
        args.push(arguments[i++]);
      queue[++counter] = function() {
        invoke(typeof fn == 'function' ? fn : Function(fn), args);
      };
      defer(counter);
      return counter;
    };
    clearTask = function clearImmediate(id) {
      delete queue[id];
    };
    if ($__require('47')(process) == 'process') {
      defer = function(id) {
        process.nextTick(ctx(run, id, 1));
      };
    } else if (MessageChannel) {
      channel = new MessageChannel;
      port = channel.port2;
      channel.port1.onmessage = listener;
      defer = ctx(port.postMessage, port, 1);
    } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
      defer = function(id) {
        global.postMessage(id + '', '*');
      };
      global.addEventListener('message', listener, false);
    } else if (ONREADYSTATECHANGE in cel('script')) {
      defer = function(id) {
        html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function() {
          html.removeChild(this);
          run.call(id);
        };
      };
    } else {
      defer = function(id) {
        setTimeout(ctx(run, id, 1), 0);
      };
    }
  }
  module.exports = {
    set: setTask,
    clear: clearTask
  };
  return module.exports;
});

$__System.registerDynamic("123", ["e", "c5", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $export = $__require('e'),
      $task = $__require('c5');
  $export($export.G + $export.B, {
    setImmediate: $task.set,
    clearImmediate: $task.clear
  });
  return module.exports;
});

$__System.registerDynamic("b1", ["15", "22", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var UNSCOPABLES = $__require('15')('unscopables'),
      ArrayProto = Array.prototype;
  if (ArrayProto[UNSCOPABLES] == undefined)
    $__require('22')(ArrayProto, UNSCOPABLES, {});
  module.exports = function(key) {
    ArrayProto[UNSCOPABLES][key] = true;
  };
  return module.exports;
});

$__System.registerDynamic("116", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(done, value) {
    return {
      value: value,
      done: !!done
    };
  };
  return module.exports;
});

$__System.registerDynamic("21", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = false;
  return module.exports;
});

$__System.registerDynamic("a2", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(it) {
    if (typeof it != 'function')
      throw TypeError(it + ' is not a function!');
    return it;
  };
  return module.exports;
});

$__System.registerDynamic("95", ["a2", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var aFunction = $__require('a2');
  module.exports = function(fn, that, length) {
    aFunction(fn);
    if (that === undefined)
      return fn;
    switch (length) {
      case 1:
        return function(a) {
          return fn.call(that, a);
        };
      case 2:
        return function(a, b) {
          return fn.call(that, a, b);
        };
      case 3:
        return function(a, b, c) {
          return fn.call(that, a, b, c);
        };
    }
    return function() {
      return fn.apply(that, arguments);
    };
  };
  return module.exports;
});

$__System.registerDynamic("e", ["b", "34", "22", "f", "95", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      core = $__require('34'),
      hide = $__require('22'),
      redefine = $__require('f'),
      ctx = $__require('95'),
      PROTOTYPE = 'prototype';
  var $export = function(type, name, source) {
    var IS_FORCED = type & $export.F,
        IS_GLOBAL = type & $export.G,
        IS_STATIC = type & $export.S,
        IS_PROTO = type & $export.P,
        IS_BIND = type & $export.B,
        target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE],
        exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),
        expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {}),
        key,
        own,
        out,
        exp;
    if (IS_GLOBAL)
      source = name;
    for (key in source) {
      own = !IS_FORCED && target && target[key] !== undefined;
      out = (own ? target : source)[key];
      exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
      if (target)
        redefine(target, key, out, type & $export.U);
      if (exports[key] != out)
        hide(exports, key, exp);
      if (IS_PROTO && expProto[key] != out)
        expProto[key] = out;
    }
  };
  global.core = core;
  $export.F = 1;
  $export.G = 2;
  $export.S = 4;
  $export.P = 8;
  $export.B = 16;
  $export.W = 32;
  $export.U = 64;
  $export.R = 128;
  module.exports = $export;
  return module.exports;
});

$__System.registerDynamic("47", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toString = {}.toString;
  module.exports = function(it) {
    return toString.call(it).slice(8, -1);
  };
  return module.exports;
});

$__System.registerDynamic("9d", ["47", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var cof = $__require('47');
  module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it) {
    return cof(it) == 'String' ? it.split('') : Object(it);
  };
  return module.exports;
});

$__System.registerDynamic("6", ["9d", "7d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var IObject = $__require('9d'),
      defined = $__require('7d');
  module.exports = function(it) {
    return IObject(defined(it));
  };
  return module.exports;
});

$__System.registerDynamic("71", ["4b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toInteger = $__require('4b'),
      min = Math.min;
  module.exports = function(it) {
    return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0;
  };
  return module.exports;
});

$__System.registerDynamic("4b", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var ceil = Math.ceil,
      floor = Math.floor;
  module.exports = function(it) {
    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
  };
  return module.exports;
});

$__System.registerDynamic("6f", ["4b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toInteger = $__require('4b'),
      max = Math.max,
      min = Math.min;
  module.exports = function(index, length) {
    index = toInteger(index);
    return index < 0 ? max(index + length, 0) : min(index, length);
  };
  return module.exports;
});

$__System.registerDynamic("ad", ["6", "71", "6f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var toIObject = $__require('6'),
      toLength = $__require('71'),
      toIndex = $__require('6f');
  module.exports = function(IS_INCLUDES) {
    return function($this, el, fromIndex) {
      var O = toIObject($this),
          length = toLength(O.length),
          index = toIndex(fromIndex, length),
          value;
      if (IS_INCLUDES && el != el)
        while (length > index) {
          value = O[index++];
          if (value != value)
            return true;
        }
      else
        for (; length > index; index++)
          if (IS_INCLUDES || index in O) {
            if (O[index] === el)
              return IS_INCLUDES || index || 0;
          }
      return !IS_INCLUDES && -1;
    };
  };
  return module.exports;
});

$__System.registerDynamic("f6", ["c", "6", "ad", "124", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var has = $__require('c'),
      toIObject = $__require('6'),
      arrayIndexOf = $__require('ad')(false),
      IE_PROTO = $__require('124')('IE_PROTO');
  module.exports = function(object, names) {
    var O = toIObject(object),
        i = 0,
        result = [],
        key;
    for (key in O)
      if (key != IE_PROTO)
        has(O, key) && result.push(key);
    while (names.length > i)
      if (has(O, key = names[i++])) {
        ~arrayIndexOf(result, key) || result.push(key);
      }
    return result;
  };
  return module.exports;
});

$__System.registerDynamic("5", ["f6", "f7", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $keys = $__require('f6'),
      enumBugKeys = $__require('f7');
  module.exports = Object.keys || function keys(O) {
    return $keys(O, enumBugKeys);
  };
  return module.exports;
});

$__System.registerDynamic("26", ["1f", "19", "5", "d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var dP = $__require('1f'),
      anObject = $__require('19'),
      getKeys = $__require('5');
  module.exports = $__require('d') ? Object.defineProperties : function defineProperties(O, Properties) {
    anObject(O);
    var keys = getKeys(Properties),
        length = keys.length,
        i = 0,
        P;
    while (length > i)
      dP.f(O, P = keys[i++], Properties[P]);
    return O;
  };
  return module.exports;
});

$__System.registerDynamic("f7", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = ('constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf').split(',');
  return module.exports;
});

$__System.registerDynamic("a0", ["b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = $__require('b').document && document.documentElement;
  return module.exports;
});

$__System.registerDynamic("1c", ["19", "26", "f7", "124", "122", "a0", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var anObject = $__require('19'),
      dPs = $__require('26'),
      enumBugKeys = $__require('f7'),
      IE_PROTO = $__require('124')('IE_PROTO'),
      Empty = function() {},
      PROTOTYPE = 'prototype';
  var createDict = function() {
    var iframe = $__require('122')('iframe'),
        i = enumBugKeys.length,
        lt = '<',
        gt = '>',
        iframeDocument;
    iframe.style.display = 'none';
    $__require('a0').appendChild(iframe);
    iframe.src = 'javascript:';
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
    iframeDocument.close();
    createDict = iframeDocument.F;
    while (i--)
      delete createDict[PROTOTYPE][enumBugKeys[i]];
    return createDict();
  };
  module.exports = Object.create || function create(O, Properties) {
    var result;
    if (O !== null) {
      Empty[PROTOTYPE] = anObject(O);
      result = new Empty;
      Empty[PROTOTYPE] = null;
      result[IE_PROTO] = O;
    } else
      result = createDict();
    return Properties === undefined ? result : dPs(result, Properties);
  };
  return module.exports;
});

$__System.registerDynamic("e1", ["1c", "1b", "13", "22", "15", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var create = $__require('1c'),
      descriptor = $__require('1b'),
      setToStringTag = $__require('13'),
      IteratorPrototype = {};
  $__require('22')(IteratorPrototype, $__require('15')('iterator'), function() {
    return this;
  });
  module.exports = function(Constructor, NAME, next) {
    Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});
    setToStringTag(Constructor, NAME + ' Iterator');
  };
  return module.exports;
});

$__System.registerDynamic("13", ["1f", "c", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var def = $__require('1f').f,
      has = $__require('c'),
      TAG = $__require('15')('toStringTag');
  module.exports = function(it, tag, stat) {
    if (it && !has(it = stat ? it : it.prototype, TAG))
      def(it, TAG, {
        configurable: true,
        value: tag
      });
  };
  return module.exports;
});

$__System.registerDynamic("7d", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(it) {
    if (it == undefined)
      throw TypeError("Can't call method on  " + it);
    return it;
  };
  return module.exports;
});

$__System.registerDynamic("2a", ["7d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var defined = $__require('7d');
  module.exports = function(it) {
    return Object(defined(it));
  };
  return module.exports;
});

$__System.registerDynamic("124", ["12", "14", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var shared = $__require('12')('keys'),
      uid = $__require('14');
  module.exports = function(key) {
    return shared[key] || (shared[key] = uid(key));
  };
  return module.exports;
});

$__System.registerDynamic("2b", ["c", "2a", "124", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var has = $__require('c'),
      toObject = $__require('2a'),
      IE_PROTO = $__require('124')('IE_PROTO'),
      ObjectProto = Object.prototype;
  module.exports = Object.getPrototypeOf || function(O) {
    O = toObject(O);
    if (has(O, IE_PROTO))
      return O[IE_PROTO];
    if (typeof O.constructor == 'function' && O instanceof O.constructor) {
      return O.constructor.prototype;
    }
    return O instanceof Object ? ObjectProto : null;
  };
  return module.exports;
});

$__System.registerDynamic("75", ["21", "e", "f", "22", "c", "d9", "e1", "13", "2b", "15", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var LIBRARY = $__require('21'),
      $export = $__require('e'),
      redefine = $__require('f'),
      hide = $__require('22'),
      has = $__require('c'),
      Iterators = $__require('d9'),
      $iterCreate = $__require('e1'),
      setToStringTag = $__require('13'),
      getPrototypeOf = $__require('2b'),
      ITERATOR = $__require('15')('iterator'),
      BUGGY = !([].keys && 'next' in [].keys()),
      FF_ITERATOR = '@@iterator',
      KEYS = 'keys',
      VALUES = 'values';
  var returnThis = function() {
    return this;
  };
  module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
    $iterCreate(Constructor, NAME, next);
    var getMethod = function(kind) {
      if (!BUGGY && kind in proto)
        return proto[kind];
      switch (kind) {
        case KEYS:
          return function keys() {
            return new Constructor(this, kind);
          };
        case VALUES:
          return function values() {
            return new Constructor(this, kind);
          };
      }
      return function entries() {
        return new Constructor(this, kind);
      };
    };
    var TAG = NAME + ' Iterator',
        DEF_VALUES = DEFAULT == VALUES,
        VALUES_BUG = false,
        proto = Base.prototype,
        $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT],
        $default = $native || getMethod(DEFAULT),
        $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined,
        $anyNative = NAME == 'Array' ? proto.entries || $native : $native,
        methods,
        key,
        IteratorPrototype;
    if ($anyNative) {
      IteratorPrototype = getPrototypeOf($anyNative.call(new Base));
      if (IteratorPrototype !== Object.prototype) {
        setToStringTag(IteratorPrototype, TAG, true);
        if (!LIBRARY && !has(IteratorPrototype, ITERATOR))
          hide(IteratorPrototype, ITERATOR, returnThis);
      }
    }
    if (DEF_VALUES && $native && $native.name !== VALUES) {
      VALUES_BUG = true;
      $default = function values() {
        return $native.call(this);
      };
    }
    if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
      hide(proto, ITERATOR, $default);
    }
    Iterators[NAME] = $default;
    Iterators[TAG] = returnThis;
    if (DEFAULT) {
      methods = {
        values: DEF_VALUES ? $default : getMethod(VALUES),
        keys: IS_SET ? $default : getMethod(KEYS),
        entries: $entries
      };
      if (FORCED)
        for (key in methods) {
          if (!(key in proto))
            redefine(proto, key, methods[key]);
        }
      else
        $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
    }
    return methods;
  };
  return module.exports;
});

$__System.registerDynamic("d8", ["b1", "116", "d9", "6", "75", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var addToUnscopables = $__require('b1'),
      step = $__require('116'),
      Iterators = $__require('d9'),
      toIObject = $__require('6');
  module.exports = $__require('75')(Array, 'Array', function(iterated, kind) {
    this._t = toIObject(iterated);
    this._i = 0;
    this._k = kind;
  }, function() {
    var O = this._t,
        kind = this._k,
        index = this._i++;
    if (!O || index >= O.length) {
      this._t = undefined;
      return step(1);
    }
    if (kind == 'keys')
      return step(0, index);
    if (kind == 'values')
      return step(0, O[index]);
    return step(0, [index, O[index]]);
  }, 'values');
  Iterators.Arguments = Iterators.Array;
  addToUnscopables('keys');
  addToUnscopables('values');
  addToUnscopables('entries');
  return module.exports;
});

$__System.registerDynamic("c", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var hasOwnProperty = {}.hasOwnProperty;
  module.exports = function(it, key) {
    return hasOwnProperty.call(it, key);
  };
  return module.exports;
});

$__System.registerDynamic("f", ["b", "22", "c", "14", "34", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      hide = $__require('22'),
      has = $__require('c'),
      SRC = $__require('14')('src'),
      TO_STRING = 'toString',
      $toString = Function[TO_STRING],
      TPL = ('' + $toString).split(TO_STRING);
  $__require('34').inspectSource = function(it) {
    return $toString.call(it);
  };
  (module.exports = function(O, key, val, safe) {
    var isFunction = typeof val == 'function';
    if (isFunction)
      has(val, 'name') || hide(val, 'name', key);
    if (O[key] === val)
      return;
    if (isFunction)
      has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if (O === global) {
      O[key] = val;
    } else {
      if (!safe) {
        delete O[key];
        hide(O, key, val);
      } else {
        if (O[key])
          O[key] = val;
        else
          hide(O, key, val);
      }
    }
  })(Function.prototype, TO_STRING, function toString() {
    return typeof this == 'function' && this[SRC] || $toString.call(this);
  });
  return module.exports;
});

$__System.registerDynamic("19", ["2f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f');
  module.exports = function(it) {
    if (!isObject(it))
      throw TypeError(it + ' is not an object!');
    return it;
  };
  return module.exports;
});

$__System.registerDynamic("122", ["2f", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f'),
      document = $__require('b').document,
      is = isObject(document) && isObject(document.createElement);
  module.exports = function(it) {
    return is ? document.createElement(it) : {};
  };
  return module.exports;
});

$__System.registerDynamic("11a", ["d", "11", "122", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = !$__require('d') && !$__require('11')(function() {
    return Object.defineProperty($__require('122')('div'), 'a', {get: function() {
        return 7;
      }}).a != 7;
  });
  return module.exports;
});

$__System.registerDynamic("2f", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(it) {
    return typeof it === 'object' ? it !== null : typeof it === 'function';
  };
  return module.exports;
});

$__System.registerDynamic("1a", ["2f", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var isObject = $__require('2f');
  module.exports = function(it, S) {
    if (!isObject(it))
      return it;
    var fn,
        val;
    if (S && typeof(fn = it.toString) == 'function' && !isObject(val = fn.call(it)))
      return val;
    if (typeof(fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))
      return val;
    if (!S && typeof(fn = it.toString) == 'function' && !isObject(val = fn.call(it)))
      return val;
    throw TypeError("Can't convert object to primitive value");
  };
  return module.exports;
});

$__System.registerDynamic("1f", ["19", "11a", "1a", "d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var anObject = $__require('19'),
      IE8_DOM_DEFINE = $__require('11a'),
      toPrimitive = $__require('1a'),
      dP = Object.defineProperty;
  exports.f = $__require('d') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
    anObject(O);
    P = toPrimitive(P, true);
    anObject(Attributes);
    if (IE8_DOM_DEFINE)
      try {
        return dP(O, P, Attributes);
      } catch (e) {}
    if ('get' in Attributes || 'set' in Attributes)
      throw TypeError('Accessors not supported!');
    if ('value' in Attributes)
      O[P] = Attributes.value;
    return O;
  };
  return module.exports;
});

$__System.registerDynamic("1b", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };
  return module.exports;
});

$__System.registerDynamic("11", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function(exec) {
    try {
      return !!exec();
    } catch (e) {
      return true;
    }
  };
  return module.exports;
});

$__System.registerDynamic("d", ["11", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = !$__require('11')(function() {
    return Object.defineProperty({}, 'a', {get: function() {
        return 7;
      }}).a != 7;
  });
  return module.exports;
});

$__System.registerDynamic("22", ["1f", "1b", "d", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var dP = $__require('1f'),
      createDesc = $__require('1b');
  module.exports = $__require('d') ? function(object, key, value) {
    return dP.f(object, key, createDesc(1, value));
  } : function(object, key, value) {
    object[key] = value;
    return object;
  };
  return module.exports;
});

$__System.registerDynamic("d9", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = {};
  return module.exports;
});

$__System.registerDynamic("12", ["b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = $__require('b'),
      SHARED = '__core-js_shared__',
      store = global[SHARED] || (global[SHARED] = {});
  module.exports = function(key) {
    return store[key] || (store[key] = {});
  };
  return module.exports;
});

$__System.registerDynamic("14", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var id = 0,
      px = Math.random();
  module.exports = function(key) {
    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
  };
  return module.exports;
});

$__System.registerDynamic("b", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
  if (typeof __g == 'number')
    __g = global;
  return module.exports;
});

$__System.registerDynamic("15", ["12", "14", "b", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var store = $__require('12')('wks'),
      uid = $__require('14'),
      Symbol = $__require('b').Symbol,
      USE_SYMBOL = typeof Symbol == 'function';
  var $exports = module.exports = function(name) {
    return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
  };
  $exports.store = store;
  return module.exports;
});

$__System.registerDynamic("125", ["d8", "f", "b", "22", "d9", "15", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var $iterators = $__require('d8'),
      redefine = $__require('f'),
      global = $__require('b'),
      hide = $__require('22'),
      Iterators = $__require('d9'),
      wks = $__require('15'),
      ITERATOR = wks('iterator'),
      TO_STRING_TAG = wks('toStringTag'),
      ArrayValues = Iterators.Array;
  for (var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'],
      i = 0; i < 5; i++) {
    var NAME = collections[i],
        Collection = global[NAME],
        proto = Collection && Collection.prototype,
        key;
    if (proto) {
      if (!proto[ITERATOR])
        hide(proto, ITERATOR, ArrayValues);
      if (!proto[TO_STRING_TAG])
        hide(proto, TO_STRING_TAG, NAME);
      Iterators[NAME] = ArrayValues;
      for (key in $iterators)
        if (!proto[key])
          redefine(proto, key, $iterators[key], true);
    }
  }
  return module.exports;
});

$__System.registerDynamic("34", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  var core = module.exports = {version: '2.4.0'};
  if (typeof __e == 'number')
    __e = core;
  return module.exports;
});

$__System.registerDynamic("126", ["a", "23", "24", "25", "27", "29", "2c", "2d", "2e", "30", "31", "32", "33", "35", "36", "38", "3a", "3c", "3e", "40", "41", "42", "44", "46", "4a", "4e", "4f", "50", "51", "53", "54", "55", "56", "58", "59", "5a", "5c", "5d", "5e", "60", "61", "62", "64", "65", "66", "67", "68", "69", "6a", "6b", "6c", "6d", "6e", "70", "72", "73", "76", "77", "7a", "7b", "7e", "7f", "81", "82", "83", "84", "85", "86", "87", "88", "89", "8a", "8b", "8c", "8d", "8e", "8f", "90", "92", "93", "94", "9b", "9c", "9f", "a1", "a3", "a5", "a6", "a7", "a8", "a9", "ab", "ac", "ae", "af", "b2", "b4", "b5", "b6", "d8", "b8", "ba", "bb", "bc", "be", "bf", "c0", "c1", "117", "10f", "11b", "c8", "cb", "ce", "cf", "d1", "d2", "d3", "d4", "d5", "d6", "d7", "da", "db", "dd", "de", "df", "e0", "e2", "e3", "e4", "e5", "e6", "e7", "e9", "ea", "eb", "ec", "ed", "ee", "f0", "f1", "f2", "f3", "f4", "f5", "f8", "f9", "fb", "fc", "fe", "ff", "100", "101", "104", "105", "106", "107", "108", "109", "10a", "10b", "10d", "10e", "111", "112", "113", "114", "115", "11c", "11d", "11e", "121", "123", "125", "34", "3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  $__require('a');
  $__require('23');
  $__require('24');
  $__require('25');
  $__require('27');
  $__require('29');
  $__require('2c');
  $__require('2d');
  $__require('2e');
  $__require('30');
  $__require('31');
  $__require('32');
  $__require('33');
  $__require('35');
  $__require('36');
  $__require('38');
  $__require('3a');
  $__require('3c');
  $__require('3e');
  $__require('40');
  $__require('41');
  $__require('42');
  $__require('44');
  $__require('46');
  $__require('4a');
  $__require('4e');
  $__require('4f');
  $__require('50');
  $__require('51');
  $__require('53');
  $__require('54');
  $__require('55');
  $__require('56');
  $__require('58');
  $__require('59');
  $__require('5a');
  $__require('5c');
  $__require('5d');
  $__require('5e');
  $__require('60');
  $__require('61');
  $__require('62');
  $__require('64');
  $__require('65');
  $__require('66');
  $__require('67');
  $__require('68');
  $__require('69');
  $__require('6a');
  $__require('6b');
  $__require('6c');
  $__require('6d');
  $__require('6e');
  $__require('70');
  $__require('72');
  $__require('73');
  $__require('76');
  $__require('77');
  $__require('7a');
  $__require('7b');
  $__require('7e');
  $__require('7f');
  $__require('81');
  $__require('82');
  $__require('83');
  $__require('84');
  $__require('85');
  $__require('86');
  $__require('87');
  $__require('88');
  $__require('89');
  $__require('8a');
  $__require('8b');
  $__require('8c');
  $__require('8d');
  $__require('8e');
  $__require('8f');
  $__require('90');
  $__require('92');
  $__require('93');
  $__require('94');
  $__require('9b');
  $__require('9c');
  $__require('9f');
  $__require('a1');
  $__require('a3');
  $__require('a5');
  $__require('a6');
  $__require('a7');
  $__require('a8');
  $__require('a9');
  $__require('ab');
  $__require('ac');
  $__require('ae');
  $__require('af');
  $__require('b2');
  $__require('b4');
  $__require('b5');
  $__require('b6');
  $__require('d8');
  $__require('b8');
  $__require('ba');
  $__require('bb');
  $__require('bc');
  $__require('be');
  $__require('bf');
  $__require('c0');
  $__require('c1');
  $__require('117');
  $__require('10f');
  $__require('11b');
  $__require('c8');
  $__require('cb');
  $__require('ce');
  $__require('cf');
  $__require('d1');
  $__require('d2');
  $__require('d3');
  $__require('d4');
  $__require('d5');
  $__require('d6');
  $__require('d7');
  $__require('da');
  $__require('db');
  $__require('dd');
  $__require('de');
  $__require('df');
  $__require('e0');
  $__require('e2');
  $__require('e3');
  $__require('e4');
  $__require('e5');
  $__require('e6');
  $__require('e7');
  $__require('e9');
  $__require('ea');
  $__require('eb');
  $__require('ec');
  $__require('ed');
  $__require('ee');
  $__require('f0');
  $__require('f1');
  $__require('f2');
  $__require('f3');
  $__require('f4');
  $__require('f5');
  $__require('f8');
  $__require('f9');
  $__require('fb');
  $__require('fc');
  $__require('fe');
  $__require('ff');
  $__require('100');
  $__require('101');
  $__require('104');
  $__require('105');
  $__require('106');
  $__require('107');
  $__require('108');
  $__require('109');
  $__require('10a');
  $__require('10b');
  $__require('10d');
  $__require('10e');
  $__require('111');
  $__require('112');
  $__require('113');
  $__require('114');
  $__require('115');
  $__require('11c');
  $__require('11d');
  $__require('11e');
  $__require('121');
  $__require('123');
  $__require('125');
  module.exports = $__require('34');
  return module.exports;
});

(function() {
var define = $__System.amdDefine;
(function(f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define("127", [], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.ClientIO = f();
  }
})(function() {
  var define,
      module,
      exports;
  return (function e(t, n, r) {
    function s(o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = typeof require == "function" && require;
          if (!u && a)
            return a(o, !0);
          if (i)
            return i(o, !0);
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f;
        }
        var l = n[o] = {exports: {}};
        t[o][0].call(l.exports, function(e) {
          var n = t[o][1][e];
          return s(n ? n : e);
        }, l, l.exports, e, t, n, r);
      }
      return n[o].exports;
    }
    var i = typeof require == "function" && require;
    for (var o = 0; o < r.length; o++)
      s(r[o]);
    return s;
  })({
    1: [function(require, module, exports) {
      'option strict';
      var Enum = require('../lib/client/web/browser/enum'),
          Config = {
            mode: Enum.Mode.PROD,
            Packet: {bufferSize: 136 * 1024},
            Socket: {
              protocol: Enum.ServerProtocol.HTTP,
              device: Enum.Socket.Device.WEB_SOCKET,
              host: 'localhost',
              port: 8098,
              maxConnectAttempts: 100,
              connectTimeoutSecs: 10,
              reconnectWaitSecs: 1,
              requestTimeoutSecs: 15,
              blobTimeoutSecs: 60 * 60
            },
            Pipe: {
              maxListeners: 2 * 1024,
              HeartBeat: {
                intervalSecs: 30,
                timeoutSecs: 0
              },
              ChunkHandler: {
                maxSize: 100 * 1024 * 1024,
                chunkSize: 128 * 1024,
                timeoutSecs: 60,
                retrySecs: 1
              }
            },
            DataProtocol: {
              protocol: Enum.DataProtocol.CURVE_ZMQ,
              CurveZMQ: {
                bufferSize: 136 * 1024,
                serverPublicKey: '5Jz3NhPHKUYP2JfU2n+xsT8Q5xC57yhhWa2Mdprva0A=',
                publicKey: 'r4dHh2mSrijGSOK76k1DssBNcrjyGrV4LA9abowFTAk=',
                secretKey: 'Uih8sq+XRSbQO4ySOs0a0WovV8YDdw28efPf+NPt9M4='
              }
            },
            MetaData: {
              idToken: null,
              sessionToken: null
            }
          };
      Config.Pipe.HeartBeat.timeoutSecs = Config.Pipe.HeartBeat.intervalSecs * 2 + 1;
      module.exports = Config;
    }, {"../lib/client/web/browser/enum": 12}],
    2: [function(require, module, exports) {
      'option strict';
      var ClientIO = require('./index'),
          Enum = require('../../../common/enum');
      var Enum = {
        Mode: Enum.Mode,
        ServerProtocol: Enum.ServerProtocol,
        DataProtocol: Enum.DataProtocol,
        Device: {
          WS: 'WS',
          WEB_SOCKET: 'WEB_SOCKET',
          HTTP_LONG_POLL: 'HTTP_LONG_POLL'
        },
        Status: Enum.Pipe.Status,
        ResponseCode: Enum.Pipe.ResponseCode,
        Event: Enum.Pipe.Event
      };
      function API(config) {
        var components = {
          PacketHelper: require('./data/packet-helper'),
          Socket: require('./socket'),
          ProtocolAdaptor: require('./protocol-adaptor'),
          ClientRequest: require('./data/client-request'),
          ClientResponse: require('./data/client-response'),
          DataPacket: require('./data/data-packet')
        };
        return new ClientIO(config, Enum, components, true);
      }
      ;
      module.exports = API;
      module.exports.Enum = Enum;
    }, {
      "../../../common/enum": 31,
      "./data/client-request": 5,
      "./data/client-response": 6,
      "./data/data-packet": 8,
      "./data/packet-helper": 11,
      "./index": 14,
      "./protocol-adaptor": 18,
      "./socket": 21
    }],
    3: [function(require, module, exports) {
      'option strict';
      var nacl = require('tweetnacl'),
          utf8 = nacl.util,
          Enum = require('../enum').Blob,
          DataObject = require('./data-object');
      module.exports = Blob;
      function Blob() {}
      Blob.metadataLength = function(dataObjectCount) {
        return Enum.Offset.PACKET_LENGTH + Enum.Offset.DATA_OBJECT_METADATA * dataObjectCount;
      };
      Blob.toBlob = function(value) {
        var blobObject = DataObject.fromValue(value),
            blob = new Blob().startWrite(Blob.metadataLength(1) + blobObject.length());
        return blob.writeNext(blobObject).endWrite();
      };
      Blob.prototype.startRead = function(data) {
        if (!(data instanceof Uint8Array)) {
          throw ('Backing buffer needs to be type Uint8Array got ' + DataObject.typeKey(data));
        }
        this.readBuffer = data;
        this.dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);
        this.offset = 0;
        var packetLength = this.dataView.getUint32(this.offset);
        this.offset += Enum.Offset.PACKET_LENGTH;
        if (this.readBuffer.length !== packetLength) {
          throw ('Incomplete buffer:' + this.readBuffer.length + ', packet:' + packetLength);
        }
        return this;
      };
      Blob.prototype.readNext = function(readValue) {
        var dataObject = new DataObject(this.dataView.getInt8(this.offset++));
        if (dataObject.type !== Enum.ObjectType.UNKNOWN) {
          var length = this.readLength(dataObject);
          if (readValue) {
            switch (dataObject.type) {
              case Enum.ObjectType.ARRAY:
              case Enum.ObjectType.ARRAY_BUFFER:
              case Enum.ObjectType.UINT8ARRAY:
              case Enum.ObjectType.BUFFER:
                dataObject._value = this.readBuffer.subarray(this.offset, this.offset + length);
                break;
              case Enum.ObjectType.BYTE:
                dataObject._value = this.dataView.getInt8(this.offset);
                break;
              case Enum.ObjectType.SHORT_INTEGER:
                dataObject._value = this.dataView.getUint16(this.offset);
                break;
              case Enum.ObjectType.INTEGER:
                dataObject._value = this.dataView.getUint32(this.offset);
                break;
              case Enum.ObjectType.STRING:
                dataObject._value = DataObject.readString(this.readBuffer, this.offset, length);
                break;
              case Enum.ObjectType.JSON:
                dataObject._value = JSON.parse(DataObject.readString(this.readBuffer, this.offset, length));
                break;
            }
          } else {
            dataObject._buffer = this.readBuffer.subarray(this.offset, this.offset + length);
          }
          this.offset += length;
        }
        return dataObject;
      };
      Blob.prototype.readLength = function(dataObject) {
        var length = 0;
        switch (dataObject.type) {
          case Enum.ObjectType.BYTE:
            length = 1;
            break;
          case Enum.ObjectType.SHORT_INTEGER:
            length = 2;
            break;
          case Enum.ObjectType.INTEGER:
            length = 4;
            break;
          case Enum.ObjectType.ARRAY:
          case Enum.ObjectType.ARRAY_BUFFER:
          case Enum.ObjectType.UINT8ARRAY:
          case Enum.ObjectType.BUFFER:
          case Enum.ObjectType.STRING:
          case Enum.ObjectType.JSON:
            length = this.dataView.getUint32(this.offset);
            this.offset += 4;
            break;
        }
        return length;
      };
      Blob.prototype.endRead = function() {
        this.readBuffer = null;
      };
      Blob.prototype.startWrite = function(bufferSize) {
        bufferSize = bufferSize || 72 * 1024;
        if (!this.writeBuffer || this.writeBuffer.length !== bufferSize) {
          var data = new Uint8Array(bufferSize);
          this.writeBuffer = data;
        }
        this.dataView = new DataView(this.writeBuffer.buffer);
        this.offset = Enum.Offset.PACKET_LENGTH;
        return this;
      };
      Blob.prototype.writeNext = function(dataObject) {
        var length = 0;
        this.dataView.setInt8(this.offset++, dataObject.type);
        if (dataObject.type !== Enum.ObjectType.UNKNOWN) {
          length = dataObject.length();
          this.writeLength(dataObject, length);
          if (dataObject._buffer) {
            this.writeBuffer.set(dataObject._buffer, this.offset);
          } else {
            switch (dataObject.type) {
              case Enum.ObjectType.ARRAY:
              case Enum.ObjectType.ARRAY_BUFFER:
              case Enum.ObjectType.UINT8ARRAY:
              case Enum.ObjectType.BUFFER:
                this.writeBuffer.set(dataObject._value, this.offset);
                break;
              case Enum.ObjectType.BYTE:
                this.dataView.setInt8(this.offset, dataObject._value);
                break;
              case Enum.ObjectType.SHORT_INTEGER:
                this.dataView.setUint16(this.offset, dataObject._value);
                break;
              case Enum.ObjectType.INTEGER:
                this.dataView.setUint32(this.offset, dataObject._value);
                break;
              case Enum.ObjectType.STRING:
              case Enum.ObjectType.JSON:
                this.writeBuffer.set(dataObject.stringValue(), this.offset);
                break;
            }
          }
          this.offset += length;
        }
        return this;
      };
      Blob.prototype.writeLength = function(dataObject, length) {
        switch (dataObject.type) {
          case Enum.ObjectType.ARRAY:
          case Enum.ObjectType.ARRAY_BUFFER:
          case Enum.ObjectType.UINT8ARRAY:
          case Enum.ObjectType.BUFFER:
          case Enum.ObjectType.STRING:
          case Enum.ObjectType.JSON:
            this.dataView.setUint32(this.offset, length);
            this.offset += 4;
            break;
        }
      };
      Blob.prototype.endWrite = function() {
        this.dataView.setUint32(0, this.offset);
        var buffer = this.writeBuffer.subarray(0, this.offset);
        if (buffer.length !== this.offset) {
          throw ('Insufficient buffer:' + buffer.length + ', packet:' + this.offset);
        }
        return buffer;
      };
    }, {
      "../enum": 12,
      "./data-object": 7,
      "tweetnacl": 40
    }],
    4: [function(require, module, exports) {
      var nacl = require('tweetnacl'),
          utf8 = nacl.util;
      function BufferView(buffer) {
        if (!(buffer instanceof Uint8Array)) {
          throw 'Backing buffer needs to be Uint8Array';
        }
        this.buffer = buffer;
        this.dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);
        this.rewind();
      }
      BufferView.prototype.data = function() {
        return this.buffer.slice(0, this.offset + 1);
      };
      BufferView.prototype.reset = function() {
        this.offset = this.mark;
      };
      BufferView.prototype.rewind = function() {
        this.offset = this.mark = 0;
      };
      BufferView.prototype.set = function(offset) {
        this.offset = offset;
      };
      BufferView.prototype.skip = function(s) {
        this.offset += s;
      };
      BufferView.prototype.mark = function() {
        this.mark = offset;
      };
      BufferView.prototype.length = function() {
        return this.buffer.byteLength;
      };
      BufferView.prototype.slice = function(start, end) {
        if (!end) {
          end = this.buffer.byteLength;
        }
        return this.buffer.subarray(start, end);
      };
      BufferView.prototype.readUInt8 = function(offset) {
        if (!offset) {
          var res = this.dataView.getUint8(this.offset, false);
          this.offset += 1;
          return res;
        } else {
          return this.dataView.getUint8(offset, false);
        }
      };
      BufferView.prototype.readInt8 = function(offset) {
        if (!offset) {
          var res = this.dataView.getInt8(this.offset, false);
          this.offset += 1;
          return res;
        } else {
          return this.dataView.getInt8(offset, false);
        }
      };
      BufferView.prototype.readUInt16 = function(offset) {
        if (!offset) {
          var res = this.dataView.getUint16(this.offset, false);
          this.offset += 2;
          return res;
        } else {
          return this.dataView.getUint16(offset, false);
        }
      };
      BufferView.prototype.readUInt32 = function(offset) {
        if (!offset) {
          var res = this.dataView.getUint32(this.offset, false);
          this.offset += 4;
          return res;
        } else {
          return this.dataView.getUint32(offset, false);
        }
      };
      BufferView.prototype.readInt32 = function(offset) {
        if (!offset) {
          var res = this.dataView.getInt32(this.offset, false);
          this.offset += 4;
          return res;
        } else {
          return this.dataView.getInt32(offset, false);
        }
      };
      BufferView.prototype.readSlice = function(length, offset) {
        if (!offset) {
          offset = this.offset;
        }
        var value = this.buffer.subarray(offset, offset + length);
        this.offset += length;
        return value;
      };
      BufferView.prototype.writeUInt8 = function(value, offset) {
        if (!offset) {
          this.dataView.setUint8(this.offset, value);
          this.offset += 1;
        } else {
          this.dataView.setUint8(offset, value);
        }
      };
      BufferView.prototype.writeInt8 = function(value, offset) {
        if (!offset) {
          this.dataView.setInt8(this.offset, value);
          this.offset += 1;
        } else {
          this.dataView.setInt8(offset, value);
        }
      };
      BufferView.prototype.writeUInt16 = function(value, offset) {
        if (!offset) {
          this.dataView.setUint16(this.offset, value, false);
          this.offset += 2;
        } else {
          this.dataView.setUint16(offset, value, false);
        }
      };
      BufferView.prototype.writeUInt32 = function(value, offset) {
        if (!offset) {
          this.dataView.setUint32(this.offset, value, false);
          this.offset += 4;
        } else {
          this.dataView.setUint32(offset, value, false);
        }
      };
      BufferView.prototype.writeInt32 = function(value, offset) {
        if (!offset) {
          this.dataView.setInt32(this.offset, value, false);
          this.offset += 4;
        } else {
          this.dataView.setInt32(offset, value, false);
        }
      };
      BufferView.decodeUTF8 = function(value) {
        return utf8.decodeUTF8(value);
      };
      BufferView.prototype.writeUTF8 = function(value, offset) {
        var a = utf8.decodeUTF8(value);
        var pos = (offset ? offset : this.offset);
        if (pos + a.byteLength > this.buffer.byteLength) {
          throw 'range error';
        }
        for (var i = 0; i < a.byteLength; i++) {
          this.buffer[pos + i] = a[i];
        }
        if (!offset) {
          this.offset += a.byteLength;
        }
        return a.byteLength;
      };
      BufferView.prototype.append = function(buf, offset) {
        if (!buf instanceof Uint8Array) {
          throw 'buffer needs to be Uint8Array';
        }
        var pos = (offset ? offset : this.offset);
        if (pos + buf.byteLength > this.buffer.byteLength) {
          throw 'range error';
        }
        this.buffer.set(buf, pos);
        if (!offset) {
          this.offset += buf.byteLength;
        }
      };
      BufferView.prototype.readUTF8 = function(length, offset) {
        var pos = (offset ? offset : this.offset);
        if (pos + length > this.buffer.byteLength) {
          throw 'range error';
        }
        var sub = this.buffer.subarray(pos, pos + length);
        var res = utf8.encodeUTF8(sub);
        if (!offset) {
          this.offset += length;
        }
        return res;
      };
      BufferView.prototype.fill = function(value, start, end) {
        var use_offset = false;
        if (!start) {
          start = 0;
          end = this.buffer.byteLength;
          use_offset = true;
        }
        for (var i = start; i < end; i++) {
          this.buffer[i] = value;
        }
        if (use_offset) {
          this.offset += (end - start);
        }
      };
      module.exports = BufferView;
    }, {"tweetnacl": 40}],
    5: [function(require, module, exports) {
      'option strict';
      var DataPacket = require('./data-packet'),
          Hops = require('./hops');
      module.exports = ClientRequest;
      ClientRequest.DataObject = DataPacket.DataObject;
      ClientRequest.Blob = DataPacket.Blob;
      function ClientRequest(command, flag, sequenceNo, param, payload, hops, extra) {
        this.command = command;
        this.flag = flag;
        this.sequenceNo = sequenceNo;
        this.param = param;
        this.payload = payload;
        this.hops = hops || Hops.new();
        this.extra = extra;
      }
      ClientRequest.prototype.addHop = function(key) {
        Hops.addItem(this.hops, key);
      };
      ClientRequest.prototype.hopDuration = function(key, subKey) {
        return Hops.duration(this.hops, key, subKey);
      };
      ClientRequest.prototype.toWebSocketBuffer = function() {
        return this.toDataPacket().toWebSocketBuffer();
      };
      ClientRequest.prototype.toDataPacket = function() {
        return new DataPacket(this.command, this.flag, this.sequenceNo, this.param, this.payload, this.hops, this.extra);
      };
      ClientRequest.fromWebSocketBuffer = function(buffer) {
        return ClientRequest.fromDataPacket(DataPacket.fromWebSocketBuffer(buffer));
      };
      ClientRequest.fromDataPacket = function(dataPacket) {
        return new ClientRequest(dataPacket.command(), dataPacket.flag(), dataPacket.sequenceNo(), dataPacket.payload1(), dataPacket.payload2(), dataPacket.hops(), dataPacket.extra());
      };
    }, {
      "./data-packet": 8,
      "./hops": 9
    }],
    6: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum'),
          DataPacket = require('./data-packet'),
          Hops = require('./hops');
      module.exports = ClientResponse;
      function ClientResponse(command, flag, sequenceNo, error, result, payload, hops, extra) {
        this.command = command;
        this.flag = flag;
        this.sequenceNo = sequenceNo;
        this.error = error || null;
        this.result = result || null;
        this.payload = payload || null;
        this.hops = hops || Hops.new();
        this.extra = extra || null;
      }
      ClientResponse.prototype.status = function() {
        return (this.error) ? Enum.Status.ERROR : Enum.Status.SUCCESS;
      };
      ClientResponse.prototype.hopDuration = function(key, subKey1, subKey2) {
        return Hops.duration(this.hops, key, subKey1, subKey2);
      };
      ClientResponse.prototype.hopTotalDuration = function(key, subKey1, subKey2) {
        return Hops.totalDuration(this.hops, key, subKey1, subKey2);
      };
      ClientResponse.prototype.event = function() {
        var event = null;
        switch (this.flag) {
          case Enum.Packet.Client.Flag.FORWARD_RESPONSE:
            event = this.command;
            break;
          default:
            event = this.command + ':' + this.sequenceNo;
            break;
        }
        return event;
      };
      ClientResponse.prototype.toWebSocketBuffer = function() {
        return this.toDataPacket().toWebSocketBuffer();
      };
      ClientResponse.prototype.toDataPacket = function() {
        var data = {
          error: this.error,
          result: this.result
        };
        return new DataPacket(this.command, this.flag, this.sequenceNo, data, this.payload, this.hops, this.extra);
      };
      ClientResponse.fromWebSocketBuffer = function(buffer) {
        return ClientResponse.fromDataPacket(DataPacket.fromWebSocketBuffer(buffer));
      };
      ClientResponse.fromDataPacket = function(dataPacket) {
        var data = dataPacket.payload1() || {};
        return new ClientResponse(dataPacket.command(), dataPacket.flag(), dataPacket.sequenceNo(), data.error, data.result, dataPacket.payload2(), dataPacket.hops(), dataPacket.extra());
      };
    }, {
      "../enum": 12,
      "./data-packet": 8,
      "./hops": 9
    }],
    7: [function(require, module, exports) {
      (function(Buffer) {
        'option strict';
        var nacl = require('tweetnacl'),
            utf8 = nacl.util,
            Enum = require('../enum').Blob;
        module.exports = DataObject;
        function DataObject(type) {
          this.type = type;
          this._value = undefined;
          this._buffer = undefined;
          this._stringValue = undefined;
        }
        DataObject.type = function(value) {
          var type = Enum.ObjectType.UNKNOWN;
          if (!value) {
            type = Enum.ObjectType.UNKNOWN;
          } else if (value instanceof DataObject) {
            type = value.type();
          } else if ((value instanceof Array)) {
            type = Enum.ObjectType.ARRAY;
          } else if ((value instanceof ArrayBuffer)) {
            type = Enum.ObjectType.ARRAY_BUFFER;
          } else if ((value instanceof Uint8Array)) {
            type = Enum.ObjectType.UINT8ARRAY;
          } else if ((value instanceof Buffer)) {
            type = Enum.ObjectType.BUFFER;
          } else if (typeof(value) === 'number') {
            type = Enum.ObjectType.INTEGER;
          } else if (typeof(value) === 'string') {
            type = Enum.ObjectType.STRING;
          } else {
            type = Enum.ObjectType.JSON;
          }
          return type;
        };
        DataObject.typeKey = function(data) {
          var type = DataObject.type(data);
          return Enum.ObjectType.Key[type] || type;
        };
        DataObject.fromValue = function(value, type) {
          if (value instanceof DataObject) {
            return value;
          }
          var dataObject = new DataObject(type || Enum.ObjectType.UNKNOWN);
          if (dataObject.type === Enum.ObjectType.UNKNOWN) {
            dataObject.type = DataObject.type(value);
          }
          switch (dataObject.type) {
            case Enum.ObjectType.ARRAY:
            case Enum.ObjectType.ARRAY_BUFFER:
            case Enum.ObjectType.UINT8ARRAY:
            case Enum.ObjectType.BUFFER:
              dataObject._value = value || new Uint8Array(0);
              break;
            case Enum.ObjectType.BYTE:
              dataObject._value = value || 0;
              break;
            case Enum.ObjectType.SHORT_INTEGER:
              dataObject._value = value || 0;
              break;
            case Enum.ObjectType.INTEGER:
              dataObject._value = value || 0;
              break;
            case Enum.ObjectType.STRING:
              dataObject._value = value || '';
              break;
            case Enum.ObjectType.JSON:
              dataObject._value = value || {};
              break;
          }
          return dataObject;
        };
        DataObject.prototype.hasValue = function() {
          return (this.type !== Enum.ObjectType.UNKNOWN);
        };
        DataObject.prototype.value = function() {
          if (this._buffer) {
            var dataView = new DataView(this._buffer.buffer, this._buffer.byteOffset, this._buffer.byteLength);
            switch (this.type) {
              case Enum.ObjectType.ARRAY:
              case Enum.ObjectType.ARRAY_BUFFER:
              case Enum.ObjectType.UINT8ARRAY:
              case Enum.ObjectType.BUFFER:
                this._value = this._buffer;
                break;
              case Enum.ObjectType.BYTE:
                this._value = dataView.getInt8(0);
                break;
              case Enum.ObjectType.SHORT_INTEGER:
                this._value = dataView.getUint16(0);
                break;
              case Enum.ObjectType.INTEGER:
                this._value = dataView.getUint32(0);
                break;
              case Enum.ObjectType.STRING:
                this._value = DataObject.readString(this._buffer);
                break;
              case Enum.ObjectType.JSON:
                this._value = JSON.parse(DataObject.readString(this._buffer));
                break;
            }
            this._buffer = null;
          }
          return this._value;
        };
        DataObject.prototype.length = function() {
          var length = 0;
          if (this.type !== Enum.ObjectType.UNKNOWN) {
            if (this._buffer) {
              length = this._buffer.length;
            } else {
              var bufferValue = undefined;
              switch (this.type) {
                case Enum.ObjectType.BYTE:
                  length = 1;
                  break;
                case Enum.ObjectType.SHORT_INTEGER:
                  length = 2;
                  break;
                case Enum.ObjectType.INTEGER:
                  length = 4;
                  break;
                case Enum.ObjectType.ARRAY:
                case Enum.ObjectType.ARRAY_BUFFER:
                case Enum.ObjectType.UINT8ARRAY:
                case Enum.ObjectType.BUFFER:
                  length = this._value.length;
                  break;
                case Enum.ObjectType.STRING:
                case Enum.ObjectType.JSON:
                  length = this.stringValue().byteLength;
                  break;
              }
            }
          }
          return length;
        };
        DataObject.prototype.stringValue = function() {
          if (!this._stringValue) {
            switch (this.type) {
              case Enum.ObjectType.STRING:
                this._stringValue = utf8.decodeUTF8(this._value);
                break;
              case Enum.ObjectType.JSON:
                this._stringValue = utf8.decodeUTF8(JSON.stringify(this._value));
                break;
            }
          }
          return this._stringValue;
        };
        DataObject.readString = function(buffer, offset, length) {
          offset = offset || 0;
          length = length || buffer.length;
          return utf8.encodeUTF8(buffer.subarray(offset, offset + length));
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "../enum": 12,
      "buffer": 44,
      "tweetnacl": 40
    }],
    8: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum'),
          Blob = require('./blob'),
          Hops = require('./hops'),
          DataObject = require('./data-object');
      module.exports = DataPacket;
      DataPacket.DataObject = DataObject;
      DataPacket.Blob = Blob;
      function DataPacket(command, flag, sequenceNo, payload1, payload2, hops, extra) {
        this._commandObject = DataObject.fromValue(command || Enum.Internal.Command.Client.INVALID_COMMAND, Enum.Blob.ObjectType.STRING);
        this._flagObject = DataObject.fromValue(flag, Enum.Blob.ObjectType.BYTE);
        this._sequenceNoObject = DataObject.fromValue(sequenceNo, Enum.Blob.ObjectType.INTEGER);
        this._payload1Object = DataObject.fromValue(payload1);
        this._payload2Object = DataObject.fromValue(payload2);
        this._hopsObject = DataObject.fromValue(hops || Hops.new(), Enum.Blob.ObjectType.JSON);
        this._extraObject = DataObject.fromValue(extra);
        this.payloadIsBlob = false;
      }
      DataPacket.prototype.command = function() {
        return this._commandObject.value();
      };
      DataPacket.prototype.flag = function() {
        return this._flagObject.value();
      };
      DataPacket.prototype.sequenceNo = function() {
        return this._sequenceNoObject.value();
      };
      DataPacket.prototype.payload1 = function() {
        return this._payload1Object.value();
      };
      DataPacket.prototype.payload2 = function() {
        return this._payload2Object.value();
      };
      DataPacket.prototype.setPayload2 = function(value, isBlob) {
        this._payload2Object = DataObject.fromValue(value);
        this.payloadIsBlob = isBlob || false;
      };
      DataPacket.prototype.hops = function() {
        return this._hopsObject.value();
      };
      DataPacket.prototype.extra = function() {
        return this._extraObject.value();
      };
      DataPacket.prototype.putExtra = function(key, value) {
        var extraValue = this._extraObject.value() || {};
        extraValue[key] = value;
        this._extraObject = DataObject.fromValue(extraValue);
      };
      DataPacket.prototype.getExtra = function(key) {
        var extraValue = this._extraObject.value() || {},
            value = extraValue[key];
        if (value) {
          delete extraValue[key];
          this._extraObject = DataObject.fromValue(extraValue);
        }
        return value;
      };
      DataPacket.prototype.addHop = function(key) {
        this._hopsObject._value = Hops.addItem(this.hops(), key);
      };
      DataPacket.prototype.hopDuration = function(key) {
        this.hops();
        return Hops.duration(this._hopsObject._value, key);
      };
      DataPacket.prototype.updateHopDuration = function(key) {
        this._hopsObject._value = Hops.updateDuration(this.hops(), key);
      };
      DataPacket.prototype._getBufferSize = function() {
        var length = Blob.metadataLength(6);
        length += this._commandObject.length();
        length += this._flagObject.length();
        length += this._sequenceNoObject.length();
        length += this._payload1Object.length();
        length += this._payload2Object.length();
        length += this._hopsObject.length();
        length += this._extraObject.length();
        return length;
      };
      DataPacket.fromWebSocketBuffer = function(buffer) {
        var blob = new Blob();
        blob.startRead(buffer);
        var commandObject = blob.readNext(true),
            flagObject = blob.readNext(true),
            sequenceNoObject = blob.readNext(true),
            payload1Object = blob.readNext(true),
            payload2Object = blob.readNext(true),
            hopsObject = blob.readNext(true),
            extraObject = blob.readNext(true);
        blob.endRead();
        return new DataPacket(commandObject, flagObject, sequenceNoObject, payload1Object, payload2Object, hopsObject, extraObject);
      };
      DataPacket.prototype.toWebSocketBuffer = function() {
        var blob = new Blob();
        blob.startWrite(this._getBufferSize());
        blob.writeNext(this._commandObject);
        blob.writeNext(this._flagObject);
        blob.writeNext(this._sequenceNoObject);
        blob.writeNext(this._payload1Object);
        blob.writeNext(this._payload2Object);
        blob.writeNext(this._hopsObject);
        blob.writeNext(this._extraObject);
        return blob.endWrite();
      };
    }, {
      "../enum": 12,
      "./blob": 3,
      "./data-object": 7,
      "./hops": 9
    }],
    9: [function(require, module, exports) {
      'option strict';
      function elapsedMillisecs(startTime) {
        return Math.floor(Date.now() - startTime);
      }
      module.exports = Hops;
      function Hops(key) {
        if (key) {
          return {key: Date.now()};
        } else {
          return {};
        }
      }
      ;
      Hops.new = function(key) {
        return new Hops(key);
      };
      Hops.addItem = function(hops, key) {
        hops[key] = Date.now();
        return hops;
      };
      Hops.removeItem = function(hops, key) {
        delete hops[key];
        return hops;
      };
      var computeDuration = function(hops, key) {
        var ms = hops[key];
        if (ms) {
          if (ms > 10000) {
            ms = elapsedMillisecs(ms);
            hops[key] = ms;
          }
          return ms;
        }
        return 0;
      };
      Hops.updateDuration = function(hops, key) {
        computeDuration(hops, key);
        return hops;
      };
      Hops.duration = function(hops, key, subKey1, subKey2) {
        var duration = 0;
        if (subKey1) {
          duration = computeDuration(hops, key) - computeDuration(hops, subKey1);
          if (subKey2) {
            duration = duration - computeDuration(hops, subKey2);
          }
        } else {
          duration = computeDuration(hops, key);
        }
        return duration;
      };
      Hops.totalDuration = function(hops, key, subKey1, subKey2) {
        var duration = 0;
        if (subKey1) {
          duration = computeDuration(hops, key) + computeDuration(hops, subKey1);
          if (subKey2) {
            duration = duration + computeDuration(hops, subKey2);
          }
        } else {
          duration = computeDuration(hops, key);
        }
        return duration;
      };
      Hops.toJson = function(hops) {
        return JSON.stringify(hops);
      };
      Hops.fromJson = function(jsonString) {
        return JSON.parse(jsonString);
      };
    }, {}],
    10: [function(require, module, exports) {
      'option strict';
      var hex_chr = "0123456789abcdef";
      function rhex(num) {
        str = "";
        for (j = 0; j <= 3; j++)
          str += hex_chr.charAt((num >> (j * 8 + 4)) & 0x0F) + hex_chr.charAt((num >> (j * 8)) & 0x0F);
        return str;
      }
      function str2blks_MD5(str) {
        nblk = ((str.length + 8) >> 6) + 1;
        blks = new Array(nblk * 16);
        for (i = 0; i < nblk * 16; i++)
          blks[i] = 0;
        for (i = 0; i < str.length; i++)
          blks[i >> 2] |= str.charCodeAt(i) << ((i % 4) * 8);
        blks[i >> 2] |= 0x80 << ((i % 4) * 8);
        blks[nblk * 16 - 2] = str.length * 8;
        return blks;
      }
      function add(x, y) {
        var lsw = (x & 0xFFFF) + (y & 0xFFFF);
        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
        return (msw << 16) | (lsw & 0xFFFF);
      }
      function rol(num, cnt) {
        return (num << cnt) | (num >>> (32 - cnt));
      }
      function cmn(q, a, b, x, s, t) {
        return add(rol(add(add(a, q), add(x, t)), s), b);
      }
      function ff(a, b, c, d, x, s, t) {
        return cmn((b & c) | ((~b) & d), a, b, x, s, t);
      }
      function gg(a, b, c, d, x, s, t) {
        return cmn((b & d) | (c & (~d)), a, b, x, s, t);
      }
      function hh(a, b, c, d, x, s, t) {
        return cmn(b ^ c ^ d, a, b, x, s, t);
      }
      function ii(a, b, c, d, x, s, t) {
        return cmn(c ^ (b | (~d)), a, b, x, s, t);
      }
      function md5(str) {
        x = str2blks_MD5(str);
        a = 1732584193;
        b = -271733879;
        c = -1732584194;
        d = 271733878;
        for (i = 0; i < x.length; i += 16) {
          olda = a;
          oldb = b;
          oldc = c;
          oldd = d;
          a = ff(a, b, c, d, x[i + 0], 7, -680876936);
          d = ff(d, a, b, c, x[i + 1], 12, -389564586);
          c = ff(c, d, a, b, x[i + 2], 17, 606105819);
          b = ff(b, c, d, a, x[i + 3], 22, -1044525330);
          a = ff(a, b, c, d, x[i + 4], 7, -176418897);
          d = ff(d, a, b, c, x[i + 5], 12, 1200080426);
          c = ff(c, d, a, b, x[i + 6], 17, -1473231341);
          b = ff(b, c, d, a, x[i + 7], 22, -45705983);
          a = ff(a, b, c, d, x[i + 8], 7, 1770035416);
          d = ff(d, a, b, c, x[i + 9], 12, -1958414417);
          c = ff(c, d, a, b, x[i + 10], 17, -42063);
          b = ff(b, c, d, a, x[i + 11], 22, -1990404162);
          a = ff(a, b, c, d, x[i + 12], 7, 1804603682);
          d = ff(d, a, b, c, x[i + 13], 12, -40341101);
          c = ff(c, d, a, b, x[i + 14], 17, -1502002290);
          b = ff(b, c, d, a, x[i + 15], 22, 1236535329);
          a = gg(a, b, c, d, x[i + 1], 5, -165796510);
          d = gg(d, a, b, c, x[i + 6], 9, -1069501632);
          c = gg(c, d, a, b, x[i + 11], 14, 643717713);
          b = gg(b, c, d, a, x[i + 0], 20, -373897302);
          a = gg(a, b, c, d, x[i + 5], 5, -701558691);
          d = gg(d, a, b, c, x[i + 10], 9, 38016083);
          c = gg(c, d, a, b, x[i + 15], 14, -660478335);
          b = gg(b, c, d, a, x[i + 4], 20, -405537848);
          a = gg(a, b, c, d, x[i + 9], 5, 568446438);
          d = gg(d, a, b, c, x[i + 14], 9, -1019803690);
          c = gg(c, d, a, b, x[i + 3], 14, -187363961);
          b = gg(b, c, d, a, x[i + 8], 20, 1163531501);
          a = gg(a, b, c, d, x[i + 13], 5, -1444681467);
          d = gg(d, a, b, c, x[i + 2], 9, -51403784);
          c = gg(c, d, a, b, x[i + 7], 14, 1735328473);
          b = gg(b, c, d, a, x[i + 12], 20, -1926607734);
          a = hh(a, b, c, d, x[i + 5], 4, -378558);
          d = hh(d, a, b, c, x[i + 8], 11, -2022574463);
          c = hh(c, d, a, b, x[i + 11], 16, 1839030562);
          b = hh(b, c, d, a, x[i + 14], 23, -35309556);
          a = hh(a, b, c, d, x[i + 1], 4, -1530992060);
          d = hh(d, a, b, c, x[i + 4], 11, 1272893353);
          c = hh(c, d, a, b, x[i + 7], 16, -155497632);
          b = hh(b, c, d, a, x[i + 10], 23, -1094730640);
          a = hh(a, b, c, d, x[i + 13], 4, 681279174);
          d = hh(d, a, b, c, x[i + 0], 11, -358537222);
          c = hh(c, d, a, b, x[i + 3], 16, -722521979);
          b = hh(b, c, d, a, x[i + 6], 23, 76029189);
          a = hh(a, b, c, d, x[i + 9], 4, -640364487);
          d = hh(d, a, b, c, x[i + 12], 11, -421815835);
          c = hh(c, d, a, b, x[i + 15], 16, 530742520);
          b = hh(b, c, d, a, x[i + 2], 23, -995338651);
          a = ii(a, b, c, d, x[i + 0], 6, -198630844);
          d = ii(d, a, b, c, x[i + 7], 10, 1126891415);
          c = ii(c, d, a, b, x[i + 14], 15, -1416354905);
          b = ii(b, c, d, a, x[i + 5], 21, -57434055);
          a = ii(a, b, c, d, x[i + 12], 6, 1700485571);
          d = ii(d, a, b, c, x[i + 3], 10, -1894986606);
          c = ii(c, d, a, b, x[i + 10], 15, -1051523);
          b = ii(b, c, d, a, x[i + 1], 21, -2054922799);
          a = ii(a, b, c, d, x[i + 8], 6, 1873313359);
          d = ii(d, a, b, c, x[i + 15], 10, -30611744);
          c = ii(c, d, a, b, x[i + 6], 15, -1560198380);
          b = ii(b, c, d, a, x[i + 13], 21, 1309151649);
          a = ii(a, b, c, d, x[i + 4], 6, -145523070);
          d = ii(d, a, b, c, x[i + 11], 10, -1120210379);
          c = ii(c, d, a, b, x[i + 2], 15, 718787259);
          b = ii(b, c, d, a, x[i + 9], 21, -343485551);
          a = add(a, olda);
          b = add(b, oldb);
          c = add(c, oldc);
          d = add(d, oldd);
        }
        return rhex(a) + rhex(b) + rhex(c) + rhex(d);
      }
      module.exports = md5;
    }, {}],
    11: [function(require, module, exports) {
      'option strict';
      var Blob = require('./blob'),
          DataObject = require('./data-object'),
          Enum = require('../enum').Blob;
      module.exports = PacketHelper;
      function PacketHelper(bufferSize) {
        this.bufferSize = bufferSize;
        this.blob = new Blob();
      }
      PacketHelper.prototype.readPipe = function(data) {
        this.blob.startRead(data);
        var result = {
          version: this.blob.readNext(true).value(),
          command: this.blob.readNext(true).value(),
          flag: this.blob.readNext(true).value(),
          seqNo: this.blob.readNext(true).value(),
          extension: this.blob.readNext(true).value(),
          payload: this.blob.readNext(true).value()
        };
        this.blob.endRead();
        return result;
      };
      PacketHelper.prototype.writePipe = function(version, command, flag, seqNo, extension, payload) {
        this.blob.startWrite(this.bufferSize);
        this.blob.writeNext(DataObject.fromValue(version, Enum.ObjectType.BYTE));
        this.blob.writeNext(DataObject.fromValue(command, Enum.ObjectType.SHORT_INTEGER));
        this.blob.writeNext(DataObject.fromValue(flag, Enum.ObjectType.BYTE));
        this.blob.writeNext(DataObject.fromValue(seqNo, Enum.ObjectType.INTEGER));
        this.blob.writeNext(DataObject.fromValue(extension));
        this.blob.writeNext(DataObject.fromValue(payload));
        var buffer = this.blob.endWrite();
        return buffer;
      };
      PacketHelper.prototype.readHttpLongPoll = function(data) {
        this.blob.startRead(data);
        var result = {
          command: this.blob.readNext(true).value(),
          flag: this.blob.readNext(true).value(),
          id: this.blob.readNext(true).value(),
          message: this.blob.readNext(true).value()
        };
        this.blob.endRead();
        return result;
      };
      PacketHelper.prototype.writeHttpLongPoll = function(command, flag, id, message) {
        this.blob.startWrite(this.bufferSize);
        this.blob.writeNext(DataObject.fromValue(command, Enum.ObjectType.SHORT_INTEGER));
        this.blob.writeNext(DataObject.fromValue(flag, Enum.ObjectType.BYTE));
        this.blob.writeNext(DataObject.fromValue(id, Enum.ObjectType.STRING));
        this.blob.writeNext(DataObject.fromValue(message));
        return this.blob.endWrite();
      };
      PacketHelper.prototype.readMetaData = function(data) {
        this.blob.startRead(data);
        var result = {
          idToken: this.blob.readNext(true).value(),
          sessionToken: this.blob.readNext(true).value()
        };
        this.blob.endRead();
        return result;
      };
      PacketHelper.prototype.writeMetaData = function(idToken, sessionToken) {
        this.blob.startWrite(this.bufferSize);
        this.blob.writeNext(DataObject.fromValue(idToken, Enum.ObjectType.STRING));
        this.blob.writeNext(DataObject.fromValue(sessionToken, Enum.ObjectType.STRING));
        return this.blob.endWrite();
      };
    }, {
      "../enum": 12,
      "./blob": 3,
      "./data-object": 7
    }],
    12: [function(require, module, exports) {
      'option strict';
      var Enum = require('../../../common/enum');
      module.exports = {
        Mode: Enum.Mode,
        Status: Enum.Status,
        ServerProtocol: Enum.ServerProtocol,
        DataProtocol: Enum.DataProtocol,
        Socket: {
          Device: {
            WS: 'WS',
            WEB_SOCKET: 'WEB_SOCKET',
            HTTP_LONG_POLL: 'HTTP_LONG_POLL'
          },
          KEEP_ALIVE: true,
          HTTPLongPoll: Enum.Socket.HTTPLongPoll
        },
        CurveZMQ: Enum.CurveZMQ,
        Pipe: Enum.Pipe,
        Packet: Enum.Packet,
        Blob: Enum.Blob,
        ResponseCode: Enum.Pipe.ResponseCode,
        Event: Enum.Pipe.Event,
        ChunkHandler: Enum.ChunkHandler
      };
    }, {"../../../common/enum": 31}],
    13: [function(require, module, exports) {
      'option strict';
      module.exports = Error;
      function Error(code, message) {
        this.code = code || '*unknown*';
        this.message = message || '*unknown*';
      }
      Error.new = function(data) {
        try {
          var message = data.message.replace(/{(\d+)}/g, function(match, number) {
            return (typeof data.param[number] != 'undefined') ? data.param[number] : match;
          });
          return new Error(data.code, message);
        } catch (error) {
          return new Error();
        }
      };
    }, {}],
    14: [function(require, module, exports) {
      'option strict';
      var Enum = require('./enum'),
          defaultConfig = require('../../../../config/client'),
          Error = require('./error'),
          md5 = require('./data/md5'),
          Pipe = require('./pipe');
      module.exports = IOClient;
      function IOClient(config, IOEnum, Components, webAPI) {
        this.config = JSON.parse(JSON.stringify(defaultConfig));
        this.Enum = IOEnum;
        this.Components = Components;
        this.webAPI = webAPI;
        try {
          if (window.location.hostname)
            this.config.Socket.host = window.location.hostname;
          if (window.location.port)
            this.config.Socket.port = window.location.port;
        } catch (error) {}
        if (config) {
          if (config.mode)
            this.config.mode = config.mode;
          if (config.serverProtocol)
            this.config.Socket.protocol = config.serverProtocol;
          if (config.dataProtocol)
            this.config.DataProtocol.protocol = config.dataProtocol;
          if (config.device)
            this.config.Socket.device = config.device;
          if (config.host)
            this.config.Socket.host = config.host;
          if (config.port)
            this.config.Socket.port = config.port;
          if (config.maxConnectAttempts)
            this.config.Socket.maxConnectAttempts = config.maxConnectAttempts;
          if (config.requestTimeoutSecs)
            this.config.Socket.requestTimeoutSecs = config.requestTimeoutSecs;
          if (config.blobTimeoutSecs)
            this.config.Socket.blobTimeoutSecs = config.blobTimeoutSecs;
          if (config.serverPublicKey)
            this.config.DataProtocol.CurveZMQ.serverPublicKey = config.serverPublicKey;
          if (config.clientPublicKey)
            this.config.DataProtocol.CurveZMQ.publicKey = config.clientPublicKey;
          if (config.clientSecretKey)
            this.config.DataProtocol.CurveZMQ.secretKey = config.clientSecretKey;
          if (config.sessionToken)
            this.config.MetaData.sessionToken = config.sessionToken;
          if (config.idToken)
            this.config.MetaData.idToken = config.idToken;
        }
        this.sequenceNo = 0;
        this.callbackMap = {};
      }
      IOClient.prototype.start = function(callback) {
        var self = this;
        this.statusCallback = callback;
        this.socket = new this.Components.Socket(this.config.Socket, this.webAPI);
        this.protocolAdaptor = this.Components.ProtocolAdaptor.newAdaptor(this.config.DataProtocol, this.config.MetaData);
        this.config.Pipe.mode = this.config.mode;
        this.pipe = new Pipe(this.config.Pipe, {
          PacketHelper: this.Components.PacketHelper,
          DataPacket: this.Components.DataPacket,
          ClientRequest: this.Components.ClientRequest,
          ClientResponse: this.Components.ClientResponse
        }, this.webAPI);
        if (this.Components.log) {
          this.log = this.Components.log;
        } else {
          var Log = require('./log');
          this.log = new Log(this.config);
          this.log.start(this.pipe);
        }
        var listeners = {
          Socket: {
            open: this.protocolAdaptor.open.bind(this.protocolAdaptor),
            onClose: this.protocolAdaptor.onClose.bind(this.protocolAdaptor),
            receive: this.protocolAdaptor.receive.bind(this.protocolAdaptor),
            log: this.log,
            status: this.status.bind(this)
          },
          ProtocolAdaptor: {
            open: this.pipe.open.bind(this.pipe),
            onClose: this.pipe.onClose.bind(this.pipe),
            close: this.socket.close.bind(this.socket),
            send: this.socket.send.bind(this.socket),
            forward: this.pipe.receive.bind(this.pipe),
            log: this.log
          },
          Pipe: {
            ready: this.ready.bind(this),
            close: this.socket.close.bind(this.socket),
            send: this.protocolAdaptor.send.bind(this.protocolAdaptor),
            receiveResponse: this.receiveResponse.bind(this),
            log: this.log
          }
        };
        this.packetHelper = new this.Components.PacketHelper(this.config.Packet.bufferSize);
        this.pipe.start(this.packetHelper, listeners.Pipe);
        this.protocolAdaptor.start(listeners.ProtocolAdaptor, this.packetHelper);
        this.socket.start(this.packetHelper, listeners.Socket);
        this.pipe.on('open', function() {
          self.statusCallback(Enum.Pipe.Status.CONNECTION_OPENED, {pipeId: self.pipe.id});
        });
        this.pipe.on('close', function() {
          self.statusCallback(Enum.Pipe.Status.CONNECTION_CLOSED, {pipeId: self.pipe.id});
          self._closeAllCallbacks({
            code: 'Error.Opus.Client.NOT_READY',
            message: 'Client is not ready to receive responses.'
          });
        });
        return this;
      };
      IOClient.prototype.status = function(statusEnum, message) {
        this.statusCallback(statusEnum, {
          pipeId: this.pipe.id,
          message: message
        });
      };
      IOClient.prototype.md5 = function(value) {
        try {
          return md5(value);
        } catch (err) {
          return '';
        }
      };
      IOClient.prototype.ready = function() {
        if (this.pipe) {
          return this.pipe.ready();
        } else {
          return false;
        }
      };
      IOClient.prototype.sendRequest = function(command, param, payload, callback, percentCallback, server) {
        this._sendRequest(Enum.Packet.Client.Flag.REQUEST, command, param, payload, callback, percentCallback, server);
      };
      IOClient.prototype.blobSendRequest = function(command, param, payload, callback, percentCallback) {
        this._sendRequest(Enum.Packet.Client.Flag.BLOB_SEND_REQUEST, command, param, payload, callback, percentCallback);
      };
      IOClient.prototype.blobReceiveRequest = function(command, param, payload, callback, percentCallback) {
        this._sendRequest(Enum.Packet.Client.Flag.BLOB_RECEIVE_REQUEST, command, param, payload, callback, percentCallback);
      };
      IOClient.prototype._sendRequest = function(flag, command, param, payload, callback, percentCallback, server) {
        if (callback) {
          if (this.pipe.ready()) {
            ++this.sequenceNo;
            var self = this,
                event = command + ':' + this.sequenceNo;
            this.callbackMap[event] = callback;
            this._once(event, this._timeoutSecs(flag), function(error, result, payload, roundTripTime, serverLatency) {
              self.log.trace('[IOClient]', 'receiveResponse:' + result);
              commandCallback = self.callbackMap[event];
              delete self.callbackMap[event];
              self.pipe.delegate.removeAllListeners(event);
              commandCallback(error, result, payload, roundTripTime, serverLatency);
            });
            var clientRequest = new this.Components.ClientRequest(command, flag, this.sequenceNo, param, payload);
            clientRequest.addHop(Enum.Packet.Hop.CLIENT);
            if (server) {
              clientRequest.extra = {'server': server};
            }
            this.pipe.sendRequest(clientRequest, percentCallback);
          } else {
            callback({
              code: 'Error.Opus.Client.NOT_READY',
              message: 'Client is not ready to send requests.'
            });
          }
        } else {
          this.log.error('[IOClient]', 'Callback for api is invalid.');
        }
      };
      IOClient.prototype._closeAllCallbacks = function(error) {
        var self = this;
        for (var event in this.callbackMap) {
          var commandCallback = self.callbackMap[event];
          self.pipe.delegate.removeAllListeners(event);
          commandCallback(error, null, null, 0, 0);
        }
        this.callbackMap = {};
      };
      IOClient.prototype._timeoutSecs = function(flag) {
        switch (flag) {
          case Enum.Packet.Client.Flag.BLOB_SEND_REQUEST:
          case Enum.Packet.Client.Flag.BLOB_RECEIVE_REQUEST:
            return this.config.Socket.blobTimeoutSecs;
          default:
            return this.config.Socket.requestTimeoutSecs;
            break;
        }
      };
      IOClient.prototype.receiveResponse = function(clientResponse) {
        var error = (clientResponse.error) ? Error.new(clientResponse.error) : null,
            event = clientResponse.event();
        this.pipe.delegate.emit(event, error, clientResponse.result, clientResponse.payload, clientResponse.hopDuration(Enum.Packet.Hop.CLIENT), clientResponse.hopDuration(Enum.Packet.Hop.SERVER));
      };
      IOClient.prototype._once = function(event, timeoutSecs, callback) {
        var listener = function() {
          if (timerId)
            clearTimeout(timerId);
          if (arguments.length > 0) {
            callback.apply(this, arguments);
          } else {
            callback();
          }
        };
        this.pipe.delegate.once(event, listener);
        var self = this,
            timerId = setTimeout(function() {
              self.pipe.delegate.removeListener(event, listener);
              timerId = null;
              callback({
                code: 'Error.Opus.Client.REQUEST_TIMEOUT',
                message: 'Timeout waiting for response from server.'
              });
            }, timeoutSecs * 1000);
      };
      IOClient.prototype.on = function(event, callback) {
        if (callback) {
          var listener = function() {
            if (arguments.length > 0) {
              callback.apply(this, arguments);
            } else {
              callback();
            }
          };
          this.pipe.delegate.removeAllListeners(event);
          this.pipe.delegate.on(event, listener);
        } else {
          this.log.error('[IOClient]', 'Callback for listener is invalid.');
        }
      };
      IOClient.prototype.off = function(event, callback) {
        if (callback) {
          this.pipe.delegate.removeListener(event, callback);
        } else {
          this.pipe.delegate.removeAllListeners(event);
        }
      };
    }, {
      "../../../../config/client": 1,
      "./data/md5": 10,
      "./enum": 12,
      "./error": 13,
      "./log": 15,
      "./pipe": 16
    }],
    15: [function(require, module, exports) {
      'option strict';
      var Enum = require('./enum');
      module.exports = Log;
      function Log(config) {
        this.config = config;
      }
      Log.prototype.start = function(pipe) {
        this.pipe = pipe;
      };
      Log.prototype.error = function(source, message, code) {
        this.pipe.error(source, message, code);
        if (this.config.Mode === Enum.Mode.DEV) {
          if (code) {
            console.error('[Error] %s: (code %d) %s', source, code, message);
          } else {
            console.error('[Error] %s: %s', source, message);
          }
        }
      };
      Log.prototype.trace = function(source, message) {
        if (this.config.mode === Enum.Mode.DEV) {
          console.log('[Trace] %s: %s', source, message);
        }
      };
    }, {"./enum": 12}],
    16: [function(require, module, exports) {
      'option strict';
      var events = require('events'),
          Enum = require('../enum'),
          ChunkHandlers = require('../../../../common/chunk-handlers');
      module.exports = Pipe;
      function Pipe(config, Components, webAPI) {
        this.config = config;
        this.Components = Components;
        this.webAPI = webAPI;
      }
      Pipe.prototype.start = function(packetHelper, listeners) {
        this.listeners = listeners;
        this.keepAlive = false;
        this.state = Enum.Pipe.State.WAIT_READY;
        this.sequenceNo = 0;
        this.delegate = new events.EventEmitter();
        this.delegate.setMaxListeners(this.config.maxListeners);
        this.packetHelper = packetHelper;
        this.pipeListeners = {
          log: this.listeners.log,
          send: this.listeners.send
        };
        var components = {packetHelper: this.packetHelper};
        this.chunkHandlers = new ChunkHandlers(this.config.ChunkHandler, components, this.listeners, this.webAPI);
      };
      Pipe.prototype.open = function(keepAlive) {
        this.keepAlive = keepAlive;
        this.listeners.send(this.packetHelper.writePipe(Enum.Pipe.EVP_VER, Enum.Pipe.Command.OPEN, Enum.Packet.IO.Flag.NONE, ++this.sequenceNo));
      };
      Pipe.prototype.openAcknowledge = function(id) {
        this.listeners.log.trace('Pipe', 'openAcknowledge');
        this.startHeartBeat();
        this.id = id;
        this.state = Enum.Pipe.State.READY;
        this.delegate.emit('open', this.id);
      };
      Pipe.prototype.ready = function() {
        return (this.state === Enum.Pipe.State.READY);
      };
      Pipe.prototype.close = function() {
        this.listeners.log.trace('Pipe', 'close');
        this.listeners.close();
      };
      Pipe.prototype.onClose = function() {
        this.listeners.log.trace('Pipe', 'onClose');
        if (this.state !== Enum.Pipe.State.WAIT_READY) {
          this.stopHeartBeat();
          this.state = Enum.Pipe.State.WAIT_READY;
          this.delegate.emit('close', this.id);
        }
      };
      Pipe.prototype.stopHeartBeat = function() {
        if (this.keepAlive) {
          this.listeners.log.trace('Pipe', 'stopHeartBeat');
          if (this.heartBeatTimer) {
            clearInterval(this.heartBeatTimer);
            this.heartBeatTimer = null;
          }
          this.stopPingTimeout();
        }
      };
      Pipe.prototype.startHeartBeat = function() {
        if (this.keepAlive) {
          this.listeners.log.trace('Pipe', 'startHeartBeat');
          if (!this.heartBeatTimer) {
            var self = this;
            if (this.heartBeatTimer) {
              clearInterval(this.heartBeatTimer);
            }
            this.heartBeatTimer = setInterval(function() {
              self.ping();
            }, this.config.HeartBeat.intervalSecs * 1000);
            this.startPingTimeout();
          }
        }
      };
      Pipe.prototype.ping = function() {
        this.listeners.log.trace('Pipe', 'ping');
        this.listeners.send(this.packetHelper.writePipe(Enum.Pipe.EVP_VER, Enum.Pipe.Command.PING, Enum.Packet.IO.Flag.NONE, ++this.sequenceNo));
      };
      Pipe.prototype.stopPingTimeout = function() {
        if (this.pingTimeout) {
          clearTimeout(this.pingTimeout);
          this.pingTimeout = undefined;
        }
      };
      Pipe.prototype.startPingTimeout = function() {
        if (!this.pingTimeout) {
          var self = this;
          this.pingTimeout = setTimeout(function() {
            self.pingTimeout = undefined;
            self.close();
          }, this.config.HeartBeat.timeoutSecs * 1000);
        }
      };
      Pipe.prototype.error = function(source, message, code) {
        if (this.config.mode == Enum.Mode.DEV) {
          console.error('[' + source + ']', message, code);
        }
      };
      Pipe.prototype.on = function(event, callback) {
        this.delegate.on(event, callback);
      };
      Pipe.prototype.sendRequest = function(clientRequest, percentCallback) {
        if (this.ready()) {
          switch (clientRequest.flag) {
            case Enum.Packet.Client.Flag.BLOB_RECEIVE_REQUEST:
              clientRequest.extra = {receiver: {id: this.chunkHandlers.newReceiver(this.pipeListeners, percentCallback)}};
            case Enum.Packet.Client.Flag.REQUEST:
              var clientRequestBuffer = clientRequest.toWebSocketBuffer();
              if (clientRequestBuffer.length < this.config.ChunkHandler.chunkSize) {
                this.listeners.send(this.packetHelper.writePipe(Enum.Pipe.EVP_VER, Enum.Pipe.Command.REQUEST, Enum.Packet.IO.Flag.NONE, ++this.sequenceNo, clientRequestBuffer));
                if (percentCallback) {
                  percentCallback(null, {percent: 100});
                }
              } else {
                var param = {
                  id: null,
                  type: Enum.ChunkHandler.Type.DATAPACKET,
                  chunkSize: this.config.ChunkHandler.chunkSize,
                  Context: {
                    type: 'DATAPACKET',
                    size: clientRequestBuffer.length
                  }
                },
                    content = {blob: clientRequestBuffer};
                this.chunkHandlers.startSender(param, content, null, percentCallback);
              }
              break;
            case Enum.Packet.Client.Flag.BLOB_SEND_REQUEST:
              var param = {
                id: null,
                type: Enum.ChunkHandler.Type.FILE,
                chunkSize: this.config.ChunkHandler.chunkSize,
                Context: clientRequest.param.Context
              },
                  content = {blob: clientRequest.payload};
              delete clientRequest.payload;
              var clientRequestBuffer = clientRequest.toWebSocketBuffer();
              this.chunkHandlers.startSender(param, content, clientRequestBuffer, percentCallback);
              break;
            default:
              this.listeners.log.error('Pipe', 'Client request flag is invalid:' + flag);
              break;
          }
        } else {
          this.listeners.log.error('Pipe', 'Client is not ready.');
        }
      };
      Pipe.prototype.receive = function(data) {
        var self = this,
            param = null,
            packet = this.packetHelper.readPipe(data);
        switch (packet.command) {
          case Enum.Pipe.Command.OPEN:
            if (packet.flag & Enum.Packet.IO.Flag.ACKNOWLEDGE) {
              this.openAcknowledge(packet.extension);
            }
            break;
          case Enum.Pipe.Command.PING:
            if (packet.flag & Enum.Packet.IO.Flag.ACKNOWLEDGE) {
              this.listeners.log.trace('Pipe', 'pong');
              this.stopPingTimeout();
              this.startPingTimeout();
            }
            break;
          case Enum.Pipe.Command.CLOSE:
            this.listeners.close();
            break;
          case Enum.Pipe.Command.RESPONSE:
            var clientResponse = new this.Components.ClientResponse.fromWebSocketBuffer(packet.extension);
            this.listeners.receiveResponse(clientResponse);
            break;
          case Enum.Pipe.Command.START_TRANSFER:
            this.listeners.log.trace('Pipe', 'Enum.Pipe.Command.START_TRANSFER');
            if (packet.flag & Enum.Packet.IO.Flag.ACKNOWLEDGE) {
              transferParam = packet.extension;
              transferParam.sequenceNo = packet.seqNo;
              this.chunkHandlers.sendNextChunk(transferParam);
            } else {
              this.chunkHandlers.startReceiver(packet.extension, packet.payload);
            }
            break;
          case Enum.Pipe.Command.TRANSFER:
            this.listeners.log.trace('Pipe', 'Enum.Pipe.Command.TRANSFER');
            transferParam = packet.extension;
            transferParam.sequenceNo = packet.seqNo;
            if (packet.flag & Enum.Packet.IO.Flag.ACKNOWLEDGE) {
              this.chunkHandlers.sendNextChunk(transferParam);
            } else {
              this.chunkHandlers.receiveNextChunk(transferParam, packet.payload);
            }
            break;
          case Enum.Pipe.Command.TRANSFER_ERROR:
            this.listeners.log.trace('Pipe', 'Enum.Pipe.Command.TRANSFER_ERROR');
            this.chunkHandlers.abort(packet.extension.id);
            break;
          case Enum.Pipe.Command.END_TRANSFER:
            this.listeners.log.trace('Pipe', 'Enum.Pipe.Command.END_TRANSFER');
            if (packet.flag & Enum.Packet.IO.Flag.ACKNOWLEDGE) {
              this.chunkHandlers.endSender(packet.extension.id);
            } else {
              this.chunkHandlers.endReceiver(packet.extension.id, function(result) {
                var clientResponse = self.Components.ClientResponse.fromWebSocketBuffer(result.content.dataPacketBuffer);
                clientResponse.payload = result.content.blob;
                self.listeners.receiveResponse(clientResponse);
              });
            }
            break;
          default:
            this.listeners.log.trace('Pipe', 'Invalid command:', packet.command);
            break;
        }
      };
    }, {
      "../../../../common/chunk-handlers": 30,
      "../enum": 12,
      "events": 189
    }],
    17: [function(require, module, exports) {
      'option strict';
      var nacl = require('tweetnacl'),
          Enum = require('../enum').CurveZMQ,
          BufferView = require('../data/buffer-view');
      module.exports = CurveZMQ;
      function CurveZMQ(config, metaData) {
        this.config = config;
        this.metaData = metaData;
        this.serverPublicKeyPermanent = nacl.util.decodeBase64(this.config.serverPublicKey);
        this.publicKeyPermanent = nacl.util.decodeBase64(this.config.publicKey);
        this.secretKeyPermanent = nacl.util.decodeBase64(this.config.secretKey);
        var keys = nacl.box.keyPair();
        this.publicKeyTemporary = keys.publicKey;
        this.secretKeyTemporary = keys.secretKey;
        this.messageBufferView = new BufferView(new Uint8Array(this.config.bufferSize));
      }
      CurveZMQ.prototype.start = function(listeners, packetHelper) {
        this.packetHelper = packetHelper;
        this.listeners = listeners;
        this.keepAlive = false;
        this.state = Enum.State.SEND_HELLO;
      };
      CurveZMQ.prototype.open = function(keepAlive) {
        this.listeners.log.trace('CurveZMQ', 'Open');
        this.keepAlive = keepAlive;
        this.state = Enum.State.WAIT_WELCOME;
        var hello = this.encode_hello();
        if (hello) {
          this.short_nonce = hello.s_nonce;
          this.listeners.send(hello.pkt);
        }
      };
      CurveZMQ.prototype.onClose = function() {
        this.listeners.log.trace('CurveZMQ', 'onClose');
        if (this.state !== Enum.State.SEND_HELLO) {
          this.state = Enum.State.SEND_HELLO;
          this.listeners.onClose();
        }
      };
      CurveZMQ.prototype.send = function(data) {
        increment_nonce(this.short_nonce);
        var msg = this.encode_message(data, this.messageBufferView, this.short_nonce);
        this.listeners.send(msg.pkt);
      };
      CurveZMQ.prototype.receive = function(uint8Array) {
        var bufferView = new BufferView(uint8Array);
        switch (this.state) {
          case Enum.State.WAIT_WELCOME:
            var welcome = this.decode_welcome(bufferView);
            if (!welcome.err) {
              this.listeners.log.trace('CurveZMQ', 'Received welcome, sending initiate');
              this.state = Enum.State.WAIT_READY;
              this.serverPublicKeyTemporary = welcome.sk;
              increment_nonce(this.short_nonce);
              var metaData = this.packetHelper.writeMetaData(this.metaData.idToken, this.metaData.sessionToken);
              var pkt = this.encode_initiate(welcome.c, this.short_nonce, metaData);
              this.listeners.send(pkt);
            } else {
              this.listeners.log.error('CurveZMQ', welcome.err);
              this.listeners.close();
            }
            break;
          case Enum.State.WAIT_READY:
            var ready = this.decode_ready(bufferView);
            if (!ready.err) {
              this.listeners.log.trace('CurveZMQ', 'Ready');
              this.state = Enum.State.READY;
              this.srv_short_nonce = ready.s_nonce;
              this.listeners.open(this.keepAlive);
            } else {
              this.listeners.log.error('CurveZMQ', ready.err);
              this.listeners.close();
            }
            break;
          case Enum.State.READY:
            increment_nonce(this.srv_short_nonce);
            var message = this.decode_message(bufferView, this.srv_short_nonce);
            if (!message.err)
              this.listeners.forward(message.data);
            else {
              this.listeners.log.error('CurveZMQ', message.err);
              this.listeners.close();
            }
            break;
          default:
            this.listeners.log.error('CurveZMQ', 'Invalid adaptor state:' + this.state);
            this.listeners.close();
            break;
        }
      };
      CurveZMQ.prototype.encode_hello = function() {
        try {
          var pkt_hello = new BufferView(new Uint8Array(215 + 16));
          pkt_hello.fill(0);
          pkt_hello.rewind();
          pkt_hello.writeUTF8('HELLO');
          pkt_hello.writeUInt8(1);
          pkt_hello.writeUInt8(0);
          pkt_hello.fill(0, pkt_hello.offset, pkt_hello.offset + 72);
          pkt_hello.skip(72);
          pkt_hello.append(this.publicKeyTemporary);
          var nonce = gen_nonce('CurveZMQHELLO---', 8);
          var zeros = new Uint8Array(64);
          var box = nacl.box(zeros, nonce, this.serverPublicKeyPermanent, this.secretKeyTemporary);
          pkt_hello.append(nonce);
          pkt_hello.append(new Uint8Array(box.buffer));
          return {
            pkt: pkt_hello.buffer,
            s_nonce: nonce.subarray(16)
          };
        } catch (error) {
          this.listeners.log.error('CurveZMQ', error.message, error.code);
        }
      };
      CurveZMQ.prototype.decode_welcome = function(bufferView) {
        try {
          if (bufferView.length() !== (183 + 32))
            return {err: 'wrong length'};
          var cmd = bufferView.readUTF8(7);
          if (cmd !== 'WELCOME')
            return {err: 'wrong cmd'};
          var welcome_nonce = bufferView.slice(bufferView.offset, bufferView.offset + 24);
          bufferView.skip(24);
          var welcome = nacl.box.open(bufferView.slice(bufferView.offset + 16), welcome_nonce, this.serverPublicKeyPermanent, this.secretKeyTemporary);
          if (!welcome)
            return {err: 'authentication fails'};
          var serverPublicKeyTemporary = welcome.subarray(0, 32);
          var cookie = welcome.subarray(32);
          return {
            c: cookie,
            sk: serverPublicKeyTemporary
          };
        } catch (error) {
          this.listeners.log.error('CurveZMQ', error.message, error.code);
        }
      };
      CurveZMQ.prototype.decode_ready = function(bufferView) {
        try {
          if (bufferView.length() < 46)
            return {err: 'wrong length'};
          var cmd = bufferView.readUTF8(5);
          if (cmd !== 'READY')
            return {err: 'wrong cmd'};
          var ready_nonce = bufferView.slice(bufferView.offset, bufferView.offset + 24);
          bufferView.skip(24);
          var ready = nacl.box.open(bufferView.slice(bufferView.offset + 16), ready_nonce, this.serverPublicKeyTemporary, this.secretKeyTemporary);
          if (!ready)
            return {err: 'authentication fails'};
          return {s_nonce: ready_nonce.subarray(16)};
        } catch (error) {
          this.listeners.log.error('CurveZMQ', error.message, error.code);
        }
      };
      CurveZMQ.prototype.encode_initiate = function(cookie, short_nonce, metaData) {
        try {
          var vouch = new BufferView(new Uint8Array(120));
          var vouch_nonce = gen_nonce('VOUCH---', 16);
          vouch.append(vouch_nonce);
          vouch.append(this.publicKeyTemporary);
          vouch.append(this.serverPublicKeyPermanent);
          var vouch_box = nacl.box(vouch.slice(24, 24 + 64), vouch_nonce, this.serverPublicKeyTemporary, this.secretKeyPermanent);
          vouch.append(new Uint8Array(vouch_box.buffer), 24);
          var len = 8 + cookie.byteLength + 24 + 32 + vouch.length() + 32 + metaData.length;
          var pkt_initiate = new BufferView(new Uint8Array(len));
          pkt_initiate.writeUTF8('INITIATE');
          pkt_initiate.append(cookie);
          var mark = pkt_initiate.offset;
          pkt_initiate.writeUTF8('CurveZMQINITIATE');
          pkt_initiate.append(short_nonce);
          var initiate_nonce = pkt_initiate.slice(mark, pkt_initiate.offset);
          mark = pkt_initiate.offset;
          pkt_initiate.append(this.publicKeyPermanent);
          pkt_initiate.append(vouch.buffer);
          pkt_initiate.append(metaData);
          var init_box = nacl.box(pkt_initiate.slice(mark, pkt_initiate.offset), initiate_nonce, this.serverPublicKeyTemporary, this.secretKeyTemporary);
          pkt_initiate.append(new Uint8Array(init_box.buffer), mark);
          return pkt_initiate.buffer;
        } catch (error) {
          this.listeners.log.error('CurveZMQ', error.message, error.code);
        }
      };
      CurveZMQ.prototype.encode_message = function(payload, bufferView, short_nonce) {
        try {
          bufferView.rewind();
          bufferView.writeUTF8('MESSAGE');
          var mark = bufferView.offset;
          bufferView.writeUTF8('CurveZMQMESSAGE-');
          bufferView.append(short_nonce);
          var message_nonce = bufferView.slice(mark, bufferView.offset);
          mark = bufferView.offset;
          bufferView.append(payload);
          var box = nacl.box(bufferView.slice(mark, bufferView.offset), message_nonce, this.serverPublicKeyTemporary, this.secretKeyTemporary);
          var b = new Uint8Array(box.buffer);
          bufferView.append(b, mark);
          bufferView.set(mark + b.byteLength);
          return {pkt: bufferView.buffer.subarray(0, bufferView.offset)};
        } catch (error) {
          this.listeners.log.error('CurveZMQ', error.message, error.code);
        }
      };
      CurveZMQ.prototype.decode_message = function(bufferView, short_nonce) {
        try {
          if (bufferView.length() < 49)
            return {err: 'wrong length'};
          var cmd = bufferView.readUTF8(7);
          if (cmd !== 'MESSAGE')
            return {err: 'wrong cmd'};
          var message_nonce = bufferView.slice(bufferView.offset, bufferView.offset + 24);
          bufferView.skip(24);
          var expected_nonce = new BufferView(new Uint8Array(24));
          expected_nonce.writeUTF8('CurveZMQMESSAGE-');
          expected_nonce.append(short_nonce);
          var err = comp(expected_nonce.buffer, message_nonce);
          if (err)
            return {err: 'wrong nonce'};
          var message = nacl.box.open(bufferView.slice(bufferView.offset + 16), message_nonce, this.serverPublicKeyTemporary, this.secretKeyTemporary);
          if (!message)
            return {err: 'authentication fails'};
          return {data: message};
        } catch (error) {
          this.listeners.log.error('CurveZMQ', error.message, error.code);
        }
      };
      function increment_nonce(n) {
        var hi = (n[0] << 24 & 0xffffffff) | (n[1] << 16 & 0xffffff) | (n[2] << 8 & 0xffff) | (n[3] & 0xff);
        var lo = (n[4] << 24 & 0xffffffff) | (n[5] << 16 & 0xffffff) | (n[6] << 8 & 0xffff) | (n[7] & 0xff);
        lo += 1;
        if (lo >= Enum.MAX_INT) {
          lo -= Enum.MAX_INT;
          hi += 1;
        }
        n[0] = (hi >>> 24 & 0xff);
        n[1] = (hi >>> 16 & 0xff);
        n[2] = (hi >>> 8 & 0xff);
        n[3] = (hi & 0xff);
        n[4] = (lo >>> 24 & 0xff);
        n[5] = (lo >>> 16 & 0xff);
        n[6] = (lo >>> 8 & 0xff);
        n[7] = (lo & 0xff);
      }
      ;
      function comp(a, b) {
        if (a.byteLength == b.byteLength) {
          for (var i = 0; i < a.byteLength; i++)
            if (a[i] != b[i])
              return i + ':' + a[i] + '<->' + b[i];
        } else
          return 'len<>';
      }
      function gen_nonce(prefix, len) {
        var b = new Uint8Array(24);
        var buf = new BufferView(b);
        var start = buf.offset;
        buf.writeUTF8(prefix);
        var rnd = nacl.randomBytes(len);
        buf.append(rnd);
        return b;
      }
    }, {
      "../data/buffer-view": 4,
      "../enum": 12,
      "tweetnacl": 40
    }],
    18: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum');
      module.exports.newAdaptor = function(config, metaData) {
        var adaptor = undefined;
        switch (config.protocol) {
          case Enum.DataProtocol.SIMPLE:
            var Simple = require('./simple');
            adaptor = new Simple();
            break;
          case Enum.DataProtocol.CURVE_ZMQ:
            var CurveZMQ = require('./curve-zmq');
            adaptor = new CurveZMQ(config.CurveZMQ, metaData);
            break;
          default:
            log.error('Invalid protocol:%s', config.protocol);
            break;
        }
        return adaptor;
      };
    }, {
      "../enum": 12,
      "./curve-zmq": 17,
      "./simple": 19
    }],
    19: [function(require, module, exports) {
      'option strict';
      module.exports = Default;
      function Default() {}
      Default.prototype.start = function(listeners) {
        this.listeners = listeners;
      };
      Default.prototype.open = function(keepAlive) {
        this.listeners.open(keepAlive);
      };
      Default.prototype.close = function() {
        this.listeners.close();
      };
      Default.prototype.onClose = function() {
        this.listeners.onClose();
      };
      Default.prototype.receive = function(data) {
        this.listeners.forward(data);
      };
      Default.prototype.send = function(data) {
        this.listeners.send(data);
      };
    }, {}],
    20: [function(require, module, exports) {
      'option strict';
      var Enum = {
        Socket: require('../enum').Socket.HTTPLongPoll,
        KEEP_ALIVE: require('../enum').Socket.KEEP_ALIVE,
        Packet: require('../enum').Packet
      };
      module.exports = Socket;
      function Socket(packetHelper) {
        this.packetHelper = packetHelper;
        this.socketId = undefined;
        this.queue = [];
        this.connected = false;
        this.opened = false;
        this.pingCount = 0;
      }
      Socket.prototype.start = function(listeners) {
        this.listeners = listeners;
        this.newRequest();
      };
      Socket.prototype.ip = function() {
        if (this.request) {
          return this.request.ip;
        }
      };
      Socket.prototype.newRequest = function() {
        var self = this;
        this.request = new XMLHttpRequest();
        this.request.responseType = "arraybuffer";
        this.request.addEventListener('error', function(error) {
          self.close();
        });
        this.request.onreadystatechange = function() {
          self.opened = false;
          self.awaitingResponse = false;
          switch (self.request.readyState) {
            case Enum.Socket.State.OPENED:
              self.opened = true;
              setTimeout(self.sendPacket.bind(self), 1);
            case Enum.Socket.State.DONE:
              switch (self.request.status) {
                case Enum.Socket.Status.SUCCESSFULL:
                  self.connected = true;
                  switch (self.request.responseType) {
                    case 'arraybuffer':
                      self.receive(self.request.response.slice(0));
                      setTimeout(self.openRequest.bind(self), 1);
                      break;
                    default:
                      self.error('Invalid response type:' + self.request.responseType);
                  }
                  break;
                default:
                  if (self.request.status) {
                    self.error('Device status:' + self.request.status);
                  }
                  break;
              }
            case Enum.Socket.State.UNSENT:
            case Enum.Socket.State.LOADING:
            case Enum.Socket.State.HEADERS_RECEIVED:
              break;
          }
        };
      };
      Socket.prototype.error = function(error) {
        console.log('Error:', error);
      };
      Socket.prototype.open = function(url) {
        console.log('open:', url);
        this.url = url;
        this.queue = [];
        this.openRequest(true);
        this.queuePacket(Enum.Socket.Command.CONNECT, 0);
      };
      Socket.prototype.openRequest = function(force) {
        if (force || !this.opened) {
          this.awaitingResponse = false;
          this.request.open('POST', this.url);
          this.request.setRequestHeader('Content-Type', 'application/octet-stream');
        }
      };
      Socket.prototype.ping = function(data) {
        this.send(data);
      };
      Socket.prototype.send = function(data) {
        if (this.awaitingResponse) {
          this.openRequest(true);
        }
        this.queuePacket(Enum.Socket.Command.MESSAGE, data);
      };
      Socket.prototype.queuePacket = function(command, data) {
        this.queue.push(this.packetHelper.writeHttpLongPoll(command, 0, this.socketId, data));
        this.sendPacket();
      };
      Socket.prototype.sendPacket = function() {
        if (this.opened) {
          var packet = this.queue.shift();
          if (!packet) {
            packet = this.packetHelper.writeHttpLongPoll(Enum.Socket.Command.OPEN, 0, this.socketId);
            this.awaitingResponse = true;
          }
          this.request.send(packet);
        } else {
          this.startResponseTimeout();
        }
      };
      Socket.prototype.receive = function(response) {
        this.stopResponseTimeout();
        var uint8Array = new Uint8Array(response);
        var packet = this.packetHelper.readHttpLongPoll(uint8Array);
        switch (packet.command) {
          case Enum.Socket.Command.CONNECT:
            this.socketId = packet.id;
            this.listeners.open(Enum.KEEP_ALIVE);
            break;
          case Enum.Socket.Command.MESSAGE:
            this.listeners.receive(packet.message);
            break;
          case Enum.Socket.Command.CLOSE:
            this.close();
            break;
          default:
            this.error('Invalid command:' + packet.command);
        }
      };
      Socket.prototype.close = function() {
        if (this.connected) {
          this.connected = false;
          if (this.request) {
            this.request.abort();
          }
          this.listeners.onClose();
          this.listeners.log.trace('Socket', 'Closed');
        }
      };
      Socket.prototype.stopResponseTimeout = function() {
        if (this.responseTimeout) {
          clearTimeout(this.responseTimeout);
          this.responseTimeout = null;
        }
      };
      Socket.prototype.startResponseTimeout = function() {
        if (!this.responseTimeout) {
          var self = this;
          this.responseTimeout = setTimeout(function() {
            self.responseTimeout = null;
            self.openRequest(true);
          }, Enum.Socket.responseTimeoutMillisecs);
        }
      };
    }, {"../enum": 12}],
    21: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum');
      module.exports = Socket;
      function Socket(config, webAPI) {
        this.config = config;
        this.webAPI = webAPI;
        this.initUrl();
      }
      Socket.prototype.start = function(packetHelper, listeners) {
        this.packetHelper = packetHelper;
        this.listeners = listeners;
        var innerListeners = {
          open: this.open.bind(this),
          onClose: this.onClose.bind(this),
          receive: this.listeners.receive,
          log: this.listeners.log
        };
        switch (this.config.device) {
          case Enum.Socket.Device.HTTP_LONG_POLL:
            var HTTPLongPoll = require('./http-long-poll-socket');
            this.innerSocket = new HTTPLongPoll(this.packetHelper);
            break;
          case Enum.Socket.Device.WEB_SOCKET:
            var WebSocket = require('./web-socket');
            this.innerSocket = new WebSocket();
            break;
          case Enum.Socket.Device.WS:
          default:
            var WS = require('./ws');
            this.innerSocket = new WS();
            break;
        }
        this.innerSocket.start(innerListeners);
        this.startConnectTimer();
      };
      Socket.prototype.startConnectTimer = function() {
        this.listeners.log.trace('Socket', 'startConnectTimer - ' + (this.connectTimer === undefined));
        var self = this;
        this.stopReconnectTimeout();
        if (!this.connectTimer) {
          this.connectAttempt = 1;
          self.connect();
          this.connectTimer = setInterval(function() {
            self.connect();
          }, this.config.connectTimeoutSecs * 1000);
        }
      };
      Socket.prototype.stopConnectTimer = function() {
        this.listeners.log.trace('Socket', 'stopConnectTimer - ' + (this.connectTimer !== undefined));
        if (this.connectTimer) {
          clearInterval(this.connectTimer);
          this.connectTimer = undefined;
        }
      };
      Socket.prototype.stopReconnectTimeout = function() {
        if (this.reconnectTimeout) {
          clearTimeout(this.reconnectTimeout);
          this.reconnectTimeout = undefined;
        }
      };
      Socket.prototype.connect = function() {
        if (this.connectAttempt <= this.config.maxConnectAttempts) {
          this.listeners.log.trace('Socket', 'Connect attempt ' + this.connectAttempt++);
          this.innerSocket.open(this.url);
        } else {
          var message = 'Exceeded maximum connect attempts: ' + this.config.maxConnectAttempts;
          this.listeners.log.error('Socket', message);
          this.stopConnectTimer();
          this.listeners.status(Enum.Pipe.Status.MAX_CONNECT_ATTEMPTS, message);
        }
      };
      Socket.prototype.open = function(keepAlive) {
        this.listeners.log.trace('Socket', 'open');
        this.stopConnectTimer();
        keepAlive = keepAlive || false;
        this.listeners.open(keepAlive);
      };
      Socket.prototype.send = function(data) {
        this.innerSocket.send(data);
      };
      Socket.prototype.close = function() {
        this.innerSocket.close();
      };
      Socket.prototype.onClose = function() {
        this.listeners.log.trace('Socket', 'onClose');
        this.listeners.onClose();
        if (!this.reconnectTimeout) {
          var self = this;
          this.reconnectTimeout = setTimeout(function() {
            self.reconnectTimeout = undefined;
            self.startConnectTimer();
          }, this.config.reconnectWaitSecs * 1000);
        }
      };
      Socket.prototype.initUrl = function() {
        var protocol = undefined,
            isWebSocket = true;
        switch (this.config.device) {
          case Enum.Socket.Device.HTTP_LONG_POLL:
            isWebSocket = false;
            break;
        }
        switch (this.config.protocol) {
          case Enum.ServerProtocol.HTTPS:
            protocol = (isWebSocket) ? 'wss' : 'https';
            break;
          case Enum.ServerProtocol.HTTP:
          default:
            protocol = (isWebSocket) ? 'ws' : 'http';
            break;
        }
        this.url = protocol + '://' + this.config.host + ':' + this.config.port + Enum.Pipe.EVP_PATH;
      };
    }, {
      "../enum": 12,
      "./http-long-poll-socket": 20,
      "./web-socket": 22,
      "./ws": 23
    }],
    22: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum').Socket;
      Enum.inner = {State: {
          CONNECTING: 0,
          OPEN: 1,
          CLOSING: 2,
          CLOSED: 3
        }};
      module.exports = Socket;
      function Socket() {}
      Socket.prototype.start = function(listeners) {
        this.listeners = listeners;
      };
      Socket.prototype.open = function(url) {
        var self = this;
        this.innerSocket = new WebSocket(url);
        this.innerSocket.binaryType = 'arraybuffer';
        this.innerSocket.addEventListener('open', function(event) {
          self.listeners.open(Enum.KEEP_ALIVE);
          self.listeners.log.trace('Socket', 'Opened: ' + url);
          self.innerSocket.addEventListener('close', function(event) {
            self.listeners.onClose();
            self.listeners.log.trace('Socket', 'Closed: (code ' + event.code + ') ' + event);
          });
          self.innerSocket.addEventListener('message', function(event) {
            var uint8Array = new Uint8Array(event.data);
            self.listeners.receive(uint8Array);
          });
          self.innerSocket.addEventListener('error', function(event) {
            self.listeners.log.error('Socket', event.data);
          });
        });
      };
      Socket.prototype.ping = function(uint8Array) {
        this.send(uint8Array);
      };
      Socket.prototype.send = function(uint8Array) {
        try {
          this.innerSocket.send(uint8Array, {binary: true});
        } catch (error) {
          this.listeners.log.error('Socket.send', error);
        }
      };
      Socket.prototype.close = function() {
        switch (this.innerSocket.readyState) {
          case Enum.Inner.State.CONNECTING:
          case Enum.Inner.State.OPEN:
            this.innerSocket.close();
            break;
        }
      };
      Socket.prototype.reason = function(code) {
        var reason;
        if (code == 1000)
          reason = "Normal closure, meaning that the purpose for which the connection was established has been fulfilled.";
        else if (code == 1001)
          reason = "An endpoint is \"going away\", such as a server going down or a browser having navigated away from a page.";
        else if (code == 1002)
          reason = "An endpoint is terminating the connection due to a protocol error";
        else if (code == 1003)
          reason = "An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).";
        else if (code == 1004)
          reason = "Reserved. The specific meaning might be defined in the future.";
        else if (code == 1005)
          reason = "No status code was actually present.";
        else if (code == 1006)
          reason = "The connection was closed abnormally, e.g., without sending or receiving a Close control frame";
        else if (code == 1007)
          reason = "An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [http://tools.ietf.org/html/rfc3629] data within a text message).";
        else if (code == 1008)
          reason = "An endpoint is terminating the connection because it has received a message that \"violates its policy\". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.";
        else if (code == 1009)
          reason = "An endpoint is terminating the connection because it has received a message that is too big for it to process.";
        else if (code == 1010)
          reason = "An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: " + event.reason;
        else if (code == 1011)
          reason = "A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.";
        else if (code == 1015)
          reason = "The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).";
        else
          reason = "Unknown reason";
        return reason;
      };
    }, {"../enum": 12}],
    23: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum').Socket,
          WS = require('ws');
      module.exports = Socket;
      function Socket() {}
      Socket.prototype.ip = function() {
        if (this.innerSocket) {
          return this.innerSocket.remoteAddress;
        }
      };
      Socket.prototype.start = function(listeners) {
        this.listeners = listeners;
      };
      Socket.prototype.open = function(url) {
        var self = this;
        if (this.innerSocket) {
          if (this.innerSocket.connected) {
            this.innerSocket.close();
          }
          this.innerSocket = undefined;
        }
        this.innerSocket = new WS(url);
        this.innerSocket.binaryType = 'arraybuffer';
        this.innerSocket.onopen = function() {
          self.listeners.open(Enum.KEEP_ALIVE);
          self.innerSocket.onmessage = function(event) {
            if (event.data instanceof ArrayBuffer) {
              self.listeners.receive(new Uint8Array(event.data));
            } else {
              self.listeners.log.error('Socket', 'Invalid data type:', event.data);
            }
          };
        };
        this.innerSocket.onclose = function() {
          self.listeners.log.error('Socket', 'Connection closed');
          self.listeners.onClose();
        };
        this.innerSocket.onerror = function(error) {
          self.listeners.log.error('Socket', error.message, error.code);
          self.listeners.onClose();
        };
      };
      Socket.prototype.ping = function(uint8Array) {
        this.send(uint8Array);
      };
      Socket.prototype.send = function(uint8Array) {
        try {
          this.innerSocket.send(uint8Array);
        } catch (error) {
          this.listeners.log.error('Socket', error.message);
        }
      };
      Socket.prototype.close = function() {
        if (this.innerSocket) {
          this.innerSocket.close();
        }
      };
    }, {
      "../enum": 12,
      "ws": 41
    }],
    24: [function(require, module, exports) {
      'option strict';
      module.exports = ChunkController;
      function ChunkController(chunkHandler) {
        this.chunkHandler = chunkHandler;
      }
      ChunkController.prototype.resume = function() {
        this.chunkHandler.resume();
      };
      ChunkController.prototype.pause = function() {
        this.chunkHandler.pause();
      };
    }, {}],
    25: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum'),
          Chunkers = require('./chunkers'),
          ChunkController = require('./chunk-controller');
      module.exports = ChunkReceiver;
      function ChunkReceiver(config, packetHelper, listeners, webAPI, callback) {
        this.config = config;
        this.packetHelper = packetHelper;
        this.listeners = listeners;
        this.webAPI = webAPI;
        this.log = this.listeners.log;
        this.callback = callback;
      }
      ChunkReceiver.prototype.start = function(param, dataPacketBuffer) {
        this.log.trace('start');
        this.param = param;
        if (dataPacketBuffer) {
          this.dataPacketBuffer = dataPacketBuffer;
        }
        if (this.param.Context) {
          this.transferParam = {
            id: this.param.id,
            blobId: this.param.blobId,
            chunkNo: this.param.chunkNo,
            sequenceNo: 0
          };
          this.chunkWriter = Chunkers.newWriter(this.config, this.param, this.transferParam, this.listeners, this.webAPI);
          this.send(Enum.Pipe.Command.START_TRANSFER, true, this.transferParam);
          if (this.callback)
            this.callback('Operation started', this.result());
        }
      };
      ChunkReceiver.prototype.pause = function() {
        if (this.paused)
          return;
        this.log.trace('pause');
        this.paused = true;
        this.send(Enum.Pipe.Command.PAUSE_TRANSFER, false, this.transferParam);
      };
      ChunkReceiver.prototype.resume = function() {
        if (!this.paused)
          return;
        this.log.trace('resume');
        this.paused = false;
        this.param.blobId = this.transferParam.blobId;
        this.param.chunkNo = this.transferParam.chunkNo + 1;
        this.send(Enum.Pipe.Command.RESUME_TRANSFER, true, this.param);
      };
      ChunkReceiver.prototype.end = function(callback) {
        this.log.trace('end:' + this.transferParam.id);
        this.send(Enum.Pipe.Command.END_TRANSFER, true, this.transferParam);
        if (callback)
          callback(this.result());
        this.listeners.close(this.transferParam.id);
      };
      ChunkReceiver.prototype.nextChunk = function(transferParam, chunk) {
        if (this.paused)
          return;
        var self = this;
        if (transferParam.id !== this.transferParam.id) {
          this.error('ID mismatch:' + transferParam.id + ':' + this.transferParam.id);
          return;
        }
        this.transferParam.chunkNo = transferParam.chunkNo;
        this.chunkWriter.write(chunk, function(error, result) {
          if (!error) {
            if (result && result.blobId) {
              self.transferParam.blobId = result.blobId;
            }
            self.send(Enum.Pipe.Command.TRANSFER, true, self.transferParam);
            if (self.callback)
              self.callback(null, self.result());
          } else {
            self.error('ChunkWriter:' + error.message);
          }
        });
      };
      ChunkReceiver.prototype.acknowledgeChunk = function(id, clientResponse) {
        if (id !== this.transferParam.id) {
          this.error('ID mismatch:' + id + ':' + this.transferParam.id);
          return;
        }
        this.chunkWriter.acknowledgeChunk(clientResponse);
      };
      ChunkReceiver.prototype.error = function(error) {
        this.send(Enum.Pipe.Command.TRANSFER_ERROR, false, this.transferParam);
        if (this.callback)
          this.callback(error, this.result(true));
        this.log.error(this.transferParam.id, error);
        if (!this.webAPI) {
          this.listeners.close(this.transferParam.id);
        }
      };
      ChunkReceiver.prototype.abort = function() {
        this.log.trace('abort');
        this.stopTimeout();
        if (this.callback)
          this.callback('Operation aborted', this.result(true));
      };
      ChunkReceiver.prototype.content = function() {
        switch (this.param.type) {
          case Enum.ChunkHandler.Type.FILE:
            return {
              dataPacketBuffer: this.dataPacketBuffer,
              blob: this.chunkWriter.content().blob
            };
            break;
          case Enum.ChunkHandler.Type.DATAPACKET:
          default:
            return {dataPacketBuffer: this.chunkWriter.content().blob};
            break;
        }
      };
      ChunkReceiver.prototype.result = function(failed) {
        var result = null;
        if (failed) {
          this.param.chunkNo = this.transferParam.chunkNo;
          result = {param: this.param};
        } else if (this.chunkWriter.bof()) {
          result = {
            id: this.transferParam.id,
            direction: Enum.ChunkHandler.Direction.SEND,
            percent: this.chunkWriter.percentComplete(),
            controller: new ChunkController(this)
          };
        } else if (this.chunkWriter.eof()) {
          this.param.chunkNo = this.transferParam.chunkNo;
          result = {
            id: this.transferParam.id,
            direction: Enum.ChunkHandler.Direction.RECEIVE,
            blobId: this.chunkWriter.transferParam.blobId,
            param: this.param,
            content: this.content(),
            percent: this.chunkWriter.percentComplete()
          };
        } else {
          result = {
            id: this.transferParam.id,
            direction: Enum.ChunkHandler.Direction.RECEIVE,
            percent: this.chunkWriter.percentComplete()
          };
        }
        return result;
      };
      ChunkReceiver.prototype.send = function(command, acknowledge, param, payload) {
        if (this.listeners.pipe.ready()) {
          var flag = (acknowledge) ? Enum.Packet.IO.Flag.ACKNOWLEDGE : Enum.Packet.IO.Flag.NONE;
          this.listeners.pipe.send(this.packetHelper.writePipe(Enum.Pipe.EVP_VER, command, flag, ++this.transferParam.sequenceNo, param, payload));
          switch (command) {
            case Enum.Pipe.Command.START_TRANSFER:
            case Enum.Pipe.Command.TRANSFER:
            case Enum.Pipe.Command.RESUME_TRANSFER:
              this.stopTimeout();
              this.startTimeout();
              break;
            case Enum.Pipe.Command.PAUSE_TRANSFER:
            case Enum.Pipe.Command.TRANSFER_ERROR:
            case Enum.Pipe.Command.END_TRANSFER:
              this.stopTimeout();
              break;
          }
        } else {
          this.retry(command, acknowledge, param, payload);
        }
      };
      ChunkReceiver.prototype.retry = function(command, acknowledge, param, payload) {
        this.retryTimer = setTimeout(function() {
          self.retryTimer = null;
          self.send(command, acknowledge, param, payload);
          console.log('Retry', this.config.retrySecs);
        }, this.config.retrySecs * 1000);
      };
      ChunkReceiver.prototype.stopTimeout = function() {
        this.log.trace('stopTimeout');
        if (this.timeoutTimer) {
          clearTimeout(this.timeoutTimer);
          this.timeoutTimer = undefined;
        }
      };
      ChunkReceiver.prototype.startTimeout = function() {
        this.log.trace('startTimeout');
        if (!this.timeoutTimer) {
          var self = this;
          this.timeoutTimer = setTimeout(function() {
            self.timeoutTimer = undefined;
            self.error('Error.Opus.TIMEOUT');
          }, this.config.timeoutSecs * 1000);
        }
      };
    }, {
      "../enum": 31,
      "./chunk-controller": 24,
      "./chunkers": 29
    }],
    26: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum'),
          Chunkers = require('./chunkers'),
          ChunkController = require('./chunk-controller');
      module.exports = ChunkSender;
      function ChunkSender(config, packetHelper, listeners, webAPI, callback) {
        this.config = config;
        this.packetHelper = packetHelper;
        this.listeners = listeners;
        this.webAPI = webAPI;
        this.log = this.listeners.log;
        this.callback = callback;
        this.paused = false;
      }
      ChunkSender.prototype.start = function(param, content, dataPacketBuffer) {
        this.log.trace('start');
        this.param = param;
        this.param.blobId = this.param.blobId || null;
        this.param.chunkNo = this.param.chunkNo || 1;
        this.param.chunkCount = Math.ceil(this.param.Context.size / this.param.chunkSize);
        this.transferParam = {
          id: this.param.id,
          blobId: this.param.blobId,
          chunkNo: this.param.chunkNo,
          sequenceNo: 0
        };
        this.dataPacketBuffer = dataPacketBuffer;
        this.chunkReader = Chunkers.newReader(this.config, this.param, this.transferParam, this.listeners, this.webAPI, content);
        if (this.transferParam.chunkNo == 1) {
          this.send(Enum.Pipe.Command.START_TRANSFER, false, this.param, this.dataPacketBuffer);
          if (this.callback)
            this.callback('Operation started', this.result());
        } else {
          this.nextChunk(this.transferParam);
        }
      };
      ChunkSender.prototype.pause = function() {
        if (this.paused)
          return;
        this.log.trace('pause');
        this.paused = true;
        this.send(Enum.Pipe.Command.PAUSE_TRANSFER, false, this.transferParam);
      };
      ChunkSender.prototype.resume = function() {
        if (!this.paused)
          return;
        this.log.trace('resume');
        this.paused = false;
        this.param.blobId = this.transferParam.blobId;
        this.param.chunkNo = this.transferParam.chunkNo;
        this.send(Enum.Pipe.Command.RESUME_TRANSFER, false, this.param, this.dataPacketBuffer);
      };
      ChunkSender.prototype.nextChunk = function(transferParam) {
        if (this.paused)
          return;
        var self = this;
        if (transferParam.id !== this.transferParam.id) {
          this.error('ID mismatch:' + transferParam.id + ':' + this.transferParam.id);
          return;
        }
        if (transferParam.blobId) {
          this.transferParam.blobId = transferParam.blobId;
        }
        if (!this.chunkReader.eof()) {
          this.chunkReader.read(function(error, result, chunk) {
            self.send(Enum.Pipe.Command.TRANSFER, false, self.transferParam, chunk);
            if (self.callback)
              self.callback(null, self.result());
            self.transferParam.chunkNo++;
          });
        } else {
          this.send(Enum.Pipe.Command.END_TRANSFER, false, this.transferParam);
        }
      };
      ChunkSender.prototype.acknowledgeChunk = function(id, dataPacket) {
        if (id !== this.transferParam.id) {
          this.error('ID mismatch:' + id + ':' + this.transferParam.id);
          return;
        }
        this.chunkReader.acknowledgeChunk(dataPacket);
      };
      ChunkSender.prototype.error = function(error) {
        this.send(Enum.Pipe.Command.TRANSFER_ERROR, false, this.transferParam);
        if (this.callback)
          this.callback(error, this.result(true));
        this.log.error(this.transferParam.id, error);
        if (!this.webAPI) {
          this.listeners.close(this.transferParam.id);
        }
      };
      ChunkSender.prototype.end = function() {
        this.log.trace('end:' + this.transferParam.id);
        this.send(Enum.Pipe.Command.END_TRANSFER, true, this.transferParam);
        this.listeners.close(this.transferParam.id);
      };
      ChunkSender.prototype.abort = function() {
        this.log.trace('abort');
        this.stopTimeout();
        if (this.callback)
          this.callback('Operation aborted', this.result(true));
      };
      ChunkSender.prototype.result = function(failed) {
        var result = null;
        if (failed) {
          this.param.chunkNo = this.transferParam.chunkNo;
          result = {param: this.param};
        } else if (this.chunkReader.bof()) {
          result = {
            id: this.transferParam.id,
            direction: Enum.ChunkHandler.Direction.SEND,
            percent: this.chunkReader.percentComplete(),
            controller: new ChunkController(this)
          };
        } else if (this.chunkReader.eof()) {
          this.param.chunkNo = this.transferParam.chunkNo;
          result = {
            id: this.transferParam.id,
            direction: Enum.ChunkHandler.Direction.SEND,
            param: this.param,
            percent: this.chunkReader.percentComplete()
          };
        } else {
          result = {
            id: this.transferParam.id,
            direction: Enum.ChunkHandler.Direction.SEND,
            percent: this.chunkReader.percentComplete()
          };
        }
        return result;
      };
      ChunkSender.prototype.send = function(command, acknowledge, param, payload) {
        if (this.listeners.pipe.ready()) {
          var flag = (acknowledge) ? Enum.Packet.IO.Flag.ACKNOWLEDGE : Enum.Packet.IO.Flag.NONE;
          this.listeners.pipe.send(this.packetHelper.writePipe(Enum.Pipe.EVP_VER, command, flag, ++this.transferParam.sequenceNo, param, payload));
          switch (command) {
            case Enum.Pipe.Command.START_TRANSFER:
            case Enum.Pipe.Command.TRANSFER:
            case Enum.Pipe.Command.RESUME_TRANSFER:
              this.stopTimeout();
              this.startTimeout();
              break;
            case Enum.Pipe.Command.PAUSE_TRANSFER:
            case Enum.Pipe.Command.TRANSFER_ERROR:
            case Enum.Pipe.Command.END_TRANSFER:
              this.stopTimeout();
              break;
          }
        } else {
          this.retry(command, acknowledge, param, payload);
        }
      };
      ChunkSender.prototype.retry = function(command, acknowledge, param, payload) {
        this.retryTimer = setTimeout(function() {
          self.retryTimer = null;
          self.send(command, acknowledge, param, payload);
          console.log('Retry', this.config.retrySecs);
        }, this.config.retrySecs * 1000);
      };
      ChunkSender.prototype.stopTimeout = function() {
        if (this.timeoutTimer) {
          clearTimeout(this.timeoutTimer);
          this.timeoutTimer = null;
        }
      };
      ChunkSender.prototype.startTimeout = function() {
        if (!this.timeoutTimer) {
          var self = this;
          this.timeoutTimer = setTimeout(function() {
            self.timeoutTimer = null;
            if (self.retryTimer) {
              clearTimeout(self.retryTimer);
              self.retryTimer = null;
            }
            self.error('Error.Opus.TIMEOUT');
          }, this.config.timeoutSecs * 1000);
        }
      };
    }, {
      "../enum": 31,
      "./chunk-controller": 24,
      "./chunkers": 29
    }],
    27: [function(require, module, exports) {
      'option strict';
      module.exports = BlobReader;
      function BlobReader(config, param, transferParam, webAPI, content) {
        this.param = param;
        this.transferParam = transferParam;
        this.webAPI = webAPI;
        this.content = content;
        this.param.Context.size = this.content.blob.length;
        this.goto(this.transferParam.chunkNo);
      }
      BlobReader.prototype.bof = function() {
        return (this.offset == 0);
      };
      BlobReader.prototype.eof = function() {
        return (this.balance == 0);
      };
      BlobReader.prototype.percentComplete = function() {
        if (this.param.Context.size) {
          return parseFloat((this.offset / this.param.Context.size) * 100);
        }
      };
      BlobReader.prototype.goto = function(chunkNo) {
        if (!chunkNo || chunkNo <= 1) {
          this.transferParam.chunkNo = 1;
          this.offset = 0;
          this.balance = this.param.Context.size;
        } else {
          this.transferParam.chunkNo = (chunkNo > this.param.chunkCount) ? this.param.chunkCount : chunkNo;
          this.offset = (chunkNo < this.param.chunkCount) ? (this.transferParam.chunkNo - 1) * this.param.chunkSize : this.param.Context.size;
          this.balance = this.param.Context.size - this.offset;
        }
      };
      BlobReader.prototype.read = function(callback) {
        if (this.balance > 0) {
          var chunkSize = Math.min(this.param.chunkSize, this.balance),
              chunk = null;
          if (this.webAPI) {
            chunk = this.content.blob.subarray(this.offset, this.offset + chunkSize);
          } else {
            chunk = this.content.blob.slice(this.offset, this.offset + chunkSize);
          }
          this.offset += chunkSize;
          this.balance -= chunkSize;
          callback(null, null, chunk);
        } else {
          callback();
        }
      };
    }, {}],
    28: [function(require, module, exports) {
      (function(Buffer) {
        'option strict';
        module.exports = BlobWriter;
        function BlobWriter(config, param, transferParam, webAPI) {
          this.param = param;
          this.transferParam = transferParam;
          this.webAPI = webAPI;
          if (this.webAPI) {
            this.blob = new Uint8Array(this.param.Context.size);
          } else {
            this.blob = new Buffer(this.param.Context.size);
          }
          this.goto(this.transferParam.chunkNo);
        }
        BlobWriter.prototype.bof = function() {
          return (this.offset == 0);
        };
        BlobWriter.prototype.eof = function(chunkNo) {
          return (this.balance == 0);
        };
        BlobWriter.prototype.percentComplete = function() {
          if (this.param.Context.size) {
            return parseFloat((this.offset / this.param.Context.size) * 100);
          }
        };
        BlobWriter.prototype.goto = function(chunkNo) {
          if (!chunkNo || chunkNo <= 1) {
            this.transferParam.chunkNo = 1;
            this.offset = 0;
            this.balance = this.param.Context.size;
          } else {
            this.transferParam.chunkNo = (chunkNo > this.param.chunkCount) ? this.param.chunkCount : chunkNo;
            this.offset = (chunkNo < this.param.chunkCount) ? (this.transferParam.chunkNo - 1) * this.param.chunkSize : this.param.Context.size;
            this.balance = this.param.Context.size - this.offset;
          }
        };
        BlobWriter.prototype.write = function(chunk, callback) {
          if (this.balance > 0) {
            var chunkSize = chunk.length;
            if (this.webAPI) {
              this.blob.set(chunk, this.offset);
            } else {
              chunk.copy(this.blob, this.offset, 0, chunkSize);
            }
            this.offset += chunkSize;
            this.balance -= chunkSize;
            callback();
          } else {
            callback('Writing beyond EOF.');
          }
        };
        BlobWriter.prototype.content = function() {
          return {blob: this.blob};
        };
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    29: [function(require, module, exports) {
      'option strict';
      var Enum = require('../../enum'),
          BlobReader = require('./blob-reader'),
          BlobWriter = require('./blob-writer');
      module.exports = Chunkers;
      function Chunkers() {}
      Chunkers.newReader = function(config, param, transferParam, listeners, webAPI, content) {
        var chunker = null;
        switch (param.type) {
          case Enum.ChunkHandler.Type.FILE:
            if (Chunkers.CassandraReader) {
              chunker = new Chunkers.CassandraReader(config, param, transferParam, listeners);
            } else {
              chunker = new BlobReader(config, param, transferParam, webAPI, content);
            }
            break;
          case Enum.ChunkHandler.Type.DATAPACKET:
          default:
            chunker = new BlobReader(config, param, webAPI, content);
            break;
        }
        return chunker;
      };
      Chunkers.newWriter = function(config, param, transferParam, listeners, webAPI) {
        var chunker = null;
        switch (param.type) {
          case Enum.ChunkHandler.Type.FILE:
            if (Chunkers.CassandraReader) {
              chunker = new Chunkers.CassandraWriter(config, param, transferParam, listeners);
            } else {
              chunker = new BlobWriter(config, param, transferParam, webAPI);
            }
            break;
          case Enum.ChunkHandler.Type.DATAPACKET:
          default:
            chunker = new BlobWriter(config, param, webAPI);
            break;
        }
        return chunker;
      };
    }, {
      "../../enum": 31,
      "./blob-reader": 27,
      "./blob-writer": 28
    }],
    30: [function(require, module, exports) {
      'option strict';
      var Enum = require('../enum'),
          ChunkSender = require('./chunk-sender'),
          ChunkReceiver = require('./chunk-receiver'),
          Chunkers = require('./chunkers');
      module.exports = ChunkHandlers;
      function ChunkHandlers(config, components, pipeListeners, webAPI) {
        this.config = config;
        this.packetHelper = components.packetHelper;
        this.log = {
          trace: this.trace.bind(this),
          error: this.error.bind(this)
        };
        this.listeners = {
          pipe: pipeListeners,
          log: this.log,
          close: this.close.bind(this)
        };
        this.webAPI = webAPI;
        this.items = {};
        this.count = 0;
      }
      ChunkHandlers.registerChunkers = function(MoreChunkers) {
        if (MoreChunkers.CassandraReader)
          Chunkers.CassandraReader = MoreChunkers.CassandraReader;
        if (MoreChunkers.CassandraWriter)
          Chunkers.CassandraWriter = MoreChunkers.CassandraWriter;
      };
      ChunkHandlers.prototype.item = function(id, silent) {
        var handler = this.items[id];
        if (handler) {
          return handler;
        } else {
          if (!silent) {
            this.log.error('Sender/receiver does not exist:' + id);
          }
        }
      };
      ChunkHandlers.prototype.trace = function(id, message) {};
      ChunkHandlers.prototype.error = function(id, error) {
        this.close(id);
        console.error(id, error);
      };
      ChunkHandlers.prototype.close = function(id) {
        var handler = this.item(id, true);
        if (handler) {
          delete this.items[id];
          this.count--;
        }
      };
      ChunkHandlers.prototype.abort = function(id) {
        var handler = this.item(id);
        if (handler) {
          handler.abort();
          delete this.items[id];
          this.count--;
        }
      };
      ChunkHandlers.prototype.startSender = function(param, content, dataPacketBuffer, callback) {
        param.id = param.id || ChunkHandlers.timeUuid();
        var sender = this.item(param.id, true);
        if (!sender) {
          sender = new ChunkSender(this.config, this.packetHelper, this.listeners, this.webAPI, callback);
          this.items[param.id] = sender;
          this.count++;
          sender.start(param, content, dataPacketBuffer);
        } else {
          this.log.error('Sender with ID "' + id + '" exists');
        }
      };
      ChunkHandlers.prototype.sendNextChunk = function(param) {
        var sender = this.item(param.id);
        if (sender) {
          sender.nextChunk(param);
        }
      };
      ChunkHandlers.prototype.endSender = function(id) {
        var sender = this.items[id];
        if (sender) {
          sender.end();
        }
      };
      ChunkHandlers.prototype.newReceiver = function(param, callback) {
        param.id = ChunkHandlers.timeUuid();
        var receiver = this.item(param.id, true);
        if (!receiver) {
          receiver = new ChunkReceiver(this.config, this.packetHelper, this.listeners, this.webAPI, callback);
          this.items[param.id] = receiver;
          this.count++;
          receiver.start(param);
          return param.id;
        } else {
          this.log.error('File receiver with ID "' + param.id + '" exists');
        }
      };
      ChunkHandlers.prototype.startReceiver = function(param, dataPacketBuffer, callback) {
        var receiver = this.item(param.id, true);
        if (!receiver) {
          receiver = new ChunkReceiver(this.config, this.packetHelper, this.listeners, this.webAPI, callback);
          this.items[param.id] = receiver;
          this.count++;
        }
        receiver.start(param, dataPacketBuffer);
      };
      ChunkHandlers.prototype.receiveNextChunk = function(param, chunk) {
        var receiver = this.item(param.id);
        if (receiver) {
          receiver.nextChunk(param, chunk);
        }
      };
      ChunkHandlers.prototype.endReceiver = function(id, callback, getBlob) {
        var receiver = this.item(id);
        if (receiver) {
          receiver.end(callback, getBlob);
        }
      };
      ChunkHandlers.prototype.acknowledgeChunk = function(id, dataPacket) {
        var item = this.item(id);
        if (item) {
          item.acknowledgeChunk(id, dataPacket);
        }
      };
      ChunkHandlers.timeUuid = function() {
        var now = Date.now(),
            uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(char) {
              var rnd = (now + Math.random() * 16) % 16 | 0;
              return (char == 'x' ? rnd : (rnd & 0x3 | 0x8)).toString(16);
            });
        return uuid;
      };
    }, {
      "../enum": 31,
      "./chunk-receiver": 25,
      "./chunk-sender": 26,
      "./chunkers": 29
    }],
    31: [function(require, module, exports) {
      'option strict';
      module.exports = {
        Mode: {
          DEV: 'DEV',
          PROD: 'PROD'
        },
        Status: {
          SUCCESS: 0,
          ERROR: 1
        },
        ServerProtocol: {
          HTTP: 'HTTP',
          HTTPS: 'HTTPS'
        },
        DataProtocol: {
          SIMPLE: 'SIMPLE',
          CURVE_ZMQ: 'CURVE_ZMQ'
        },
        CurveZMQ: {
          State: {
            SEND_HELLO: 'SEND_HELLO',
            WAIT_WELCOME: 'WAIT_WELCOME',
            READY: 'READY'
          },
          MAX_INT: Math.pow(2, 32)
        },
        Socket: {
          KEEP_ALIVE: true,
          HTTPLongPoll: {
            Command: {
              CONNECT: 1,
              OPEN: 2,
              MESSAGE: 3,
              CLOSE: 4
            },
            State: {
              UNSENT: 0,
              OPENED: 1,
              HEADERS_RECEIVED: 2,
              LOADING: 3,
              DONE: 4
            },
            Status: {SUCCESSFULL: 200},
            responseTimeoutMillisecs: 500
          }
        },
        Pipe: {
          EVP_VER: 1,
          EVP_PATH: '/_evp',
          MAX_INT: Math.pow(2, 32),
          Command: {
            OPEN: 1,
            PING: 2,
            CLOSE: 3,
            EVENT: 4,
            REQUEST: 5,
            RESPONSE: 6,
            START_TRANSFER: 7,
            TRANSFER: 8,
            TRANSFER_ERROR: 9,
            END_TRANSFER: 10,
            PAUSE_TRANSFER: 11,
            RESUME_TRANSFER: 12
          },
          State: {
            WAIT_READY: 'WAIT_READY',
            READY: 'READY'
          },
          Status: {
            CONNECTION_OPENED: 'CONNECTION_OPENED',
            CONNECTION_CLOSED: 'CONNECTION_CLOSED',
            SESSION_RESTORED: 'SESSION_RESTORED',
            SESSION_UPDATED: 'SESSION_UPDATED',
            SESSION_FAILED: 'SESSION_FAILED',
            MAX_CONNECT_ATTEMPTS: 'MAX_CONNECT_ATTEMPTS'
          },
          ResponseCode: {
            SUCCESS: 1,
            ERROR_SERVER: 501,
            ERROR_UNSUPPORTED: 502,
            ERROR_UNAUTHORISED: 403,
            ERROR_NO_ENTITY: 404,
            ERROR_SOCKET: 498,
            ERROR_TIMEOUT: 499
          }
        },
        Packet: {
          IO: {Flag: {
              NONE: 0,
              ACKNOWLEDGE: 1
            }},
          Client: {Flag: {
              REQUEST: 0,
              BLOB_SEND_REQUEST: 2,
              BLOB_RECEIVE_REQUEST: 3,
              RESPONSE: 4,
              FORWARD_RESPONSE: 7,
              INTERNAL_RESPONSE: 9,
              QUEUE_EVENT: 10,
              QUEUE_REQUEST: 11,
              QUEUE_RESPONSE: 12,
              REST_REQUEST: 13,
              REST_RESPONSE: 14
            }},
          Hop: {
            BLOB: 'BLOB',
            CLIENT: 'CLIENT',
            SERVER: 'SERVER',
            SERVER_BUFFER: 'SERVER_BUFFER',
            ROUTER_IN: 'ROUTER_IN',
            ROUTER_OUT: 'ROUTER_OUT',
            EXECUTOR: 'EXECUTOR',
            COMMAND: 'COMMAND'
          }
        },
        Blob: {
          ObjectType: {
            UNKNOWN: 0,
            BYTE: 1,
            SHORT_INTEGER: 2,
            INTEGER: 3,
            STRING: 4,
            JSON: 5,
            ARRAY: 6,
            ARRAY_BUFFER: 7,
            UINT8ARRAY: 8,
            BUFFER: 9,
            Key: {
              0: 'UNKNOWN',
              1: 'BYTE',
              2: 'SHORT_INTEGER',
              3: 'INTEGER',
              4: 'STRING',
              5: 'JSON',
              6: 'ARRAY',
              7: 'ARRAY_BUFFER',
              8: 'UINT8ARRAY',
              9: 'BUFFER'
            }
          },
          Offset: {
            PACKET_LENGTH: 4,
            DATA_OBJECT_METADATA: 5
          }
        },
        ChunkHandler: {
          Type: {
            DATAPACKET: 1,
            FILE: 2
          },
          Direction: {
            SEND: 1,
            RECEIVE: 2
          }
        }
      };
    }, {}],
    32: [function(require, module, exports) {
      var alea = require('./lib/alea');
      var xor128 = require('./lib/xor128');
      var xorwow = require('./lib/xorwow');
      var xorshift7 = require('./lib/xorshift7');
      var xor4096 = require('./lib/xor4096');
      var tychei = require('./lib/tychei');
      var sr = require('./seedrandom');
      sr.alea = alea;
      sr.xor128 = xor128;
      sr.xorwow = xorwow;
      sr.xorshift7 = xorshift7;
      sr.xor4096 = xor4096;
      sr.tychei = tychei;
      module.exports = sr;
    }, {
      "./lib/alea": 33,
      "./lib/tychei": 34,
      "./lib/xor128": 35,
      "./lib/xor4096": 36,
      "./lib/xorshift7": 37,
      "./lib/xorwow": 38,
      "./seedrandom": 39
    }],
    33: [function(require, module, exports) {
      (function(global, module, define) {
        function Alea(seed) {
          var me = this,
              mash = Mash();
          me.next = function() {
            var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10;
            me.s0 = me.s1;
            me.s1 = me.s2;
            return me.s2 = t - (me.c = t | 0);
          };
          me.c = 1;
          me.s0 = mash(' ');
          me.s1 = mash(' ');
          me.s2 = mash(' ');
          me.s0 -= mash(seed);
          if (me.s0 < 0) {
            me.s0 += 1;
          }
          me.s1 -= mash(seed);
          if (me.s1 < 0) {
            me.s1 += 1;
          }
          me.s2 -= mash(seed);
          if (me.s2 < 0) {
            me.s2 += 1;
          }
          mash = null;
        }
        function copy(f, t) {
          t.c = f.c;
          t.s0 = f.s0;
          t.s1 = f.s1;
          t.s2 = f.s2;
          return t;
        }
        function impl(seed, opts) {
          var xg = new Alea(seed),
              state = opts && opts.state,
              prng = xg.next;
          prng.int32 = function() {
            return (xg.next() * 0x100000000) | 0;
          };
          prng.double = function() {
            return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16;
          };
          prng.quick = prng;
          if (state) {
            if (typeof(state) == 'object')
              copy(state, xg);
            prng.state = function() {
              return copy(xg, {});
            };
          }
          return prng;
        }
        function Mash() {
          var n = 0xefc8249d;
          var mash = function(data) {
            data = data.toString();
            for (var i = 0; i < data.length; i++) {
              n += data.charCodeAt(i);
              var h = 0.02519603282416938 * n;
              n = h >>> 0;
              h -= n;
              h *= n;
              n = h >>> 0;
              h -= n;
              n += h * 0x100000000;
            }
            return (n >>> 0) * 2.3283064365386963e-10;
          };
          return mash;
        }
        if (module && module.exports) {
          module.exports = impl;
        } else if (define && define.amd) {
          define(function() {
            return impl;
          });
        } else {
          this.alea = impl;
        }
      })(this, (typeof module) == 'object' && module, (typeof define) == 'function' && define);
    }, {}],
    34: [function(require, module, exports) {
      (function(global, module, define) {
        function XorGen(seed) {
          var me = this,
              strseed = '';
          me.next = function() {
            var b = me.b,
                c = me.c,
                d = me.d,
                a = me.a;
            b = (b << 25) ^ (b >>> 7) ^ c;
            c = (c - d) | 0;
            d = (d << 24) ^ (d >>> 8) ^ a;
            a = (a - b) | 0;
            me.b = b = (b << 20) ^ (b >>> 12) ^ c;
            me.c = c = (c - d) | 0;
            me.d = (d << 16) ^ (c >>> 16) ^ a;
            return me.a = (a - b) | 0;
          };
          me.a = 0;
          me.b = 0;
          me.c = 2654435769 | 0;
          me.d = 1367130551;
          if (seed === Math.floor(seed)) {
            me.a = (seed / 0x100000000) | 0;
            me.b = seed | 0;
          } else {
            strseed += seed;
          }
          for (var k = 0; k < strseed.length + 20; k++) {
            me.b ^= strseed.charCodeAt(k) | 0;
            me.next();
          }
        }
        function copy(f, t) {
          t.a = f.a;
          t.b = f.b;
          t.c = f.c;
          t.d = f.d;
          return t;
        }
        ;
        function impl(seed, opts) {
          var xg = new XorGen(seed),
              state = opts && opts.state,
              prng = function() {
                return (xg.next() >>> 0) / 0x100000000;
              };
          prng.double = function() {
            do {
              var top = xg.next() >>> 11,
                  bot = (xg.next() >>> 0) / 0x100000000,
                  result = (top + bot) / (1 << 21);
            } while (result === 0);
            return result;
          };
          prng.int32 = xg.next;
          prng.quick = prng;
          if (state) {
            if (typeof(state) == 'object')
              copy(state, xg);
            prng.state = function() {
              return copy(xg, {});
            };
          }
          return prng;
        }
        if (module && module.exports) {
          module.exports = impl;
        } else if (define && define.amd) {
          define(function() {
            return impl;
          });
        } else {
          this.tychei = impl;
        }
      })(this, (typeof module) == 'object' && module, (typeof define) == 'function' && define);
    }, {}],
    35: [function(require, module, exports) {
      (function(global, module, define) {
        function XorGen(seed) {
          var me = this,
              strseed = '';
          me.x = 0;
          me.y = 0;
          me.z = 0;
          me.w = 0;
          me.next = function() {
            var t = me.x ^ (me.x << 11);
            me.x = me.y;
            me.y = me.z;
            me.z = me.w;
            return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);
          };
          if (seed === (seed | 0)) {
            me.x = seed;
          } else {
            strseed += seed;
          }
          for (var k = 0; k < strseed.length + 64; k++) {
            me.x ^= strseed.charCodeAt(k) | 0;
            me.next();
          }
        }
        function copy(f, t) {
          t.x = f.x;
          t.y = f.y;
          t.z = f.z;
          t.w = f.w;
          return t;
        }
        function impl(seed, opts) {
          var xg = new XorGen(seed),
              state = opts && opts.state,
              prng = function() {
                return (xg.next() >>> 0) / 0x100000000;
              };
          prng.double = function() {
            do {
              var top = xg.next() >>> 11,
                  bot = (xg.next() >>> 0) / 0x100000000,
                  result = (top + bot) / (1 << 21);
            } while (result === 0);
            return result;
          };
          prng.int32 = xg.next;
          prng.quick = prng;
          if (state) {
            if (typeof(state) == 'object')
              copy(state, xg);
            prng.state = function() {
              return copy(xg, {});
            };
          }
          return prng;
        }
        if (module && module.exports) {
          module.exports = impl;
        } else if (define && define.amd) {
          define(function() {
            return impl;
          });
        } else {
          this.xor128 = impl;
        }
      })(this, (typeof module) == 'object' && module, (typeof define) == 'function' && define);
    }, {}],
    36: [function(require, module, exports) {
      (function(global, module, define) {
        function XorGen(seed) {
          var me = this;
          me.next = function() {
            var w = me.w,
                X = me.X,
                i = me.i,
                t,
                v;
            me.w = w = (w + 0x61c88647) | 0;
            v = X[(i + 34) & 127];
            t = X[i = ((i + 1) & 127)];
            v ^= v << 13;
            t ^= t << 17;
            v ^= v >>> 15;
            t ^= t >>> 12;
            v = X[i] = v ^ t;
            me.i = i;
            return (v + (w ^ (w >>> 16))) | 0;
          };
          function init(me, seed) {
            var t,
                v,
                i,
                j,
                w,
                X = [],
                limit = 128;
            if (seed === (seed | 0)) {
              v = seed;
              seed = null;
            } else {
              seed = seed + '\0';
              v = 0;
              limit = Math.max(limit, seed.length);
            }
            for (i = 0, j = -32; j < limit; ++j) {
              if (seed)
                v ^= seed.charCodeAt((j + 32) % seed.length);
              if (j === 0)
                w = v;
              v ^= v << 10;
              v ^= v >>> 15;
              v ^= v << 4;
              v ^= v >>> 13;
              if (j >= 0) {
                w = (w + 0x61c88647) | 0;
                t = (X[j & 127] ^= (v + w));
                i = (0 == t) ? i + 1 : 0;
              }
            }
            if (i >= 128) {
              X[(seed && seed.length || 0) & 127] = -1;
            }
            i = 127;
            for (j = 4 * 128; j > 0; --j) {
              v = X[(i + 34) & 127];
              t = X[i = ((i + 1) & 127)];
              v ^= v << 13;
              t ^= t << 17;
              v ^= v >>> 15;
              t ^= t >>> 12;
              X[i] = v ^ t;
            }
            me.w = w;
            me.X = X;
            me.i = i;
          }
          init(me, seed);
        }
        function copy(f, t) {
          t.i = f.i;
          t.w = f.w;
          t.X = f.X.slice();
          return t;
        }
        ;
        function impl(seed, opts) {
          if (seed == null)
            seed = +(new Date);
          var xg = new XorGen(seed),
              state = opts && opts.state,
              prng = function() {
                return (xg.next() >>> 0) / 0x100000000;
              };
          prng.double = function() {
            do {
              var top = xg.next() >>> 11,
                  bot = (xg.next() >>> 0) / 0x100000000,
                  result = (top + bot) / (1 << 21);
            } while (result === 0);
            return result;
          };
          prng.int32 = xg.next;
          prng.quick = prng;
          if (state) {
            if (state.X)
              copy(state, xg);
            prng.state = function() {
              return copy(xg, {});
            };
          }
          return prng;
        }
        if (module && module.exports) {
          module.exports = impl;
        } else if (define && define.amd) {
          define(function() {
            return impl;
          });
        } else {
          this.xor4096 = impl;
        }
      })(this, (typeof module) == 'object' && module, (typeof define) == 'function' && define);
    }, {}],
    37: [function(require, module, exports) {
      (function(global, module, define) {
        function XorGen(seed) {
          var me = this;
          me.next = function() {
            var X = me.x,
                i = me.i,
                t,
                v,
                w;
            t = X[i];
            t ^= (t >>> 7);
            v = t ^ (t << 24);
            t = X[(i + 1) & 7];
            v ^= t ^ (t >>> 10);
            t = X[(i + 3) & 7];
            v ^= t ^ (t >>> 3);
            t = X[(i + 4) & 7];
            v ^= t ^ (t << 7);
            t = X[(i + 7) & 7];
            t = t ^ (t << 13);
            v ^= t ^ (t << 9);
            X[i] = v;
            me.i = (i + 1) & 7;
            return v;
          };
          function init(me, seed) {
            var j,
                w,
                X = [];
            if (seed === (seed | 0)) {
              w = X[0] = seed;
            } else {
              seed = '' + seed;
              for (j = 0; j < seed.length; ++j) {
                X[j & 7] = (X[j & 7] << 15) ^ (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);
              }
            }
            while (X.length < 8)
              X.push(0);
            for (j = 0; j < 8 && X[j] === 0; ++j)
              ;
            if (j == 8)
              w = X[7] = -1;
            else
              w = X[j];
            me.x = X;
            me.i = 0;
            for (j = 256; j > 0; --j) {
              me.next();
            }
          }
          init(me, seed);
        }
        function copy(f, t) {
          t.x = f.x.slice();
          t.i = f.i;
          return t;
        }
        function impl(seed, opts) {
          if (seed == null)
            seed = +(new Date);
          var xg = new XorGen(seed),
              state = opts && opts.state,
              prng = function() {
                return (xg.next() >>> 0) / 0x100000000;
              };
          prng.double = function() {
            do {
              var top = xg.next() >>> 11,
                  bot = (xg.next() >>> 0) / 0x100000000,
                  result = (top + bot) / (1 << 21);
            } while (result === 0);
            return result;
          };
          prng.int32 = xg.next;
          prng.quick = prng;
          if (state) {
            if (state.x)
              copy(state, xg);
            prng.state = function() {
              return copy(xg, {});
            };
          }
          return prng;
        }
        if (module && module.exports) {
          module.exports = impl;
        } else if (define && define.amd) {
          define(function() {
            return impl;
          });
        } else {
          this.xorshift7 = impl;
        }
      })(this, (typeof module) == 'object' && module, (typeof define) == 'function' && define);
    }, {}],
    38: [function(require, module, exports) {
      (function(global, module, define) {
        function XorGen(seed) {
          var me = this,
              strseed = '';
          me.next = function() {
            var t = (me.x ^ (me.x >>> 2));
            me.x = me.y;
            me.y = me.z;
            me.z = me.w;
            me.w = me.v;
            return (me.d = (me.d + 362437 | 0)) + (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;
          };
          me.x = 0;
          me.y = 0;
          me.z = 0;
          me.w = 0;
          me.v = 0;
          if (seed === (seed | 0)) {
            me.x = seed;
          } else {
            strseed += seed;
          }
          for (var k = 0; k < strseed.length + 64; k++) {
            me.x ^= strseed.charCodeAt(k) | 0;
            if (k == strseed.length) {
              me.d = me.x << 10 ^ me.x >>> 4;
            }
            me.next();
          }
        }
        function copy(f, t) {
          t.x = f.x;
          t.y = f.y;
          t.z = f.z;
          t.w = f.w;
          t.v = f.v;
          t.d = f.d;
          return t;
        }
        function impl(seed, opts) {
          var xg = new XorGen(seed),
              state = opts && opts.state,
              prng = function() {
                return (xg.next() >>> 0) / 0x100000000;
              };
          prng.double = function() {
            do {
              var top = xg.next() >>> 11,
                  bot = (xg.next() >>> 0) / 0x100000000,
                  result = (top + bot) / (1 << 21);
            } while (result === 0);
            return result;
          };
          prng.int32 = xg.next;
          prng.quick = prng;
          if (state) {
            if (typeof(state) == 'object')
              copy(state, xg);
            prng.state = function() {
              return copy(xg, {});
            };
          }
          return prng;
        }
        if (module && module.exports) {
          module.exports = impl;
        } else if (define && define.amd) {
          define(function() {
            return impl;
          });
        } else {
          this.xorwow = impl;
        }
      })(this, (typeof module) == 'object' && module, (typeof define) == 'function' && define);
    }, {}],
    39: [function(require, module, exports) {
      (function(pool, math) {
        var global = this,
            width = 256,
            chunks = 6,
            digits = 52,
            rngname = 'random',
            startdenom = math.pow(width, chunks),
            significance = math.pow(2, digits),
            overflow = significance * 2,
            mask = width - 1,
            nodecrypto;
        function seedrandom(seed, options, callback) {
          var key = [];
          options = (options == true) ? {entropy: true} : (options || {});
          var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : (seed == null) ? autoseed() : seed, 3), key);
          var arc4 = new ARC4(key);
          var prng = function() {
            var n = arc4.g(chunks),
                d = startdenom,
                x = 0;
            while (n < significance) {
              n = (n + x) * width;
              d *= width;
              x = arc4.g(1);
            }
            while (n >= overflow) {
              n /= 2;
              d /= 2;
              x >>>= 1;
            }
            return (n + x) / d;
          };
          prng.int32 = function() {
            return arc4.g(4) | 0;
          };
          prng.quick = function() {
            return arc4.g(4) / 0x100000000;
          };
          prng.double = prng;
          mixkey(tostring(arc4.S), pool);
          return (options.pass || callback || function(prng, seed, is_math_call, state) {
            if (state) {
              if (state.S) {
                copy(state, arc4);
              }
              prng.state = function() {
                return copy(arc4, {});
              };
            }
            if (is_math_call) {
              math[rngname] = prng;
              return seed;
            } else
              return prng;
          })(prng, shortseed, 'global' in options ? options.global : (this == math), options.state);
        }
        math['seed' + rngname] = seedrandom;
        function ARC4(key) {
          var t,
              keylen = key.length,
              me = this,
              i = 0,
              j = me.i = me.j = 0,
              s = me.S = [];
          if (!keylen) {
            key = [keylen++];
          }
          while (i < width) {
            s[i] = i++;
          }
          for (i = 0; i < width; i++) {
            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];
            s[j] = t;
          }
          (me.g = function(count) {
            var t,
                r = 0,
                i = me.i,
                j = me.j,
                s = me.S;
            while (count--) {
              t = s[i = mask & (i + 1)];
              r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];
            }
            me.i = i;
            me.j = j;
            return r;
          })(width);
        }
        function copy(f, t) {
          t.i = f.i;
          t.j = f.j;
          t.S = f.S.slice();
          return t;
        }
        ;
        function flatten(obj, depth) {
          var result = [],
              typ = (typeof obj),
              prop;
          if (depth && typ == 'object') {
            for (prop in obj) {
              try {
                result.push(flatten(obj[prop], depth - 1));
              } catch (e) {}
            }
          }
          return (result.length ? result : typ == 'string' ? obj : obj + '\0');
        }
        function mixkey(seed, key) {
          var stringseed = seed + '',
              smear,
              j = 0;
          while (j < stringseed.length) {
            key[mask & j] = mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));
          }
          return tostring(key);
        }
        function autoseed() {
          try {
            if (nodecrypto) {
              return tostring(nodecrypto.randomBytes(width));
            }
            var out = new Uint8Array(width);
            (global.crypto || global.msCrypto).getRandomValues(out);
            return tostring(out);
          } catch (e) {
            var browser = global.navigator,
                plugins = browser && browser.plugins;
            return [+new Date, global, plugins, global.screen, tostring(pool)];
          }
        }
        function tostring(a) {
          return String.fromCharCode.apply(0, a);
        }
        mixkey(math.random(), pool);
        if ((typeof module) == 'object' && module.exports) {
          module.exports = seedrandom;
          try {
            nodecrypto = require('crypto');
          } catch (ex) {}
        } else if ((typeof define) == 'function' && define.amd) {
          define(function() {
            return seedrandom;
          });
        }
      })([], Math);
    }, {"crypto": 48}],
    40: [function(require, module, exports) {
      module.exports = require('../tweetnacl-patch');
    }, {"../tweetnacl-patch": 42}],
    41: [function(require, module, exports) {
      var global = (function() {
        return this;
      })();
      var WebSocket = global.WebSocket || global.MozWebSocket;
      module.exports = WebSocket ? ws : null;
      function ws(uri, protocols, opts) {
        var instance;
        if (protocols) {
          instance = new WebSocket(uri, protocols);
        } else {
          instance = new WebSocket(uri);
        }
        return instance;
      }
      if (WebSocket)
        ws.prototype = WebSocket.prototype;
    }, {}],
    42: [function(require, module, exports) {
      (function(global, Buffer) {
        var seedRandom = require('seedrandom');
        (function(nacl) {
          'use strict';
          var gf = function(init) {
            var i,
                r = new Float64Array(16);
            if (init)
              for (i = 0; i < init.length; i++)
                r[i] = init[i];
            return r;
          };
          var randombytes = function() {
            throw new Error('no PRNG');
          };
          var _0 = new Uint8Array(16);
          var _9 = new Uint8Array(32);
          _9[0] = 9;
          var gf0 = gf(),
              gf1 = gf([1]),
              _121665 = gf([0xdb41, 1]),
              D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),
              D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),
              X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),
              Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),
              I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);
          function ts64(x, i, h, l) {
            x[i] = (h >> 24) & 0xff;
            x[i + 1] = (h >> 16) & 0xff;
            x[i + 2] = (h >> 8) & 0xff;
            x[i + 3] = h & 0xff;
            x[i + 4] = (l >> 24) & 0xff;
            x[i + 5] = (l >> 16) & 0xff;
            x[i + 6] = (l >> 8) & 0xff;
            x[i + 7] = l & 0xff;
          }
          function vn(x, xi, y, yi, n) {
            var i,
                d = 0;
            for (i = 0; i < n; i++)
              d |= x[xi + i] ^ y[yi + i];
            return (1 & ((d - 1) >>> 8)) - 1;
          }
          function crypto_verify_16(x, xi, y, yi) {
            return vn(x, xi, y, yi, 16);
          }
          function crypto_verify_32(x, xi, y, yi) {
            return vn(x, xi, y, yi, 32);
          }
          function core_salsa20(o, p, k, c) {
            var j0 = c[0] & 0xff | (c[1] & 0xff) << 8 | (c[2] & 0xff) << 16 | (c[3] & 0xff) << 24,
                j1 = k[0] & 0xff | (k[1] & 0xff) << 8 | (k[2] & 0xff) << 16 | (k[3] & 0xff) << 24,
                j2 = k[4] & 0xff | (k[5] & 0xff) << 8 | (k[6] & 0xff) << 16 | (k[7] & 0xff) << 24,
                j3 = k[8] & 0xff | (k[9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,
                j4 = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,
                j5 = c[4] & 0xff | (c[5] & 0xff) << 8 | (c[6] & 0xff) << 16 | (c[7] & 0xff) << 24,
                j6 = p[0] & 0xff | (p[1] & 0xff) << 8 | (p[2] & 0xff) << 16 | (p[3] & 0xff) << 24,
                j7 = p[4] & 0xff | (p[5] & 0xff) << 8 | (p[6] & 0xff) << 16 | (p[7] & 0xff) << 24,
                j8 = p[8] & 0xff | (p[9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,
                j9 = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,
                j10 = c[8] & 0xff | (c[9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,
                j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,
                j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,
                j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,
                j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,
                j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24;
            var x0 = j0,
                x1 = j1,
                x2 = j2,
                x3 = j3,
                x4 = j4,
                x5 = j5,
                x6 = j6,
                x7 = j7,
                x8 = j8,
                x9 = j9,
                x10 = j10,
                x11 = j11,
                x12 = j12,
                x13 = j13,
                x14 = j14,
                x15 = j15,
                u;
            for (var i = 0; i < 20; i += 2) {
              u = x0 + x12 | 0;
              x4 ^= u << 7 | u >>> (32 - 7);
              u = x4 + x0 | 0;
              x8 ^= u << 9 | u >>> (32 - 9);
              u = x8 + x4 | 0;
              x12 ^= u << 13 | u >>> (32 - 13);
              u = x12 + x8 | 0;
              x0 ^= u << 18 | u >>> (32 - 18);
              u = x5 + x1 | 0;
              x9 ^= u << 7 | u >>> (32 - 7);
              u = x9 + x5 | 0;
              x13 ^= u << 9 | u >>> (32 - 9);
              u = x13 + x9 | 0;
              x1 ^= u << 13 | u >>> (32 - 13);
              u = x1 + x13 | 0;
              x5 ^= u << 18 | u >>> (32 - 18);
              u = x10 + x6 | 0;
              x14 ^= u << 7 | u >>> (32 - 7);
              u = x14 + x10 | 0;
              x2 ^= u << 9 | u >>> (32 - 9);
              u = x2 + x14 | 0;
              x6 ^= u << 13 | u >>> (32 - 13);
              u = x6 + x2 | 0;
              x10 ^= u << 18 | u >>> (32 - 18);
              u = x15 + x11 | 0;
              x3 ^= u << 7 | u >>> (32 - 7);
              u = x3 + x15 | 0;
              x7 ^= u << 9 | u >>> (32 - 9);
              u = x7 + x3 | 0;
              x11 ^= u << 13 | u >>> (32 - 13);
              u = x11 + x7 | 0;
              x15 ^= u << 18 | u >>> (32 - 18);
              u = x0 + x3 | 0;
              x1 ^= u << 7 | u >>> (32 - 7);
              u = x1 + x0 | 0;
              x2 ^= u << 9 | u >>> (32 - 9);
              u = x2 + x1 | 0;
              x3 ^= u << 13 | u >>> (32 - 13);
              u = x3 + x2 | 0;
              x0 ^= u << 18 | u >>> (32 - 18);
              u = x5 + x4 | 0;
              x6 ^= u << 7 | u >>> (32 - 7);
              u = x6 + x5 | 0;
              x7 ^= u << 9 | u >>> (32 - 9);
              u = x7 + x6 | 0;
              x4 ^= u << 13 | u >>> (32 - 13);
              u = x4 + x7 | 0;
              x5 ^= u << 18 | u >>> (32 - 18);
              u = x10 + x9 | 0;
              x11 ^= u << 7 | u >>> (32 - 7);
              u = x11 + x10 | 0;
              x8 ^= u << 9 | u >>> (32 - 9);
              u = x8 + x11 | 0;
              x9 ^= u << 13 | u >>> (32 - 13);
              u = x9 + x8 | 0;
              x10 ^= u << 18 | u >>> (32 - 18);
              u = x15 + x14 | 0;
              x12 ^= u << 7 | u >>> (32 - 7);
              u = x12 + x15 | 0;
              x13 ^= u << 9 | u >>> (32 - 9);
              u = x13 + x12 | 0;
              x14 ^= u << 13 | u >>> (32 - 13);
              u = x14 + x13 | 0;
              x15 ^= u << 18 | u >>> (32 - 18);
            }
            x0 = x0 + j0 | 0;
            x1 = x1 + j1 | 0;
            x2 = x2 + j2 | 0;
            x3 = x3 + j3 | 0;
            x4 = x4 + j4 | 0;
            x5 = x5 + j5 | 0;
            x6 = x6 + j6 | 0;
            x7 = x7 + j7 | 0;
            x8 = x8 + j8 | 0;
            x9 = x9 + j9 | 0;
            x10 = x10 + j10 | 0;
            x11 = x11 + j11 | 0;
            x12 = x12 + j12 | 0;
            x13 = x13 + j13 | 0;
            x14 = x14 + j14 | 0;
            x15 = x15 + j15 | 0;
            o[0] = x0 >>> 0 & 0xff;
            o[1] = x0 >>> 8 & 0xff;
            o[2] = x0 >>> 16 & 0xff;
            o[3] = x0 >>> 24 & 0xff;
            o[4] = x1 >>> 0 & 0xff;
            o[5] = x1 >>> 8 & 0xff;
            o[6] = x1 >>> 16 & 0xff;
            o[7] = x1 >>> 24 & 0xff;
            o[8] = x2 >>> 0 & 0xff;
            o[9] = x2 >>> 8 & 0xff;
            o[10] = x2 >>> 16 & 0xff;
            o[11] = x2 >>> 24 & 0xff;
            o[12] = x3 >>> 0 & 0xff;
            o[13] = x3 >>> 8 & 0xff;
            o[14] = x3 >>> 16 & 0xff;
            o[15] = x3 >>> 24 & 0xff;
            o[16] = x4 >>> 0 & 0xff;
            o[17] = x4 >>> 8 & 0xff;
            o[18] = x4 >>> 16 & 0xff;
            o[19] = x4 >>> 24 & 0xff;
            o[20] = x5 >>> 0 & 0xff;
            o[21] = x5 >>> 8 & 0xff;
            o[22] = x5 >>> 16 & 0xff;
            o[23] = x5 >>> 24 & 0xff;
            o[24] = x6 >>> 0 & 0xff;
            o[25] = x6 >>> 8 & 0xff;
            o[26] = x6 >>> 16 & 0xff;
            o[27] = x6 >>> 24 & 0xff;
            o[28] = x7 >>> 0 & 0xff;
            o[29] = x7 >>> 8 & 0xff;
            o[30] = x7 >>> 16 & 0xff;
            o[31] = x7 >>> 24 & 0xff;
            o[32] = x8 >>> 0 & 0xff;
            o[33] = x8 >>> 8 & 0xff;
            o[34] = x8 >>> 16 & 0xff;
            o[35] = x8 >>> 24 & 0xff;
            o[36] = x9 >>> 0 & 0xff;
            o[37] = x9 >>> 8 & 0xff;
            o[38] = x9 >>> 16 & 0xff;
            o[39] = x9 >>> 24 & 0xff;
            o[40] = x10 >>> 0 & 0xff;
            o[41] = x10 >>> 8 & 0xff;
            o[42] = x10 >>> 16 & 0xff;
            o[43] = x10 >>> 24 & 0xff;
            o[44] = x11 >>> 0 & 0xff;
            o[45] = x11 >>> 8 & 0xff;
            o[46] = x11 >>> 16 & 0xff;
            o[47] = x11 >>> 24 & 0xff;
            o[48] = x12 >>> 0 & 0xff;
            o[49] = x12 >>> 8 & 0xff;
            o[50] = x12 >>> 16 & 0xff;
            o[51] = x12 >>> 24 & 0xff;
            o[52] = x13 >>> 0 & 0xff;
            o[53] = x13 >>> 8 & 0xff;
            o[54] = x13 >>> 16 & 0xff;
            o[55] = x13 >>> 24 & 0xff;
            o[56] = x14 >>> 0 & 0xff;
            o[57] = x14 >>> 8 & 0xff;
            o[58] = x14 >>> 16 & 0xff;
            o[59] = x14 >>> 24 & 0xff;
            o[60] = x15 >>> 0 & 0xff;
            o[61] = x15 >>> 8 & 0xff;
            o[62] = x15 >>> 16 & 0xff;
            o[63] = x15 >>> 24 & 0xff;
          }
          function core_hsalsa20(o, p, k, c) {
            var j0 = c[0] & 0xff | (c[1] & 0xff) << 8 | (c[2] & 0xff) << 16 | (c[3] & 0xff) << 24,
                j1 = k[0] & 0xff | (k[1] & 0xff) << 8 | (k[2] & 0xff) << 16 | (k[3] & 0xff) << 24,
                j2 = k[4] & 0xff | (k[5] & 0xff) << 8 | (k[6] & 0xff) << 16 | (k[7] & 0xff) << 24,
                j3 = k[8] & 0xff | (k[9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,
                j4 = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,
                j5 = c[4] & 0xff | (c[5] & 0xff) << 8 | (c[6] & 0xff) << 16 | (c[7] & 0xff) << 24,
                j6 = p[0] & 0xff | (p[1] & 0xff) << 8 | (p[2] & 0xff) << 16 | (p[3] & 0xff) << 24,
                j7 = p[4] & 0xff | (p[5] & 0xff) << 8 | (p[6] & 0xff) << 16 | (p[7] & 0xff) << 24,
                j8 = p[8] & 0xff | (p[9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,
                j9 = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,
                j10 = c[8] & 0xff | (c[9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,
                j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,
                j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,
                j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,
                j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,
                j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24;
            var x0 = j0,
                x1 = j1,
                x2 = j2,
                x3 = j3,
                x4 = j4,
                x5 = j5,
                x6 = j6,
                x7 = j7,
                x8 = j8,
                x9 = j9,
                x10 = j10,
                x11 = j11,
                x12 = j12,
                x13 = j13,
                x14 = j14,
                x15 = j15,
                u;
            for (var i = 0; i < 20; i += 2) {
              u = x0 + x12 | 0;
              x4 ^= u << 7 | u >>> (32 - 7);
              u = x4 + x0 | 0;
              x8 ^= u << 9 | u >>> (32 - 9);
              u = x8 + x4 | 0;
              x12 ^= u << 13 | u >>> (32 - 13);
              u = x12 + x8 | 0;
              x0 ^= u << 18 | u >>> (32 - 18);
              u = x5 + x1 | 0;
              x9 ^= u << 7 | u >>> (32 - 7);
              u = x9 + x5 | 0;
              x13 ^= u << 9 | u >>> (32 - 9);
              u = x13 + x9 | 0;
              x1 ^= u << 13 | u >>> (32 - 13);
              u = x1 + x13 | 0;
              x5 ^= u << 18 | u >>> (32 - 18);
              u = x10 + x6 | 0;
              x14 ^= u << 7 | u >>> (32 - 7);
              u = x14 + x10 | 0;
              x2 ^= u << 9 | u >>> (32 - 9);
              u = x2 + x14 | 0;
              x6 ^= u << 13 | u >>> (32 - 13);
              u = x6 + x2 | 0;
              x10 ^= u << 18 | u >>> (32 - 18);
              u = x15 + x11 | 0;
              x3 ^= u << 7 | u >>> (32 - 7);
              u = x3 + x15 | 0;
              x7 ^= u << 9 | u >>> (32 - 9);
              u = x7 + x3 | 0;
              x11 ^= u << 13 | u >>> (32 - 13);
              u = x11 + x7 | 0;
              x15 ^= u << 18 | u >>> (32 - 18);
              u = x0 + x3 | 0;
              x1 ^= u << 7 | u >>> (32 - 7);
              u = x1 + x0 | 0;
              x2 ^= u << 9 | u >>> (32 - 9);
              u = x2 + x1 | 0;
              x3 ^= u << 13 | u >>> (32 - 13);
              u = x3 + x2 | 0;
              x0 ^= u << 18 | u >>> (32 - 18);
              u = x5 + x4 | 0;
              x6 ^= u << 7 | u >>> (32 - 7);
              u = x6 + x5 | 0;
              x7 ^= u << 9 | u >>> (32 - 9);
              u = x7 + x6 | 0;
              x4 ^= u << 13 | u >>> (32 - 13);
              u = x4 + x7 | 0;
              x5 ^= u << 18 | u >>> (32 - 18);
              u = x10 + x9 | 0;
              x11 ^= u << 7 | u >>> (32 - 7);
              u = x11 + x10 | 0;
              x8 ^= u << 9 | u >>> (32 - 9);
              u = x8 + x11 | 0;
              x9 ^= u << 13 | u >>> (32 - 13);
              u = x9 + x8 | 0;
              x10 ^= u << 18 | u >>> (32 - 18);
              u = x15 + x14 | 0;
              x12 ^= u << 7 | u >>> (32 - 7);
              u = x12 + x15 | 0;
              x13 ^= u << 9 | u >>> (32 - 9);
              u = x13 + x12 | 0;
              x14 ^= u << 13 | u >>> (32 - 13);
              u = x14 + x13 | 0;
              x15 ^= u << 18 | u >>> (32 - 18);
            }
            o[0] = x0 >>> 0 & 0xff;
            o[1] = x0 >>> 8 & 0xff;
            o[2] = x0 >>> 16 & 0xff;
            o[3] = x0 >>> 24 & 0xff;
            o[4] = x5 >>> 0 & 0xff;
            o[5] = x5 >>> 8 & 0xff;
            o[6] = x5 >>> 16 & 0xff;
            o[7] = x5 >>> 24 & 0xff;
            o[8] = x10 >>> 0 & 0xff;
            o[9] = x10 >>> 8 & 0xff;
            o[10] = x10 >>> 16 & 0xff;
            o[11] = x10 >>> 24 & 0xff;
            o[12] = x15 >>> 0 & 0xff;
            o[13] = x15 >>> 8 & 0xff;
            o[14] = x15 >>> 16 & 0xff;
            o[15] = x15 >>> 24 & 0xff;
            o[16] = x6 >>> 0 & 0xff;
            o[17] = x6 >>> 8 & 0xff;
            o[18] = x6 >>> 16 & 0xff;
            o[19] = x6 >>> 24 & 0xff;
            o[20] = x7 >>> 0 & 0xff;
            o[21] = x7 >>> 8 & 0xff;
            o[22] = x7 >>> 16 & 0xff;
            o[23] = x7 >>> 24 & 0xff;
            o[24] = x8 >>> 0 & 0xff;
            o[25] = x8 >>> 8 & 0xff;
            o[26] = x8 >>> 16 & 0xff;
            o[27] = x8 >>> 24 & 0xff;
            o[28] = x9 >>> 0 & 0xff;
            o[29] = x9 >>> 8 & 0xff;
            o[30] = x9 >>> 16 & 0xff;
            o[31] = x9 >>> 24 & 0xff;
          }
          function crypto_core_salsa20(out, inp, k, c) {
            core_salsa20(out, inp, k, c);
          }
          function crypto_core_hsalsa20(out, inp, k, c) {
            core_hsalsa20(out, inp, k, c);
          }
          var sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);
          function crypto_stream_salsa20_xor(c, cpos, m, mpos, b, n, k) {
            var z = new Uint8Array(16),
                x = new Uint8Array(64);
            var u,
                i;
            for (i = 0; i < 16; i++)
              z[i] = 0;
            for (i = 0; i < 8; i++)
              z[i] = n[i];
            while (b >= 64) {
              crypto_core_salsa20(x, z, k, sigma);
              for (i = 0; i < 64; i++)
                c[cpos + i] = m[mpos + i] ^ x[i];
              u = 1;
              for (i = 8; i < 16; i++) {
                u = u + (z[i] & 0xff) | 0;
                z[i] = u & 0xff;
                u >>>= 8;
              }
              b -= 64;
              cpos += 64;
              mpos += 64;
            }
            if (b > 0) {
              crypto_core_salsa20(x, z, k, sigma);
              for (i = 0; i < b; i++)
                c[cpos + i] = m[mpos + i] ^ x[i];
            }
            return 0;
          }
          function crypto_stream_salsa20(c, cpos, b, n, k) {
            var z = new Uint8Array(16),
                x = new Uint8Array(64);
            var u,
                i;
            for (i = 0; i < 16; i++)
              z[i] = 0;
            for (i = 0; i < 8; i++)
              z[i] = n[i];
            while (b >= 64) {
              crypto_core_salsa20(x, z, k, sigma);
              for (i = 0; i < 64; i++)
                c[cpos + i] = x[i];
              u = 1;
              for (i = 8; i < 16; i++) {
                u = u + (z[i] & 0xff) | 0;
                z[i] = u & 0xff;
                u >>>= 8;
              }
              b -= 64;
              cpos += 64;
            }
            if (b > 0) {
              crypto_core_salsa20(x, z, k, sigma);
              for (i = 0; i < b; i++)
                c[cpos + i] = x[i];
            }
            return 0;
          }
          function crypto_stream(c, cpos, d, n, k) {
            var s = new Uint8Array(32);
            crypto_core_hsalsa20(s, n, k, sigma);
            var sn = new Uint8Array(8);
            for (var i = 0; i < 8; i++)
              sn[i] = n[i + 16];
            return crypto_stream_salsa20(c, cpos, d, sn, s);
          }
          function crypto_stream_xor(c, cpos, m, mpos, d, n, k) {
            var s = new Uint8Array(32);
            crypto_core_hsalsa20(s, n, k, sigma);
            var sn = new Uint8Array(8);
            for (var i = 0; i < 8; i++)
              sn[i] = n[i + 16];
            return crypto_stream_salsa20_xor(c, cpos, m, mpos, d, sn, s);
          }
          var poly1305 = function(key) {
            this.buffer = new Uint8Array(16);
            this.r = new Uint16Array(10);
            this.h = new Uint16Array(10);
            this.pad = new Uint16Array(8);
            this.leftover = 0;
            this.fin = 0;
            var t0,
                t1,
                t2,
                t3,
                t4,
                t5,
                t6,
                t7;
            t0 = key[0] & 0xff | (key[1] & 0xff) << 8;
            this.r[0] = (t0) & 0x1fff;
            t1 = key[2] & 0xff | (key[3] & 0xff) << 8;
            this.r[1] = ((t0 >>> 13) | (t1 << 3)) & 0x1fff;
            t2 = key[4] & 0xff | (key[5] & 0xff) << 8;
            this.r[2] = ((t1 >>> 10) | (t2 << 6)) & 0x1f03;
            t3 = key[6] & 0xff | (key[7] & 0xff) << 8;
            this.r[3] = ((t2 >>> 7) | (t3 << 9)) & 0x1fff;
            t4 = key[8] & 0xff | (key[9] & 0xff) << 8;
            this.r[4] = ((t3 >>> 4) | (t4 << 12)) & 0x00ff;
            this.r[5] = ((t4 >>> 1)) & 0x1ffe;
            t5 = key[10] & 0xff | (key[11] & 0xff) << 8;
            this.r[6] = ((t4 >>> 14) | (t5 << 2)) & 0x1fff;
            t6 = key[12] & 0xff | (key[13] & 0xff) << 8;
            this.r[7] = ((t5 >>> 11) | (t6 << 5)) & 0x1f81;
            t7 = key[14] & 0xff | (key[15] & 0xff) << 8;
            this.r[8] = ((t6 >>> 8) | (t7 << 8)) & 0x1fff;
            this.r[9] = ((t7 >>> 5)) & 0x007f;
            this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;
            this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;
            this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;
            this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;
            this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;
            this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;
            this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;
            this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;
          };
          poly1305.prototype.blocks = function(m, mpos, bytes) {
            var hibit = this.fin ? 0 : (1 << 11);
            var t0,
                t1,
                t2,
                t3,
                t4,
                t5,
                t6,
                t7,
                c;
            var d0,
                d1,
                d2,
                d3,
                d4,
                d5,
                d6,
                d7,
                d8,
                d9;
            var h0 = this.h[0],
                h1 = this.h[1],
                h2 = this.h[2],
                h3 = this.h[3],
                h4 = this.h[4],
                h5 = this.h[5],
                h6 = this.h[6],
                h7 = this.h[7],
                h8 = this.h[8],
                h9 = this.h[9];
            var r0 = this.r[0],
                r1 = this.r[1],
                r2 = this.r[2],
                r3 = this.r[3],
                r4 = this.r[4],
                r5 = this.r[5],
                r6 = this.r[6],
                r7 = this.r[7],
                r8 = this.r[8],
                r9 = this.r[9];
            while (bytes >= 16) {
              t0 = m[mpos + 0] & 0xff | (m[mpos + 1] & 0xff) << 8;
              h0 += (t0) & 0x1fff;
              t1 = m[mpos + 2] & 0xff | (m[mpos + 3] & 0xff) << 8;
              h1 += ((t0 >>> 13) | (t1 << 3)) & 0x1fff;
              t2 = m[mpos + 4] & 0xff | (m[mpos + 5] & 0xff) << 8;
              h2 += ((t1 >>> 10) | (t2 << 6)) & 0x1fff;
              t3 = m[mpos + 6] & 0xff | (m[mpos + 7] & 0xff) << 8;
              h3 += ((t2 >>> 7) | (t3 << 9)) & 0x1fff;
              t4 = m[mpos + 8] & 0xff | (m[mpos + 9] & 0xff) << 8;
              h4 += ((t3 >>> 4) | (t4 << 12)) & 0x1fff;
              h5 += ((t4 >>> 1)) & 0x1fff;
              t5 = m[mpos + 10] & 0xff | (m[mpos + 11] & 0xff) << 8;
              h6 += ((t4 >>> 14) | (t5 << 2)) & 0x1fff;
              t6 = m[mpos + 12] & 0xff | (m[mpos + 13] & 0xff) << 8;
              h7 += ((t5 >>> 11) | (t6 << 5)) & 0x1fff;
              t7 = m[mpos + 14] & 0xff | (m[mpos + 15] & 0xff) << 8;
              h8 += ((t6 >>> 8) | (t7 << 8)) & 0x1fff;
              h9 += ((t7 >>> 5)) | hibit;
              c = 0;
              d0 = c;
              d0 += h0 * r0;
              d0 += h1 * (5 * r9);
              d0 += h2 * (5 * r8);
              d0 += h3 * (5 * r7);
              d0 += h4 * (5 * r6);
              c = (d0 >>> 13);
              d0 &= 0x1fff;
              d0 += h5 * (5 * r5);
              d0 += h6 * (5 * r4);
              d0 += h7 * (5 * r3);
              d0 += h8 * (5 * r2);
              d0 += h9 * (5 * r1);
              c += (d0 >>> 13);
              d0 &= 0x1fff;
              d1 = c;
              d1 += h0 * r1;
              d1 += h1 * r0;
              d1 += h2 * (5 * r9);
              d1 += h3 * (5 * r8);
              d1 += h4 * (5 * r7);
              c = (d1 >>> 13);
              d1 &= 0x1fff;
              d1 += h5 * (5 * r6);
              d1 += h6 * (5 * r5);
              d1 += h7 * (5 * r4);
              d1 += h8 * (5 * r3);
              d1 += h9 * (5 * r2);
              c += (d1 >>> 13);
              d1 &= 0x1fff;
              d2 = c;
              d2 += h0 * r2;
              d2 += h1 * r1;
              d2 += h2 * r0;
              d2 += h3 * (5 * r9);
              d2 += h4 * (5 * r8);
              c = (d2 >>> 13);
              d2 &= 0x1fff;
              d2 += h5 * (5 * r7);
              d2 += h6 * (5 * r6);
              d2 += h7 * (5 * r5);
              d2 += h8 * (5 * r4);
              d2 += h9 * (5 * r3);
              c += (d2 >>> 13);
              d2 &= 0x1fff;
              d3 = c;
              d3 += h0 * r3;
              d3 += h1 * r2;
              d3 += h2 * r1;
              d3 += h3 * r0;
              d3 += h4 * (5 * r9);
              c = (d3 >>> 13);
              d3 &= 0x1fff;
              d3 += h5 * (5 * r8);
              d3 += h6 * (5 * r7);
              d3 += h7 * (5 * r6);
              d3 += h8 * (5 * r5);
              d3 += h9 * (5 * r4);
              c += (d3 >>> 13);
              d3 &= 0x1fff;
              d4 = c;
              d4 += h0 * r4;
              d4 += h1 * r3;
              d4 += h2 * r2;
              d4 += h3 * r1;
              d4 += h4 * r0;
              c = (d4 >>> 13);
              d4 &= 0x1fff;
              d4 += h5 * (5 * r9);
              d4 += h6 * (5 * r8);
              d4 += h7 * (5 * r7);
              d4 += h8 * (5 * r6);
              d4 += h9 * (5 * r5);
              c += (d4 >>> 13);
              d4 &= 0x1fff;
              d5 = c;
              d5 += h0 * r5;
              d5 += h1 * r4;
              d5 += h2 * r3;
              d5 += h3 * r2;
              d5 += h4 * r1;
              c = (d5 >>> 13);
              d5 &= 0x1fff;
              d5 += h5 * r0;
              d5 += h6 * (5 * r9);
              d5 += h7 * (5 * r8);
              d5 += h8 * (5 * r7);
              d5 += h9 * (5 * r6);
              c += (d5 >>> 13);
              d5 &= 0x1fff;
              d6 = c;
              d6 += h0 * r6;
              d6 += h1 * r5;
              d6 += h2 * r4;
              d6 += h3 * r3;
              d6 += h4 * r2;
              c = (d6 >>> 13);
              d6 &= 0x1fff;
              d6 += h5 * r1;
              d6 += h6 * r0;
              d6 += h7 * (5 * r9);
              d6 += h8 * (5 * r8);
              d6 += h9 * (5 * r7);
              c += (d6 >>> 13);
              d6 &= 0x1fff;
              d7 = c;
              d7 += h0 * r7;
              d7 += h1 * r6;
              d7 += h2 * r5;
              d7 += h3 * r4;
              d7 += h4 * r3;
              c = (d7 >>> 13);
              d7 &= 0x1fff;
              d7 += h5 * r2;
              d7 += h6 * r1;
              d7 += h7 * r0;
              d7 += h8 * (5 * r9);
              d7 += h9 * (5 * r8);
              c += (d7 >>> 13);
              d7 &= 0x1fff;
              d8 = c;
              d8 += h0 * r8;
              d8 += h1 * r7;
              d8 += h2 * r6;
              d8 += h3 * r5;
              d8 += h4 * r4;
              c = (d8 >>> 13);
              d8 &= 0x1fff;
              d8 += h5 * r3;
              d8 += h6 * r2;
              d8 += h7 * r1;
              d8 += h8 * r0;
              d8 += h9 * (5 * r9);
              c += (d8 >>> 13);
              d8 &= 0x1fff;
              d9 = c;
              d9 += h0 * r9;
              d9 += h1 * r8;
              d9 += h2 * r7;
              d9 += h3 * r6;
              d9 += h4 * r5;
              c = (d9 >>> 13);
              d9 &= 0x1fff;
              d9 += h5 * r4;
              d9 += h6 * r3;
              d9 += h7 * r2;
              d9 += h8 * r1;
              d9 += h9 * r0;
              c += (d9 >>> 13);
              d9 &= 0x1fff;
              c = (((c << 2) + c)) | 0;
              c = (c + d0) | 0;
              d0 = c & 0x1fff;
              c = (c >>> 13);
              d1 += c;
              h0 = d0;
              h1 = d1;
              h2 = d2;
              h3 = d3;
              h4 = d4;
              h5 = d5;
              h6 = d6;
              h7 = d7;
              h8 = d8;
              h9 = d9;
              mpos += 16;
              bytes -= 16;
            }
            this.h[0] = h0;
            this.h[1] = h1;
            this.h[2] = h2;
            this.h[3] = h3;
            this.h[4] = h4;
            this.h[5] = h5;
            this.h[6] = h6;
            this.h[7] = h7;
            this.h[8] = h8;
            this.h[9] = h9;
          };
          poly1305.prototype.finish = function(mac, macpos) {
            var g = new Uint16Array(10);
            var c,
                mask,
                f,
                i;
            if (this.leftover) {
              i = this.leftover;
              this.buffer[i++] = 1;
              for (; i < 16; i++)
                this.buffer[i] = 0;
              this.fin = 1;
              this.blocks(this.buffer, 0, 16);
            }
            c = this.h[1] >>> 13;
            this.h[1] &= 0x1fff;
            for (i = 2; i < 10; i++) {
              this.h[i] += c;
              c = this.h[i] >>> 13;
              this.h[i] &= 0x1fff;
            }
            this.h[0] += (c * 5);
            c = this.h[0] >>> 13;
            this.h[0] &= 0x1fff;
            this.h[1] += c;
            c = this.h[1] >>> 13;
            this.h[1] &= 0x1fff;
            this.h[2] += c;
            g[0] = this.h[0] + 5;
            c = g[0] >>> 13;
            g[0] &= 0x1fff;
            for (i = 1; i < 10; i++) {
              g[i] = this.h[i] + c;
              c = g[i] >>> 13;
              g[i] &= 0x1fff;
            }
            g[9] -= (1 << 13);
            mask = (g[9] >>> ((2 * 8) - 1)) - 1;
            for (i = 0; i < 10; i++)
              g[i] &= mask;
            mask = ~mask;
            for (i = 0; i < 10; i++)
              this.h[i] = (this.h[i] & mask) | g[i];
            this.h[0] = ((this.h[0]) | (this.h[1] << 13)) & 0xffff;
            this.h[1] = ((this.h[1] >>> 3) | (this.h[2] << 10)) & 0xffff;
            this.h[2] = ((this.h[2] >>> 6) | (this.h[3] << 7)) & 0xffff;
            this.h[3] = ((this.h[3] >>> 9) | (this.h[4] << 4)) & 0xffff;
            this.h[4] = ((this.h[4] >>> 12) | (this.h[5] << 1) | (this.h[6] << 14)) & 0xffff;
            this.h[5] = ((this.h[6] >>> 2) | (this.h[7] << 11)) & 0xffff;
            this.h[6] = ((this.h[7] >>> 5) | (this.h[8] << 8)) & 0xffff;
            this.h[7] = ((this.h[8] >>> 8) | (this.h[9] << 5)) & 0xffff;
            f = this.h[0] + this.pad[0];
            this.h[0] = f & 0xffff;
            for (i = 1; i < 8; i++) {
              f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;
              this.h[i] = f & 0xffff;
            }
            mac[macpos + 0] = (this.h[0] >>> 0) & 0xff;
            mac[macpos + 1] = (this.h[0] >>> 8) & 0xff;
            mac[macpos + 2] = (this.h[1] >>> 0) & 0xff;
            mac[macpos + 3] = (this.h[1] >>> 8) & 0xff;
            mac[macpos + 4] = (this.h[2] >>> 0) & 0xff;
            mac[macpos + 5] = (this.h[2] >>> 8) & 0xff;
            mac[macpos + 6] = (this.h[3] >>> 0) & 0xff;
            mac[macpos + 7] = (this.h[3] >>> 8) & 0xff;
            mac[macpos + 8] = (this.h[4] >>> 0) & 0xff;
            mac[macpos + 9] = (this.h[4] >>> 8) & 0xff;
            mac[macpos + 10] = (this.h[5] >>> 0) & 0xff;
            mac[macpos + 11] = (this.h[5] >>> 8) & 0xff;
            mac[macpos + 12] = (this.h[6] >>> 0) & 0xff;
            mac[macpos + 13] = (this.h[6] >>> 8) & 0xff;
            mac[macpos + 14] = (this.h[7] >>> 0) & 0xff;
            mac[macpos + 15] = (this.h[7] >>> 8) & 0xff;
          };
          poly1305.prototype.update = function(m, mpos, bytes) {
            var i,
                want;
            if (this.leftover) {
              want = (16 - this.leftover);
              if (want > bytes)
                want = bytes;
              for (i = 0; i < want; i++)
                this.buffer[this.leftover + i] = m[mpos + i];
              bytes -= want;
              mpos += want;
              this.leftover += want;
              if (this.leftover < 16)
                return;
              this.blocks(this.buffer, 0, 16);
              this.leftover = 0;
            }
            if (bytes >= 16) {
              want = bytes - (bytes % 16);
              this.blocks(m, mpos, want);
              mpos += want;
              bytes -= want;
            }
            if (bytes) {
              for (i = 0; i < bytes; i++)
                this.buffer[this.leftover + i] = m[mpos + i];
              this.leftover += bytes;
            }
          };
          function crypto_onetimeauth(out, outpos, m, mpos, n, k) {
            var s = new poly1305(k);
            s.update(m, mpos, n);
            s.finish(out, outpos);
            return 0;
          }
          function crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {
            var x = new Uint8Array(16);
            crypto_onetimeauth(x, 0, m, mpos, n, k);
            return crypto_verify_16(h, hpos, x, 0);
          }
          function crypto_secretbox(c, m, d, n, k) {
            var i;
            if (d < 32)
              return -1;
            crypto_stream_xor(c, 0, m, 0, d, n, k);
            crypto_onetimeauth(c, 16, c, 32, d - 32, c);
            for (i = 0; i < 16; i++)
              c[i] = 0;
            return 0;
          }
          function crypto_secretbox_open(m, c, d, n, k) {
            var i;
            var x = new Uint8Array(32);
            if (d < 32)
              return -1;
            crypto_stream(x, 0, 32, n, k);
            if (crypto_onetimeauth_verify(c, 16, c, 32, d - 32, x) !== 0)
              return -1;
            crypto_stream_xor(m, 0, c, 0, d, n, k);
            for (i = 0; i < 32; i++)
              m[i] = 0;
            return 0;
          }
          function set25519(r, a) {
            var i;
            for (i = 0; i < 16; i++)
              r[i] = a[i] | 0;
          }
          function car25519(o) {
            var i,
                v,
                c = 1;
            for (i = 0; i < 16; i++) {
              v = o[i] + c + 65535;
              c = Math.floor(v / 65536);
              o[i] = v - c * 65536;
            }
            o[0] += c - 1 + 37 * (c - 1);
          }
          function sel25519(p, q, b) {
            var t,
                c = ~(b - 1);
            for (var i = 0; i < 16; i++) {
              t = c & (p[i] ^ q[i]);
              p[i] ^= t;
              q[i] ^= t;
            }
          }
          function pack25519(o, n) {
            var i,
                j,
                b;
            var m = gf(),
                t = gf();
            for (i = 0; i < 16; i++)
              t[i] = n[i];
            car25519(t);
            car25519(t);
            car25519(t);
            for (j = 0; j < 2; j++) {
              m[0] = t[0] - 0xffed;
              for (i = 1; i < 15; i++) {
                m[i] = t[i] - 0xffff - ((m[i - 1] >> 16) & 1);
                m[i - 1] &= 0xffff;
              }
              m[15] = t[15] - 0x7fff - ((m[14] >> 16) & 1);
              b = (m[15] >> 16) & 1;
              m[14] &= 0xffff;
              sel25519(t, m, 1 - b);
            }
            for (i = 0; i < 16; i++) {
              o[2 * i] = t[i] & 0xff;
              o[2 * i + 1] = t[i] >> 8;
            }
          }
          function neq25519(a, b) {
            var c = new Uint8Array(32),
                d = new Uint8Array(32);
            pack25519(c, a);
            pack25519(d, b);
            return crypto_verify_32(c, 0, d, 0);
          }
          function par25519(a) {
            var d = new Uint8Array(32);
            pack25519(d, a);
            return d[0] & 1;
          }
          function unpack25519(o, n) {
            var i;
            for (i = 0; i < 16; i++)
              o[i] = n[2 * i] + (n[2 * i + 1] << 8);
            o[15] &= 0x7fff;
          }
          function A(o, a, b) {
            for (var i = 0; i < 16; i++)
              o[i] = a[i] + b[i];
          }
          function Z(o, a, b) {
            for (var i = 0; i < 16; i++)
              o[i] = a[i] - b[i];
          }
          function M(o, a, b) {
            var v,
                c,
                t0 = 0,
                t1 = 0,
                t2 = 0,
                t3 = 0,
                t4 = 0,
                t5 = 0,
                t6 = 0,
                t7 = 0,
                t8 = 0,
                t9 = 0,
                t10 = 0,
                t11 = 0,
                t12 = 0,
                t13 = 0,
                t14 = 0,
                t15 = 0,
                t16 = 0,
                t17 = 0,
                t18 = 0,
                t19 = 0,
                t20 = 0,
                t21 = 0,
                t22 = 0,
                t23 = 0,
                t24 = 0,
                t25 = 0,
                t26 = 0,
                t27 = 0,
                t28 = 0,
                t29 = 0,
                t30 = 0,
                b0 = b[0],
                b1 = b[1],
                b2 = b[2],
                b3 = b[3],
                b4 = b[4],
                b5 = b[5],
                b6 = b[6],
                b7 = b[7],
                b8 = b[8],
                b9 = b[9],
                b10 = b[10],
                b11 = b[11],
                b12 = b[12],
                b13 = b[13],
                b14 = b[14],
                b15 = b[15];
            v = a[0];
            t0 += v * b0;
            t1 += v * b1;
            t2 += v * b2;
            t3 += v * b3;
            t4 += v * b4;
            t5 += v * b5;
            t6 += v * b6;
            t7 += v * b7;
            t8 += v * b8;
            t9 += v * b9;
            t10 += v * b10;
            t11 += v * b11;
            t12 += v * b12;
            t13 += v * b13;
            t14 += v * b14;
            t15 += v * b15;
            v = a[1];
            t1 += v * b0;
            t2 += v * b1;
            t3 += v * b2;
            t4 += v * b3;
            t5 += v * b4;
            t6 += v * b5;
            t7 += v * b6;
            t8 += v * b7;
            t9 += v * b8;
            t10 += v * b9;
            t11 += v * b10;
            t12 += v * b11;
            t13 += v * b12;
            t14 += v * b13;
            t15 += v * b14;
            t16 += v * b15;
            v = a[2];
            t2 += v * b0;
            t3 += v * b1;
            t4 += v * b2;
            t5 += v * b3;
            t6 += v * b4;
            t7 += v * b5;
            t8 += v * b6;
            t9 += v * b7;
            t10 += v * b8;
            t11 += v * b9;
            t12 += v * b10;
            t13 += v * b11;
            t14 += v * b12;
            t15 += v * b13;
            t16 += v * b14;
            t17 += v * b15;
            v = a[3];
            t3 += v * b0;
            t4 += v * b1;
            t5 += v * b2;
            t6 += v * b3;
            t7 += v * b4;
            t8 += v * b5;
            t9 += v * b6;
            t10 += v * b7;
            t11 += v * b8;
            t12 += v * b9;
            t13 += v * b10;
            t14 += v * b11;
            t15 += v * b12;
            t16 += v * b13;
            t17 += v * b14;
            t18 += v * b15;
            v = a[4];
            t4 += v * b0;
            t5 += v * b1;
            t6 += v * b2;
            t7 += v * b3;
            t8 += v * b4;
            t9 += v * b5;
            t10 += v * b6;
            t11 += v * b7;
            t12 += v * b8;
            t13 += v * b9;
            t14 += v * b10;
            t15 += v * b11;
            t16 += v * b12;
            t17 += v * b13;
            t18 += v * b14;
            t19 += v * b15;
            v = a[5];
            t5 += v * b0;
            t6 += v * b1;
            t7 += v * b2;
            t8 += v * b3;
            t9 += v * b4;
            t10 += v * b5;
            t11 += v * b6;
            t12 += v * b7;
            t13 += v * b8;
            t14 += v * b9;
            t15 += v * b10;
            t16 += v * b11;
            t17 += v * b12;
            t18 += v * b13;
            t19 += v * b14;
            t20 += v * b15;
            v = a[6];
            t6 += v * b0;
            t7 += v * b1;
            t8 += v * b2;
            t9 += v * b3;
            t10 += v * b4;
            t11 += v * b5;
            t12 += v * b6;
            t13 += v * b7;
            t14 += v * b8;
            t15 += v * b9;
            t16 += v * b10;
            t17 += v * b11;
            t18 += v * b12;
            t19 += v * b13;
            t20 += v * b14;
            t21 += v * b15;
            v = a[7];
            t7 += v * b0;
            t8 += v * b1;
            t9 += v * b2;
            t10 += v * b3;
            t11 += v * b4;
            t12 += v * b5;
            t13 += v * b6;
            t14 += v * b7;
            t15 += v * b8;
            t16 += v * b9;
            t17 += v * b10;
            t18 += v * b11;
            t19 += v * b12;
            t20 += v * b13;
            t21 += v * b14;
            t22 += v * b15;
            v = a[8];
            t8 += v * b0;
            t9 += v * b1;
            t10 += v * b2;
            t11 += v * b3;
            t12 += v * b4;
            t13 += v * b5;
            t14 += v * b6;
            t15 += v * b7;
            t16 += v * b8;
            t17 += v * b9;
            t18 += v * b10;
            t19 += v * b11;
            t20 += v * b12;
            t21 += v * b13;
            t22 += v * b14;
            t23 += v * b15;
            v = a[9];
            t9 += v * b0;
            t10 += v * b1;
            t11 += v * b2;
            t12 += v * b3;
            t13 += v * b4;
            t14 += v * b5;
            t15 += v * b6;
            t16 += v * b7;
            t17 += v * b8;
            t18 += v * b9;
            t19 += v * b10;
            t20 += v * b11;
            t21 += v * b12;
            t22 += v * b13;
            t23 += v * b14;
            t24 += v * b15;
            v = a[10];
            t10 += v * b0;
            t11 += v * b1;
            t12 += v * b2;
            t13 += v * b3;
            t14 += v * b4;
            t15 += v * b5;
            t16 += v * b6;
            t17 += v * b7;
            t18 += v * b8;
            t19 += v * b9;
            t20 += v * b10;
            t21 += v * b11;
            t22 += v * b12;
            t23 += v * b13;
            t24 += v * b14;
            t25 += v * b15;
            v = a[11];
            t11 += v * b0;
            t12 += v * b1;
            t13 += v * b2;
            t14 += v * b3;
            t15 += v * b4;
            t16 += v * b5;
            t17 += v * b6;
            t18 += v * b7;
            t19 += v * b8;
            t20 += v * b9;
            t21 += v * b10;
            t22 += v * b11;
            t23 += v * b12;
            t24 += v * b13;
            t25 += v * b14;
            t26 += v * b15;
            v = a[12];
            t12 += v * b0;
            t13 += v * b1;
            t14 += v * b2;
            t15 += v * b3;
            t16 += v * b4;
            t17 += v * b5;
            t18 += v * b6;
            t19 += v * b7;
            t20 += v * b8;
            t21 += v * b9;
            t22 += v * b10;
            t23 += v * b11;
            t24 += v * b12;
            t25 += v * b13;
            t26 += v * b14;
            t27 += v * b15;
            v = a[13];
            t13 += v * b0;
            t14 += v * b1;
            t15 += v * b2;
            t16 += v * b3;
            t17 += v * b4;
            t18 += v * b5;
            t19 += v * b6;
            t20 += v * b7;
            t21 += v * b8;
            t22 += v * b9;
            t23 += v * b10;
            t24 += v * b11;
            t25 += v * b12;
            t26 += v * b13;
            t27 += v * b14;
            t28 += v * b15;
            v = a[14];
            t14 += v * b0;
            t15 += v * b1;
            t16 += v * b2;
            t17 += v * b3;
            t18 += v * b4;
            t19 += v * b5;
            t20 += v * b6;
            t21 += v * b7;
            t22 += v * b8;
            t23 += v * b9;
            t24 += v * b10;
            t25 += v * b11;
            t26 += v * b12;
            t27 += v * b13;
            t28 += v * b14;
            t29 += v * b15;
            v = a[15];
            t15 += v * b0;
            t16 += v * b1;
            t17 += v * b2;
            t18 += v * b3;
            t19 += v * b4;
            t20 += v * b5;
            t21 += v * b6;
            t22 += v * b7;
            t23 += v * b8;
            t24 += v * b9;
            t25 += v * b10;
            t26 += v * b11;
            t27 += v * b12;
            t28 += v * b13;
            t29 += v * b14;
            t30 += v * b15;
            t0 += 38 * t16;
            t1 += 38 * t17;
            t2 += 38 * t18;
            t3 += 38 * t19;
            t4 += 38 * t20;
            t5 += 38 * t21;
            t6 += 38 * t22;
            t7 += 38 * t23;
            t8 += 38 * t24;
            t9 += 38 * t25;
            t10 += 38 * t26;
            t11 += 38 * t27;
            t12 += 38 * t28;
            t13 += 38 * t29;
            t14 += 38 * t30;
            c = 1;
            v = t0 + c + 65535;
            c = Math.floor(v / 65536);
            t0 = v - c * 65536;
            v = t1 + c + 65535;
            c = Math.floor(v / 65536);
            t1 = v - c * 65536;
            v = t2 + c + 65535;
            c = Math.floor(v / 65536);
            t2 = v - c * 65536;
            v = t3 + c + 65535;
            c = Math.floor(v / 65536);
            t3 = v - c * 65536;
            v = t4 + c + 65535;
            c = Math.floor(v / 65536);
            t4 = v - c * 65536;
            v = t5 + c + 65535;
            c = Math.floor(v / 65536);
            t5 = v - c * 65536;
            v = t6 + c + 65535;
            c = Math.floor(v / 65536);
            t6 = v - c * 65536;
            v = t7 + c + 65535;
            c = Math.floor(v / 65536);
            t7 = v - c * 65536;
            v = t8 + c + 65535;
            c = Math.floor(v / 65536);
            t8 = v - c * 65536;
            v = t9 + c + 65535;
            c = Math.floor(v / 65536);
            t9 = v - c * 65536;
            v = t10 + c + 65535;
            c = Math.floor(v / 65536);
            t10 = v - c * 65536;
            v = t11 + c + 65535;
            c = Math.floor(v / 65536);
            t11 = v - c * 65536;
            v = t12 + c + 65535;
            c = Math.floor(v / 65536);
            t12 = v - c * 65536;
            v = t13 + c + 65535;
            c = Math.floor(v / 65536);
            t13 = v - c * 65536;
            v = t14 + c + 65535;
            c = Math.floor(v / 65536);
            t14 = v - c * 65536;
            v = t15 + c + 65535;
            c = Math.floor(v / 65536);
            t15 = v - c * 65536;
            t0 += c - 1 + 37 * (c - 1);
            c = 1;
            v = t0 + c + 65535;
            c = Math.floor(v / 65536);
            t0 = v - c * 65536;
            v = t1 + c + 65535;
            c = Math.floor(v / 65536);
            t1 = v - c * 65536;
            v = t2 + c + 65535;
            c = Math.floor(v / 65536);
            t2 = v - c * 65536;
            v = t3 + c + 65535;
            c = Math.floor(v / 65536);
            t3 = v - c * 65536;
            v = t4 + c + 65535;
            c = Math.floor(v / 65536);
            t4 = v - c * 65536;
            v = t5 + c + 65535;
            c = Math.floor(v / 65536);
            t5 = v - c * 65536;
            v = t6 + c + 65535;
            c = Math.floor(v / 65536);
            t6 = v - c * 65536;
            v = t7 + c + 65535;
            c = Math.floor(v / 65536);
            t7 = v - c * 65536;
            v = t8 + c + 65535;
            c = Math.floor(v / 65536);
            t8 = v - c * 65536;
            v = t9 + c + 65535;
            c = Math.floor(v / 65536);
            t9 = v - c * 65536;
            v = t10 + c + 65535;
            c = Math.floor(v / 65536);
            t10 = v - c * 65536;
            v = t11 + c + 65535;
            c = Math.floor(v / 65536);
            t11 = v - c * 65536;
            v = t12 + c + 65535;
            c = Math.floor(v / 65536);
            t12 = v - c * 65536;
            v = t13 + c + 65535;
            c = Math.floor(v / 65536);
            t13 = v - c * 65536;
            v = t14 + c + 65535;
            c = Math.floor(v / 65536);
            t14 = v - c * 65536;
            v = t15 + c + 65535;
            c = Math.floor(v / 65536);
            t15 = v - c * 65536;
            t0 += c - 1 + 37 * (c - 1);
            o[0] = t0;
            o[1] = t1;
            o[2] = t2;
            o[3] = t3;
            o[4] = t4;
            o[5] = t5;
            o[6] = t6;
            o[7] = t7;
            o[8] = t8;
            o[9] = t9;
            o[10] = t10;
            o[11] = t11;
            o[12] = t12;
            o[13] = t13;
            o[14] = t14;
            o[15] = t15;
          }
          function S(o, a) {
            M(o, a, a);
          }
          function inv25519(o, i) {
            var c = gf();
            var a;
            for (a = 0; a < 16; a++)
              c[a] = i[a];
            for (a = 253; a >= 0; a--) {
              S(c, c);
              if (a !== 2 && a !== 4)
                M(c, c, i);
            }
            for (a = 0; a < 16; a++)
              o[a] = c[a];
          }
          function pow2523(o, i) {
            var c = gf();
            var a;
            for (a = 0; a < 16; a++)
              c[a] = i[a];
            for (a = 250; a >= 0; a--) {
              S(c, c);
              if (a !== 1)
                M(c, c, i);
            }
            for (a = 0; a < 16; a++)
              o[a] = c[a];
          }
          function crypto_scalarmult(q, n, p) {
            var z = new Uint8Array(32);
            var x = new Float64Array(80),
                r,
                i;
            var a = gf(),
                b = gf(),
                c = gf(),
                d = gf(),
                e = gf(),
                f = gf();
            for (i = 0; i < 31; i++)
              z[i] = n[i];
            z[31] = (n[31] & 127) | 64;
            z[0] &= 248;
            unpack25519(x, p);
            for (i = 0; i < 16; i++) {
              b[i] = x[i];
              d[i] = a[i] = c[i] = 0;
            }
            a[0] = d[0] = 1;
            for (i = 254; i >= 0; --i) {
              r = (z[i >>> 3] >>> (i & 7)) & 1;
              sel25519(a, b, r);
              sel25519(c, d, r);
              A(e, a, c);
              Z(a, a, c);
              A(c, b, d);
              Z(b, b, d);
              S(d, e);
              S(f, a);
              M(a, c, a);
              M(c, b, e);
              A(e, a, c);
              Z(a, a, c);
              S(b, a);
              Z(c, d, f);
              M(a, c, _121665);
              A(a, a, d);
              M(c, c, a);
              M(a, d, f);
              M(d, b, x);
              S(b, e);
              sel25519(a, b, r);
              sel25519(c, d, r);
            }
            for (i = 0; i < 16; i++) {
              x[i + 16] = a[i];
              x[i + 32] = c[i];
              x[i + 48] = b[i];
              x[i + 64] = d[i];
            }
            var x32 = x.subarray(32);
            var x16 = x.subarray(16);
            inv25519(x32, x32);
            M(x16, x16, x32);
            pack25519(q, x16);
            return 0;
          }
          function crypto_scalarmult_base(q, n) {
            return crypto_scalarmult(q, n, _9);
          }
          function crypto_box_keypair(y, x) {
            randombytes(x, 32);
            return crypto_scalarmult_base(y, x);
          }
          function crypto_box_beforenm(k, y, x) {
            var s = new Uint8Array(32);
            crypto_scalarmult(s, x, y);
            return crypto_core_hsalsa20(k, _0, s, sigma);
          }
          var crypto_box_afternm = crypto_secretbox;
          var crypto_box_open_afternm = crypto_secretbox_open;
          function crypto_box(c, m, d, n, y, x) {
            var k = new Uint8Array(32);
            crypto_box_beforenm(k, y, x);
            return crypto_box_afternm(c, m, d, n, k);
          }
          function crypto_box_open(m, c, d, n, y, x) {
            var k = new Uint8Array(32);
            crypto_box_beforenm(k, y, x);
            return crypto_box_open_afternm(m, c, d, n, k);
          }
          var K = [0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd, 0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc, 0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019, 0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118, 0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe, 0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2, 0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1, 0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694, 0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3, 0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65, 0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483, 0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5, 0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210, 0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4, 0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725, 0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70, 0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926, 0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df, 0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8, 0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b, 0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001, 0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30, 0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910, 0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8, 0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53, 0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8, 0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb, 0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3, 0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60, 0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec, 0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9, 0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b, 0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207, 0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178, 0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6, 0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b, 0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493, 0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c, 0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a, 0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817];
          function crypto_hashblocks_hl(hh, hl, m, n) {
            var wh = new Int32Array(16),
                wl = new Int32Array(16),
                bh0,
                bh1,
                bh2,
                bh3,
                bh4,
                bh5,
                bh6,
                bh7,
                bl0,
                bl1,
                bl2,
                bl3,
                bl4,
                bl5,
                bl6,
                bl7,
                th,
                tl,
                i,
                j,
                h,
                l,
                a,
                b,
                c,
                d;
            var ah0 = hh[0],
                ah1 = hh[1],
                ah2 = hh[2],
                ah3 = hh[3],
                ah4 = hh[4],
                ah5 = hh[5],
                ah6 = hh[6],
                ah7 = hh[7],
                al0 = hl[0],
                al1 = hl[1],
                al2 = hl[2],
                al3 = hl[3],
                al4 = hl[4],
                al5 = hl[5],
                al6 = hl[6],
                al7 = hl[7];
            var pos = 0;
            while (n >= 128) {
              for (i = 0; i < 16; i++) {
                j = 8 * i + pos;
                wh[i] = (m[j + 0] << 24) | (m[j + 1] << 16) | (m[j + 2] << 8) | m[j + 3];
                wl[i] = (m[j + 4] << 24) | (m[j + 5] << 16) | (m[j + 6] << 8) | m[j + 7];
              }
              for (i = 0; i < 80; i++) {
                bh0 = ah0;
                bh1 = ah1;
                bh2 = ah2;
                bh3 = ah3;
                bh4 = ah4;
                bh5 = ah5;
                bh6 = ah6;
                bh7 = ah7;
                bl0 = al0;
                bl1 = al1;
                bl2 = al2;
                bl3 = al3;
                bl4 = al4;
                bl5 = al5;
                bl6 = al6;
                bl7 = al7;
                h = ah7;
                l = al7;
                a = l & 0xffff;
                b = l >>> 16;
                c = h & 0xffff;
                d = h >>> 16;
                h = ((ah4 >>> 14) | (al4 << (32 - 14))) ^ ((ah4 >>> 18) | (al4 << (32 - 18))) ^ ((al4 >>> (41 - 32)) | (ah4 << (32 - (41 - 32))));
                l = ((al4 >>> 14) | (ah4 << (32 - 14))) ^ ((al4 >>> 18) | (ah4 << (32 - 18))) ^ ((ah4 >>> (41 - 32)) | (al4 << (32 - (41 - 32))));
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                h = (ah4 & ah5) ^ (~ah4 & ah6);
                l = (al4 & al5) ^ (~al4 & al6);
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                h = K[i * 2];
                l = K[i * 2 + 1];
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                h = wh[i % 16];
                l = wl[i % 16];
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                b += a >>> 16;
                c += b >>> 16;
                d += c >>> 16;
                th = c & 0xffff | d << 16;
                tl = a & 0xffff | b << 16;
                h = th;
                l = tl;
                a = l & 0xffff;
                b = l >>> 16;
                c = h & 0xffff;
                d = h >>> 16;
                h = ((ah0 >>> 28) | (al0 << (32 - 28))) ^ ((al0 >>> (34 - 32)) | (ah0 << (32 - (34 - 32)))) ^ ((al0 >>> (39 - 32)) | (ah0 << (32 - (39 - 32))));
                l = ((al0 >>> 28) | (ah0 << (32 - 28))) ^ ((ah0 >>> (34 - 32)) | (al0 << (32 - (34 - 32)))) ^ ((ah0 >>> (39 - 32)) | (al0 << (32 - (39 - 32))));
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);
                l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                b += a >>> 16;
                c += b >>> 16;
                d += c >>> 16;
                bh7 = (c & 0xffff) | (d << 16);
                bl7 = (a & 0xffff) | (b << 16);
                h = bh3;
                l = bl3;
                a = l & 0xffff;
                b = l >>> 16;
                c = h & 0xffff;
                d = h >>> 16;
                h = th;
                l = tl;
                a += l & 0xffff;
                b += l >>> 16;
                c += h & 0xffff;
                d += h >>> 16;
                b += a >>> 16;
                c += b >>> 16;
                d += c >>> 16;
                bh3 = (c & 0xffff) | (d << 16);
                bl3 = (a & 0xffff) | (b << 16);
                ah1 = bh0;
                ah2 = bh1;
                ah3 = bh2;
                ah4 = bh3;
                ah5 = bh4;
                ah6 = bh5;
                ah7 = bh6;
                ah0 = bh7;
                al1 = bl0;
                al2 = bl1;
                al3 = bl2;
                al4 = bl3;
                al5 = bl4;
                al6 = bl5;
                al7 = bl6;
                al0 = bl7;
                if (i % 16 === 15) {
                  for (j = 0; j < 16; j++) {
                    h = wh[j];
                    l = wl[j];
                    a = l & 0xffff;
                    b = l >>> 16;
                    c = h & 0xffff;
                    d = h >>> 16;
                    h = wh[(j + 9) % 16];
                    l = wl[(j + 9) % 16];
                    a += l & 0xffff;
                    b += l >>> 16;
                    c += h & 0xffff;
                    d += h >>> 16;
                    th = wh[(j + 1) % 16];
                    tl = wl[(j + 1) % 16];
                    h = ((th >>> 1) | (tl << (32 - 1))) ^ ((th >>> 8) | (tl << (32 - 8))) ^ (th >>> 7);
                    l = ((tl >>> 1) | (th << (32 - 1))) ^ ((tl >>> 8) | (th << (32 - 8))) ^ ((tl >>> 7) | (th << (32 - 7)));
                    a += l & 0xffff;
                    b += l >>> 16;
                    c += h & 0xffff;
                    d += h >>> 16;
                    th = wh[(j + 14) % 16];
                    tl = wl[(j + 14) % 16];
                    h = ((th >>> 19) | (tl << (32 - 19))) ^ ((tl >>> (61 - 32)) | (th << (32 - (61 - 32)))) ^ (th >>> 6);
                    l = ((tl >>> 19) | (th << (32 - 19))) ^ ((th >>> (61 - 32)) | (tl << (32 - (61 - 32)))) ^ ((tl >>> 6) | (th << (32 - 6)));
                    a += l & 0xffff;
                    b += l >>> 16;
                    c += h & 0xffff;
                    d += h >>> 16;
                    b += a >>> 16;
                    c += b >>> 16;
                    d += c >>> 16;
                    wh[j] = (c & 0xffff) | (d << 16);
                    wl[j] = (a & 0xffff) | (b << 16);
                  }
                }
              }
              h = ah0;
              l = al0;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[0];
              l = hl[0];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[0] = ah0 = (c & 0xffff) | (d << 16);
              hl[0] = al0 = (a & 0xffff) | (b << 16);
              h = ah1;
              l = al1;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[1];
              l = hl[1];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[1] = ah1 = (c & 0xffff) | (d << 16);
              hl[1] = al1 = (a & 0xffff) | (b << 16);
              h = ah2;
              l = al2;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[2];
              l = hl[2];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[2] = ah2 = (c & 0xffff) | (d << 16);
              hl[2] = al2 = (a & 0xffff) | (b << 16);
              h = ah3;
              l = al3;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[3];
              l = hl[3];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[3] = ah3 = (c & 0xffff) | (d << 16);
              hl[3] = al3 = (a & 0xffff) | (b << 16);
              h = ah4;
              l = al4;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[4];
              l = hl[4];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[4] = ah4 = (c & 0xffff) | (d << 16);
              hl[4] = al4 = (a & 0xffff) | (b << 16);
              h = ah5;
              l = al5;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[5];
              l = hl[5];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[5] = ah5 = (c & 0xffff) | (d << 16);
              hl[5] = al5 = (a & 0xffff) | (b << 16);
              h = ah6;
              l = al6;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[6];
              l = hl[6];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[6] = ah6 = (c & 0xffff) | (d << 16);
              hl[6] = al6 = (a & 0xffff) | (b << 16);
              h = ah7;
              l = al7;
              a = l & 0xffff;
              b = l >>> 16;
              c = h & 0xffff;
              d = h >>> 16;
              h = hh[7];
              l = hl[7];
              a += l & 0xffff;
              b += l >>> 16;
              c += h & 0xffff;
              d += h >>> 16;
              b += a >>> 16;
              c += b >>> 16;
              d += c >>> 16;
              hh[7] = ah7 = (c & 0xffff) | (d << 16);
              hl[7] = al7 = (a & 0xffff) | (b << 16);
              pos += 128;
              n -= 128;
            }
            return n;
          }
          function crypto_hash(out, m, n) {
            var hh = new Int32Array(8),
                hl = new Int32Array(8),
                x = new Uint8Array(256),
                i,
                b = n;
            hh[0] = 0x6a09e667;
            hh[1] = 0xbb67ae85;
            hh[2] = 0x3c6ef372;
            hh[3] = 0xa54ff53a;
            hh[4] = 0x510e527f;
            hh[5] = 0x9b05688c;
            hh[6] = 0x1f83d9ab;
            hh[7] = 0x5be0cd19;
            hl[0] = 0xf3bcc908;
            hl[1] = 0x84caa73b;
            hl[2] = 0xfe94f82b;
            hl[3] = 0x5f1d36f1;
            hl[4] = 0xade682d1;
            hl[5] = 0x2b3e6c1f;
            hl[6] = 0xfb41bd6b;
            hl[7] = 0x137e2179;
            crypto_hashblocks_hl(hh, hl, m, n);
            n %= 128;
            for (i = 0; i < n; i++)
              x[i] = m[b - n + i];
            x[n] = 128;
            n = 256 - 128 * (n < 112 ? 1 : 0);
            x[n - 9] = 0;
            ts64(x, n - 8, (b / 0x20000000) | 0, b << 3);
            crypto_hashblocks_hl(hh, hl, x, n);
            for (i = 0; i < 8; i++)
              ts64(out, 8 * i, hh[i], hl[i]);
            return 0;
          }
          function add(p, q) {
            var a = gf(),
                b = gf(),
                c = gf(),
                d = gf(),
                e = gf(),
                f = gf(),
                g = gf(),
                h = gf(),
                t = gf();
            Z(a, p[1], p[0]);
            Z(t, q[1], q[0]);
            M(a, a, t);
            A(b, p[0], p[1]);
            A(t, q[0], q[1]);
            M(b, b, t);
            M(c, p[3], q[3]);
            M(c, c, D2);
            M(d, p[2], q[2]);
            A(d, d, d);
            Z(e, b, a);
            Z(f, d, c);
            A(g, d, c);
            A(h, b, a);
            M(p[0], e, f);
            M(p[1], h, g);
            M(p[2], g, f);
            M(p[3], e, h);
          }
          function cswap(p, q, b) {
            var i;
            for (i = 0; i < 4; i++) {
              sel25519(p[i], q[i], b);
            }
          }
          function pack(r, p) {
            var tx = gf(),
                ty = gf(),
                zi = gf();
            inv25519(zi, p[2]);
            M(tx, p[0], zi);
            M(ty, p[1], zi);
            pack25519(r, ty);
            r[31] ^= par25519(tx) << 7;
          }
          function scalarmult(p, q, s) {
            var b,
                i;
            set25519(p[0], gf0);
            set25519(p[1], gf1);
            set25519(p[2], gf1);
            set25519(p[3], gf0);
            for (i = 255; i >= 0; --i) {
              b = (s[(i / 8) | 0] >> (i & 7)) & 1;
              cswap(p, q, b);
              add(q, p);
              add(p, p);
              cswap(p, q, b);
            }
          }
          function scalarbase(p, s) {
            var q = [gf(), gf(), gf(), gf()];
            set25519(q[0], X);
            set25519(q[1], Y);
            set25519(q[2], gf1);
            M(q[3], X, Y);
            scalarmult(p, q, s);
          }
          function crypto_sign_keypair(pk, sk, seeded) {
            var d = new Uint8Array(64);
            var p = [gf(), gf(), gf(), gf()];
            var i;
            if (!seeded)
              randombytes(sk, 32);
            crypto_hash(d, sk, 32);
            d[0] &= 248;
            d[31] &= 127;
            d[31] |= 64;
            scalarbase(p, d);
            pack(pk, p);
            for (i = 0; i < 32; i++)
              sk[i + 32] = pk[i];
            return 0;
          }
          var L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);
          function modL(r, x) {
            var carry,
                i,
                j,
                k;
            for (i = 63; i >= 32; --i) {
              carry = 0;
              for (j = i - 32, k = i - 12; j < k; ++j) {
                x[j] += carry - 16 * x[i] * L[j - (i - 32)];
                carry = (x[j] + 128) >> 8;
                x[j] -= carry * 256;
              }
              x[j] += carry;
              x[i] = 0;
            }
            carry = 0;
            for (j = 0; j < 32; j++) {
              x[j] += carry - (x[31] >> 4) * L[j];
              carry = x[j] >> 8;
              x[j] &= 255;
            }
            for (j = 0; j < 32; j++)
              x[j] -= carry * L[j];
            for (i = 0; i < 32; i++) {
              x[i + 1] += x[i] >> 8;
              r[i] = x[i] & 255;
            }
          }
          function reduce(r) {
            var x = new Float64Array(64),
                i;
            for (i = 0; i < 64; i++)
              x[i] = r[i];
            for (i = 0; i < 64; i++)
              r[i] = 0;
            modL(r, x);
          }
          function crypto_sign(sm, m, n, sk) {
            var d = new Uint8Array(64),
                h = new Uint8Array(64),
                r = new Uint8Array(64);
            var i,
                j,
                x = new Float64Array(64);
            var p = [gf(), gf(), gf(), gf()];
            crypto_hash(d, sk, 32);
            d[0] &= 248;
            d[31] &= 127;
            d[31] |= 64;
            var smlen = n + 64;
            for (i = 0; i < n; i++)
              sm[64 + i] = m[i];
            for (i = 0; i < 32; i++)
              sm[32 + i] = d[32 + i];
            crypto_hash(r, sm.subarray(32), n + 32);
            reduce(r);
            scalarbase(p, r);
            pack(sm, p);
            for (i = 32; i < 64; i++)
              sm[i] = sk[i];
            crypto_hash(h, sm, n + 64);
            reduce(h);
            for (i = 0; i < 64; i++)
              x[i] = 0;
            for (i = 0; i < 32; i++)
              x[i] = r[i];
            for (i = 0; i < 32; i++) {
              for (j = 0; j < 32; j++) {
                x[i + j] += h[i] * d[j];
              }
            }
            modL(sm.subarray(32), x);
            return smlen;
          }
          function unpackneg(r, p) {
            var t = gf(),
                chk = gf(),
                num = gf(),
                den = gf(),
                den2 = gf(),
                den4 = gf(),
                den6 = gf();
            set25519(r[2], gf1);
            unpack25519(r[1], p);
            S(num, r[1]);
            M(den, num, D);
            Z(num, num, r[2]);
            A(den, r[2], den);
            S(den2, den);
            S(den4, den2);
            M(den6, den4, den2);
            M(t, den6, num);
            M(t, t, den);
            pow2523(t, t);
            M(t, t, num);
            M(t, t, den);
            M(t, t, den);
            M(r[0], t, den);
            S(chk, r[0]);
            M(chk, chk, den);
            if (neq25519(chk, num))
              M(r[0], r[0], I);
            S(chk, r[0]);
            M(chk, chk, den);
            if (neq25519(chk, num))
              return -1;
            if (par25519(r[0]) === (p[31] >> 7))
              Z(r[0], gf0, r[0]);
            M(r[3], r[0], r[1]);
            return 0;
          }
          function crypto_sign_open(m, sm, n, pk) {
            var i,
                mlen;
            var t = new Uint8Array(32),
                h = new Uint8Array(64);
            var p = [gf(), gf(), gf(), gf()],
                q = [gf(), gf(), gf(), gf()];
            mlen = -1;
            if (n < 64)
              return -1;
            if (unpackneg(q, pk))
              return -1;
            for (i = 0; i < n; i++)
              m[i] = sm[i];
            for (i = 0; i < 32; i++)
              m[i + 32] = pk[i];
            crypto_hash(h, m, n);
            reduce(h);
            scalarmult(p, q, h);
            scalarbase(q, sm.subarray(32));
            add(p, q);
            pack(t, p);
            n -= 64;
            if (crypto_verify_32(sm, 0, t, 0)) {
              for (i = 0; i < n; i++)
                m[i] = 0;
              return -1;
            }
            for (i = 0; i < n; i++)
              m[i] = sm[i + 64];
            mlen = n;
            return mlen;
          }
          var crypto_secretbox_KEYBYTES = 32,
              crypto_secretbox_NONCEBYTES = 24,
              crypto_secretbox_ZEROBYTES = 32,
              crypto_secretbox_BOXZEROBYTES = 16,
              crypto_scalarmult_BYTES = 32,
              crypto_scalarmult_SCALARBYTES = 32,
              crypto_box_PUBLICKEYBYTES = 32,
              crypto_box_SECRETKEYBYTES = 32,
              crypto_box_BEFORENMBYTES = 32,
              crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,
              crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,
              crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,
              crypto_sign_BYTES = 64,
              crypto_sign_PUBLICKEYBYTES = 32,
              crypto_sign_SECRETKEYBYTES = 64,
              crypto_sign_SEEDBYTES = 32,
              crypto_hash_BYTES = 64;
          nacl.lowlevel = {
            crypto_core_hsalsa20: crypto_core_hsalsa20,
            crypto_stream_xor: crypto_stream_xor,
            crypto_stream: crypto_stream,
            crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,
            crypto_stream_salsa20: crypto_stream_salsa20,
            crypto_onetimeauth: crypto_onetimeauth,
            crypto_onetimeauth_verify: crypto_onetimeauth_verify,
            crypto_verify_16: crypto_verify_16,
            crypto_verify_32: crypto_verify_32,
            crypto_secretbox: crypto_secretbox,
            crypto_secretbox_open: crypto_secretbox_open,
            crypto_scalarmult: crypto_scalarmult,
            crypto_scalarmult_base: crypto_scalarmult_base,
            crypto_box_beforenm: crypto_box_beforenm,
            crypto_box_afternm: crypto_box_afternm,
            crypto_box: crypto_box,
            crypto_box_open: crypto_box_open,
            crypto_box_keypair: crypto_box_keypair,
            crypto_hash: crypto_hash,
            crypto_sign: crypto_sign,
            crypto_sign_keypair: crypto_sign_keypair,
            crypto_sign_open: crypto_sign_open,
            crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,
            crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,
            crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,
            crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,
            crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,
            crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,
            crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,
            crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,
            crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,
            crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,
            crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,
            crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,
            crypto_sign_BYTES: crypto_sign_BYTES,
            crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,
            crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,
            crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,
            crypto_hash_BYTES: crypto_hash_BYTES
          };
          function checkLengths(k, n) {
            if (k.length !== crypto_secretbox_KEYBYTES)
              throw new Error('bad key size');
            if (n.length !== crypto_secretbox_NONCEBYTES)
              throw new Error('bad nonce size');
          }
          function checkBoxLengths(pk, sk) {
            if (pk.length !== crypto_box_PUBLICKEYBYTES)
              throw new Error('bad public key size');
            if (sk.length !== crypto_box_SECRETKEYBYTES)
              throw new Error('bad secret key size');
          }
          function checkArrayTypes() {
            var t,
                i;
            for (i = 0; i < arguments.length; i++) {
              if ((t = Object.prototype.toString.call(arguments[i])) !== '[object Uint8Array]')
                throw new TypeError('unexpected type ' + t + ', use Uint8Array');
            }
          }
          function cleanup(arr) {
            for (var i = 0; i < arr.length; i++)
              arr[i] = 0;
          }
          nacl.util = {};
          nacl.util.decodeUTF8 = function(s) {
            var i,
                d = unescape(encodeURIComponent(s)),
                b = new Uint8Array(d.length);
            for (i = 0; i < d.length; i++)
              b[i] = d.charCodeAt(i);
            return b;
          };
          nacl.util.encodeUTF8 = function(arr) {
            var i,
                s = [];
            for (i = 0; i < arr.length; i++)
              s.push(String.fromCharCode(arr[i]));
            return decodeURIComponent(escape(s.join('')));
          };
          nacl.util.encodeBase64 = function(arr) {
            if (typeof btoa === 'undefined') {
              return (new Buffer(arr)).toString('base64');
            } else {
              var i,
                  s = [],
                  len = arr.length;
              for (i = 0; i < len; i++)
                s.push(String.fromCharCode(arr[i]));
              return btoa(s.join(''));
            }
          };
          nacl.util.decodeBase64 = function(s) {
            if (typeof atob === 'undefined') {
              return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));
            } else {
              var i,
                  d = atob(s),
                  b = new Uint8Array(d.length);
              for (i = 0; i < d.length; i++)
                b[i] = d.charCodeAt(i);
              return b;
            }
          };
          nacl.randomBytes = function(n) {
            var b = new Uint8Array(n);
            randombytes(b, n);
            return b;
          };
          nacl.secretbox = function(msg, nonce, key) {
            checkArrayTypes(msg, nonce, key);
            checkLengths(key, nonce);
            var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);
            var c = new Uint8Array(m.length);
            for (var i = 0; i < msg.length; i++)
              m[i + crypto_secretbox_ZEROBYTES] = msg[i];
            crypto_secretbox(c, m, m.length, nonce, key);
            return c.subarray(crypto_secretbox_BOXZEROBYTES);
          };
          nacl.secretbox.open = function(box, nonce, key) {
            checkArrayTypes(box, nonce, key);
            checkLengths(key, nonce);
            var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);
            var m = new Uint8Array(c.length);
            for (var i = 0; i < box.length; i++)
              c[i + crypto_secretbox_BOXZEROBYTES] = box[i];
            if (c.length < 32)
              return false;
            if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0)
              return false;
            return m.subarray(crypto_secretbox_ZEROBYTES);
          };
          nacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;
          nacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;
          nacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;
          nacl.scalarMult = function(n, p) {
            checkArrayTypes(n, p);
            if (n.length !== crypto_scalarmult_SCALARBYTES)
              throw new Error('bad n size');
            if (p.length !== crypto_scalarmult_BYTES)
              throw new Error('bad p size');
            var q = new Uint8Array(crypto_scalarmult_BYTES);
            crypto_scalarmult(q, n, p);
            return q;
          };
          nacl.scalarMult.base = function(n) {
            checkArrayTypes(n);
            if (n.length !== crypto_scalarmult_SCALARBYTES)
              throw new Error('bad n size');
            var q = new Uint8Array(crypto_scalarmult_BYTES);
            crypto_scalarmult_base(q, n);
            return q;
          };
          nacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;
          nacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;
          nacl.box = function(msg, nonce, publicKey, secretKey) {
            var k = nacl.box.before(publicKey, secretKey);
            return nacl.secretbox(msg, nonce, k);
          };
          nacl.box.before = function(publicKey, secretKey) {
            checkArrayTypes(publicKey, secretKey);
            checkBoxLengths(publicKey, secretKey);
            var k = new Uint8Array(crypto_box_BEFORENMBYTES);
            crypto_box_beforenm(k, publicKey, secretKey);
            return k;
          };
          nacl.box.after = nacl.secretbox;
          nacl.box.open = function(msg, nonce, publicKey, secretKey) {
            var k = nacl.box.before(publicKey, secretKey);
            return nacl.secretbox.open(msg, nonce, k);
          };
          nacl.box.open.after = nacl.secretbox.open;
          nacl.box.keyPair = function() {
            var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);
            var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);
            crypto_box_keypair(pk, sk);
            return {
              publicKey: pk,
              secretKey: sk
            };
          };
          nacl.box.keyPair.fromSecretKey = function(secretKey) {
            checkArrayTypes(secretKey);
            if (secretKey.length !== crypto_box_SECRETKEYBYTES)
              throw new Error('bad secret key size');
            var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);
            crypto_scalarmult_base(pk, secretKey);
            return {
              publicKey: pk,
              secretKey: new Uint8Array(secretKey)
            };
          };
          nacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;
          nacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;
          nacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;
          nacl.box.nonceLength = crypto_box_NONCEBYTES;
          nacl.box.overheadLength = nacl.secretbox.overheadLength;
          nacl.sign = function(msg, secretKey) {
            checkArrayTypes(msg, secretKey);
            if (secretKey.length !== crypto_sign_SECRETKEYBYTES)
              throw new Error('bad secret key size');
            var signedMsg = new Uint8Array(crypto_sign_BYTES + msg.length);
            crypto_sign(signedMsg, msg, msg.length, secretKey);
            return signedMsg;
          };
          nacl.sign.open = function(signedMsg, publicKey) {
            if (arguments.length !== 2)
              throw new Error('nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?');
            checkArrayTypes(signedMsg, publicKey);
            if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)
              throw new Error('bad public key size');
            var tmp = new Uint8Array(signedMsg.length);
            var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);
            if (mlen < 0)
              return null;
            var m = new Uint8Array(mlen);
            for (var i = 0; i < m.length; i++)
              m[i] = tmp[i];
            return m;
          };
          nacl.sign.detached = function(msg, secretKey) {
            var signedMsg = nacl.sign(msg, secretKey);
            var sig = new Uint8Array(crypto_sign_BYTES);
            for (var i = 0; i < sig.length; i++)
              sig[i] = signedMsg[i];
            return sig;
          };
          nacl.sign.detached.verify = function(msg, sig, publicKey) {
            checkArrayTypes(msg, sig, publicKey);
            if (sig.length !== crypto_sign_BYTES)
              throw new Error('bad signature size');
            if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)
              throw new Error('bad public key size');
            var sm = new Uint8Array(crypto_sign_BYTES + msg.length);
            var m = new Uint8Array(crypto_sign_BYTES + msg.length);
            var i;
            for (i = 0; i < crypto_sign_BYTES; i++)
              sm[i] = sig[i];
            for (i = 0; i < msg.length; i++)
              sm[i + crypto_sign_BYTES] = msg[i];
            return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);
          };
          nacl.sign.keyPair = function() {
            var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);
            var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);
            crypto_sign_keypair(pk, sk);
            return {
              publicKey: pk,
              secretKey: sk
            };
          };
          nacl.sign.keyPair.fromSecretKey = function(secretKey) {
            checkArrayTypes(secretKey);
            if (secretKey.length !== crypto_sign_SECRETKEYBYTES)
              throw new Error('bad secret key size');
            var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);
            for (var i = 0; i < pk.length; i++)
              pk[i] = secretKey[32 + i];
            return {
              publicKey: pk,
              secretKey: new Uint8Array(secretKey)
            };
          };
          nacl.sign.keyPair.fromSeed = function(seed) {
            checkArrayTypes(seed);
            if (seed.length !== crypto_sign_SEEDBYTES)
              throw new Error('bad seed size');
            var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);
            var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);
            for (var i = 0; i < 32; i++)
              sk[i] = seed[i];
            crypto_sign_keypair(pk, sk, true);
            return {
              publicKey: pk,
              secretKey: sk
            };
          };
          nacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;
          nacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;
          nacl.sign.seedLength = crypto_sign_SEEDBYTES;
          nacl.sign.signatureLength = crypto_sign_BYTES;
          nacl.hash = function(msg) {
            checkArrayTypes(msg);
            var h = new Uint8Array(crypto_hash_BYTES);
            crypto_hash(h, msg, msg.length);
            return h;
          };
          nacl.hash.hashLength = crypto_hash_BYTES;
          nacl.verify = function(x, y) {
            checkArrayTypes(x, y);
            if (x.length === 0 || y.length === 0)
              return false;
            if (x.length !== y.length)
              return false;
            return (vn(x, 0, y, 0, x.length) === 0) ? true : false;
          };
          nacl.setPRNG = function(fn) {
            randombytes = fn;
          };
          (function() {
            var crypto;
            if (typeof window !== 'undefined') {
              if (window.crypto && window.crypto.getRandomValues) {
                crypto = window.crypto;
              } else if (window.msCrypto && window.msCrypto.getRandomValues) {
                crypto = window.msCrypto;
              } else if (window.gsCrypto && window.gsCrypto.getRandomValues) {
                crypto = window.gsCrypto;
              }
              if (crypto) {
                nacl.setPRNG(function(x, n) {
                  var i,
                      v = new Uint8Array(n);
                  crypto.getRandomValues(v);
                  for (i = 0; i < n; i++)
                    x[i] = v[i];
                  cleanup(v);
                });
              } else {
                console.log('randombytes patch');
                nacl.setPRNG(function(x, n) {
                  var i,
                      v = new Uint8Array(n);
                  var field = [];
                  for (var i = 0; i < 256; i++)
                    field[i] = i;
                  for (i = 0; i < v.length; i++) {
                    v[i] = field[Math.seedrandom(new Date(), {entropy: true})];
                  }
                  for (i = 0; i < n; i++)
                    x[i] = v[i];
                  cleanup(v);
                });
              }
            } else if (typeof require !== 'undefined') {
              crypto = require('crypto');
              if (crypto) {
                nacl.setPRNG(function(x, n) {
                  var i,
                      v = crypto.randomBytes(n);
                  for (i = 0; i < n; i++)
                    x[i] = v[i];
                  cleanup(v);
                });
              }
            }
            if (typeof window !== 'undefined' && (typeof btoa === 'undefined' || typeof atob === 'undefined')) {
              console.log('atob-btoa patch');
              var Base64 = (function() {
                function Base64() {}
                Base64.btoa = function(inputArray, addPadding) {
                  if (addPadding === void 0) {
                    addPadding = true;
                  }
                  if (inputArray == null)
                    throw new TypeError("Base64.encode: invalid input type");
                  if (inputArray.length == 0)
                    return "";
                  var map = Base64.charCodeMap;
                  function StringBuilder() {
                    this.outputBuffer = new Array(1024);
                    this.outputPosition = 0;
                    this.outputString = "";
                  }
                  StringBuilder.prototype.append = function(charCode) {
                    this.outputBuffer[this.outputPosition++] = charCode;
                    if (this.outputPosition === 1024)
                      this.flushBufferToOutputString();
                  };
                  StringBuilder.prototype.toString = function() {
                    this.flushBufferToOutputString();
                    return this.outputString;
                  };
                  StringBuilder.prototype.flushBufferToOutputString = function() {
                    if (this.outputPosition === 1024)
                      this.outputString += String.fromCharCode.apply(null, this.outputBuffer);
                    else
                      this.outputString += String.fromCharCode.apply(null, this.outputBuffer.slice(0, this.outputPosition));
                    this.outputPosition = 0;
                  };
                  var output = new StringBuilder();
                  var uint24;
                  for (var readPosition = 0,
                      length = inputArray.length; readPosition < length; readPosition += 3) {
                    if (readPosition <= length - 3) {
                      uint24 = inputArray[readPosition] << 16 | inputArray[readPosition + 1] << 8 | inputArray[readPosition + 2];
                      output.append(map[(uint24 >>> 18) & 63]);
                      output.append(map[(uint24 >>> 12) & 63]);
                      output.append(map[(uint24 >>> 6) & 63]);
                      output.append(map[(uint24) & 63]);
                      uint24 = 0;
                    } else if (readPosition === length - 2) {
                      uint24 = inputArray[readPosition] << 16 | inputArray[readPosition + 1] << 8;
                      output.append(map[(uint24 >>> 18) & 63]);
                      output.append(map[(uint24 >>> 12) & 63]);
                      output.append(map[(uint24 >>> 6) & 63]);
                      if (addPadding)
                        output.append(Base64.paddingCharCode);
                    } else if (readPosition === length - 1) {
                      uint24 = inputArray[readPosition] << 16;
                      output.append(map[(uint24 >>> 18) & 63]);
                      output.append(map[(uint24 >>> 12) & 63]);
                      if (addPadding) {
                        output.append(Base64.paddingCharCode);
                        output.append(Base64.paddingCharCode);
                      }
                    }
                  }
                  return output.toString();
                };
                Base64.atob = function(base64String, outputBuffer) {
                  if (typeof base64String !== "string")
                    throw new TypeError("Base64.decode: invalid input type");
                  if (base64String.length === 0)
                    return new Uint8Array(0);
                  var lengthModulo4 = base64String.length % 4;
                  if (lengthModulo4 === 1)
                    throw new Error("Invalid Base64 string: length % 4 == 1");
                  else if (lengthModulo4 === 2)
                    base64String += Base64.paddingCharacter + Base64.paddingCharacter;
                  else if (lengthModulo4 === 3)
                    base64String += Base64.paddingCharacter;
                  var reverseCharCodeMap = Base64.reverseCharCodeMap;
                  if (!outputBuffer)
                    outputBuffer = new Uint8Array(base64String.length);
                  var outputPosition = 0;
                  for (var i = 0,
                      length = base64String.length; i < length; i += 4) {
                    var uint24 = (reverseCharCodeMap[base64String.charCodeAt(i)] << 18) | (reverseCharCodeMap[base64String.charCodeAt(i + 1)] << 12) | (reverseCharCodeMap[base64String.charCodeAt(i + 2)] << 6) | (reverseCharCodeMap[base64String.charCodeAt(i + 3)]);
                    outputBuffer[outputPosition++] = (uint24 >>> 16) & 255;
                    outputBuffer[outputPosition++] = (uint24 >>> 8) & 255;
                    outputBuffer[outputPosition++] = (uint24) & 255;
                  }
                  if (base64String.charAt(length - 1) == Base64.paddingCharacter)
                    outputPosition--;
                  if (base64String.charAt(length - 2) == Base64.paddingCharacter)
                    outputPosition--;
                  return outputBuffer.subarray(0, outputPosition);
                };
                Base64.paddingCharacter = '=';
                Base64.charCodeMap = new Uint8Array([65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 43, 47]);
                Base64.paddingCharCode = 61;
                Base64.reverseCharCodeMap = new Uint8Array([255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 62, 255, 255, 255, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 255, 255, 255, 0, 255, 255, 255, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 255, 255, 255, 255, 255, 255, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 255, 255, 255, 255]);
                return Base64;
              })();
              global.atob = Base64.atob;
              global.btoa = Base64.btoa;
              nacl.util.encodeBase64 = function(arr) {
                if (Buffer) {
                  return (new Buffer(arr)).toString('base64');
                } else {
                  console.log('encodeBase64 patch');
                  return Base64.btoa(arr);
                }
              };
              nacl.util.decodeBase64 = function(s) {
                if (Buffer) {
                  return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));
                } else {
                  console.log('decodeBase64 patch');
                  return Base64.atob(s);
                }
              };
            }
          })();
        })(typeof module !== 'undefined' && module.exports ? module.exports : (window.nacl = window.nacl || {}));
      }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {}, require("buffer").Buffer);
    }, {
      "buffer": 43,
      "crypto": 43,
      "seedrandom": 32
    }],
    43: [function(require, module, exports) {}, {}],
    44: [function(require, module, exports) {
      (function(global) {
        var base64 = require('base64-js');
        var ieee754 = require('ieee754');
        var isArray = require('is-array');
        exports.Buffer = Buffer;
        exports.SlowBuffer = SlowBuffer;
        exports.INSPECT_MAX_BYTES = 50;
        Buffer.poolSize = 8192;
        var rootParent = {};
        Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : (function() {
          function Bar() {}
          try {
            var arr = new Uint8Array(1);
            arr.foo = function() {
              return 42;
            };
            arr.constructor = Bar;
            return arr.foo() === 42 && arr.constructor === Bar && typeof arr.subarray === 'function' && arr.subarray(1, 1).byteLength === 0;
          } catch (e) {
            return false;
          }
        })();
        function kMaxLength() {
          return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;
        }
        function Buffer(arg) {
          if (!(this instanceof Buffer)) {
            if (arguments.length > 1)
              return new Buffer(arg, arguments[1]);
            return new Buffer(arg);
          }
          this.length = 0;
          this.parent = undefined;
          if (typeof arg === 'number') {
            return fromNumber(this, arg);
          }
          if (typeof arg === 'string') {
            return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8');
          }
          return fromObject(this, arg);
        }
        function fromNumber(that, length) {
          that = allocate(that, length < 0 ? 0 : checked(length) | 0);
          if (!Buffer.TYPED_ARRAY_SUPPORT) {
            for (var i = 0; i < length; i++) {
              that[i] = 0;
            }
          }
          return that;
        }
        function fromString(that, string, encoding) {
          if (typeof encoding !== 'string' || encoding === '')
            encoding = 'utf8';
          var length = byteLength(string, encoding) | 0;
          that = allocate(that, length);
          that.write(string, encoding);
          return that;
        }
        function fromObject(that, object) {
          if (Buffer.isBuffer(object))
            return fromBuffer(that, object);
          if (isArray(object))
            return fromArray(that, object);
          if (object == null) {
            throw new TypeError('must start with number, buffer, array or string');
          }
          if (typeof ArrayBuffer !== 'undefined') {
            if (object.buffer instanceof ArrayBuffer) {
              return fromTypedArray(that, object);
            }
            if (object instanceof ArrayBuffer) {
              return fromArrayBuffer(that, object);
            }
          }
          if (object.length)
            return fromArrayLike(that, object);
          return fromJsonObject(that, object);
        }
        function fromBuffer(that, buffer) {
          var length = checked(buffer.length) | 0;
          that = allocate(that, length);
          buffer.copy(that, 0, 0, length);
          return that;
        }
        function fromArray(that, array) {
          var length = checked(array.length) | 0;
          that = allocate(that, length);
          for (var i = 0; i < length; i += 1) {
            that[i] = array[i] & 255;
          }
          return that;
        }
        function fromTypedArray(that, array) {
          var length = checked(array.length) | 0;
          that = allocate(that, length);
          for (var i = 0; i < length; i += 1) {
            that[i] = array[i] & 255;
          }
          return that;
        }
        function fromArrayBuffer(that, array) {
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            array.byteLength;
            that = Buffer._augment(new Uint8Array(array));
          } else {
            that = fromTypedArray(that, new Uint8Array(array));
          }
          return that;
        }
        function fromArrayLike(that, array) {
          var length = checked(array.length) | 0;
          that = allocate(that, length);
          for (var i = 0; i < length; i += 1) {
            that[i] = array[i] & 255;
          }
          return that;
        }
        function fromJsonObject(that, object) {
          var array;
          var length = 0;
          if (object.type === 'Buffer' && isArray(object.data)) {
            array = object.data;
            length = checked(array.length) | 0;
          }
          that = allocate(that, length);
          for (var i = 0; i < length; i += 1) {
            that[i] = array[i] & 255;
          }
          return that;
        }
        if (Buffer.TYPED_ARRAY_SUPPORT) {
          Buffer.prototype.__proto__ = Uint8Array.prototype;
          Buffer.__proto__ = Uint8Array;
        }
        function allocate(that, length) {
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            that = Buffer._augment(new Uint8Array(length));
            that.__proto__ = Buffer.prototype;
          } else {
            that.length = length;
            that._isBuffer = true;
          }
          var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1;
          if (fromPool)
            that.parent = rootParent;
          return that;
        }
        function checked(length) {
          if (length >= kMaxLength()) {
            throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');
          }
          return length | 0;
        }
        function SlowBuffer(subject, encoding) {
          if (!(this instanceof SlowBuffer))
            return new SlowBuffer(subject, encoding);
          var buf = new Buffer(subject, encoding);
          delete buf.parent;
          return buf;
        }
        Buffer.isBuffer = function isBuffer(b) {
          return !!(b != null && b._isBuffer);
        };
        Buffer.compare = function compare(a, b) {
          if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
            throw new TypeError('Arguments must be Buffers');
          }
          if (a === b)
            return 0;
          var x = a.length;
          var y = b.length;
          var i = 0;
          var len = Math.min(x, y);
          while (i < len) {
            if (a[i] !== b[i])
              break;
            ++i;
          }
          if (i !== len) {
            x = a[i];
            y = b[i];
          }
          if (x < y)
            return -1;
          if (y < x)
            return 1;
          return 0;
        };
        Buffer.isEncoding = function isEncoding(encoding) {
          switch (String(encoding).toLowerCase()) {
            case 'hex':
            case 'utf8':
            case 'utf-8':
            case 'ascii':
            case 'binary':
            case 'base64':
            case 'raw':
            case 'ucs2':
            case 'ucs-2':
            case 'utf16le':
            case 'utf-16le':
              return true;
            default:
              return false;
          }
        };
        Buffer.concat = function concat(list, length) {
          if (!isArray(list))
            throw new TypeError('list argument must be an Array of Buffers.');
          if (list.length === 0) {
            return new Buffer(0);
          }
          var i;
          if (length === undefined) {
            length = 0;
            for (i = 0; i < list.length; i++) {
              length += list[i].length;
            }
          }
          var buf = new Buffer(length);
          var pos = 0;
          for (i = 0; i < list.length; i++) {
            var item = list[i];
            item.copy(buf, pos);
            pos += item.length;
          }
          return buf;
        };
        function byteLength(string, encoding) {
          if (typeof string !== 'string')
            string = '' + string;
          var len = string.length;
          if (len === 0)
            return 0;
          var loweredCase = false;
          for (; ; ) {
            switch (encoding) {
              case 'ascii':
              case 'binary':
              case 'raw':
              case 'raws':
                return len;
              case 'utf8':
              case 'utf-8':
                return utf8ToBytes(string).length;
              case 'ucs2':
              case 'ucs-2':
              case 'utf16le':
              case 'utf-16le':
                return len * 2;
              case 'hex':
                return len >>> 1;
              case 'base64':
                return base64ToBytes(string).length;
              default:
                if (loweredCase)
                  return utf8ToBytes(string).length;
                encoding = ('' + encoding).toLowerCase();
                loweredCase = true;
            }
          }
        }
        Buffer.byteLength = byteLength;
        Buffer.prototype.length = undefined;
        Buffer.prototype.parent = undefined;
        function slowToString(encoding, start, end) {
          var loweredCase = false;
          start = start | 0;
          end = end === undefined || end === Infinity ? this.length : end | 0;
          if (!encoding)
            encoding = 'utf8';
          if (start < 0)
            start = 0;
          if (end > this.length)
            end = this.length;
          if (end <= start)
            return '';
          while (true) {
            switch (encoding) {
              case 'hex':
                return hexSlice(this, start, end);
              case 'utf8':
              case 'utf-8':
                return utf8Slice(this, start, end);
              case 'ascii':
                return asciiSlice(this, start, end);
              case 'binary':
                return binarySlice(this, start, end);
              case 'base64':
                return base64Slice(this, start, end);
              case 'ucs2':
              case 'ucs-2':
              case 'utf16le':
              case 'utf-16le':
                return utf16leSlice(this, start, end);
              default:
                if (loweredCase)
                  throw new TypeError('Unknown encoding: ' + encoding);
                encoding = (encoding + '').toLowerCase();
                loweredCase = true;
            }
          }
        }
        Buffer.prototype.toString = function toString() {
          var length = this.length | 0;
          if (length === 0)
            return '';
          if (arguments.length === 0)
            return utf8Slice(this, 0, length);
          return slowToString.apply(this, arguments);
        };
        Buffer.prototype.equals = function equals(b) {
          if (!Buffer.isBuffer(b))
            throw new TypeError('Argument must be a Buffer');
          if (this === b)
            return true;
          return Buffer.compare(this, b) === 0;
        };
        Buffer.prototype.inspect = function inspect() {
          var str = '';
          var max = exports.INSPECT_MAX_BYTES;
          if (this.length > 0) {
            str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');
            if (this.length > max)
              str += ' ... ';
          }
          return '<Buffer ' + str + '>';
        };
        Buffer.prototype.compare = function compare(b) {
          if (!Buffer.isBuffer(b))
            throw new TypeError('Argument must be a Buffer');
          if (this === b)
            return 0;
          return Buffer.compare(this, b);
        };
        Buffer.prototype.indexOf = function indexOf(val, byteOffset) {
          if (byteOffset > 0x7fffffff)
            byteOffset = 0x7fffffff;
          else if (byteOffset < -0x80000000)
            byteOffset = -0x80000000;
          byteOffset >>= 0;
          if (this.length === 0)
            return -1;
          if (byteOffset >= this.length)
            return -1;
          if (byteOffset < 0)
            byteOffset = Math.max(this.length + byteOffset, 0);
          if (typeof val === 'string') {
            if (val.length === 0)
              return -1;
            return String.prototype.indexOf.call(this, val, byteOffset);
          }
          if (Buffer.isBuffer(val)) {
            return arrayIndexOf(this, val, byteOffset);
          }
          if (typeof val === 'number') {
            if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {
              return Uint8Array.prototype.indexOf.call(this, val, byteOffset);
            }
            return arrayIndexOf(this, [val], byteOffset);
          }
          function arrayIndexOf(arr, val, byteOffset) {
            var foundIndex = -1;
            for (var i = 0; byteOffset + i < arr.length; i++) {
              if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {
                if (foundIndex === -1)
                  foundIndex = i;
                if (i - foundIndex + 1 === val.length)
                  return byteOffset + foundIndex;
              } else {
                foundIndex = -1;
              }
            }
            return -1;
          }
          throw new TypeError('val must be string, number or Buffer');
        };
        Buffer.prototype.get = function get(offset) {
          console.log('.get() is deprecated. Access using array indexes instead.');
          return this.readUInt8(offset);
        };
        Buffer.prototype.set = function set(v, offset) {
          console.log('.set() is deprecated. Access using array indexes instead.');
          return this.writeUInt8(v, offset);
        };
        function hexWrite(buf, string, offset, length) {
          offset = Number(offset) || 0;
          var remaining = buf.length - offset;
          if (!length) {
            length = remaining;
          } else {
            length = Number(length);
            if (length > remaining) {
              length = remaining;
            }
          }
          var strLen = string.length;
          if (strLen % 2 !== 0)
            throw new Error('Invalid hex string');
          if (length > strLen / 2) {
            length = strLen / 2;
          }
          for (var i = 0; i < length; i++) {
            var parsed = parseInt(string.substr(i * 2, 2), 16);
            if (isNaN(parsed))
              throw new Error('Invalid hex string');
            buf[offset + i] = parsed;
          }
          return i;
        }
        function utf8Write(buf, string, offset, length) {
          return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
        }
        function asciiWrite(buf, string, offset, length) {
          return blitBuffer(asciiToBytes(string), buf, offset, length);
        }
        function binaryWrite(buf, string, offset, length) {
          return asciiWrite(buf, string, offset, length);
        }
        function base64Write(buf, string, offset, length) {
          return blitBuffer(base64ToBytes(string), buf, offset, length);
        }
        function ucs2Write(buf, string, offset, length) {
          return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
        }
        Buffer.prototype.write = function write(string, offset, length, encoding) {
          if (offset === undefined) {
            encoding = 'utf8';
            length = this.length;
            offset = 0;
          } else if (length === undefined && typeof offset === 'string') {
            encoding = offset;
            length = this.length;
            offset = 0;
          } else if (isFinite(offset)) {
            offset = offset | 0;
            if (isFinite(length)) {
              length = length | 0;
              if (encoding === undefined)
                encoding = 'utf8';
            } else {
              encoding = length;
              length = undefined;
            }
          } else {
            var swap = encoding;
            encoding = offset;
            offset = length | 0;
            length = swap;
          }
          var remaining = this.length - offset;
          if (length === undefined || length > remaining)
            length = remaining;
          if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
            throw new RangeError('attempt to write outside buffer bounds');
          }
          if (!encoding)
            encoding = 'utf8';
          var loweredCase = false;
          for (; ; ) {
            switch (encoding) {
              case 'hex':
                return hexWrite(this, string, offset, length);
              case 'utf8':
              case 'utf-8':
                return utf8Write(this, string, offset, length);
              case 'ascii':
                return asciiWrite(this, string, offset, length);
              case 'binary':
                return binaryWrite(this, string, offset, length);
              case 'base64':
                return base64Write(this, string, offset, length);
              case 'ucs2':
              case 'ucs-2':
              case 'utf16le':
              case 'utf-16le':
                return ucs2Write(this, string, offset, length);
              default:
                if (loweredCase)
                  throw new TypeError('Unknown encoding: ' + encoding);
                encoding = ('' + encoding).toLowerCase();
                loweredCase = true;
            }
          }
        };
        Buffer.prototype.toJSON = function toJSON() {
          return {
            type: 'Buffer',
            data: Array.prototype.slice.call(this._arr || this, 0)
          };
        };
        function base64Slice(buf, start, end) {
          if (start === 0 && end === buf.length) {
            return base64.fromByteArray(buf);
          } else {
            return base64.fromByteArray(buf.slice(start, end));
          }
        }
        function utf8Slice(buf, start, end) {
          end = Math.min(buf.length, end);
          var res = [];
          var i = start;
          while (i < end) {
            var firstByte = buf[i];
            var codePoint = null;
            var bytesPerSequence = (firstByte > 0xEF) ? 4 : (firstByte > 0xDF) ? 3 : (firstByte > 0xBF) ? 2 : 1;
            if (i + bytesPerSequence <= end) {
              var secondByte,
                  thirdByte,
                  fourthByte,
                  tempCodePoint;
              switch (bytesPerSequence) {
                case 1:
                  if (firstByte < 0x80) {
                    codePoint = firstByte;
                  }
                  break;
                case 2:
                  secondByte = buf[i + 1];
                  if ((secondByte & 0xC0) === 0x80) {
                    tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);
                    if (tempCodePoint > 0x7F) {
                      codePoint = tempCodePoint;
                    }
                  }
                  break;
                case 3:
                  secondByte = buf[i + 1];
                  thirdByte = buf[i + 2];
                  if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
                    tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);
                    if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
                      codePoint = tempCodePoint;
                    }
                  }
                  break;
                case 4:
                  secondByte = buf[i + 1];
                  thirdByte = buf[i + 2];
                  fourthByte = buf[i + 3];
                  if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
                    tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);
                    if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
                      codePoint = tempCodePoint;
                    }
                  }
              }
            }
            if (codePoint === null) {
              codePoint = 0xFFFD;
              bytesPerSequence = 1;
            } else if (codePoint > 0xFFFF) {
              codePoint -= 0x10000;
              res.push(codePoint >>> 10 & 0x3FF | 0xD800);
              codePoint = 0xDC00 | codePoint & 0x3FF;
            }
            res.push(codePoint);
            i += bytesPerSequence;
          }
          return decodeCodePointsArray(res);
        }
        var MAX_ARGUMENTS_LENGTH = 0x1000;
        function decodeCodePointsArray(codePoints) {
          var len = codePoints.length;
          if (len <= MAX_ARGUMENTS_LENGTH) {
            return String.fromCharCode.apply(String, codePoints);
          }
          var res = '';
          var i = 0;
          while (i < len) {
            res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));
          }
          return res;
        }
        function asciiSlice(buf, start, end) {
          var ret = '';
          end = Math.min(buf.length, end);
          for (var i = start; i < end; i++) {
            ret += String.fromCharCode(buf[i] & 0x7F);
          }
          return ret;
        }
        function binarySlice(buf, start, end) {
          var ret = '';
          end = Math.min(buf.length, end);
          for (var i = start; i < end; i++) {
            ret += String.fromCharCode(buf[i]);
          }
          return ret;
        }
        function hexSlice(buf, start, end) {
          var len = buf.length;
          if (!start || start < 0)
            start = 0;
          if (!end || end < 0 || end > len)
            end = len;
          var out = '';
          for (var i = start; i < end; i++) {
            out += toHex(buf[i]);
          }
          return out;
        }
        function utf16leSlice(buf, start, end) {
          var bytes = buf.slice(start, end);
          var res = '';
          for (var i = 0; i < bytes.length; i += 2) {
            res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
          }
          return res;
        }
        Buffer.prototype.slice = function slice(start, end) {
          var len = this.length;
          start = ~~start;
          end = end === undefined ? len : ~~end;
          if (start < 0) {
            start += len;
            if (start < 0)
              start = 0;
          } else if (start > len) {
            start = len;
          }
          if (end < 0) {
            end += len;
            if (end < 0)
              end = 0;
          } else if (end > len) {
            end = len;
          }
          if (end < start)
            end = start;
          var newBuf;
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            newBuf = Buffer._augment(this.subarray(start, end));
          } else {
            var sliceLen = end - start;
            newBuf = new Buffer(sliceLen, undefined);
            for (var i = 0; i < sliceLen; i++) {
              newBuf[i] = this[i + start];
            }
          }
          if (newBuf.length)
            newBuf.parent = this.parent || this;
          return newBuf;
        };
        function checkOffset(offset, ext, length) {
          if ((offset % 1) !== 0 || offset < 0)
            throw new RangeError('offset is not uint');
          if (offset + ext > length)
            throw new RangeError('Trying to access beyond buffer length');
        }
        Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {
          offset = offset | 0;
          byteLength = byteLength | 0;
          if (!noAssert)
            checkOffset(offset, byteLength, this.length);
          var val = this[offset];
          var mul = 1;
          var i = 0;
          while (++i < byteLength && (mul *= 0x100)) {
            val += this[offset + i] * mul;
          }
          return val;
        };
        Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {
          offset = offset | 0;
          byteLength = byteLength | 0;
          if (!noAssert) {
            checkOffset(offset, byteLength, this.length);
          }
          var val = this[offset + --byteLength];
          var mul = 1;
          while (byteLength > 0 && (mul *= 0x100)) {
            val += this[offset + --byteLength] * mul;
          }
          return val;
        };
        Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 1, this.length);
          return this[offset];
        };
        Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 2, this.length);
          return this[offset] | (this[offset + 1] << 8);
        };
        Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 2, this.length);
          return (this[offset] << 8) | this[offset + 1];
        };
        Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 4, this.length);
          return ((this[offset]) | (this[offset + 1] << 8) | (this[offset + 2] << 16)) + (this[offset + 3] * 0x1000000);
        };
        Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 4, this.length);
          return (this[offset] * 0x1000000) + ((this[offset + 1] << 16) | (this[offset + 2] << 8) | this[offset + 3]);
        };
        Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {
          offset = offset | 0;
          byteLength = byteLength | 0;
          if (!noAssert)
            checkOffset(offset, byteLength, this.length);
          var val = this[offset];
          var mul = 1;
          var i = 0;
          while (++i < byteLength && (mul *= 0x100)) {
            val += this[offset + i] * mul;
          }
          mul *= 0x80;
          if (val >= mul)
            val -= Math.pow(2, 8 * byteLength);
          return val;
        };
        Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {
          offset = offset | 0;
          byteLength = byteLength | 0;
          if (!noAssert)
            checkOffset(offset, byteLength, this.length);
          var i = byteLength;
          var mul = 1;
          var val = this[offset + --i];
          while (i > 0 && (mul *= 0x100)) {
            val += this[offset + --i] * mul;
          }
          mul *= 0x80;
          if (val >= mul)
            val -= Math.pow(2, 8 * byteLength);
          return val;
        };
        Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 1, this.length);
          if (!(this[offset] & 0x80))
            return (this[offset]);
          return ((0xff - this[offset] + 1) * -1);
        };
        Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 2, this.length);
          var val = this[offset] | (this[offset + 1] << 8);
          return (val & 0x8000) ? val | 0xFFFF0000 : val;
        };
        Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 2, this.length);
          var val = this[offset + 1] | (this[offset] << 8);
          return (val & 0x8000) ? val | 0xFFFF0000 : val;
        };
        Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 4, this.length);
          return (this[offset]) | (this[offset + 1] << 8) | (this[offset + 2] << 16) | (this[offset + 3] << 24);
        };
        Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 4, this.length);
          return (this[offset] << 24) | (this[offset + 1] << 16) | (this[offset + 2] << 8) | (this[offset + 3]);
        };
        Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 4, this.length);
          return ieee754.read(this, offset, true, 23, 4);
        };
        Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 4, this.length);
          return ieee754.read(this, offset, false, 23, 4);
        };
        Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 8, this.length);
          return ieee754.read(this, offset, true, 52, 8);
        };
        Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
          if (!noAssert)
            checkOffset(offset, 8, this.length);
          return ieee754.read(this, offset, false, 52, 8);
        };
        function checkInt(buf, value, offset, ext, max, min) {
          if (!Buffer.isBuffer(buf))
            throw new TypeError('buffer must be a Buffer instance');
          if (value > max || value < min)
            throw new RangeError('value is out of bounds');
          if (offset + ext > buf.length)
            throw new RangeError('index out of range');
        }
        Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {
          value = +value;
          offset = offset | 0;
          byteLength = byteLength | 0;
          if (!noAssert)
            checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0);
          var mul = 1;
          var i = 0;
          this[offset] = value & 0xFF;
          while (++i < byteLength && (mul *= 0x100)) {
            this[offset + i] = (value / mul) & 0xFF;
          }
          return offset + byteLength;
        };
        Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {
          value = +value;
          offset = offset | 0;
          byteLength = byteLength | 0;
          if (!noAssert)
            checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0);
          var i = byteLength - 1;
          var mul = 1;
          this[offset + i] = value & 0xFF;
          while (--i >= 0 && (mul *= 0x100)) {
            this[offset + i] = (value / mul) & 0xFF;
          }
          return offset + byteLength;
        };
        Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 1, 0xff, 0);
          if (!Buffer.TYPED_ARRAY_SUPPORT)
            value = Math.floor(value);
          this[offset] = value;
          return offset + 1;
        };
        function objectWriteUInt16(buf, value, offset, littleEndian) {
          if (value < 0)
            value = 0xffff + value + 1;
          for (var i = 0,
              j = Math.min(buf.length - offset, 2); i < j; i++) {
            buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>> (littleEndian ? i : 1 - i) * 8;
          }
        }
        Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 2, 0xffff, 0);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = value;
            this[offset + 1] = (value >>> 8);
          } else {
            objectWriteUInt16(this, value, offset, true);
          }
          return offset + 2;
        };
        Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 2, 0xffff, 0);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = (value >>> 8);
            this[offset + 1] = value;
          } else {
            objectWriteUInt16(this, value, offset, false);
          }
          return offset + 2;
        };
        function objectWriteUInt32(buf, value, offset, littleEndian) {
          if (value < 0)
            value = 0xffffffff + value + 1;
          for (var i = 0,
              j = Math.min(buf.length - offset, 4); i < j; i++) {
            buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff;
          }
        }
        Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 4, 0xffffffff, 0);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset + 3] = (value >>> 24);
            this[offset + 2] = (value >>> 16);
            this[offset + 1] = (value >>> 8);
            this[offset] = value;
          } else {
            objectWriteUInt32(this, value, offset, true);
          }
          return offset + 4;
        };
        Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 4, 0xffffffff, 0);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = (value >>> 24);
            this[offset + 1] = (value >>> 16);
            this[offset + 2] = (value >>> 8);
            this[offset + 3] = value;
          } else {
            objectWriteUInt32(this, value, offset, false);
          }
          return offset + 4;
        };
        Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert) {
            var limit = Math.pow(2, 8 * byteLength - 1);
            checkInt(this, value, offset, byteLength, limit - 1, -limit);
          }
          var i = 0;
          var mul = 1;
          var sub = value < 0 ? 1 : 0;
          this[offset] = value & 0xFF;
          while (++i < byteLength && (mul *= 0x100)) {
            this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;
          }
          return offset + byteLength;
        };
        Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert) {
            var limit = Math.pow(2, 8 * byteLength - 1);
            checkInt(this, value, offset, byteLength, limit - 1, -limit);
          }
          var i = byteLength - 1;
          var mul = 1;
          var sub = value < 0 ? 1 : 0;
          this[offset + i] = value & 0xFF;
          while (--i >= 0 && (mul *= 0x100)) {
            this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;
          }
          return offset + byteLength;
        };
        Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 1, 0x7f, -0x80);
          if (!Buffer.TYPED_ARRAY_SUPPORT)
            value = Math.floor(value);
          if (value < 0)
            value = 0xff + value + 1;
          this[offset] = value;
          return offset + 1;
        };
        Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 2, 0x7fff, -0x8000);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = value;
            this[offset + 1] = (value >>> 8);
          } else {
            objectWriteUInt16(this, value, offset, true);
          }
          return offset + 2;
        };
        Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 2, 0x7fff, -0x8000);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = (value >>> 8);
            this[offset + 1] = value;
          } else {
            objectWriteUInt16(this, value, offset, false);
          }
          return offset + 2;
        };
        Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = value;
            this[offset + 1] = (value >>> 8);
            this[offset + 2] = (value >>> 16);
            this[offset + 3] = (value >>> 24);
          } else {
            objectWriteUInt32(this, value, offset, true);
          }
          return offset + 4;
        };
        Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
          value = +value;
          offset = offset | 0;
          if (!noAssert)
            checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
          if (value < 0)
            value = 0xffffffff + value + 1;
          if (Buffer.TYPED_ARRAY_SUPPORT) {
            this[offset] = (value >>> 24);
            this[offset + 1] = (value >>> 16);
            this[offset + 2] = (value >>> 8);
            this[offset + 3] = value;
          } else {
            objectWriteUInt32(this, value, offset, false);
          }
          return offset + 4;
        };
        function checkIEEE754(buf, value, offset, ext, max, min) {
          if (value > max || value < min)
            throw new RangeError('value is out of bounds');
          if (offset + ext > buf.length)
            throw new RangeError('index out of range');
          if (offset < 0)
            throw new RangeError('index out of range');
        }
        function writeFloat(buf, value, offset, littleEndian, noAssert) {
          if (!noAssert) {
            checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);
          }
          ieee754.write(buf, value, offset, littleEndian, 23, 4);
          return offset + 4;
        }
        Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
          return writeFloat(this, value, offset, true, noAssert);
        };
        Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
          return writeFloat(this, value, offset, false, noAssert);
        };
        function writeDouble(buf, value, offset, littleEndian, noAssert) {
          if (!noAssert) {
            checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);
          }
          ieee754.write(buf, value, offset, littleEndian, 52, 8);
          return offset + 8;
        }
        Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
          return writeDouble(this, value, offset, true, noAssert);
        };
        Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
          return writeDouble(this, value, offset, false, noAssert);
        };
        Buffer.prototype.copy = function copy(target, targetStart, start, end) {
          if (!start)
            start = 0;
          if (!end && end !== 0)
            end = this.length;
          if (targetStart >= target.length)
            targetStart = target.length;
          if (!targetStart)
            targetStart = 0;
          if (end > 0 && end < start)
            end = start;
          if (end === start)
            return 0;
          if (target.length === 0 || this.length === 0)
            return 0;
          if (targetStart < 0) {
            throw new RangeError('targetStart out of bounds');
          }
          if (start < 0 || start >= this.length)
            throw new RangeError('sourceStart out of bounds');
          if (end < 0)
            throw new RangeError('sourceEnd out of bounds');
          if (end > this.length)
            end = this.length;
          if (target.length - targetStart < end - start) {
            end = target.length - targetStart + start;
          }
          var len = end - start;
          var i;
          if (this === target && start < targetStart && targetStart < end) {
            for (i = len - 1; i >= 0; i--) {
              target[i + targetStart] = this[i + start];
            }
          } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
            for (i = 0; i < len; i++) {
              target[i + targetStart] = this[i + start];
            }
          } else {
            target._set(this.subarray(start, start + len), targetStart);
          }
          return len;
        };
        Buffer.prototype.fill = function fill(value, start, end) {
          if (!value)
            value = 0;
          if (!start)
            start = 0;
          if (!end)
            end = this.length;
          if (end < start)
            throw new RangeError('end < start');
          if (end === start)
            return;
          if (this.length === 0)
            return;
          if (start < 0 || start >= this.length)
            throw new RangeError('start out of bounds');
          if (end < 0 || end > this.length)
            throw new RangeError('end out of bounds');
          var i;
          if (typeof value === 'number') {
            for (i = start; i < end; i++) {
              this[i] = value;
            }
          } else {
            var bytes = utf8ToBytes(value.toString());
            var len = bytes.length;
            for (i = start; i < end; i++) {
              this[i] = bytes[i % len];
            }
          }
          return this;
        };
        Buffer.prototype.toArrayBuffer = function toArrayBuffer() {
          if (typeof Uint8Array !== 'undefined') {
            if (Buffer.TYPED_ARRAY_SUPPORT) {
              return (new Buffer(this)).buffer;
            } else {
              var buf = new Uint8Array(this.length);
              for (var i = 0,
                  len = buf.length; i < len; i += 1) {
                buf[i] = this[i];
              }
              return buf.buffer;
            }
          } else {
            throw new TypeError('Buffer.toArrayBuffer not supported in this browser');
          }
        };
        var BP = Buffer.prototype;
        Buffer._augment = function _augment(arr) {
          arr.constructor = Buffer;
          arr._isBuffer = true;
          arr._set = arr.set;
          arr.get = BP.get;
          arr.set = BP.set;
          arr.write = BP.write;
          arr.toString = BP.toString;
          arr.toLocaleString = BP.toString;
          arr.toJSON = BP.toJSON;
          arr.equals = BP.equals;
          arr.compare = BP.compare;
          arr.indexOf = BP.indexOf;
          arr.copy = BP.copy;
          arr.slice = BP.slice;
          arr.readUIntLE = BP.readUIntLE;
          arr.readUIntBE = BP.readUIntBE;
          arr.readUInt8 = BP.readUInt8;
          arr.readUInt16LE = BP.readUInt16LE;
          arr.readUInt16BE = BP.readUInt16BE;
          arr.readUInt32LE = BP.readUInt32LE;
          arr.readUInt32BE = BP.readUInt32BE;
          arr.readIntLE = BP.readIntLE;
          arr.readIntBE = BP.readIntBE;
          arr.readInt8 = BP.readInt8;
          arr.readInt16LE = BP.readInt16LE;
          arr.readInt16BE = BP.readInt16BE;
          arr.readInt32LE = BP.readInt32LE;
          arr.readInt32BE = BP.readInt32BE;
          arr.readFloatLE = BP.readFloatLE;
          arr.readFloatBE = BP.readFloatBE;
          arr.readDoubleLE = BP.readDoubleLE;
          arr.readDoubleBE = BP.readDoubleBE;
          arr.writeUInt8 = BP.writeUInt8;
          arr.writeUIntLE = BP.writeUIntLE;
          arr.writeUIntBE = BP.writeUIntBE;
          arr.writeUInt16LE = BP.writeUInt16LE;
          arr.writeUInt16BE = BP.writeUInt16BE;
          arr.writeUInt32LE = BP.writeUInt32LE;
          arr.writeUInt32BE = BP.writeUInt32BE;
          arr.writeIntLE = BP.writeIntLE;
          arr.writeIntBE = BP.writeIntBE;
          arr.writeInt8 = BP.writeInt8;
          arr.writeInt16LE = BP.writeInt16LE;
          arr.writeInt16BE = BP.writeInt16BE;
          arr.writeInt32LE = BP.writeInt32LE;
          arr.writeInt32BE = BP.writeInt32BE;
          arr.writeFloatLE = BP.writeFloatLE;
          arr.writeFloatBE = BP.writeFloatBE;
          arr.writeDoubleLE = BP.writeDoubleLE;
          arr.writeDoubleBE = BP.writeDoubleBE;
          arr.fill = BP.fill;
          arr.inspect = BP.inspect;
          arr.toArrayBuffer = BP.toArrayBuffer;
          return arr;
        };
        var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
        function base64clean(str) {
          str = stringtrim(str).replace(INVALID_BASE64_RE, '');
          if (str.length < 2)
            return '';
          while (str.length % 4 !== 0) {
            str = str + '=';
          }
          return str;
        }
        function stringtrim(str) {
          if (str.trim)
            return str.trim();
          return str.replace(/^\s+|\s+$/g, '');
        }
        function toHex(n) {
          if (n < 16)
            return '0' + n.toString(16);
          return n.toString(16);
        }
        function utf8ToBytes(string, units) {
          units = units || Infinity;
          var codePoint;
          var length = string.length;
          var leadSurrogate = null;
          var bytes = [];
          for (var i = 0; i < length; i++) {
            codePoint = string.charCodeAt(i);
            if (codePoint > 0xD7FF && codePoint < 0xE000) {
              if (!leadSurrogate) {
                if (codePoint > 0xDBFF) {
                  if ((units -= 3) > -1)
                    bytes.push(0xEF, 0xBF, 0xBD);
                  continue;
                } else if (i + 1 === length) {
                  if ((units -= 3) > -1)
                    bytes.push(0xEF, 0xBF, 0xBD);
                  continue;
                }
                leadSurrogate = codePoint;
                continue;
              }
              if (codePoint < 0xDC00) {
                if ((units -= 3) > -1)
                  bytes.push(0xEF, 0xBF, 0xBD);
                leadSurrogate = codePoint;
                continue;
              }
              codePoint = leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00 | 0x10000;
            } else if (leadSurrogate) {
              if ((units -= 3) > -1)
                bytes.push(0xEF, 0xBF, 0xBD);
            }
            leadSurrogate = null;
            if (codePoint < 0x80) {
              if ((units -= 1) < 0)
                break;
              bytes.push(codePoint);
            } else if (codePoint < 0x800) {
              if ((units -= 2) < 0)
                break;
              bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);
            } else if (codePoint < 0x10000) {
              if ((units -= 3) < 0)
                break;
              bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);
            } else if (codePoint < 0x110000) {
              if ((units -= 4) < 0)
                break;
              bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);
            } else {
              throw new Error('Invalid code point');
            }
          }
          return bytes;
        }
        function asciiToBytes(str) {
          var byteArray = [];
          for (var i = 0; i < str.length; i++) {
            byteArray.push(str.charCodeAt(i) & 0xFF);
          }
          return byteArray;
        }
        function utf16leToBytes(str, units) {
          var c,
              hi,
              lo;
          var byteArray = [];
          for (var i = 0; i < str.length; i++) {
            if ((units -= 2) < 0)
              break;
            c = str.charCodeAt(i);
            hi = c >> 8;
            lo = c % 256;
            byteArray.push(lo);
            byteArray.push(hi);
          }
          return byteArray;
        }
        function base64ToBytes(str) {
          return base64.toByteArray(base64clean(str));
        }
        function blitBuffer(src, dst, offset, length) {
          for (var i = 0; i < length; i++) {
            if ((i + offset >= dst.length) || (i >= src.length))
              break;
            dst[i + offset] = src[i];
          }
          return i;
        }
      }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
    }, {
      "base64-js": 45,
      "ieee754": 46,
      "is-array": 47
    }],
    45: [function(require, module, exports) {
      var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
      ;
      (function(exports) {
        'use strict';
        var Arr = (typeof Uint8Array !== 'undefined') ? Uint8Array : Array;
        var PLUS = '+'.charCodeAt(0);
        var SLASH = '/'.charCodeAt(0);
        var NUMBER = '0'.charCodeAt(0);
        var LOWER = 'a'.charCodeAt(0);
        var UPPER = 'A'.charCodeAt(0);
        var PLUS_URL_SAFE = '-'.charCodeAt(0);
        var SLASH_URL_SAFE = '_'.charCodeAt(0);
        function decode(elt) {
          var code = elt.charCodeAt(0);
          if (code === PLUS || code === PLUS_URL_SAFE)
            return 62;
          if (code === SLASH || code === SLASH_URL_SAFE)
            return 63;
          if (code < NUMBER)
            return -1;
          if (code < NUMBER + 10)
            return code - NUMBER + 26 + 26;
          if (code < UPPER + 26)
            return code - UPPER;
          if (code < LOWER + 26)
            return code - LOWER + 26;
        }
        function b64ToByteArray(b64) {
          var i,
              j,
              l,
              tmp,
              placeHolders,
              arr;
          if (b64.length % 4 > 0) {
            throw new Error('Invalid string. Length must be a multiple of 4');
          }
          var len = b64.length;
          placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0;
          arr = new Arr(b64.length * 3 / 4 - placeHolders);
          l = placeHolders > 0 ? b64.length - 4 : b64.length;
          var L = 0;
          function push(v) {
            arr[L++] = v;
          }
          for (i = 0, j = 0; i < l; i += 4, j += 3) {
            tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3));
            push((tmp & 0xFF0000) >> 16);
            push((tmp & 0xFF00) >> 8);
            push(tmp & 0xFF);
          }
          if (placeHolders === 2) {
            tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4);
            push(tmp & 0xFF);
          } else if (placeHolders === 1) {
            tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2);
            push((tmp >> 8) & 0xFF);
            push(tmp & 0xFF);
          }
          return arr;
        }
        function uint8ToBase64(uint8) {
          var i,
              extraBytes = uint8.length % 3,
              output = "",
              temp,
              length;
          function encode(num) {
            return lookup.charAt(num);
          }
          function tripletToBase64(num) {
            return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F);
          }
          for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
            temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2]);
            output += tripletToBase64(temp);
          }
          switch (extraBytes) {
            case 1:
              temp = uint8[uint8.length - 1];
              output += encode(temp >> 2);
              output += encode((temp << 4) & 0x3F);
              output += '==';
              break;
            case 2:
              temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1]);
              output += encode(temp >> 10);
              output += encode((temp >> 4) & 0x3F);
              output += encode((temp << 2) & 0x3F);
              output += '=';
              break;
          }
          return output;
        }
        exports.toByteArray = b64ToByteArray;
        exports.fromByteArray = uint8ToBase64;
      }(typeof exports === 'undefined' ? (this.base64js = {}) : exports));
    }, {}],
    46: [function(require, module, exports) {
      exports.read = function(buffer, offset, isLE, mLen, nBytes) {
        var e,
            m;
        var eLen = nBytes * 8 - mLen - 1;
        var eMax = (1 << eLen) - 1;
        var eBias = eMax >> 1;
        var nBits = -7;
        var i = isLE ? (nBytes - 1) : 0;
        var d = isLE ? -1 : 1;
        var s = buffer[offset + i];
        i += d;
        e = s & ((1 << (-nBits)) - 1);
        s >>= (-nBits);
        nBits += eLen;
        for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}
        m = e & ((1 << (-nBits)) - 1);
        e >>= (-nBits);
        nBits += mLen;
        for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}
        if (e === 0) {
          e = 1 - eBias;
        } else if (e === eMax) {
          return m ? NaN : ((s ? -1 : 1) * Infinity);
        } else {
          m = m + Math.pow(2, mLen);
          e = e - eBias;
        }
        return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
      };
      exports.write = function(buffer, value, offset, isLE, mLen, nBytes) {
        var e,
            m,
            c;
        var eLen = nBytes * 8 - mLen - 1;
        var eMax = (1 << eLen) - 1;
        var eBias = eMax >> 1;
        var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);
        var i = isLE ? 0 : (nBytes - 1);
        var d = isLE ? 1 : -1;
        var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;
        value = Math.abs(value);
        if (isNaN(value) || value === Infinity) {
          m = isNaN(value) ? 1 : 0;
          e = eMax;
        } else {
          e = Math.floor(Math.log(value) / Math.LN2);
          if (value * (c = Math.pow(2, -e)) < 1) {
            e--;
            c *= 2;
          }
          if (e + eBias >= 1) {
            value += rt / c;
          } else {
            value += rt * Math.pow(2, 1 - eBias);
          }
          if (value * c >= 2) {
            e++;
            c /= 2;
          }
          if (e + eBias >= eMax) {
            m = 0;
            e = eMax;
          } else if (e + eBias >= 1) {
            m = (value * c - 1) * Math.pow(2, mLen);
            e = e + eBias;
          } else {
            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
            e = 0;
          }
        }
        for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}
        e = (e << mLen) | m;
        eLen += mLen;
        for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}
        buffer[offset + i - d] |= s * 128;
      };
    }, {}],
    47: [function(require, module, exports) {
      var isArray = Array.isArray;
      var str = Object.prototype.toString;
      module.exports = isArray || function(val) {
        return !!val && '[object Array]' == str.call(val);
      };
    }, {}],
    48: [function(require, module, exports) {
      'use strict';
      exports.randomBytes = exports.rng = exports.pseudoRandomBytes = exports.prng = require('randombytes');
      exports.createHash = exports.Hash = require('create-hash');
      exports.createHmac = exports.Hmac = require('create-hmac');
      var hashes = ['sha1', 'sha224', 'sha256', 'sha384', 'sha512', 'md5', 'rmd160'].concat(Object.keys(require('browserify-sign/algos')));
      exports.getHashes = function() {
        return hashes;
      };
      var p = require('pbkdf2');
      exports.pbkdf2 = p.pbkdf2;
      exports.pbkdf2Sync = p.pbkdf2Sync;
      var aes = require('browserify-aes');
      ['Cipher', 'createCipher', 'Cipheriv', 'createCipheriv', 'Decipher', 'createDecipher', 'Decipheriv', 'createDecipheriv', 'getCiphers', 'listCiphers'].forEach(function(key) {
        exports[key] = aes[key];
      });
      var dh = require('diffie-hellman');
      ['DiffieHellmanGroup', 'createDiffieHellmanGroup', 'getDiffieHellman', 'createDiffieHellman', 'DiffieHellman'].forEach(function(key) {
        exports[key] = dh[key];
      });
      var sign = require('browserify-sign');
      ['createSign', 'Sign', 'createVerify', 'Verify'].forEach(function(key) {
        exports[key] = sign[key];
      });
      exports.createECDH = require('create-ecdh');
      var publicEncrypt = require('public-encrypt');
      ['publicEncrypt', 'privateEncrypt', 'publicDecrypt', 'privateDecrypt'].forEach(function(key) {
        exports[key] = publicEncrypt[key];
      });
      ;
      ['createCredentials'].forEach(function(name) {
        exports[name] = function() {
          throw new Error(['sorry, ' + name + ' is not implemented yet', 'we accept pull requests', 'https://github.com/crypto-browserify/crypto-browserify'].join('\n'));
        };
      });
    }, {
      "browserify-aes": 52,
      "browserify-sign": 68,
      "browserify-sign/algos": 67,
      "create-ecdh": 116,
      "create-hash": 139,
      "create-hmac": 151,
      "diffie-hellman": 152,
      "pbkdf2": 159,
      "public-encrypt": 160,
      "randombytes": 188
    }],
    49: [function(require, module, exports) {
      (function(Buffer) {
        var md5 = require('create-hash/md5');
        module.exports = EVP_BytesToKey;
        function EVP_BytesToKey(password, keyLen, ivLen) {
          if (!Buffer.isBuffer(password)) {
            password = new Buffer(password, 'binary');
          }
          keyLen = keyLen / 8;
          ivLen = ivLen || 0;
          var ki = 0;
          var ii = 0;
          var key = new Buffer(keyLen);
          var iv = new Buffer(ivLen);
          var addmd = 0;
          var md_buf;
          var i;
          var bufs = [];
          while (true) {
            if (addmd++ > 0) {
              bufs.push(md_buf);
            }
            bufs.push(password);
            md_buf = md5(Buffer.concat(bufs));
            bufs = [];
            i = 0;
            if (keyLen > 0) {
              while (true) {
                if (keyLen === 0) {
                  break;
                }
                if (i === md_buf.length) {
                  break;
                }
                key[ki++] = md_buf[i];
                keyLen--;
                i++;
              }
            }
            if (ivLen > 0 && i !== md_buf.length) {
              while (true) {
                if (ivLen === 0) {
                  break;
                }
                if (i === md_buf.length) {
                  break;
                }
                iv[ii++] = md_buf[i];
                ivLen--;
                i++;
              }
            }
            if (keyLen === 0 && ivLen === 0) {
              break;
            }
          }
          for (i = 0; i < md_buf.length; i++) {
            md_buf[i] = 0;
          }
          return {
            key: key,
            iv: iv
          };
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "create-hash/md5": 141
    }],
    50: [function(require, module, exports) {
      (function(Buffer) {
        var uint_max = Math.pow(2, 32);
        function fixup_uint32(x) {
          var ret,
              x_pos;
          ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x;
          return ret;
        }
        function scrub_vec(v) {
          for (var i = 0; i < v.length; v++) {
            v[i] = 0;
          }
          return false;
        }
        function Global() {
          this.SBOX = [];
          this.INV_SBOX = [];
          this.SUB_MIX = [[], [], [], []];
          this.INV_SUB_MIX = [[], [], [], []];
          this.init();
          this.RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];
        }
        Global.prototype.init = function() {
          var d,
              i,
              sx,
              t,
              x,
              x2,
              x4,
              x8,
              xi,
              _i;
          d = (function() {
            var _i,
                _results;
            _results = [];
            for (i = _i = 0; _i < 256; i = ++_i) {
              if (i < 128) {
                _results.push(i << 1);
              } else {
                _results.push((i << 1) ^ 0x11b);
              }
            }
            return _results;
          })();
          x = 0;
          xi = 0;
          for (i = _i = 0; _i < 256; i = ++_i) {
            sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);
            sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;
            this.SBOX[x] = sx;
            this.INV_SBOX[sx] = x;
            x2 = d[x];
            x4 = d[x2];
            x8 = d[x4];
            t = (d[sx] * 0x101) ^ (sx * 0x1010100);
            this.SUB_MIX[0][x] = (t << 24) | (t >>> 8);
            this.SUB_MIX[1][x] = (t << 16) | (t >>> 16);
            this.SUB_MIX[2][x] = (t << 8) | (t >>> 24);
            this.SUB_MIX[3][x] = t;
            t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);
            this.INV_SUB_MIX[0][sx] = (t << 24) | (t >>> 8);
            this.INV_SUB_MIX[1][sx] = (t << 16) | (t >>> 16);
            this.INV_SUB_MIX[2][sx] = (t << 8) | (t >>> 24);
            this.INV_SUB_MIX[3][sx] = t;
            if (x === 0) {
              x = xi = 1;
            } else {
              x = x2 ^ d[d[d[x8 ^ x2]]];
              xi ^= d[d[xi]];
            }
          }
          return true;
        };
        var G = new Global();
        AES.blockSize = 4 * 4;
        AES.prototype.blockSize = AES.blockSize;
        AES.keySize = 256 / 8;
        AES.prototype.keySize = AES.keySize;
        function bufferToArray(buf) {
          var len = buf.length / 4;
          var out = new Array(len);
          var i = -1;
          while (++i < len) {
            out[i] = buf.readUInt32BE(i * 4);
          }
          return out;
        }
        function AES(key) {
          this._key = bufferToArray(key);
          this._doReset();
        }
        AES.prototype._doReset = function() {
          var invKsRow,
              keySize,
              keyWords,
              ksRow,
              ksRows,
              t;
          keyWords = this._key;
          keySize = keyWords.length;
          this._nRounds = keySize + 6;
          ksRows = (this._nRounds + 1) * 4;
          this._keySchedule = [];
          for (ksRow = 0; ksRow < ksRows; ksRow++) {
            this._keySchedule[ksRow] = ksRow < keySize ? keyWords[ksRow] : (t = this._keySchedule[ksRow - 1], (ksRow % keySize) === 0 ? (t = (t << 8) | (t >>> 24), t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff], t ^= G.RCON[(ksRow / keySize) | 0] << 24) : keySize > 6 && ksRow % keySize === 4 ? t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff] : void 0, this._keySchedule[ksRow - keySize] ^ t);
          }
          this._invKeySchedule = [];
          for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
            ksRow = ksRows - invKsRow;
            t = this._keySchedule[ksRow - (invKsRow % 4 ? 0 : 4)];
            this._invKeySchedule[invKsRow] = invKsRow < 4 || ksRow <= 4 ? t : G.INV_SUB_MIX[0][G.SBOX[t >>> 24]] ^ G.INV_SUB_MIX[1][G.SBOX[(t >>> 16) & 0xff]] ^ G.INV_SUB_MIX[2][G.SBOX[(t >>> 8) & 0xff]] ^ G.INV_SUB_MIX[3][G.SBOX[t & 0xff]];
          }
          return true;
        };
        AES.prototype.encryptBlock = function(M) {
          M = bufferToArray(new Buffer(M));
          var out = this._doCryptBlock(M, this._keySchedule, G.SUB_MIX, G.SBOX);
          var buf = new Buffer(16);
          buf.writeUInt32BE(out[0], 0);
          buf.writeUInt32BE(out[1], 4);
          buf.writeUInt32BE(out[2], 8);
          buf.writeUInt32BE(out[3], 12);
          return buf;
        };
        AES.prototype.decryptBlock = function(M) {
          M = bufferToArray(new Buffer(M));
          var temp = [M[3], M[1]];
          M[1] = temp[0];
          M[3] = temp[1];
          var out = this._doCryptBlock(M, this._invKeySchedule, G.INV_SUB_MIX, G.INV_SBOX);
          var buf = new Buffer(16);
          buf.writeUInt32BE(out[0], 0);
          buf.writeUInt32BE(out[3], 4);
          buf.writeUInt32BE(out[2], 8);
          buf.writeUInt32BE(out[1], 12);
          return buf;
        };
        AES.prototype.scrub = function() {
          scrub_vec(this._keySchedule);
          scrub_vec(this._invKeySchedule);
          scrub_vec(this._key);
        };
        AES.prototype._doCryptBlock = function(M, keySchedule, SUB_MIX, SBOX) {
          var ksRow,
              s0,
              s1,
              s2,
              s3,
              t0,
              t1,
              t2,
              t3;
          s0 = M[0] ^ keySchedule[0];
          s1 = M[1] ^ keySchedule[1];
          s2 = M[2] ^ keySchedule[2];
          s3 = M[3] ^ keySchedule[3];
          ksRow = 4;
          for (var round = 1; round < this._nRounds; round++) {
            t0 = SUB_MIX[0][s0 >>> 24] ^ SUB_MIX[1][(s1 >>> 16) & 0xff] ^ SUB_MIX[2][(s2 >>> 8) & 0xff] ^ SUB_MIX[3][s3 & 0xff] ^ keySchedule[ksRow++];
            t1 = SUB_MIX[0][s1 >>> 24] ^ SUB_MIX[1][(s2 >>> 16) & 0xff] ^ SUB_MIX[2][(s3 >>> 8) & 0xff] ^ SUB_MIX[3][s0 & 0xff] ^ keySchedule[ksRow++];
            t2 = SUB_MIX[0][s2 >>> 24] ^ SUB_MIX[1][(s3 >>> 16) & 0xff] ^ SUB_MIX[2][(s0 >>> 8) & 0xff] ^ SUB_MIX[3][s1 & 0xff] ^ keySchedule[ksRow++];
            t3 = SUB_MIX[0][s3 >>> 24] ^ SUB_MIX[1][(s0 >>> 16) & 0xff] ^ SUB_MIX[2][(s1 >>> 8) & 0xff] ^ SUB_MIX[3][s2 & 0xff] ^ keySchedule[ksRow++];
            s0 = t0;
            s1 = t1;
            s2 = t2;
            s3 = t3;
          }
          t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++];
          t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++];
          t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++];
          t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++];
          return [fixup_uint32(t0), fixup_uint32(t1), fixup_uint32(t2), fixup_uint32(t3)];
        };
        exports.AES = AES;
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    51: [function(require, module, exports) {
      (function(Buffer) {
        var aes = require('./aes');
        var Transform = require('./cipherBase');
        var inherits = require('inherits');
        var GHASH = require('./ghash');
        var xor = require('buffer-xor');
        inherits(StreamCipher, Transform);
        module.exports = StreamCipher;
        function StreamCipher(mode, key, iv, decrypt) {
          if (!(this instanceof StreamCipher)) {
            return new StreamCipher(mode, key, iv);
          }
          Transform.call(this);
          this._finID = Buffer.concat([iv, new Buffer([0, 0, 0, 1])]);
          iv = Buffer.concat([iv, new Buffer([0, 0, 0, 2])]);
          this._cipher = new aes.AES(key);
          this._prev = new Buffer(iv.length);
          this._cache = new Buffer('');
          this._secCache = new Buffer('');
          this._decrypt = decrypt;
          this._alen = 0;
          this._len = 0;
          iv.copy(this._prev);
          this._mode = mode;
          var h = new Buffer(4);
          h.fill(0);
          this._ghash = new GHASH(this._cipher.encryptBlock(h));
          this._authTag = null;
          this._called = false;
        }
        StreamCipher.prototype._update = function(chunk) {
          if (!this._called && this._alen) {
            var rump = 16 - (this._alen % 16);
            if (rump < 16) {
              rump = new Buffer(rump);
              rump.fill(0);
              this._ghash.update(rump);
            }
          }
          this._called = true;
          var out = this._mode.encrypt(this, chunk);
          if (this._decrypt) {
            this._ghash.update(chunk);
          } else {
            this._ghash.update(out);
          }
          this._len += chunk.length;
          return out;
        };
        StreamCipher.prototype._final = function() {
          if (this._decrypt && !this._authTag) {
            throw new Error('Unsupported state or unable to authenticate data');
          }
          var tag = xor(this._ghash.final(this._alen * 8, this._len * 8), this._cipher.encryptBlock(this._finID));
          if (this._decrypt) {
            if (xorTest(tag, this._authTag)) {
              throw new Error('Unsupported state or unable to authenticate data');
            }
          } else {
            this._authTag = tag;
          }
          this._cipher.scrub();
        };
        StreamCipher.prototype.getAuthTag = function getAuthTag() {
          if (!this._decrypt && Buffer.isBuffer(this._authTag)) {
            return this._authTag;
          } else {
            throw new Error('Attempting to get auth tag in unsupported state');
          }
        };
        StreamCipher.prototype.setAuthTag = function setAuthTag(tag) {
          if (this._decrypt) {
            this._authTag = tag;
          } else {
            throw new Error('Attempting to set auth tag in unsupported state');
          }
        };
        StreamCipher.prototype.setAAD = function setAAD(buf) {
          if (!this._called) {
            this._ghash.update(buf);
            this._alen += buf.length;
          } else {
            throw new Error('Attempting to set AAD in unsupported state');
          }
        };
        function xorTest(a, b) {
          var out = 0;
          if (a.length !== b.length) {
            out++;
          }
          var len = Math.min(a.length, b.length);
          var i = -1;
          while (++i < len) {
            out += (a[i] ^ b[i]);
          }
          return out;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "./aes": 50,
      "./cipherBase": 53,
      "./ghash": 56,
      "buffer": 44,
      "buffer-xor": 65,
      "inherits": 190
    }],
    52: [function(require, module, exports) {
      var ciphers = require('./encrypter');
      exports.createCipher = exports.Cipher = ciphers.createCipher;
      exports.createCipheriv = exports.Cipheriv = ciphers.createCipheriv;
      var deciphers = require('./decrypter');
      exports.createDecipher = exports.Decipher = deciphers.createDecipher;
      exports.createDecipheriv = exports.Decipheriv = deciphers.createDecipheriv;
      var modes = require('./modes');
      function getCiphers() {
        return Object.keys(modes);
      }
      exports.listCiphers = exports.getCiphers = getCiphers;
    }, {
      "./decrypter": 54,
      "./encrypter": 55,
      "./modes": 57
    }],
    53: [function(require, module, exports) {
      (function(Buffer) {
        var Transform = require('stream').Transform;
        var inherits = require('inherits');
        module.exports = CipherBase;
        inherits(CipherBase, Transform);
        function CipherBase() {
          Transform.call(this);
          this._base64Cache = new Buffer('');
        }
        CipherBase.prototype.update = function(data, inputEnc, outputEnc) {
          if (typeof data === 'string') {
            data = new Buffer(data, inputEnc);
          }
          var outData = this._update(data);
          if (outputEnc) {
            outData = this._toString(outData, outputEnc);
          }
          return outData;
        };
        CipherBase.prototype._transform = function(data, _, next) {
          this.push(this._update(data));
          next();
        };
        CipherBase.prototype._flush = function(next) {
          try {
            this.push(this._final());
          } catch (e) {
            return next(e);
          }
          next();
        };
        CipherBase.prototype.final = function(outputEnc) {
          var outData = this._final() || new Buffer('');
          if (outputEnc) {
            outData = this._toString(outData, outputEnc, true);
          }
          return outData;
        };
        CipherBase.prototype._toString = function(value, enc, final) {
          if (enc !== 'base64') {
            return value.toString(enc);
          }
          this._base64Cache = Buffer.concat([this._base64Cache, value]);
          var out;
          if (final) {
            out = this._base64Cache;
            this._base64Cache = null;
            return out.toString('base64');
          }
          var len = this._base64Cache.length;
          var overhang = len % 3;
          if (!overhang) {
            out = this._base64Cache;
            this._base64Cache = new Buffer('');
            return out.toString('base64');
          }
          var newLen = len - overhang;
          if (!newLen) {
            return '';
          }
          out = this._base64Cache.slice(0, newLen);
          this._base64Cache = this._base64Cache.slice(-overhang);
          return out.toString('base64');
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "inherits": 190,
      "stream": 206
    }],
    54: [function(require, module, exports) {
      (function(Buffer) {
        var aes = require('./aes');
        var Transform = require('./cipherBase');
        var inherits = require('inherits');
        var modes = require('./modes');
        var StreamCipher = require('./streamCipher');
        var AuthCipher = require('./authCipher');
        var ebtk = require('./EVP_BytesToKey');
        inherits(Decipher, Transform);
        function Decipher(mode, key, iv) {
          if (!(this instanceof Decipher)) {
            return new Decipher(mode, key, iv);
          }
          Transform.call(this);
          this._cache = new Splitter();
          this._last = void 0;
          this._cipher = new aes.AES(key);
          this._prev = new Buffer(iv.length);
          iv.copy(this._prev);
          this._mode = mode;
          this._autopadding = true;
        }
        Decipher.prototype._update = function(data) {
          this._cache.add(data);
          var chunk;
          var thing;
          var out = [];
          while ((chunk = this._cache.get(this._autopadding))) {
            thing = this._mode.decrypt(this, chunk);
            out.push(thing);
          }
          return Buffer.concat(out);
        };
        Decipher.prototype._final = function() {
          var chunk = this._cache.flush();
          if (this._autopadding) {
            return unpad(this._mode.decrypt(this, chunk));
          } else if (chunk) {
            throw new Error('data not multiple of block length');
          }
        };
        Decipher.prototype.setAutoPadding = function(setTo) {
          this._autopadding = !!setTo;
        };
        function Splitter() {
          if (!(this instanceof Splitter)) {
            return new Splitter();
          }
          this.cache = new Buffer('');
        }
        Splitter.prototype.add = function(data) {
          this.cache = Buffer.concat([this.cache, data]);
        };
        Splitter.prototype.get = function(autoPadding) {
          var out;
          if (autoPadding) {
            if (this.cache.length > 16) {
              out = this.cache.slice(0, 16);
              this.cache = this.cache.slice(16);
              return out;
            }
          } else {
            if (this.cache.length >= 16) {
              out = this.cache.slice(0, 16);
              this.cache = this.cache.slice(16);
              return out;
            }
          }
          return null;
        };
        Splitter.prototype.flush = function() {
          if (this.cache.length) {
            return this.cache;
          }
        };
        function unpad(last) {
          var padded = last[15];
          var i = -1;
          while (++i < padded) {
            if (last[(i + (16 - padded))] !== padded) {
              throw new Error('unable to decrypt data');
            }
          }
          if (padded === 16) {
            return;
          }
          return last.slice(0, 16 - padded);
        }
        var modelist = {
          ECB: require('./modes/ecb'),
          CBC: require('./modes/cbc'),
          CFB: require('./modes/cfb'),
          CFB8: require('./modes/cfb8'),
          CFB1: require('./modes/cfb1'),
          OFB: require('./modes/ofb'),
          CTR: require('./modes/ctr'),
          GCM: require('./modes/ctr')
        };
        function createDecipheriv(suite, password, iv) {
          var config = modes[suite.toLowerCase()];
          if (!config) {
            throw new TypeError('invalid suite type');
          }
          if (typeof iv === 'string') {
            iv = new Buffer(iv);
          }
          if (typeof password === 'string') {
            password = new Buffer(password);
          }
          if (password.length !== config.key / 8) {
            throw new TypeError('invalid key length ' + password.length);
          }
          if (iv.length !== config.iv) {
            throw new TypeError('invalid iv length ' + iv.length);
          }
          if (config.type === 'stream') {
            return new StreamCipher(modelist[config.mode], password, iv, true);
          } else if (config.type === 'auth') {
            return new AuthCipher(modelist[config.mode], password, iv, true);
          }
          return new Decipher(modelist[config.mode], password, iv);
        }
        function createDecipher(suite, password) {
          var config = modes[suite.toLowerCase()];
          if (!config) {
            throw new TypeError('invalid suite type');
          }
          var keys = ebtk(password, config.key, config.iv);
          return createDecipheriv(suite, keys.key, keys.iv);
        }
        exports.createDecipher = createDecipher;
        exports.createDecipheriv = createDecipheriv;
      }).call(this, require("buffer").Buffer);
    }, {
      "./EVP_BytesToKey": 49,
      "./aes": 50,
      "./authCipher": 51,
      "./cipherBase": 53,
      "./modes": 57,
      "./modes/cbc": 58,
      "./modes/cfb": 59,
      "./modes/cfb1": 60,
      "./modes/cfb8": 61,
      "./modes/ctr": 62,
      "./modes/ecb": 63,
      "./modes/ofb": 64,
      "./streamCipher": 66,
      "buffer": 44,
      "inherits": 190
    }],
    55: [function(require, module, exports) {
      (function(Buffer) {
        var aes = require('./aes');
        var Transform = require('./cipherBase');
        var inherits = require('inherits');
        var modes = require('./modes');
        var ebtk = require('./EVP_BytesToKey');
        var StreamCipher = require('./streamCipher');
        var AuthCipher = require('./authCipher');
        inherits(Cipher, Transform);
        function Cipher(mode, key, iv) {
          if (!(this instanceof Cipher)) {
            return new Cipher(mode, key, iv);
          }
          Transform.call(this);
          this._cache = new Splitter();
          this._cipher = new aes.AES(key);
          this._prev = new Buffer(iv.length);
          iv.copy(this._prev);
          this._mode = mode;
          this._autopadding = true;
        }
        Cipher.prototype._update = function(data) {
          this._cache.add(data);
          var chunk;
          var thing;
          var out = [];
          while ((chunk = this._cache.get())) {
            thing = this._mode.encrypt(this, chunk);
            out.push(thing);
          }
          return Buffer.concat(out);
        };
        Cipher.prototype._final = function() {
          var chunk = this._cache.flush();
          if (this._autopadding) {
            chunk = this._mode.encrypt(this, chunk);
            this._cipher.scrub();
            return chunk;
          } else if (chunk.toString('hex') !== '10101010101010101010101010101010') {
            this._cipher.scrub();
            throw new Error('data not multiple of block length');
          }
        };
        Cipher.prototype.setAutoPadding = function(setTo) {
          this._autopadding = !!setTo;
        };
        function Splitter() {
          if (!(this instanceof Splitter)) {
            return new Splitter();
          }
          this.cache = new Buffer('');
        }
        Splitter.prototype.add = function(data) {
          this.cache = Buffer.concat([this.cache, data]);
        };
        Splitter.prototype.get = function() {
          if (this.cache.length > 15) {
            var out = this.cache.slice(0, 16);
            this.cache = this.cache.slice(16);
            return out;
          }
          return null;
        };
        Splitter.prototype.flush = function() {
          var len = 16 - this.cache.length;
          var padBuff = new Buffer(len);
          var i = -1;
          while (++i < len) {
            padBuff.writeUInt8(len, i);
          }
          var out = Buffer.concat([this.cache, padBuff]);
          return out;
        };
        var modelist = {
          ECB: require('./modes/ecb'),
          CBC: require('./modes/cbc'),
          CFB: require('./modes/cfb'),
          CFB8: require('./modes/cfb8'),
          CFB1: require('./modes/cfb1'),
          OFB: require('./modes/ofb'),
          CTR: require('./modes/ctr'),
          GCM: require('./modes/ctr')
        };
        function createCipheriv(suite, password, iv) {
          var config = modes[suite.toLowerCase()];
          if (!config) {
            throw new TypeError('invalid suite type');
          }
          if (typeof iv === 'string') {
            iv = new Buffer(iv);
          }
          if (typeof password === 'string') {
            password = new Buffer(password);
          }
          if (password.length !== config.key / 8) {
            throw new TypeError('invalid key length ' + password.length);
          }
          if (iv.length !== config.iv) {
            throw new TypeError('invalid iv length ' + iv.length);
          }
          if (config.type === 'stream') {
            return new StreamCipher(modelist[config.mode], password, iv);
          } else if (config.type === 'auth') {
            return new AuthCipher(modelist[config.mode], password, iv);
          }
          return new Cipher(modelist[config.mode], password, iv);
        }
        function createCipher(suite, password) {
          var config = modes[suite.toLowerCase()];
          if (!config) {
            throw new TypeError('invalid suite type');
          }
          var keys = ebtk(password, config.key, config.iv);
          return createCipheriv(suite, keys.key, keys.iv);
        }
        exports.createCipheriv = createCipheriv;
        exports.createCipher = createCipher;
      }).call(this, require("buffer").Buffer);
    }, {
      "./EVP_BytesToKey": 49,
      "./aes": 50,
      "./authCipher": 51,
      "./cipherBase": 53,
      "./modes": 57,
      "./modes/cbc": 58,
      "./modes/cfb": 59,
      "./modes/cfb1": 60,
      "./modes/cfb8": 61,
      "./modes/ctr": 62,
      "./modes/ecb": 63,
      "./modes/ofb": 64,
      "./streamCipher": 66,
      "buffer": 44,
      "inherits": 190
    }],
    56: [function(require, module, exports) {
      (function(Buffer) {
        var zeros = new Buffer(16);
        zeros.fill(0);
        module.exports = GHASH;
        function GHASH(key) {
          this.h = key;
          this.state = new Buffer(16);
          this.state.fill(0);
          this.cache = new Buffer('');
        }
        GHASH.prototype.ghash = function(block) {
          var i = -1;
          while (++i < block.length) {
            this.state[i] ^= block[i];
          }
          this._multiply();
        };
        GHASH.prototype._multiply = function() {
          var Vi = toArray(this.h);
          var Zi = [0, 0, 0, 0];
          var j,
              xi,
              lsb_Vi;
          var i = -1;
          while (++i < 128) {
            xi = (this.state[~~(i / 8)] & (1 << (7 - i % 8))) !== 0;
            if (xi) {
              Zi = xor(Zi, Vi);
            }
            lsb_Vi = (Vi[3] & 1) !== 0;
            for (j = 3; j > 0; j--) {
              Vi[j] = (Vi[j] >>> 1) | ((Vi[j - 1] & 1) << 31);
            }
            Vi[0] = Vi[0] >>> 1;
            if (lsb_Vi) {
              Vi[0] = Vi[0] ^ (0xe1 << 24);
            }
          }
          this.state = fromArray(Zi);
        };
        GHASH.prototype.update = function(buf) {
          this.cache = Buffer.concat([this.cache, buf]);
          var chunk;
          while (this.cache.length >= 16) {
            chunk = this.cache.slice(0, 16);
            this.cache = this.cache.slice(16);
            this.ghash(chunk);
          }
        };
        GHASH.prototype.final = function(abl, bl) {
          if (this.cache.length) {
            this.ghash(Buffer.concat([this.cache, zeros], 16));
          }
          this.ghash(fromArray([0, abl, 0, bl]));
          return this.state;
        };
        function toArray(buf) {
          return [buf.readUInt32BE(0), buf.readUInt32BE(4), buf.readUInt32BE(8), buf.readUInt32BE(12)];
        }
        function fromArray(out) {
          out = out.map(fixup_uint32);
          var buf = new Buffer(16);
          buf.writeUInt32BE(out[0], 0);
          buf.writeUInt32BE(out[1], 4);
          buf.writeUInt32BE(out[2], 8);
          buf.writeUInt32BE(out[3], 12);
          return buf;
        }
        var uint_max = Math.pow(2, 32);
        function fixup_uint32(x) {
          var ret,
              x_pos;
          ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x;
          return ret;
        }
        function xor(a, b) {
          return [a[0] ^ b[0], a[1] ^ b[1], a[2] ^ b[2], a[3] ^ b[3]];
        }
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    57: [function(require, module, exports) {
      exports['aes-128-ecb'] = {
        cipher: 'AES',
        key: 128,
        iv: 0,
        mode: 'ECB',
        type: 'block'
      };
      exports['aes-192-ecb'] = {
        cipher: 'AES',
        key: 192,
        iv: 0,
        mode: 'ECB',
        type: 'block'
      };
      exports['aes-256-ecb'] = {
        cipher: 'AES',
        key: 256,
        iv: 0,
        mode: 'ECB',
        type: 'block'
      };
      exports['aes-128-cbc'] = {
        cipher: 'AES',
        key: 128,
        iv: 16,
        mode: 'CBC',
        type: 'block'
      };
      exports['aes-192-cbc'] = {
        cipher: 'AES',
        key: 192,
        iv: 16,
        mode: 'CBC',
        type: 'block'
      };
      exports['aes-256-cbc'] = {
        cipher: 'AES',
        key: 256,
        iv: 16,
        mode: 'CBC',
        type: 'block'
      };
      exports['aes128'] = exports['aes-128-cbc'];
      exports['aes192'] = exports['aes-192-cbc'];
      exports['aes256'] = exports['aes-256-cbc'];
      exports['aes-128-cfb'] = {
        cipher: 'AES',
        key: 128,
        iv: 16,
        mode: 'CFB',
        type: 'stream'
      };
      exports['aes-192-cfb'] = {
        cipher: 'AES',
        key: 192,
        iv: 16,
        mode: 'CFB',
        type: 'stream'
      };
      exports['aes-256-cfb'] = {
        cipher: 'AES',
        key: 256,
        iv: 16,
        mode: 'CFB',
        type: 'stream'
      };
      exports['aes-128-cfb8'] = {
        cipher: 'AES',
        key: 128,
        iv: 16,
        mode: 'CFB8',
        type: 'stream'
      };
      exports['aes-192-cfb8'] = {
        cipher: 'AES',
        key: 192,
        iv: 16,
        mode: 'CFB8',
        type: 'stream'
      };
      exports['aes-256-cfb8'] = {
        cipher: 'AES',
        key: 256,
        iv: 16,
        mode: 'CFB8',
        type: 'stream'
      };
      exports['aes-128-cfb1'] = {
        cipher: 'AES',
        key: 128,
        iv: 16,
        mode: 'CFB1',
        type: 'stream'
      };
      exports['aes-192-cfb1'] = {
        cipher: 'AES',
        key: 192,
        iv: 16,
        mode: 'CFB1',
        type: 'stream'
      };
      exports['aes-256-cfb1'] = {
        cipher: 'AES',
        key: 256,
        iv: 16,
        mode: 'CFB1',
        type: 'stream'
      };
      exports['aes-128-ofb'] = {
        cipher: 'AES',
        key: 128,
        iv: 16,
        mode: 'OFB',
        type: 'stream'
      };
      exports['aes-192-ofb'] = {
        cipher: 'AES',
        key: 192,
        iv: 16,
        mode: 'OFB',
        type: 'stream'
      };
      exports['aes-256-ofb'] = {
        cipher: 'AES',
        key: 256,
        iv: 16,
        mode: 'OFB',
        type: 'stream'
      };
      exports['aes-128-ctr'] = {
        cipher: 'AES',
        key: 128,
        iv: 16,
        mode: 'CTR',
        type: 'stream'
      };
      exports['aes-192-ctr'] = {
        cipher: 'AES',
        key: 192,
        iv: 16,
        mode: 'CTR',
        type: 'stream'
      };
      exports['aes-256-ctr'] = {
        cipher: 'AES',
        key: 256,
        iv: 16,
        mode: 'CTR',
        type: 'stream'
      };
      exports['aes-128-gcm'] = {
        cipher: 'AES',
        key: 128,
        iv: 12,
        mode: 'GCM',
        type: 'auth'
      };
      exports['aes-192-gcm'] = {
        cipher: 'AES',
        key: 192,
        iv: 12,
        mode: 'GCM',
        type: 'auth'
      };
      exports['aes-256-gcm'] = {
        cipher: 'AES',
        key: 256,
        iv: 12,
        mode: 'GCM',
        type: 'auth'
      };
    }, {}],
    58: [function(require, module, exports) {
      var xor = require('buffer-xor');
      exports.encrypt = function(self, block) {
        var data = xor(block, self._prev);
        self._prev = self._cipher.encryptBlock(data);
        return self._prev;
      };
      exports.decrypt = function(self, block) {
        var pad = self._prev;
        self._prev = block;
        var out = self._cipher.decryptBlock(block);
        return xor(out, pad);
      };
    }, {"buffer-xor": 65}],
    59: [function(require, module, exports) {
      (function(Buffer) {
        var xor = require('buffer-xor');
        exports.encrypt = function(self, data, decrypt) {
          var out = new Buffer('');
          var len;
          while (data.length) {
            if (self._cache.length === 0) {
              self._cache = self._cipher.encryptBlock(self._prev);
              self._prev = new Buffer('');
            }
            if (self._cache.length <= data.length) {
              len = self._cache.length;
              out = Buffer.concat([out, encryptStart(self, data.slice(0, len), decrypt)]);
              data = data.slice(len);
            } else {
              out = Buffer.concat([out, encryptStart(self, data, decrypt)]);
              break;
            }
          }
          return out;
        };
        function encryptStart(self, data, decrypt) {
          var len = data.length;
          var out = xor(data, self._cache);
          self._cache = self._cache.slice(len);
          self._prev = Buffer.concat([self._prev, decrypt ? data : out]);
          return out;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "buffer-xor": 65
    }],
    60: [function(require, module, exports) {
      (function(Buffer) {
        function encryptByte(self, byteParam, decrypt) {
          var pad;
          var i = -1;
          var len = 8;
          var out = 0;
          var bit,
              value;
          while (++i < len) {
            pad = self._cipher.encryptBlock(self._prev);
            bit = (byteParam & (1 << (7 - i))) ? 0x80 : 0;
            value = pad[0] ^ bit;
            out += ((value & 0x80) >> (i % 8));
            self._prev = shiftIn(self._prev, decrypt ? bit : value);
          }
          return out;
        }
        exports.encrypt = function(self, chunk, decrypt) {
          var len = chunk.length;
          var out = new Buffer(len);
          var i = -1;
          while (++i < len) {
            out[i] = encryptByte(self, chunk[i], decrypt);
          }
          return out;
        };
        function shiftIn(buffer, value) {
          var len = buffer.length;
          var i = -1;
          var out = new Buffer(buffer.length);
          buffer = Buffer.concat([buffer, new Buffer([value])]);
          while (++i < len) {
            out[i] = buffer[i] << 1 | buffer[i + 1] >> (7);
          }
          return out;
        }
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    61: [function(require, module, exports) {
      (function(Buffer) {
        function encryptByte(self, byteParam, decrypt) {
          var pad = self._cipher.encryptBlock(self._prev);
          var out = pad[0] ^ byteParam;
          self._prev = Buffer.concat([self._prev.slice(1), new Buffer([decrypt ? byteParam : out])]);
          return out;
        }
        exports.encrypt = function(self, chunk, decrypt) {
          var len = chunk.length;
          var out = new Buffer(len);
          var i = -1;
          while (++i < len) {
            out[i] = encryptByte(self, chunk[i], decrypt);
          }
          return out;
        };
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    62: [function(require, module, exports) {
      (function(Buffer) {
        var xor = require('buffer-xor');
        function incr32(iv) {
          var len = iv.length;
          var item;
          while (len--) {
            item = iv.readUInt8(len);
            if (item === 255) {
              iv.writeUInt8(0, len);
            } else {
              item++;
              iv.writeUInt8(item, len);
              break;
            }
          }
        }
        function getBlock(self) {
          var out = self._cipher.encryptBlock(self._prev);
          incr32(self._prev);
          return out;
        }
        exports.encrypt = function(self, chunk) {
          while (self._cache.length < chunk.length) {
            self._cache = Buffer.concat([self._cache, getBlock(self)]);
          }
          var pad = self._cache.slice(0, chunk.length);
          self._cache = self._cache.slice(chunk.length);
          return xor(chunk, pad);
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "buffer-xor": 65
    }],
    63: [function(require, module, exports) {
      exports.encrypt = function(self, block) {
        return self._cipher.encryptBlock(block);
      };
      exports.decrypt = function(self, block) {
        return self._cipher.decryptBlock(block);
      };
    }, {}],
    64: [function(require, module, exports) {
      (function(Buffer) {
        var xor = require('buffer-xor');
        function getBlock(self) {
          self._prev = self._cipher.encryptBlock(self._prev);
          return self._prev;
        }
        exports.encrypt = function(self, chunk) {
          while (self._cache.length < chunk.length) {
            self._cache = Buffer.concat([self._cache, getBlock(self)]);
          }
          var pad = self._cache.slice(0, chunk.length);
          self._cache = self._cache.slice(chunk.length);
          return xor(chunk, pad);
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "buffer-xor": 65
    }],
    65: [function(require, module, exports) {
      (function(Buffer) {
        module.exports = function xor(a, b) {
          var length = Math.min(a.length, b.length);
          var buffer = new Buffer(length);
          for (var i = 0; i < length; ++i) {
            buffer[i] = a[i] ^ b[i];
          }
          return buffer;
        };
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    66: [function(require, module, exports) {
      (function(Buffer) {
        var aes = require('./aes');
        var Transform = require('./cipherBase');
        var inherits = require('inherits');
        inherits(StreamCipher, Transform);
        module.exports = StreamCipher;
        function StreamCipher(mode, key, iv, decrypt) {
          if (!(this instanceof StreamCipher)) {
            return new StreamCipher(mode, key, iv);
          }
          Transform.call(this);
          this._cipher = new aes.AES(key);
          this._prev = new Buffer(iv.length);
          this._cache = new Buffer('');
          this._secCache = new Buffer('');
          this._decrypt = decrypt;
          iv.copy(this._prev);
          this._mode = mode;
        }
        StreamCipher.prototype._update = function(chunk) {
          return this._mode.encrypt(this, chunk, this._decrypt);
        };
        StreamCipher.prototype._final = function() {
          this._cipher.scrub();
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "./aes": 50,
      "./cipherBase": 53,
      "buffer": 44,
      "inherits": 190
    }],
    67: [function(require, module, exports) {
      (function(Buffer) {
        'use strict';
        exports['RSA-SHA224'] = exports.sha224WithRSAEncryption = {
          sign: 'rsa',
          hash: 'sha224',
          id: new Buffer('302d300d06096086480165030402040500041c', 'hex')
        };
        exports['RSA-SHA256'] = exports.sha256WithRSAEncryption = {
          sign: 'rsa',
          hash: 'sha256',
          id: new Buffer('3031300d060960864801650304020105000420', 'hex')
        };
        exports['RSA-SHA384'] = exports.sha384WithRSAEncryption = {
          sign: 'rsa',
          hash: 'sha384',
          id: new Buffer('3041300d060960864801650304020205000430', 'hex')
        };
        exports['RSA-SHA512'] = exports.sha512WithRSAEncryption = {
          sign: 'rsa',
          hash: 'sha512',
          id: new Buffer('3051300d060960864801650304020305000440', 'hex')
        };
        exports['RSA-SHA1'] = {
          sign: 'rsa',
          hash: 'sha1',
          id: new Buffer('3021300906052b0e03021a05000414', 'hex')
        };
        exports['ecdsa-with-SHA1'] = {
          sign: 'ecdsa',
          hash: 'sha1',
          id: new Buffer('', 'hex')
        };
        exports.DSA = exports['DSA-SHA1'] = exports['DSA-SHA'] = {
          sign: 'dsa',
          hash: 'sha1',
          id: new Buffer('', 'hex')
        };
        exports['DSA-SHA224'] = exports['DSA-WITH-SHA224'] = {
          sign: 'dsa',
          hash: 'sha224',
          id: new Buffer('', 'hex')
        };
        exports['DSA-SHA256'] = exports['DSA-WITH-SHA256'] = {
          sign: 'dsa',
          hash: 'sha256',
          id: new Buffer('', 'hex')
        };
        exports['DSA-SHA384'] = exports['DSA-WITH-SHA384'] = {
          sign: 'dsa',
          hash: 'sha384',
          id: new Buffer('', 'hex')
        };
        exports['DSA-SHA512'] = exports['DSA-WITH-SHA512'] = {
          sign: 'dsa',
          hash: 'sha512',
          id: new Buffer('', 'hex')
        };
        exports['DSA-RIPEMD160'] = {
          sign: 'dsa',
          hash: 'rmd160',
          id: new Buffer('', 'hex')
        };
        exports['RSA-RIPEMD160'] = exports.ripemd160WithRSA = {
          sign: 'rsa',
          hash: 'rmd160',
          id: new Buffer('3021300906052b2403020105000414', 'hex')
        };
        exports['RSA-MD5'] = exports.md5WithRSAEncryption = {
          sign: 'rsa',
          hash: 'md5',
          id: new Buffer('3020300c06082a864886f70d020505000410', 'hex')
        };
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    68: [function(require, module, exports) {
      (function(Buffer) {
        var _algos = require('./algos');
        var createHash = require('create-hash');
        var inherits = require('inherits');
        var sign = require('./sign');
        var stream = require('stream');
        var verify = require('./verify');
        var algos = {};
        Object.keys(_algos).forEach(function(key) {
          algos[key] = algos[key.toLowerCase()] = _algos[key];
        });
        function Sign(algorithm) {
          stream.Writable.call(this);
          var data = algos[algorithm];
          if (!data) {
            throw new Error('Unknown message digest');
          }
          this._hashType = data.hash;
          this._hash = createHash(data.hash);
          this._tag = data.id;
          this._signType = data.sign;
        }
        inherits(Sign, stream.Writable);
        Sign.prototype._write = function _write(data, _, done) {
          this._hash.update(data);
          done();
        };
        Sign.prototype.update = function update(data, enc) {
          if (typeof data === 'string') {
            data = new Buffer(data, enc);
          }
          this._hash.update(data);
          return this;
        };
        Sign.prototype.sign = function signMethod(key, enc) {
          this.end();
          var hash = this._hash.digest();
          var sig = sign(Buffer.concat([this._tag, hash]), key, this._hashType, this._signType);
          return enc ? sig.toString(enc) : sig;
        };
        function Verify(algorithm) {
          stream.Writable.call(this);
          var data = algos[algorithm];
          if (!data) {
            throw new Error('Unknown message digest');
          }
          this._hash = createHash(data.hash);
          this._tag = data.id;
          this._signType = data.sign;
        }
        inherits(Verify, stream.Writable);
        Verify.prototype._write = function _write(data, _, done) {
          this._hash.update(data);
          done();
        };
        Verify.prototype.update = function update(data, enc) {
          if (typeof data === 'string') {
            data = new Buffer(data, enc);
          }
          this._hash.update(data);
          return this;
        };
        Verify.prototype.verify = function verifyMethod(key, sig, enc) {
          if (typeof sig === 'string') {
            sig = new Buffer(sig, enc);
          }
          this.end();
          var hash = this._hash.digest();
          return verify(sig, Buffer.concat([this._tag, hash]), key, this._signType);
        };
        function createSign(algorithm) {
          return new Sign(algorithm);
        }
        function createVerify(algorithm) {
          return new Verify(algorithm);
        }
        module.exports = {
          Sign: createSign,
          Verify: createVerify,
          createSign: createSign,
          createVerify: createVerify
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "./algos": 67,
      "./sign": 113,
      "./verify": 114,
      "buffer": 44,
      "create-hash": 139,
      "inherits": 190,
      "stream": 206
    }],
    69: [function(require, module, exports) {
      'use strict';
      exports['1.3.132.0.10'] = 'secp256k1';
      exports['1.3.132.0.33'] = 'p224';
      exports['1.2.840.10045.3.1.1'] = 'p192';
      exports['1.2.840.10045.3.1.7'] = 'p256';
    }, {}],
    70: [function(require, module, exports) {
      (function(module, exports) {
        'use strict';
        function assert(val, msg) {
          if (!val)
            throw new Error(msg || 'Assertion failed');
        }
        function inherits(ctor, superCtor) {
          ctor.super_ = superCtor;
          var TempCtor = function() {};
          TempCtor.prototype = superCtor.prototype;
          ctor.prototype = new TempCtor();
          ctor.prototype.constructor = ctor;
        }
        function BN(number, base, endian) {
          if (number !== null && typeof number === 'object' && Array.isArray(number.words)) {
            return number;
          }
          this.sign = false;
          this.words = null;
          this.length = 0;
          this.red = null;
          if (base === 'le' || base === 'be') {
            endian = base;
            base = 10;
          }
          if (number !== null)
            this._init(number || 0, base || 10, endian || 'be');
        }
        if (typeof module === 'object')
          module.exports = BN;
        else
          exports.BN = BN;
        BN.BN = BN;
        BN.wordSize = 26;
        BN.prototype._init = function init(number, base, endian) {
          if (typeof number === 'number') {
            return this._initNumber(number, base, endian);
          } else if (typeof number === 'object') {
            return this._initArray(number, base, endian);
          }
          if (base === 'hex')
            base = 16;
          assert(base === (base | 0) && base >= 2 && base <= 36);
          number = number.toString().replace(/\s+/g, '');
          var start = 0;
          if (number[0] === '-')
            start++;
          if (base === 16)
            this._parseHex(number, start);
          else
            this._parseBase(number, base, start);
          if (number[0] === '-')
            this.sign = true;
          this.strip();
          if (endian !== 'le')
            return;
          this._initArray(this.toArray(), base, endian);
        };
        BN.prototype._initNumber = function _initNumber(number, base, endian) {
          if (number < 0) {
            this.sign = true;
            number = -number;
          }
          if (number < 0x4000000) {
            this.words = [number & 0x3ffffff];
            this.length = 1;
          } else if (number < 0x10000000000000) {
            this.words = [number & 0x3ffffff, (number / 0x4000000) & 0x3ffffff];
            this.length = 2;
          } else {
            assert(number < 0x20000000000000);
            this.words = [number & 0x3ffffff, (number / 0x4000000) & 0x3ffffff, 1];
            this.length = 3;
          }
          if (endian !== 'le')
            return;
          this._initArray(this.toArray(), base, endian);
        };
        BN.prototype._initArray = function _initArray(number, base, endian) {
          assert(typeof number.length === 'number');
          if (number.length <= 0) {
            this.words = [0];
            this.length = 1;
            return this;
          }
          this.length = Math.ceil(number.length / 3);
          this.words = new Array(this.length);
          for (var i = 0; i < this.length; i++)
            this.words[i] = 0;
          var off = 0;
          if (endian === 'be') {
            for (var i = number.length - 1,
                j = 0; i >= 0; i -= 3) {
              var w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);
              this.words[j] |= (w << off) & 0x3ffffff;
              this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;
              off += 24;
              if (off >= 26) {
                off -= 26;
                j++;
              }
            }
          } else if (endian === 'le') {
            for (var i = 0,
                j = 0; i < number.length; i += 3) {
              var w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);
              this.words[j] |= (w << off) & 0x3ffffff;
              this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;
              off += 24;
              if (off >= 26) {
                off -= 26;
                j++;
              }
            }
          }
          return this.strip();
        };
        function parseHex(str, start, end) {
          var r = 0;
          var len = Math.min(str.length, end);
          for (var i = start; i < len; i++) {
            var c = str.charCodeAt(i) - 48;
            r <<= 4;
            if (c >= 49 && c <= 54)
              r |= c - 49 + 0xa;
            else if (c >= 17 && c <= 22)
              r |= c - 17 + 0xa;
            else
              r |= c & 0xf;
          }
          return r;
        }
        BN.prototype._parseHex = function _parseHex(number, start) {
          this.length = Math.ceil((number.length - start) / 6);
          this.words = new Array(this.length);
          for (var i = 0; i < this.length; i++)
            this.words[i] = 0;
          var off = 0;
          for (var i = number.length - 6,
              j = 0; i >= start; i -= 6) {
            var w = parseHex(number, i, i + 6);
            this.words[j] |= (w << off) & 0x3ffffff;
            this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;
            off += 24;
            if (off >= 26) {
              off -= 26;
              j++;
            }
          }
          if (i + 6 !== start) {
            var w = parseHex(number, start, i + 6);
            this.words[j] |= (w << off) & 0x3ffffff;
            this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;
          }
          this.strip();
        };
        function parseBase(str, start, end, mul) {
          var r = 0;
          var len = Math.min(str.length, end);
          for (var i = start; i < len; i++) {
            var c = str.charCodeAt(i) - 48;
            r *= mul;
            if (c >= 49)
              r += c - 49 + 0xa;
            else if (c >= 17)
              r += c - 17 + 0xa;
            else
              r += c;
          }
          return r;
        }
        BN.prototype._parseBase = function _parseBase(number, base, start) {
          this.words = [0];
          this.length = 1;
          for (var limbLen = 0,
              limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base)
            limbLen++;
          limbLen--;
          limbPow = (limbPow / base) | 0;
          var total = number.length - start;
          var mod = total % limbLen;
          var end = Math.min(total, total - mod) + start;
          var word = 0;
          for (var i = start; i < end; i += limbLen) {
            word = parseBase(number, i, i + limbLen, base);
            this.imuln(limbPow);
            if (this.words[0] + word < 0x4000000)
              this.words[0] += word;
            else
              this._iaddn(word);
          }
          if (mod !== 0) {
            var pow = 1;
            var word = parseBase(number, i, number.length, base);
            for (var i = 0; i < mod; i++)
              pow *= base;
            this.imuln(pow);
            if (this.words[0] + word < 0x4000000)
              this.words[0] += word;
            else
              this._iaddn(word);
          }
        };
        BN.prototype.copy = function copy(dest) {
          dest.words = new Array(this.length);
          for (var i = 0; i < this.length; i++)
            dest.words[i] = this.words[i];
          dest.length = this.length;
          dest.sign = this.sign;
          dest.red = this.red;
        };
        BN.prototype.clone = function clone() {
          var r = new BN(null);
          this.copy(r);
          return r;
        };
        BN.prototype.strip = function strip() {
          while (this.length > 1 && this.words[this.length - 1] === 0)
            this.length--;
          return this._normSign();
        };
        BN.prototype._normSign = function _normSign() {
          if (this.length === 1 && this.words[0] === 0)
            this.sign = false;
          return this;
        };
        BN.prototype.inspect = function inspect() {
          return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';
        };
        var zeros = ['', '0', '00', '000', '0000', '00000', '000000', '0000000', '00000000', '000000000', '0000000000', '00000000000', '000000000000', '0000000000000', '00000000000000', '000000000000000', '0000000000000000', '00000000000000000', '000000000000000000', '0000000000000000000', '00000000000000000000', '000000000000000000000', '0000000000000000000000', '00000000000000000000000', '000000000000000000000000', '0000000000000000000000000'];
        var groupSizes = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5];
        var groupBases = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
        BN.prototype.toString = function toString(base, padding) {
          base = base || 10;
          if (base === 16 || base === 'hex') {
            var out = '';
            var off = 0;
            var padding = padding | 0 || 1;
            var carry = 0;
            for (var i = 0; i < this.length; i++) {
              var w = this.words[i];
              var word = (((w << off) | carry) & 0xffffff).toString(16);
              carry = (w >>> (24 - off)) & 0xffffff;
              if (carry !== 0 || i !== this.length - 1)
                out = zeros[6 - word.length] + word + out;
              else
                out = word + out;
              off += 2;
              if (off >= 26) {
                off -= 26;
                i--;
              }
            }
            if (carry !== 0)
              out = carry.toString(16) + out;
            while (out.length % padding !== 0)
              out = '0' + out;
            if (this.sign)
              out = '-' + out;
            return out;
          } else if (base === (base | 0) && base >= 2 && base <= 36) {
            var groupSize = groupSizes[base];
            var groupBase = groupBases[base];
            var out = '';
            var c = this.clone();
            c.sign = false;
            while (c.cmpn(0) !== 0) {
              var r = c.modn(groupBase).toString(base);
              c = c.idivn(groupBase);
              if (c.cmpn(0) !== 0)
                out = zeros[groupSize - r.length] + r + out;
              else
                out = r + out;
            }
            if (this.cmpn(0) === 0)
              out = '0' + out;
            if (this.sign)
              out = '-' + out;
            return out;
          } else {
            assert(false, 'Base should be between 2 and 36');
          }
        };
        BN.prototype.toJSON = function toJSON() {
          return this.toString(16);
        };
        BN.prototype.toArray = function toArray(endian) {
          this.strip();
          var res = new Array(this.byteLength());
          res[0] = 0;
          var q = this.clone();
          if (endian !== 'le') {
            for (var i = 0; q.cmpn(0) !== 0; i++) {
              var b = q.andln(0xff);
              q.ishrn(8);
              res[res.length - i - 1] = b;
            }
          } else {
            for (var i = 0; q.cmpn(0) !== 0; i++) {
              var b = q.andln(0xff);
              q.ishrn(8);
              res[i] = b;
            }
          }
          return res;
        };
        if (Math.clz32) {
          BN.prototype._countBits = function _countBits(w) {
            return 32 - Math.clz32(w);
          };
        } else {
          BN.prototype._countBits = function _countBits(w) {
            var t = w;
            var r = 0;
            if (t >= 0x1000) {
              r += 13;
              t >>>= 13;
            }
            if (t >= 0x40) {
              r += 7;
              t >>>= 7;
            }
            if (t >= 0x8) {
              r += 4;
              t >>>= 4;
            }
            if (t >= 0x02) {
              r += 2;
              t >>>= 2;
            }
            return r + t;
          };
        }
        BN.prototype._zeroBits = function _zeroBits(w) {
          if (w === 0)
            return 26;
          var t = w;
          var r = 0;
          if ((t & 0x1fff) === 0) {
            r += 13;
            t >>>= 13;
          }
          if ((t & 0x7f) === 0) {
            r += 7;
            t >>>= 7;
          }
          if ((t & 0xf) === 0) {
            r += 4;
            t >>>= 4;
          }
          if ((t & 0x3) === 0) {
            r += 2;
            t >>>= 2;
          }
          if ((t & 0x1) === 0)
            r++;
          return r;
        };
        BN.prototype.bitLength = function bitLength() {
          var hi = 0;
          var w = this.words[this.length - 1];
          var hi = this._countBits(w);
          return (this.length - 1) * 26 + hi;
        };
        BN.prototype.zeroBits = function zeroBits() {
          if (this.cmpn(0) === 0)
            return 0;
          var r = 0;
          for (var i = 0; i < this.length; i++) {
            var b = this._zeroBits(this.words[i]);
            r += b;
            if (b !== 26)
              break;
          }
          return r;
        };
        BN.prototype.byteLength = function byteLength() {
          return Math.ceil(this.bitLength() / 8);
        };
        BN.prototype.neg = function neg() {
          if (this.cmpn(0) === 0)
            return this.clone();
          var r = this.clone();
          r.sign = !this.sign;
          return r;
        };
        BN.prototype.ior = function ior(num) {
          this.sign = this.sign || num.sign;
          while (this.length < num.length)
            this.words[this.length++] = 0;
          for (var i = 0; i < num.length; i++)
            this.words[i] = this.words[i] | num.words[i];
          return this.strip();
        };
        BN.prototype.or = function or(num) {
          if (this.length > num.length)
            return this.clone().ior(num);
          else
            return num.clone().ior(this);
        };
        BN.prototype.iand = function iand(num) {
          this.sign = this.sign && num.sign;
          var b;
          if (this.length > num.length)
            b = num;
          else
            b = this;
          for (var i = 0; i < b.length; i++)
            this.words[i] = this.words[i] & num.words[i];
          this.length = b.length;
          return this.strip();
        };
        BN.prototype.and = function and(num) {
          if (this.length > num.length)
            return this.clone().iand(num);
          else
            return num.clone().iand(this);
        };
        BN.prototype.ixor = function ixor(num) {
          this.sign = this.sign || num.sign;
          var a;
          var b;
          if (this.length > num.length) {
            a = this;
            b = num;
          } else {
            a = num;
            b = this;
          }
          for (var i = 0; i < b.length; i++)
            this.words[i] = a.words[i] ^ b.words[i];
          if (this !== a)
            for (; i < a.length; i++)
              this.words[i] = a.words[i];
          this.length = a.length;
          return this.strip();
        };
        BN.prototype.xor = function xor(num) {
          if (this.length > num.length)
            return this.clone().ixor(num);
          else
            return num.clone().ixor(this);
        };
        BN.prototype.setn = function setn(bit, val) {
          assert(typeof bit === 'number' && bit >= 0);
          var off = (bit / 26) | 0;
          var wbit = bit % 26;
          while (this.length <= off)
            this.words[this.length++] = 0;
          if (val)
            this.words[off] = this.words[off] | (1 << wbit);
          else
            this.words[off] = this.words[off] & ~(1 << wbit);
          return this.strip();
        };
        BN.prototype.iadd = function iadd(num) {
          if (this.sign && !num.sign) {
            this.sign = false;
            var r = this.isub(num);
            this.sign = !this.sign;
            return this._normSign();
          } else if (!this.sign && num.sign) {
            num.sign = false;
            var r = this.isub(num);
            num.sign = true;
            return r._normSign();
          }
          var a;
          var b;
          if (this.length > num.length) {
            a = this;
            b = num;
          } else {
            a = num;
            b = this;
          }
          var carry = 0;
          for (var i = 0; i < b.length; i++) {
            var r = a.words[i] + b.words[i] + carry;
            this.words[i] = r & 0x3ffffff;
            carry = r >>> 26;
          }
          for (; carry !== 0 && i < a.length; i++) {
            var r = a.words[i] + carry;
            this.words[i] = r & 0x3ffffff;
            carry = r >>> 26;
          }
          this.length = a.length;
          if (carry !== 0) {
            this.words[this.length] = carry;
            this.length++;
          } else if (a !== this) {
            for (; i < a.length; i++)
              this.words[i] = a.words[i];
          }
          return this;
        };
        BN.prototype.add = function add(num) {
          if (num.sign && !this.sign) {
            num.sign = false;
            var res = this.sub(num);
            num.sign = true;
            return res;
          } else if (!num.sign && this.sign) {
            this.sign = false;
            var res = num.sub(this);
            this.sign = true;
            return res;
          }
          if (this.length > num.length)
            return this.clone().iadd(num);
          else
            return num.clone().iadd(this);
        };
        BN.prototype.isub = function isub(num) {
          if (num.sign) {
            num.sign = false;
            var r = this.iadd(num);
            num.sign = true;
            return r._normSign();
          } else if (this.sign) {
            this.sign = false;
            this.iadd(num);
            this.sign = true;
            return this._normSign();
          }
          var cmp = this.cmp(num);
          if (cmp === 0) {
            this.sign = false;
            this.length = 1;
            this.words[0] = 0;
            return this;
          }
          var a;
          var b;
          if (cmp > 0) {
            a = this;
            b = num;
          } else {
            a = num;
            b = this;
          }
          var carry = 0;
          for (var i = 0; i < b.length; i++) {
            var r = a.words[i] - b.words[i] + carry;
            carry = r >> 26;
            this.words[i] = r & 0x3ffffff;
          }
          for (; carry !== 0 && i < a.length; i++) {
            var r = a.words[i] + carry;
            carry = r >> 26;
            this.words[i] = r & 0x3ffffff;
          }
          if (carry === 0 && i < a.length && a !== this)
            for (; i < a.length; i++)
              this.words[i] = a.words[i];
          this.length = Math.max(this.length, i);
          if (a !== this)
            this.sign = true;
          return this.strip();
        };
        BN.prototype.sub = function sub(num) {
          return this.clone().isub(num);
        };
        BN.prototype._smallMulTo = function _smallMulTo(num, out) {
          out.sign = num.sign !== this.sign;
          out.length = this.length + num.length;
          var carry = 0;
          for (var k = 0; k < out.length - 1; k++) {
            var ncarry = carry >>> 26;
            var rword = carry & 0x3ffffff;
            var maxJ = Math.min(k, num.length - 1);
            for (var j = Math.max(0, k - this.length + 1); j <= maxJ; j++) {
              var i = k - j;
              var a = this.words[i] | 0;
              var b = num.words[j] | 0;
              var r = a * b;
              var lo = r & 0x3ffffff;
              ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;
              lo = (lo + rword) | 0;
              rword = lo & 0x3ffffff;
              ncarry = (ncarry + (lo >>> 26)) | 0;
            }
            out.words[k] = rword;
            carry = ncarry;
          }
          if (carry !== 0) {
            out.words[k] = carry;
          } else {
            out.length--;
          }
          return out.strip();
        };
        BN.prototype._bigMulTo = function _bigMulTo(num, out) {
          out.sign = num.sign !== this.sign;
          out.length = this.length + num.length;
          var carry = 0;
          var hncarry = 0;
          for (var k = 0; k < out.length - 1; k++) {
            var ncarry = hncarry;
            hncarry = 0;
            var rword = carry & 0x3ffffff;
            var maxJ = Math.min(k, num.length - 1);
            for (var j = Math.max(0, k - this.length + 1); j <= maxJ; j++) {
              var i = k - j;
              var a = this.words[i] | 0;
              var b = num.words[j] | 0;
              var r = a * b;
              var lo = r & 0x3ffffff;
              ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;
              lo = (lo + rword) | 0;
              rword = lo & 0x3ffffff;
              ncarry = (ncarry + (lo >>> 26)) | 0;
              hncarry += ncarry >>> 26;
              ncarry &= 0x3ffffff;
            }
            out.words[k] = rword;
            carry = ncarry;
            ncarry = hncarry;
          }
          if (carry !== 0) {
            out.words[k] = carry;
          } else {
            out.length--;
          }
          return out.strip();
        };
        BN.prototype.mulTo = function mulTo(num, out) {
          var res;
          if (this.length + num.length < 63)
            res = this._smallMulTo(num, out);
          else
            res = this._bigMulTo(num, out);
          return res;
        };
        BN.prototype.mul = function mul(num) {
          var out = new BN(null);
          out.words = new Array(this.length + num.length);
          return this.mulTo(num, out);
        };
        BN.prototype.imul = function imul(num) {
          if (this.cmpn(0) === 0 || num.cmpn(0) === 0) {
            this.words[0] = 0;
            this.length = 1;
            return this;
          }
          var tlen = this.length;
          var nlen = num.length;
          this.sign = num.sign !== this.sign;
          this.length = this.length + num.length;
          this.words[this.length - 1] = 0;
          for (var k = this.length - 2; k >= 0; k--) {
            var carry = 0;
            var rword = 0;
            var maxJ = Math.min(k, nlen - 1);
            for (var j = Math.max(0, k - tlen + 1); j <= maxJ; j++) {
              var i = k - j;
              var a = this.words[i];
              var b = num.words[j];
              var r = a * b;
              var lo = r & 0x3ffffff;
              carry += (r / 0x4000000) | 0;
              lo += rword;
              rword = lo & 0x3ffffff;
              carry += lo >>> 26;
            }
            this.words[k] = rword;
            this.words[k + 1] += carry;
            carry = 0;
          }
          var carry = 0;
          for (var i = 1; i < this.length; i++) {
            var w = this.words[i] + carry;
            this.words[i] = w & 0x3ffffff;
            carry = w >>> 26;
          }
          return this.strip();
        };
        BN.prototype.imuln = function imuln(num) {
          assert(typeof num === 'number');
          var carry = 0;
          for (var i = 0; i < this.length; i++) {
            var w = this.words[i] * num;
            var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);
            carry >>= 26;
            carry += (w / 0x4000000) | 0;
            carry += lo >>> 26;
            this.words[i] = lo & 0x3ffffff;
          }
          if (carry !== 0) {
            this.words[i] = carry;
            this.length++;
          }
          return this;
        };
        BN.prototype.muln = function muln(num) {
          return this.clone().imuln(num);
        };
        BN.prototype.sqr = function sqr() {
          return this.mul(this);
        };
        BN.prototype.isqr = function isqr() {
          return this.mul(this);
        };
        BN.prototype.ishln = function ishln(bits) {
          assert(typeof bits === 'number' && bits >= 0);
          var r = bits % 26;
          var s = (bits - r) / 26;
          var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);
          if (r !== 0) {
            var carry = 0;
            for (var i = 0; i < this.length; i++) {
              var newCarry = this.words[i] & carryMask;
              var c = (this.words[i] - newCarry) << r;
              this.words[i] = c | carry;
              carry = newCarry >>> (26 - r);
            }
            if (carry) {
              this.words[i] = carry;
              this.length++;
            }
          }
          if (s !== 0) {
            for (var i = this.length - 1; i >= 0; i--)
              this.words[i + s] = this.words[i];
            for (var i = 0; i < s; i++)
              this.words[i] = 0;
            this.length += s;
          }
          return this.strip();
        };
        BN.prototype.ishrn = function ishrn(bits, hint, extended) {
          assert(typeof bits === 'number' && bits >= 0);
          var h;
          if (hint)
            h = (hint - (hint % 26)) / 26;
          else
            h = 0;
          var r = bits % 26;
          var s = Math.min((bits - r) / 26, this.length);
          var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);
          var maskedWords = extended;
          h -= s;
          h = Math.max(0, h);
          if (maskedWords) {
            for (var i = 0; i < s; i++)
              maskedWords.words[i] = this.words[i];
            maskedWords.length = s;
          }
          if (s === 0) {} else if (this.length > s) {
            this.length -= s;
            for (var i = 0; i < this.length; i++)
              this.words[i] = this.words[i + s];
          } else {
            this.words[0] = 0;
            this.length = 1;
          }
          var carry = 0;
          for (var i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {
            var word = this.words[i];
            this.words[i] = (carry << (26 - r)) | (word >>> r);
            carry = word & mask;
          }
          if (maskedWords && carry !== 0)
            maskedWords.words[maskedWords.length++] = carry;
          if (this.length === 0) {
            this.words[0] = 0;
            this.length = 1;
          }
          this.strip();
          return this;
        };
        BN.prototype.shln = function shln(bits) {
          return this.clone().ishln(bits);
        };
        BN.prototype.shrn = function shrn(bits) {
          return this.clone().ishrn(bits);
        };
        BN.prototype.testn = function testn(bit) {
          assert(typeof bit === 'number' && bit >= 0);
          var r = bit % 26;
          var s = (bit - r) / 26;
          var q = 1 << r;
          if (this.length <= s) {
            return false;
          }
          var w = this.words[s];
          return !!(w & q);
        };
        BN.prototype.imaskn = function imaskn(bits) {
          assert(typeof bits === 'number' && bits >= 0);
          var r = bits % 26;
          var s = (bits - r) / 26;
          assert(!this.sign, 'imaskn works only with positive numbers');
          if (r !== 0)
            s++;
          this.length = Math.min(s, this.length);
          if (r !== 0) {
            var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);
            this.words[this.length - 1] &= mask;
          }
          return this.strip();
        };
        BN.prototype.maskn = function maskn(bits) {
          return this.clone().imaskn(bits);
        };
        BN.prototype.iaddn = function iaddn(num) {
          assert(typeof num === 'number');
          if (num < 0)
            return this.isubn(-num);
          if (this.sign) {
            if (this.length === 1 && this.words[0] < num) {
              this.words[0] = num - this.words[0];
              this.sign = false;
              return this;
            }
            this.sign = false;
            this.isubn(num);
            this.sign = true;
            return this;
          }
          return this._iaddn(num);
        };
        BN.prototype._iaddn = function _iaddn(num) {
          this.words[0] += num;
          for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {
            this.words[i] -= 0x4000000;
            if (i === this.length - 1)
              this.words[i + 1] = 1;
            else
              this.words[i + 1]++;
          }
          this.length = Math.max(this.length, i + 1);
          return this;
        };
        BN.prototype.isubn = function isubn(num) {
          assert(typeof num === 'number');
          if (num < 0)
            return this.iaddn(-num);
          if (this.sign) {
            this.sign = false;
            this.iaddn(num);
            this.sign = true;
            return this;
          }
          this.words[0] -= num;
          for (var i = 0; i < this.length && this.words[i] < 0; i++) {
            this.words[i] += 0x4000000;
            this.words[i + 1] -= 1;
          }
          return this.strip();
        };
        BN.prototype.addn = function addn(num) {
          return this.clone().iaddn(num);
        };
        BN.prototype.subn = function subn(num) {
          return this.clone().isubn(num);
        };
        BN.prototype.iabs = function iabs() {
          this.sign = false;
          return this;
        };
        BN.prototype.abs = function abs() {
          return this.clone().iabs();
        };
        BN.prototype._ishlnsubmul = function _ishlnsubmul(num, mul, shift) {
          var len = num.length + shift;
          var i;
          if (this.words.length < len) {
            var t = new Array(len);
            for (var i = 0; i < this.length; i++)
              t[i] = this.words[i];
            this.words = t;
          } else {
            i = this.length;
          }
          this.length = Math.max(this.length, len);
          for (; i < this.length; i++)
            this.words[i] = 0;
          var carry = 0;
          for (var i = 0; i < num.length; i++) {
            var w = this.words[i + shift] + carry;
            var right = num.words[i] * mul;
            w -= right & 0x3ffffff;
            carry = (w >> 26) - ((right / 0x4000000) | 0);
            this.words[i + shift] = w & 0x3ffffff;
          }
          for (; i < this.length - shift; i++) {
            var w = this.words[i + shift] + carry;
            carry = w >> 26;
            this.words[i + shift] = w & 0x3ffffff;
          }
          if (carry === 0)
            return this.strip();
          assert(carry === -1);
          carry = 0;
          for (var i = 0; i < this.length; i++) {
            var w = -this.words[i] + carry;
            carry = w >> 26;
            this.words[i] = w & 0x3ffffff;
          }
          this.sign = true;
          return this.strip();
        };
        BN.prototype._wordDiv = function _wordDiv(num, mode) {
          var shift = this.length - num.length;
          var a = this.clone();
          var b = num;
          var bhi = b.words[b.length - 1];
          var bhiBits = this._countBits(bhi);
          shift = 26 - bhiBits;
          if (shift !== 0) {
            b = b.shln(shift);
            a.ishln(shift);
            bhi = b.words[b.length - 1];
          }
          var m = a.length - b.length;
          var q;
          if (mode !== 'mod') {
            q = new BN(null);
            q.length = m + 1;
            q.words = new Array(q.length);
            for (var i = 0; i < q.length; i++)
              q.words[i] = 0;
          }
          var diff = a.clone()._ishlnsubmul(b, 1, m);
          if (!diff.sign) {
            a = diff;
            if (q)
              q.words[m] = 1;
          }
          for (var j = m - 1; j >= 0; j--) {
            var qj = a.words[b.length + j] * 0x4000000 + a.words[b.length + j - 1];
            qj = Math.min((qj / bhi) | 0, 0x3ffffff);
            a._ishlnsubmul(b, qj, j);
            while (a.sign) {
              qj--;
              a.sign = false;
              a._ishlnsubmul(b, 1, j);
              if (a.cmpn(0) !== 0)
                a.sign = !a.sign;
            }
            if (q)
              q.words[j] = qj;
          }
          if (q)
            q.strip();
          a.strip();
          if (mode !== 'div' && shift !== 0)
            a.ishrn(shift);
          return {
            div: q ? q : null,
            mod: a
          };
        };
        BN.prototype.divmod = function divmod(num, mode) {
          assert(num.cmpn(0) !== 0);
          if (this.sign && !num.sign) {
            var res = this.neg().divmod(num, mode);
            var div;
            var mod;
            if (mode !== 'mod')
              div = res.div.neg();
            if (mode !== 'div')
              mod = res.mod.cmpn(0) === 0 ? res.mod : num.sub(res.mod);
            return {
              div: div,
              mod: mod
            };
          } else if (!this.sign && num.sign) {
            var res = this.divmod(num.neg(), mode);
            var div;
            if (mode !== 'mod')
              div = res.div.neg();
            return {
              div: div,
              mod: res.mod
            };
          } else if (this.sign && num.sign) {
            return this.neg().divmod(num.neg(), mode);
          }
          if (num.length > this.length || this.cmp(num) < 0)
            return {
              div: new BN(0),
              mod: this
            };
          if (num.length === 1) {
            if (mode === 'div')
              return {
                div: this.divn(num.words[0]),
                mod: null
              };
            else if (mode === 'mod')
              return {
                div: null,
                mod: new BN(this.modn(num.words[0]))
              };
            return {
              div: this.divn(num.words[0]),
              mod: new BN(this.modn(num.words[0]))
            };
          }
          return this._wordDiv(num, mode);
        };
        BN.prototype.div = function div(num) {
          return this.divmod(num, 'div').div;
        };
        BN.prototype.mod = function mod(num) {
          return this.divmod(num, 'mod').mod;
        };
        BN.prototype.divRound = function divRound(num) {
          var dm = this.divmod(num);
          if (dm.mod.cmpn(0) === 0)
            return dm.div;
          var mod = dm.div.sign ? dm.mod.isub(num) : dm.mod;
          var half = num.shrn(1);
          var r2 = num.andln(1);
          var cmp = mod.cmp(half);
          if (cmp < 0 || r2 === 1 && cmp === 0)
            return dm.div;
          return dm.div.sign ? dm.div.isubn(1) : dm.div.iaddn(1);
        };
        BN.prototype.modn = function modn(num) {
          assert(num <= 0x3ffffff);
          var p = (1 << 26) % num;
          var acc = 0;
          for (var i = this.length - 1; i >= 0; i--)
            acc = (p * acc + this.words[i]) % num;
          return acc;
        };
        BN.prototype.idivn = function idivn(num) {
          assert(num <= 0x3ffffff);
          var carry = 0;
          for (var i = this.length - 1; i >= 0; i--) {
            var w = this.words[i] + carry * 0x4000000;
            this.words[i] = (w / num) | 0;
            carry = w % num;
          }
          return this.strip();
        };
        BN.prototype.divn = function divn(num) {
          return this.clone().idivn(num);
        };
        BN.prototype.egcd = function egcd(p) {
          assert(!p.sign);
          assert(p.cmpn(0) !== 0);
          var x = this;
          var y = p.clone();
          if (x.sign)
            x = x.mod(p);
          else
            x = x.clone();
          var A = new BN(1);
          var B = new BN(0);
          var C = new BN(0);
          var D = new BN(1);
          var g = 0;
          while (x.isEven() && y.isEven()) {
            x.ishrn(1);
            y.ishrn(1);
            ++g;
          }
          var yp = y.clone();
          var xp = x.clone();
          while (x.cmpn(0) !== 0) {
            while (x.isEven()) {
              x.ishrn(1);
              if (A.isEven() && B.isEven()) {
                A.ishrn(1);
                B.ishrn(1);
              } else {
                A.iadd(yp).ishrn(1);
                B.isub(xp).ishrn(1);
              }
            }
            while (y.isEven()) {
              y.ishrn(1);
              if (C.isEven() && D.isEven()) {
                C.ishrn(1);
                D.ishrn(1);
              } else {
                C.iadd(yp).ishrn(1);
                D.isub(xp).ishrn(1);
              }
            }
            if (x.cmp(y) >= 0) {
              x.isub(y);
              A.isub(C);
              B.isub(D);
            } else {
              y.isub(x);
              C.isub(A);
              D.isub(B);
            }
          }
          return {
            a: C,
            b: D,
            gcd: y.ishln(g)
          };
        };
        BN.prototype._invmp = function _invmp(p) {
          assert(!p.sign);
          assert(p.cmpn(0) !== 0);
          var a = this;
          var b = p.clone();
          if (a.sign)
            a = a.mod(p);
          else
            a = a.clone();
          var x1 = new BN(1);
          var x2 = new BN(0);
          var delta = b.clone();
          while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {
            while (a.isEven()) {
              a.ishrn(1);
              if (x1.isEven())
                x1.ishrn(1);
              else
                x1.iadd(delta).ishrn(1);
            }
            while (b.isEven()) {
              b.ishrn(1);
              if (x2.isEven())
                x2.ishrn(1);
              else
                x2.iadd(delta).ishrn(1);
            }
            if (a.cmp(b) >= 0) {
              a.isub(b);
              x1.isub(x2);
            } else {
              b.isub(a);
              x2.isub(x1);
            }
          }
          if (a.cmpn(1) === 0)
            return x1;
          else
            return x2;
        };
        BN.prototype.gcd = function gcd(num) {
          if (this.cmpn(0) === 0)
            return num.clone();
          if (num.cmpn(0) === 0)
            return this.clone();
          var a = this.clone();
          var b = num.clone();
          a.sign = false;
          b.sign = false;
          for (var shift = 0; a.isEven() && b.isEven(); shift++) {
            a.ishrn(1);
            b.ishrn(1);
          }
          do {
            while (a.isEven())
              a.ishrn(1);
            while (b.isEven())
              b.ishrn(1);
            var r = a.cmp(b);
            if (r < 0) {
              var t = a;
              a = b;
              b = t;
            } else if (r === 0 || b.cmpn(1) === 0) {
              break;
            }
            a.isub(b);
          } while (true);
          return b.ishln(shift);
        };
        BN.prototype.invm = function invm(num) {
          return this.egcd(num).a.mod(num);
        };
        BN.prototype.isEven = function isEven() {
          return (this.words[0] & 1) === 0;
        };
        BN.prototype.isOdd = function isOdd() {
          return (this.words[0] & 1) === 1;
        };
        BN.prototype.andln = function andln(num) {
          return this.words[0] & num;
        };
        BN.prototype.bincn = function bincn(bit) {
          assert(typeof bit === 'number');
          var r = bit % 26;
          var s = (bit - r) / 26;
          var q = 1 << r;
          if (this.length <= s) {
            for (var i = this.length; i < s + 1; i++)
              this.words[i] = 0;
            this.words[s] |= q;
            this.length = s + 1;
            return this;
          }
          var carry = q;
          for (var i = s; carry !== 0 && i < this.length; i++) {
            var w = this.words[i];
            w += carry;
            carry = w >>> 26;
            w &= 0x3ffffff;
            this.words[i] = w;
          }
          if (carry !== 0) {
            this.words[i] = carry;
            this.length++;
          }
          return this;
        };
        BN.prototype.cmpn = function cmpn(num) {
          var sign = num < 0;
          if (sign)
            num = -num;
          if (this.sign && !sign)
            return -1;
          else if (!this.sign && sign)
            return 1;
          num &= 0x3ffffff;
          this.strip();
          var res;
          if (this.length > 1) {
            res = 1;
          } else {
            var w = this.words[0];
            res = w === num ? 0 : w < num ? -1 : 1;
          }
          if (this.sign)
            res = -res;
          return res;
        };
        BN.prototype.cmp = function cmp(num) {
          if (this.sign && !num.sign)
            return -1;
          else if (!this.sign && num.sign)
            return 1;
          var res = this.ucmp(num);
          if (this.sign)
            return -res;
          else
            return res;
        };
        BN.prototype.ucmp = function ucmp(num) {
          if (this.length > num.length)
            return 1;
          else if (this.length < num.length)
            return -1;
          var res = 0;
          for (var i = this.length - 1; i >= 0; i--) {
            var a = this.words[i];
            var b = num.words[i];
            if (a === b)
              continue;
            if (a < b)
              res = -1;
            else if (a > b)
              res = 1;
            break;
          }
          return res;
        };
        BN.red = function red(num) {
          return new Red(num);
        };
        BN.prototype.toRed = function toRed(ctx) {
          assert(!this.red, 'Already a number in reduction context');
          assert(!this.sign, 'red works only with positives');
          return ctx.convertTo(this)._forceRed(ctx);
        };
        BN.prototype.fromRed = function fromRed() {
          assert(this.red, 'fromRed works only with numbers in reduction context');
          return this.red.convertFrom(this);
        };
        BN.prototype._forceRed = function _forceRed(ctx) {
          this.red = ctx;
          return this;
        };
        BN.prototype.forceRed = function forceRed(ctx) {
          assert(!this.red, 'Already a number in reduction context');
          return this._forceRed(ctx);
        };
        BN.prototype.redAdd = function redAdd(num) {
          assert(this.red, 'redAdd works only with red numbers');
          return this.red.add(this, num);
        };
        BN.prototype.redIAdd = function redIAdd(num) {
          assert(this.red, 'redIAdd works only with red numbers');
          return this.red.iadd(this, num);
        };
        BN.prototype.redSub = function redSub(num) {
          assert(this.red, 'redSub works only with red numbers');
          return this.red.sub(this, num);
        };
        BN.prototype.redISub = function redISub(num) {
          assert(this.red, 'redISub works only with red numbers');
          return this.red.isub(this, num);
        };
        BN.prototype.redShl = function redShl(num) {
          assert(this.red, 'redShl works only with red numbers');
          return this.red.shl(this, num);
        };
        BN.prototype.redMul = function redMul(num) {
          assert(this.red, 'redMul works only with red numbers');
          this.red._verify2(this, num);
          return this.red.mul(this, num);
        };
        BN.prototype.redIMul = function redIMul(num) {
          assert(this.red, 'redMul works only with red numbers');
          this.red._verify2(this, num);
          return this.red.imul(this, num);
        };
        BN.prototype.redSqr = function redSqr() {
          assert(this.red, 'redSqr works only with red numbers');
          this.red._verify1(this);
          return this.red.sqr(this);
        };
        BN.prototype.redISqr = function redISqr() {
          assert(this.red, 'redISqr works only with red numbers');
          this.red._verify1(this);
          return this.red.isqr(this);
        };
        BN.prototype.redSqrt = function redSqrt() {
          assert(this.red, 'redSqrt works only with red numbers');
          this.red._verify1(this);
          return this.red.sqrt(this);
        };
        BN.prototype.redInvm = function redInvm() {
          assert(this.red, 'redInvm works only with red numbers');
          this.red._verify1(this);
          return this.red.invm(this);
        };
        BN.prototype.redNeg = function redNeg() {
          assert(this.red, 'redNeg works only with red numbers');
          this.red._verify1(this);
          return this.red.neg(this);
        };
        BN.prototype.redPow = function redPow(num) {
          assert(this.red && !num.red, 'redPow(normalNum)');
          this.red._verify1(this);
          return this.red.pow(this, num);
        };
        var primes = {
          k256: null,
          p224: null,
          p192: null,
          p25519: null
        };
        function MPrime(name, p) {
          this.name = name;
          this.p = new BN(p, 16);
          this.n = this.p.bitLength();
          this.k = new BN(1).ishln(this.n).isub(this.p);
          this.tmp = this._tmp();
        }
        MPrime.prototype._tmp = function _tmp() {
          var tmp = new BN(null);
          tmp.words = new Array(Math.ceil(this.n / 13));
          return tmp;
        };
        MPrime.prototype.ireduce = function ireduce(num) {
          var r = num;
          var rlen;
          do {
            this.split(r, this.tmp);
            r = this.imulK(r);
            r = r.iadd(this.tmp);
            rlen = r.bitLength();
          } while (rlen > this.n);
          var cmp = rlen < this.n ? -1 : r.ucmp(this.p);
          if (cmp === 0) {
            r.words[0] = 0;
            r.length = 1;
          } else if (cmp > 0) {
            r.isub(this.p);
          } else {
            r.strip();
          }
          return r;
        };
        MPrime.prototype.split = function split(input, out) {
          input.ishrn(this.n, 0, out);
        };
        MPrime.prototype.imulK = function imulK(num) {
          return num.imul(this.k);
        };
        function K256() {
          MPrime.call(this, 'k256', 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');
        }
        inherits(K256, MPrime);
        K256.prototype.split = function split(input, output) {
          var mask = 0x3fffff;
          var outLen = Math.min(input.length, 9);
          for (var i = 0; i < outLen; i++)
            output.words[i] = input.words[i];
          output.length = outLen;
          if (input.length <= 9) {
            input.words[0] = 0;
            input.length = 1;
            return;
          }
          var prev = input.words[9];
          output.words[output.length++] = prev & mask;
          for (var i = 10; i < input.length; i++) {
            var next = input.words[i];
            input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);
            prev = next;
          }
          input.words[i - 10] = prev >>> 22;
          input.length -= 9;
        };
        K256.prototype.imulK = function imulK(num) {
          num.words[num.length] = 0;
          num.words[num.length + 1] = 0;
          num.length += 2;
          var hi;
          var lo = 0;
          for (var i = 0; i < num.length; i++) {
            var w = num.words[i];
            hi = w * 0x40;
            lo += w * 0x3d1;
            hi += (lo / 0x4000000) | 0;
            lo &= 0x3ffffff;
            num.words[i] = lo;
            lo = hi;
          }
          if (num.words[num.length - 1] === 0) {
            num.length--;
            if (num.words[num.length - 1] === 0)
              num.length--;
          }
          return num;
        };
        function P224() {
          MPrime.call(this, 'p224', 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');
        }
        inherits(P224, MPrime);
        function P192() {
          MPrime.call(this, 'p192', 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');
        }
        inherits(P192, MPrime);
        function P25519() {
          MPrime.call(this, '25519', '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');
        }
        inherits(P25519, MPrime);
        P25519.prototype.imulK = function imulK(num) {
          var carry = 0;
          for (var i = 0; i < num.length; i++) {
            var hi = num.words[i] * 0x13 + carry;
            var lo = hi & 0x3ffffff;
            hi >>>= 26;
            num.words[i] = lo;
            carry = hi;
          }
          if (carry !== 0)
            num.words[num.length++] = carry;
          return num;
        };
        BN._prime = function prime(name) {
          if (primes[name])
            return primes[name];
          var prime;
          if (name === 'k256')
            prime = new K256();
          else if (name === 'p224')
            prime = new P224();
          else if (name === 'p192')
            prime = new P192();
          else if (name === 'p25519')
            prime = new P25519();
          else
            throw new Error('Unknown prime ' + name);
          primes[name] = prime;
          return prime;
        };
        function Red(m) {
          if (typeof m === 'string') {
            var prime = BN._prime(m);
            this.m = prime.p;
            this.prime = prime;
          } else {
            this.m = m;
            this.prime = null;
          }
        }
        Red.prototype._verify1 = function _verify1(a) {
          assert(!a.sign, 'red works only with positives');
          assert(a.red, 'red works only with red numbers');
        };
        Red.prototype._verify2 = function _verify2(a, b) {
          assert(!a.sign && !b.sign, 'red works only with positives');
          assert(a.red && a.red === b.red, 'red works only with red numbers');
        };
        Red.prototype.imod = function imod(a) {
          if (this.prime)
            return this.prime.ireduce(a)._forceRed(this);
          return a.mod(this.m)._forceRed(this);
        };
        Red.prototype.neg = function neg(a) {
          var r = a.clone();
          r.sign = !r.sign;
          return r.iadd(this.m)._forceRed(this);
        };
        Red.prototype.add = function add(a, b) {
          this._verify2(a, b);
          var res = a.add(b);
          if (res.cmp(this.m) >= 0)
            res.isub(this.m);
          return res._forceRed(this);
        };
        Red.prototype.iadd = function iadd(a, b) {
          this._verify2(a, b);
          var res = a.iadd(b);
          if (res.cmp(this.m) >= 0)
            res.isub(this.m);
          return res;
        };
        Red.prototype.sub = function sub(a, b) {
          this._verify2(a, b);
          var res = a.sub(b);
          if (res.cmpn(0) < 0)
            res.iadd(this.m);
          return res._forceRed(this);
        };
        Red.prototype.isub = function isub(a, b) {
          this._verify2(a, b);
          var res = a.isub(b);
          if (res.cmpn(0) < 0)
            res.iadd(this.m);
          return res;
        };
        Red.prototype.shl = function shl(a, num) {
          this._verify1(a);
          return this.imod(a.shln(num));
        };
        Red.prototype.imul = function imul(a, b) {
          this._verify2(a, b);
          return this.imod(a.imul(b));
        };
        Red.prototype.mul = function mul(a, b) {
          this._verify2(a, b);
          return this.imod(a.mul(b));
        };
        Red.prototype.isqr = function isqr(a) {
          return this.imul(a, a);
        };
        Red.prototype.sqr = function sqr(a) {
          return this.mul(a, a);
        };
        Red.prototype.sqrt = function sqrt(a) {
          if (a.cmpn(0) === 0)
            return a.clone();
          var mod3 = this.m.andln(3);
          assert(mod3 % 2 === 1);
          if (mod3 === 3) {
            var pow = this.m.add(new BN(1)).ishrn(2);
            var r = this.pow(a, pow);
            return r;
          }
          var q = this.m.subn(1);
          var s = 0;
          while (q.cmpn(0) !== 0 && q.andln(1) === 0) {
            s++;
            q.ishrn(1);
          }
          assert(q.cmpn(0) !== 0);
          var one = new BN(1).toRed(this);
          var nOne = one.redNeg();
          var lpow = this.m.subn(1).ishrn(1);
          var z = this.m.bitLength();
          z = new BN(2 * z * z).toRed(this);
          while (this.pow(z, lpow).cmp(nOne) !== 0)
            z.redIAdd(nOne);
          var c = this.pow(z, q);
          var r = this.pow(a, q.addn(1).ishrn(1));
          var t = this.pow(a, q);
          var m = s;
          while (t.cmp(one) !== 0) {
            var tmp = t;
            for (var i = 0; tmp.cmp(one) !== 0; i++)
              tmp = tmp.redSqr();
            assert(i < m);
            var b = this.pow(c, new BN(1).ishln(m - i - 1));
            r = r.redMul(b);
            c = b.redSqr();
            t = t.redMul(c);
            m = i;
          }
          return r;
        };
        Red.prototype.invm = function invm(a) {
          var inv = a._invmp(this.m);
          if (inv.sign) {
            inv.sign = false;
            return this.imod(inv).redNeg();
          } else {
            return this.imod(inv);
          }
        };
        Red.prototype.pow = function pow(a, num) {
          var w = [];
          if (num.cmpn(0) === 0)
            return new BN(1);
          var q = num.clone();
          while (q.cmpn(0) !== 0) {
            w.push(q.andln(1));
            q.ishrn(1);
          }
          var res = a;
          for (var i = 0; i < w.length; i++, res = this.sqr(res))
            if (w[i] !== 0)
              break;
          if (++i < w.length) {
            for (var q = this.sqr(res); i < w.length; i++, q = this.sqr(q)) {
              if (w[i] === 0)
                continue;
              res = this.mul(res, q);
            }
          }
          return res;
        };
        Red.prototype.convertTo = function convertTo(num) {
          var r = num.mod(this.m);
          if (r === num)
            return r.clone();
          else
            return r;
        };
        Red.prototype.convertFrom = function convertFrom(num) {
          var res = num.clone();
          res.red = null;
          return res;
        };
        BN.mont = function mont(num) {
          return new Mont(num);
        };
        function Mont(m) {
          Red.call(this, m);
          this.shift = this.m.bitLength();
          if (this.shift % 26 !== 0)
            this.shift += 26 - (this.shift % 26);
          this.r = new BN(1).ishln(this.shift);
          this.r2 = this.imod(this.r.sqr());
          this.rinv = this.r._invmp(this.m);
          this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);
          this.minv.sign = true;
          this.minv = this.minv.mod(this.r);
        }
        inherits(Mont, Red);
        Mont.prototype.convertTo = function convertTo(num) {
          return this.imod(num.shln(this.shift));
        };
        Mont.prototype.convertFrom = function convertFrom(num) {
          var r = this.imod(num.mul(this.rinv));
          r.red = null;
          return r;
        };
        Mont.prototype.imul = function imul(a, b) {
          if (a.cmpn(0) === 0 || b.cmpn(0) === 0) {
            a.words[0] = 0;
            a.length = 1;
            return a;
          }
          var t = a.imul(b);
          var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
          var u = t.isub(c).ishrn(this.shift);
          var res = u;
          if (u.cmp(this.m) >= 0)
            res = u.isub(this.m);
          else if (u.cmpn(0) < 0)
            res = u.iadd(this.m);
          return res._forceRed(this);
        };
        Mont.prototype.mul = function mul(a, b) {
          if (a.cmpn(0) === 0 || b.cmpn(0) === 0)
            return new BN(0)._forceRed(this);
          var t = a.mul(b);
          var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
          var u = t.isub(c).ishrn(this.shift);
          var res = u;
          if (u.cmp(this.m) >= 0)
            res = u.isub(this.m);
          else if (u.cmpn(0) < 0)
            res = u.iadd(this.m);
          return res._forceRed(this);
        };
        Mont.prototype.invm = function invm(a) {
          var res = this.imod(a._invmp(this.m).mul(this.r2));
          return res._forceRed(this);
        };
      })(typeof module === 'undefined' || module, this);
    }, {}],
    71: [function(require, module, exports) {
      (function(Buffer) {
        var bn = require('bn.js');
        var randomBytes = require('randombytes');
        module.exports = crt;
        function blind(priv) {
          var r = getr(priv);
          var blinder = r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();
          return {
            blinder: blinder,
            unblinder: r.invm(priv.modulus)
          };
        }
        function crt(msg, priv) {
          var blinds = blind(priv);
          var len = priv.modulus.byteLength();
          var mod = bn.mont(priv.modulus);
          var blinded = new bn(msg).mul(blinds.blinder).mod(priv.modulus);
          var c1 = blinded.toRed(bn.mont(priv.prime1));
          var c2 = blinded.toRed(bn.mont(priv.prime2));
          var qinv = priv.coefficient;
          var p = priv.prime1;
          var q = priv.prime2;
          var m1 = c1.redPow(priv.exponent1);
          var m2 = c2.redPow(priv.exponent2);
          m1 = m1.fromRed();
          m2 = m2.fromRed();
          var h = m1.isub(m2).imul(qinv).mod(p);
          h.imul(q);
          m2.iadd(h);
          var out = new Buffer(m2.imul(blinds.unblinder).mod(priv.modulus).toArray());
          if (out.length < len) {
            var prefix = new Buffer(len - out.length);
            prefix.fill(0);
            out = Buffer.concat([prefix, out], len);
          }
          return out;
        }
        crt.getr = getr;
        function getr(priv) {
          var len = priv.modulus.byteLength();
          var r = new bn(randomBytes(len));
          while (r.cmp(priv.modulus) >= 0 || !r.mod(priv.prime1) || !r.mod(priv.prime2)) {
            r = new bn(randomBytes(len));
          }
          return r;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "bn.js": 70,
      "buffer": 44,
      "randombytes": 188
    }],
    72: [function(require, module, exports) {
      'use strict';
      var elliptic = exports;
      elliptic.version = require('../package.json').version;
      elliptic.utils = require('./elliptic/utils');
      elliptic.rand = require('brorand');
      elliptic.hmacDRBG = require('./elliptic/hmac-drbg');
      elliptic.curve = require('./elliptic/curve');
      elliptic.curves = require('./elliptic/curves');
      elliptic.ec = require('./elliptic/ec');
    }, {
      "../package.json": 92,
      "./elliptic/curve": 75,
      "./elliptic/curves": 78,
      "./elliptic/ec": 79,
      "./elliptic/hmac-drbg": 82,
      "./elliptic/utils": 84,
      "brorand": 85
    }],
    73: [function(require, module, exports) {
      'use strict';
      var bn = require('bn.js');
      var elliptic = require('../../elliptic');
      var getNAF = elliptic.utils.getNAF;
      var getJSF = elliptic.utils.getJSF;
      var assert = elliptic.utils.assert;
      function BaseCurve(type, conf) {
        this.type = type;
        this.p = new bn(conf.p, 16);
        this.red = conf.prime ? bn.red(conf.prime) : bn.mont(this.p);
        this.zero = new bn(0).toRed(this.red);
        this.one = new bn(1).toRed(this.red);
        this.two = new bn(2).toRed(this.red);
        this.n = conf.n && new bn(conf.n, 16);
        this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);
        this._wnafT1 = new Array(4);
        this._wnafT2 = new Array(4);
        this._wnafT3 = new Array(4);
        this._wnafT4 = new Array(4);
      }
      module.exports = BaseCurve;
      BaseCurve.prototype.point = function point() {
        throw new Error('Not implemented');
      };
      BaseCurve.prototype.validate = function validate() {
        throw new Error('Not implemented');
      };
      BaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {
        assert(p.precomputed);
        var doubles = p._getDoubles();
        var naf = getNAF(k, 1);
        var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);
        I /= 3;
        var repr = [];
        for (var j = 0; j < naf.length; j += doubles.step) {
          var nafW = 0;
          for (var k = j + doubles.step - 1; k >= j; k--)
            nafW = (nafW << 1) + naf[k];
          repr.push(nafW);
        }
        var a = this.jpoint(null, null, null);
        var b = this.jpoint(null, null, null);
        for (var i = I; i > 0; i--) {
          for (var j = 0; j < repr.length; j++) {
            var nafW = repr[j];
            if (nafW === i)
              b = b.mixedAdd(doubles.points[j]);
            else if (nafW === -i)
              b = b.mixedAdd(doubles.points[j].neg());
          }
          a = a.add(b);
        }
        return a.toP();
      };
      BaseCurve.prototype._wnafMul = function _wnafMul(p, k) {
        var w = 4;
        var nafPoints = p._getNAFPoints(w);
        w = nafPoints.wnd;
        var wnd = nafPoints.points;
        var naf = getNAF(k, w);
        var acc = this.jpoint(null, null, null);
        for (var i = naf.length - 1; i >= 0; i--) {
          for (var k = 0; i >= 0 && naf[i] === 0; i--)
            k++;
          if (i >= 0)
            k++;
          acc = acc.dblp(k);
          if (i < 0)
            break;
          var z = naf[i];
          assert(z !== 0);
          if (p.type === 'affine') {
            if (z > 0)
              acc = acc.mixedAdd(wnd[(z - 1) >> 1]);
            else
              acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());
          } else {
            if (z > 0)
              acc = acc.add(wnd[(z - 1) >> 1]);
            else
              acc = acc.add(wnd[(-z - 1) >> 1].neg());
          }
        }
        return p.type === 'affine' ? acc.toP() : acc;
      };
      BaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW, points, coeffs, len) {
        var wndWidth = this._wnafT1;
        var wnd = this._wnafT2;
        var naf = this._wnafT3;
        var max = 0;
        for (var i = 0; i < len; i++) {
          var p = points[i];
          var nafPoints = p._getNAFPoints(defW);
          wndWidth[i] = nafPoints.wnd;
          wnd[i] = nafPoints.points;
        }
        for (var i = len - 1; i >= 1; i -= 2) {
          var a = i - 1;
          var b = i;
          if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {
            naf[a] = getNAF(coeffs[a], wndWidth[a]);
            naf[b] = getNAF(coeffs[b], wndWidth[b]);
            max = Math.max(naf[a].length, max);
            max = Math.max(naf[b].length, max);
            continue;
          }
          var comb = [points[a], null, null, points[b]];
          if (points[a].y.cmp(points[b].y) === 0) {
            comb[1] = points[a].add(points[b]);
            comb[2] = points[a].toJ().mixedAdd(points[b].neg());
          } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {
            comb[1] = points[a].toJ().mixedAdd(points[b]);
            comb[2] = points[a].add(points[b].neg());
          } else {
            comb[1] = points[a].toJ().mixedAdd(points[b]);
            comb[2] = points[a].toJ().mixedAdd(points[b].neg());
          }
          var index = [-3, -1, -5, -7, 0, 7, 5, 1, 3];
          var jsf = getJSF(coeffs[a], coeffs[b]);
          max = Math.max(jsf[0].length, max);
          naf[a] = new Array(max);
          naf[b] = new Array(max);
          for (var j = 0; j < max; j++) {
            var ja = jsf[0][j] | 0;
            var jb = jsf[1][j] | 0;
            naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];
            naf[b][j] = 0;
            wnd[a] = comb;
          }
        }
        var acc = this.jpoint(null, null, null);
        var tmp = this._wnafT4;
        for (var i = max; i >= 0; i--) {
          var k = 0;
          while (i >= 0) {
            var zero = true;
            for (var j = 0; j < len; j++) {
              tmp[j] = naf[j][i] | 0;
              if (tmp[j] !== 0)
                zero = false;
            }
            if (!zero)
              break;
            k++;
            i--;
          }
          if (i >= 0)
            k++;
          acc = acc.dblp(k);
          if (i < 0)
            break;
          for (var j = 0; j < len; j++) {
            var z = tmp[j];
            var p;
            if (z === 0)
              continue;
            else if (z > 0)
              p = wnd[j][(z - 1) >> 1];
            else if (z < 0)
              p = wnd[j][(-z - 1) >> 1].neg();
            if (p.type === 'affine')
              acc = acc.mixedAdd(p);
            else
              acc = acc.add(p);
          }
        }
        for (var i = 0; i < len; i++)
          wnd[i] = null;
        return acc.toP();
      };
      function BasePoint(curve, type) {
        this.curve = curve;
        this.type = type;
        this.precomputed = null;
      }
      BaseCurve.BasePoint = BasePoint;
      BasePoint.prototype.validate = function validate() {
        return this.curve.validate(this);
      };
      BasePoint.prototype.precompute = function precompute(power) {
        if (this.precomputed)
          return this;
        var precomputed = {
          doubles: null,
          naf: null,
          beta: null
        };
        precomputed.naf = this._getNAFPoints(8);
        precomputed.doubles = this._getDoubles(4, power);
        precomputed.beta = this._getBeta();
        this.precomputed = precomputed;
        return this;
      };
      BasePoint.prototype._hasDoubles = function _hasDoubles(k) {
        if (!this.precomputed)
          return false;
        var doubles = this.precomputed.doubles;
        if (!doubles)
          return false;
        return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);
      };
      BasePoint.prototype._getDoubles = function _getDoubles(step, power) {
        if (this.precomputed && this.precomputed.doubles)
          return this.precomputed.doubles;
        var doubles = [this];
        var acc = this;
        for (var i = 0; i < power; i += step) {
          for (var j = 0; j < step; j++)
            acc = acc.dbl();
          doubles.push(acc);
        }
        return {
          step: step,
          points: doubles
        };
      };
      BasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {
        if (this.precomputed && this.precomputed.naf)
          return this.precomputed.naf;
        var res = [this];
        var max = (1 << wnd) - 1;
        var dbl = max === 1 ? null : this.dbl();
        for (var i = 1; i < max; i++)
          res[i] = res[i - 1].add(dbl);
        return {
          wnd: wnd,
          points: res
        };
      };
      BasePoint.prototype._getBeta = function _getBeta() {
        return null;
      };
      BasePoint.prototype.dblp = function dblp(k) {
        var r = this;
        for (var i = 0; i < k; i++)
          r = r.dbl();
        return r;
      };
    }, {
      "../../elliptic": 72,
      "bn.js": 70
    }],
    74: [function(require, module, exports) {
      'use strict';
      var curve = require('../curve');
      var elliptic = require('../../elliptic');
      var bn = require('bn.js');
      var inherits = require('inherits');
      var Base = curve.base;
      var assert = elliptic.utils.assert;
      function EdwardsCurve(conf) {
        this.twisted = (conf.a | 0) !== 1;
        this.mOneA = this.twisted && (conf.a | 0) === -1;
        this.extended = this.mOneA;
        Base.call(this, 'edwards', conf);
        this.a = new bn(conf.a, 16).mod(this.red.m).toRed(this.red);
        this.c = new bn(conf.c, 16).toRed(this.red);
        this.c2 = this.c.redSqr();
        this.d = new bn(conf.d, 16).toRed(this.red);
        this.dd = this.d.redAdd(this.d);
        assert(!this.twisted || this.c.fromRed().cmpn(1) === 0);
        this.oneC = (conf.c | 0) === 1;
      }
      inherits(EdwardsCurve, Base);
      module.exports = EdwardsCurve;
      EdwardsCurve.prototype._mulA = function _mulA(num) {
        if (this.mOneA)
          return num.redNeg();
        else
          return this.a.redMul(num);
      };
      EdwardsCurve.prototype._mulC = function _mulC(num) {
        if (this.oneC)
          return num;
        else
          return this.c.redMul(num);
      };
      EdwardsCurve.prototype.jpoint = function jpoint(x, y, z, t) {
        return this.point(x, y, z, t);
      };
      EdwardsCurve.prototype.pointFromX = function pointFromX(odd, x) {
        x = new bn(x, 16);
        if (!x.red)
          x = x.toRed(this.red);
        var x2 = x.redSqr();
        var rhs = this.c2.redSub(this.a.redMul(x2));
        var lhs = this.one.redSub(this.c2.redMul(this.d).redMul(x2));
        var y = rhs.redMul(lhs.redInvm()).redSqrt();
        var isOdd = y.fromRed().isOdd();
        if (odd && !isOdd || !odd && isOdd)
          y = y.redNeg();
        return this.point(x, y, curve.one);
      };
      EdwardsCurve.prototype.validate = function validate(point) {
        if (point.isInfinity())
          return true;
        point.normalize();
        var x2 = point.x.redSqr();
        var y2 = point.y.redSqr();
        var lhs = x2.redMul(this.a).redAdd(y2);
        var rhs = this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));
        return lhs.cmp(rhs) === 0;
      };
      function Point(curve, x, y, z, t) {
        Base.BasePoint.call(this, curve, 'projective');
        if (x === null && y === null && z === null) {
          this.x = this.curve.zero;
          this.y = this.curve.one;
          this.z = this.curve.one;
          this.t = this.curve.zero;
          this.zOne = true;
        } else {
          this.x = new bn(x, 16);
          this.y = new bn(y, 16);
          this.z = z ? new bn(z, 16) : this.curve.one;
          this.t = t && new bn(t, 16);
          if (!this.x.red)
            this.x = this.x.toRed(this.curve.red);
          if (!this.y.red)
            this.y = this.y.toRed(this.curve.red);
          if (!this.z.red)
            this.z = this.z.toRed(this.curve.red);
          if (this.t && !this.t.red)
            this.t = this.t.toRed(this.curve.red);
          this.zOne = this.z === this.curve.one;
          if (this.curve.extended && !this.t) {
            this.t = this.x.redMul(this.y);
            if (!this.zOne)
              this.t = this.t.redMul(this.z.redInvm());
          }
        }
      }
      inherits(Point, Base.BasePoint);
      EdwardsCurve.prototype.pointFromJSON = function pointFromJSON(obj) {
        return Point.fromJSON(this, obj);
      };
      EdwardsCurve.prototype.point = function point(x, y, z, t) {
        return new Point(this, x, y, z, t);
      };
      Point.fromJSON = function fromJSON(curve, obj) {
        return new Point(curve, obj[0], obj[1], obj[2]);
      };
      Point.prototype.inspect = function inspect() {
        if (this.isInfinity())
          return '<EC Point Infinity>';
        return '<EC Point x: ' + this.x.fromRed().toString(16, 2) + ' y: ' + this.y.fromRed().toString(16, 2) + ' z: ' + this.z.fromRed().toString(16, 2) + '>';
      };
      Point.prototype.isInfinity = function isInfinity() {
        return this.x.cmpn(0) === 0 && this.y.cmp(this.z) === 0;
      };
      Point.prototype._extDbl = function _extDbl() {
        var a = this.x.redSqr();
        var b = this.y.redSqr();
        var c = this.z.redSqr();
        c = c.redIAdd(c);
        var d = this.curve._mulA(a);
        var e = this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);
        var g = d.redAdd(b);
        var f = g.redSub(c);
        var h = d.redSub(b);
        var nx = e.redMul(f);
        var ny = g.redMul(h);
        var nt = e.redMul(h);
        var nz = f.redMul(g);
        return this.curve.point(nx, ny, nz, nt);
      };
      Point.prototype._projDbl = function _projDbl() {
        var b = this.x.redAdd(this.y).redSqr();
        var c = this.x.redSqr();
        var d = this.y.redSqr();
        var nx;
        var ny;
        var nz;
        if (this.curve.twisted) {
          var e = this.curve._mulA(c);
          var f = e.redAdd(d);
          if (this.zOne) {
            nx = b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));
            ny = f.redMul(e.redSub(d));
            nz = f.redSqr().redSub(f).redSub(f);
          } else {
            var h = this.z.redSqr();
            var j = f.redSub(h).redISub(h);
            nx = b.redSub(c).redISub(d).redMul(j);
            ny = f.redMul(e.redSub(d));
            nz = f.redMul(j);
          }
        } else {
          var e = c.redAdd(d);
          var h = this.curve._mulC(this.c.redMul(this.z)).redSqr();
          var j = e.redSub(h).redSub(h);
          nx = this.curve._mulC(b.redISub(e)).redMul(j);
          ny = this.curve._mulC(e).redMul(c.redISub(d));
          nz = e.redMul(j);
        }
        return this.curve.point(nx, ny, nz);
      };
      Point.prototype.dbl = function dbl() {
        if (this.isInfinity())
          return this;
        if (this.curve.extended)
          return this._extDbl();
        else
          return this._projDbl();
      };
      Point.prototype._extAdd = function _extAdd(p) {
        var a = this.y.redSub(this.x).redMul(p.y.redSub(p.x));
        var b = this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));
        var c = this.t.redMul(this.curve.dd).redMul(p.t);
        var d = this.z.redMul(p.z.redAdd(p.z));
        var e = b.redSub(a);
        var f = d.redSub(c);
        var g = d.redAdd(c);
        var h = b.redAdd(a);
        var nx = e.redMul(f);
        var ny = g.redMul(h);
        var nt = e.redMul(h);
        var nz = f.redMul(g);
        return this.curve.point(nx, ny, nz, nt);
      };
      Point.prototype._projAdd = function _projAdd(p) {
        var a = this.z.redMul(p.z);
        var b = a.redSqr();
        var c = this.x.redMul(p.x);
        var d = this.y.redMul(p.y);
        var e = this.curve.d.redMul(c).redMul(d);
        var f = b.redSub(e);
        var g = b.redAdd(e);
        var tmp = this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);
        var nx = a.redMul(f).redMul(tmp);
        var ny;
        var nz;
        if (this.curve.twisted) {
          ny = a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));
          nz = f.redMul(g);
        } else {
          ny = a.redMul(g).redMul(d.redSub(c));
          nz = this.curve._mulC(f).redMul(g);
        }
        return this.curve.point(nx, ny, nz);
      };
      Point.prototype.add = function add(p) {
        if (this.isInfinity())
          return p;
        if (p.isInfinity())
          return this;
        if (this.curve.extended)
          return this._extAdd(p);
        else
          return this._projAdd(p);
      };
      Point.prototype.mul = function mul(k) {
        if (this._hasDoubles(k))
          return this.curve._fixedNafMul(this, k);
        else
          return this.curve._wnafMul(this, k);
      };
      Point.prototype.mulAdd = function mulAdd(k1, p, k2) {
        return this.curve._wnafMulAdd(1, [this, p], [k1, k2], 2);
      };
      Point.prototype.normalize = function normalize() {
        if (this.zOne)
          return this;
        var zi = this.z.redInvm();
        this.x = this.x.redMul(zi);
        this.y = this.y.redMul(zi);
        if (this.t)
          this.t = this.t.redMul(zi);
        this.z = this.curve.one;
        this.zOne = true;
        return this;
      };
      Point.prototype.neg = function neg() {
        return this.curve.point(this.x.redNeg(), this.y, this.z, this.t && this.t.redNeg());
      };
      Point.prototype.getX = function getX() {
        this.normalize();
        return this.x.fromRed();
      };
      Point.prototype.getY = function getY() {
        this.normalize();
        return this.y.fromRed();
      };
      Point.prototype.toP = Point.prototype.normalize;
      Point.prototype.mixedAdd = Point.prototype.add;
    }, {
      "../../elliptic": 72,
      "../curve": 75,
      "bn.js": 70,
      "inherits": 190
    }],
    75: [function(require, module, exports) {
      'use strict';
      var curve = exports;
      curve.base = require('./base');
      curve.short = require('./short');
      curve.mont = require('./mont');
      curve.edwards = require('./edwards');
    }, {
      "./base": 73,
      "./edwards": 74,
      "./mont": 76,
      "./short": 77
    }],
    76: [function(require, module, exports) {
      'use strict';
      var curve = require('../curve');
      var bn = require('bn.js');
      var inherits = require('inherits');
      var Base = curve.base;
      function MontCurve(conf) {
        Base.call(this, 'mont', conf);
        this.a = new bn(conf.a, 16).toRed(this.red);
        this.b = new bn(conf.b, 16).toRed(this.red);
        this.i4 = new bn(4).toRed(this.red).redInvm();
        this.two = new bn(2).toRed(this.red);
        this.a24 = this.i4.redMul(this.a.redAdd(this.two));
      }
      inherits(MontCurve, Base);
      module.exports = MontCurve;
      MontCurve.prototype.validate = function validate(point) {
        var x = point.normalize().x;
        var x2 = x.redSqr();
        var rhs = x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);
        var y = rhs.redSqrt();
        return y.redSqr().cmp(rhs) === 0;
      };
      function Point(curve, x, z) {
        Base.BasePoint.call(this, curve, 'projective');
        if (x === null && z === null) {
          this.x = this.curve.one;
          this.z = this.curve.zero;
        } else {
          this.x = new bn(x, 16);
          this.z = new bn(z, 16);
          if (!this.x.red)
            this.x = this.x.toRed(this.curve.red);
          if (!this.z.red)
            this.z = this.z.toRed(this.curve.red);
        }
      }
      inherits(Point, Base.BasePoint);
      MontCurve.prototype.point = function point(x, z) {
        return new Point(this, x, z);
      };
      MontCurve.prototype.pointFromJSON = function pointFromJSON(obj) {
        return Point.fromJSON(this, obj);
      };
      Point.prototype.precompute = function precompute() {};
      Point.fromJSON = function fromJSON(curve, obj) {
        return new Point(curve, obj[0], obj[1] || curve.one);
      };
      Point.prototype.inspect = function inspect() {
        if (this.isInfinity())
          return '<EC Point Infinity>';
        return '<EC Point x: ' + this.x.fromRed().toString(16, 2) + ' z: ' + this.z.fromRed().toString(16, 2) + '>';
      };
      Point.prototype.isInfinity = function isInfinity() {
        return this.z.cmpn(0) === 0;
      };
      Point.prototype.dbl = function dbl() {
        var a = this.x.redAdd(this.z);
        var aa = a.redSqr();
        var b = this.x.redSub(this.z);
        var bb = b.redSqr();
        var c = aa.redSub(bb);
        var nx = aa.redMul(bb);
        var nz = c.redMul(bb.redAdd(this.curve.a24.redMul(c)));
        return this.curve.point(nx, nz);
      };
      Point.prototype.add = function add() {
        throw new Error('Not supported on Montgomery curve');
      };
      Point.prototype.diffAdd = function diffAdd(p, diff) {
        var a = this.x.redAdd(this.z);
        var b = this.x.redSub(this.z);
        var c = p.x.redAdd(p.z);
        var d = p.x.redSub(p.z);
        var da = d.redMul(a);
        var cb = c.redMul(b);
        var nx = diff.z.redMul(da.redAdd(cb).redSqr());
        var nz = diff.x.redMul(da.redISub(cb).redSqr());
        return this.curve.point(nx, nz);
      };
      Point.prototype.mul = function mul(k) {
        var t = k.clone();
        var a = this;
        var b = this.curve.point(null, null);
        var c = this;
        for (var bits = []; t.cmpn(0) !== 0; t.ishrn(1))
          bits.push(t.andln(1));
        for (var i = bits.length - 1; i >= 0; i--) {
          if (bits[i] === 0) {
            a = a.diffAdd(b, c);
            b = b.dbl();
          } else {
            b = a.diffAdd(b, c);
            a = a.dbl();
          }
        }
        return b;
      };
      Point.prototype.mulAdd = function mulAdd() {
        throw new Error('Not supported on Montgomery curve');
      };
      Point.prototype.normalize = function normalize() {
        this.x = this.x.redMul(this.z.redInvm());
        this.z = this.curve.one;
        return this;
      };
      Point.prototype.getX = function getX() {
        this.normalize();
        return this.x.fromRed();
      };
    }, {
      "../curve": 75,
      "bn.js": 70,
      "inherits": 190
    }],
    77: [function(require, module, exports) {
      'use strict';
      var curve = require('../curve');
      var elliptic = require('../../elliptic');
      var bn = require('bn.js');
      var inherits = require('inherits');
      var Base = curve.base;
      var assert = elliptic.utils.assert;
      function ShortCurve(conf) {
        Base.call(this, 'short', conf);
        this.a = new bn(conf.a, 16).toRed(this.red);
        this.b = new bn(conf.b, 16).toRed(this.red);
        this.tinv = this.two.redInvm();
        this.zeroA = this.a.fromRed().cmpn(0) === 0;
        this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;
        this.endo = this._getEndomorphism(conf);
        this._endoWnafT1 = new Array(4);
        this._endoWnafT2 = new Array(4);
      }
      inherits(ShortCurve, Base);
      module.exports = ShortCurve;
      ShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {
        if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)
          return;
        var beta;
        var lambda;
        if (conf.beta) {
          beta = new bn(conf.beta, 16).toRed(this.red);
        } else {
          var betas = this._getEndoRoots(this.p);
          beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];
          beta = beta.toRed(this.red);
        }
        if (conf.lambda) {
          lambda = new bn(conf.lambda, 16);
        } else {
          var lambdas = this._getEndoRoots(this.n);
          if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {
            lambda = lambdas[0];
          } else {
            lambda = lambdas[1];
            assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);
          }
        }
        var basis;
        if (conf.basis) {
          basis = conf.basis.map(function(vec) {
            return {
              a: new bn(vec.a, 16),
              b: new bn(vec.b, 16)
            };
          });
        } else {
          basis = this._getEndoBasis(lambda);
        }
        return {
          beta: beta,
          lambda: lambda,
          basis: basis
        };
      };
      ShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {
        var red = num === this.p ? this.red : bn.mont(num);
        var tinv = new bn(2).toRed(red).redInvm();
        var ntinv = tinv.redNeg();
        var s = new bn(3).toRed(red).redNeg().redSqrt().redMul(tinv);
        var l1 = ntinv.redAdd(s).fromRed();
        var l2 = ntinv.redSub(s).fromRed();
        return [l1, l2];
      };
      ShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {
        var aprxSqrt = this.n.shrn(Math.floor(this.n.bitLength() / 2));
        var u = lambda;
        var v = this.n.clone();
        var x1 = new bn(1);
        var y1 = new bn(0);
        var x2 = new bn(0);
        var y2 = new bn(1);
        var a0;
        var b0;
        var a1;
        var b1;
        var a2;
        var b2;
        var prevR;
        var i = 0;
        var r;
        var x;
        while (u.cmpn(0) !== 0) {
          var q = v.div(u);
          r = v.sub(q.mul(u));
          x = x2.sub(q.mul(x1));
          var y = y2.sub(q.mul(y1));
          if (!a1 && r.cmp(aprxSqrt) < 0) {
            a0 = prevR.neg();
            b0 = x1;
            a1 = r.neg();
            b1 = x;
          } else if (a1 && ++i === 2) {
            break;
          }
          prevR = r;
          v = u;
          u = r;
          x2 = x1;
          x1 = x;
          y2 = y1;
          y1 = y;
        }
        a2 = r.neg();
        b2 = x;
        var len1 = a1.sqr().add(b1.sqr());
        var len2 = a2.sqr().add(b2.sqr());
        if (len2.cmp(len1) >= 0) {
          a2 = a0;
          b2 = b0;
        }
        if (a1.sign) {
          a1 = a1.neg();
          b1 = b1.neg();
        }
        if (a2.sign) {
          a2 = a2.neg();
          b2 = b2.neg();
        }
        return [{
          a: a1,
          b: b1
        }, {
          a: a2,
          b: b2
        }];
      };
      ShortCurve.prototype._endoSplit = function _endoSplit(k) {
        var basis = this.endo.basis;
        var v1 = basis[0];
        var v2 = basis[1];
        var c1 = v2.b.mul(k).divRound(this.n);
        var c2 = v1.b.neg().mul(k).divRound(this.n);
        var p1 = c1.mul(v1.a);
        var p2 = c2.mul(v2.a);
        var q1 = c1.mul(v1.b);
        var q2 = c2.mul(v2.b);
        var k1 = k.sub(p1).sub(p2);
        var k2 = q1.add(q2).neg();
        return {
          k1: k1,
          k2: k2
        };
      };
      ShortCurve.prototype.pointFromX = function pointFromX(odd, x) {
        x = new bn(x, 16);
        if (!x.red)
          x = x.toRed(this.red);
        var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);
        var y = y2.redSqrt();
        var isOdd = y.fromRed().isOdd();
        if (odd && !isOdd || !odd && isOdd)
          y = y.redNeg();
        return this.point(x, y);
      };
      ShortCurve.prototype.validate = function validate(point) {
        if (point.inf)
          return true;
        var x = point.x;
        var y = point.y;
        var ax = this.a.redMul(x);
        var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);
        return y.redSqr().redISub(rhs).cmpn(0) === 0;
      };
      ShortCurve.prototype._endoWnafMulAdd = function _endoWnafMulAdd(points, coeffs) {
        var npoints = this._endoWnafT1;
        var ncoeffs = this._endoWnafT2;
        for (var i = 0; i < points.length; i++) {
          var split = this._endoSplit(coeffs[i]);
          var p = points[i];
          var beta = p._getBeta();
          if (split.k1.sign) {
            split.k1.sign = !split.k1.sign;
            p = p.neg(true);
          }
          if (split.k2.sign) {
            split.k2.sign = !split.k2.sign;
            beta = beta.neg(true);
          }
          npoints[i * 2] = p;
          npoints[i * 2 + 1] = beta;
          ncoeffs[i * 2] = split.k1;
          ncoeffs[i * 2 + 1] = split.k2;
        }
        var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2);
        for (var j = 0; j < i * 2; j++) {
          npoints[j] = null;
          ncoeffs[j] = null;
        }
        return res;
      };
      function Point(curve, x, y, isRed) {
        Base.BasePoint.call(this, curve, 'affine');
        if (x === null && y === null) {
          this.x = null;
          this.y = null;
          this.inf = true;
        } else {
          this.x = new bn(x, 16);
          this.y = new bn(y, 16);
          if (isRed) {
            this.x.forceRed(this.curve.red);
            this.y.forceRed(this.curve.red);
          }
          if (!this.x.red)
            this.x = this.x.toRed(this.curve.red);
          if (!this.y.red)
            this.y = this.y.toRed(this.curve.red);
          this.inf = false;
        }
      }
      inherits(Point, Base.BasePoint);
      ShortCurve.prototype.point = function point(x, y, isRed) {
        return new Point(this, x, y, isRed);
      };
      ShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {
        return Point.fromJSON(this, obj, red);
      };
      Point.prototype._getBeta = function _getBeta() {
        if (!this.curve.endo)
          return;
        var pre = this.precomputed;
        if (pre && pre.beta)
          return pre.beta;
        var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
        if (pre) {
          var curve = this.curve;
          var endoMul = function(p) {
            return curve.point(p.x.redMul(curve.endo.beta), p.y);
          };
          pre.beta = beta;
          beta.precomputed = {
            beta: null,
            naf: pre.naf && {
              wnd: pre.naf.wnd,
              points: pre.naf.points.map(endoMul)
            },
            doubles: pre.doubles && {
              step: pre.doubles.step,
              points: pre.doubles.points.map(endoMul)
            }
          };
        }
        return beta;
      };
      Point.prototype.toJSON = function toJSON() {
        if (!this.precomputed)
          return [this.x, this.y];
        return [this.x, this.y, this.precomputed && {
          doubles: this.precomputed.doubles && {
            step: this.precomputed.doubles.step,
            points: this.precomputed.doubles.points.slice(1)
          },
          naf: this.precomputed.naf && {
            wnd: this.precomputed.naf.wnd,
            points: this.precomputed.naf.points.slice(1)
          }
        }];
      };
      Point.fromJSON = function fromJSON(curve, obj, red) {
        if (typeof obj === 'string')
          obj = JSON.parse(obj);
        var res = curve.point(obj[0], obj[1], red);
        if (!obj[2])
          return res;
        function obj2point(obj) {
          return curve.point(obj[0], obj[1], red);
        }
        var pre = obj[2];
        res.precomputed = {
          beta: null,
          doubles: pre.doubles && {
            step: pre.doubles.step,
            points: [res].concat(pre.doubles.points.map(obj2point))
          },
          naf: pre.naf && {
            wnd: pre.naf.wnd,
            points: [res].concat(pre.naf.points.map(obj2point))
          }
        };
        return res;
      };
      Point.prototype.inspect = function inspect() {
        if (this.isInfinity())
          return '<EC Point Infinity>';
        return '<EC Point x: ' + this.x.fromRed().toString(16, 2) + ' y: ' + this.y.fromRed().toString(16, 2) + '>';
      };
      Point.prototype.isInfinity = function isInfinity() {
        return this.inf;
      };
      Point.prototype.add = function add(p) {
        if (this.inf)
          return p;
        if (p.inf)
          return this;
        if (this.eq(p))
          return this.dbl();
        if (this.neg().eq(p))
          return this.curve.point(null, null);
        if (this.x.cmp(p.x) === 0)
          return this.curve.point(null, null);
        var c = this.y.redSub(p.y);
        if (c.cmpn(0) !== 0)
          c = c.redMul(this.x.redSub(p.x).redInvm());
        var nx = c.redSqr().redISub(this.x).redISub(p.x);
        var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);
        return this.curve.point(nx, ny);
      };
      Point.prototype.dbl = function dbl() {
        if (this.inf)
          return this;
        var ys1 = this.y.redAdd(this.y);
        if (ys1.cmpn(0) === 0)
          return this.curve.point(null, null);
        var a = this.curve.a;
        var x2 = this.x.redSqr();
        var dyinv = ys1.redInvm();
        var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);
        var nx = c.redSqr().redISub(this.x.redAdd(this.x));
        var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);
        return this.curve.point(nx, ny);
      };
      Point.prototype.getX = function getX() {
        return this.x.fromRed();
      };
      Point.prototype.getY = function getY() {
        return this.y.fromRed();
      };
      Point.prototype.mul = function mul(k) {
        k = new bn(k, 16);
        if (this._hasDoubles(k))
          return this.curve._fixedNafMul(this, k);
        else if (this.curve.endo)
          return this.curve._endoWnafMulAdd([this], [k]);
        else
          return this.curve._wnafMul(this, k);
      };
      Point.prototype.mulAdd = function mulAdd(k1, p2, k2) {
        var points = [this, p2];
        var coeffs = [k1, k2];
        if (this.curve.endo)
          return this.curve._endoWnafMulAdd(points, coeffs);
        else
          return this.curve._wnafMulAdd(1, points, coeffs, 2);
      };
      Point.prototype.eq = function eq(p) {
        return this === p || this.inf === p.inf && (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);
      };
      Point.prototype.neg = function neg(_precompute) {
        if (this.inf)
          return this;
        var res = this.curve.point(this.x, this.y.redNeg());
        if (_precompute && this.precomputed) {
          var pre = this.precomputed;
          var negate = function(p) {
            return p.neg();
          };
          res.precomputed = {
            naf: pre.naf && {
              wnd: pre.naf.wnd,
              points: pre.naf.points.map(negate)
            },
            doubles: pre.doubles && {
              step: pre.doubles.step,
              points: pre.doubles.points.map(negate)
            }
          };
        }
        return res;
      };
      Point.prototype.toJ = function toJ() {
        if (this.inf)
          return this.curve.jpoint(null, null, null);
        var res = this.curve.jpoint(this.x, this.y, this.curve.one);
        return res;
      };
      function JPoint(curve, x, y, z) {
        Base.BasePoint.call(this, curve, 'jacobian');
        if (x === null && y === null && z === null) {
          this.x = this.curve.one;
          this.y = this.curve.one;
          this.z = new bn(0);
        } else {
          this.x = new bn(x, 16);
          this.y = new bn(y, 16);
          this.z = new bn(z, 16);
        }
        if (!this.x.red)
          this.x = this.x.toRed(this.curve.red);
        if (!this.y.red)
          this.y = this.y.toRed(this.curve.red);
        if (!this.z.red)
          this.z = this.z.toRed(this.curve.red);
        this.zOne = this.z === this.curve.one;
      }
      inherits(JPoint, Base.BasePoint);
      ShortCurve.prototype.jpoint = function jpoint(x, y, z) {
        return new JPoint(this, x, y, z);
      };
      JPoint.prototype.toP = function toP() {
        if (this.isInfinity())
          return this.curve.point(null, null);
        var zinv = this.z.redInvm();
        var zinv2 = zinv.redSqr();
        var ax = this.x.redMul(zinv2);
        var ay = this.y.redMul(zinv2).redMul(zinv);
        return this.curve.point(ax, ay);
      };
      JPoint.prototype.neg = function neg() {
        return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
      };
      JPoint.prototype.add = function add(p) {
        if (this.isInfinity())
          return p;
        if (p.isInfinity())
          return this;
        var pz2 = p.z.redSqr();
        var z2 = this.z.redSqr();
        var u1 = this.x.redMul(pz2);
        var u2 = p.x.redMul(z2);
        var s1 = this.y.redMul(pz2.redMul(p.z));
        var s2 = p.y.redMul(z2.redMul(this.z));
        var h = u1.redSub(u2);
        var r = s1.redSub(s2);
        if (h.cmpn(0) === 0) {
          if (r.cmpn(0) !== 0)
            return this.curve.jpoint(null, null, null);
          else
            return this.dbl();
        }
        var h2 = h.redSqr();
        var h3 = h2.redMul(h);
        var v = u1.redMul(h2);
        var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);
        var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));
        var nz = this.z.redMul(p.z).redMul(h);
        return this.curve.jpoint(nx, ny, nz);
      };
      JPoint.prototype.mixedAdd = function mixedAdd(p) {
        if (this.isInfinity())
          return p.toJ();
        if (p.isInfinity())
          return this;
        var z2 = this.z.redSqr();
        var u1 = this.x;
        var u2 = p.x.redMul(z2);
        var s1 = this.y;
        var s2 = p.y.redMul(z2).redMul(this.z);
        var h = u1.redSub(u2);
        var r = s1.redSub(s2);
        if (h.cmpn(0) === 0) {
          if (r.cmpn(0) !== 0)
            return this.curve.jpoint(null, null, null);
          else
            return this.dbl();
        }
        var h2 = h.redSqr();
        var h3 = h2.redMul(h);
        var v = u1.redMul(h2);
        var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);
        var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));
        var nz = this.z.redMul(h);
        return this.curve.jpoint(nx, ny, nz);
      };
      JPoint.prototype.dblp = function dblp(pow) {
        if (pow === 0)
          return this;
        if (this.isInfinity())
          return this;
        if (!pow)
          return this.dbl();
        if (this.curve.zeroA || this.curve.threeA) {
          var r = this;
          for (var i = 0; i < pow; i++)
            r = r.dbl();
          return r;
        }
        var a = this.curve.a;
        var tinv = this.curve.tinv;
        var jx = this.x;
        var jy = this.y;
        var jz = this.z;
        var jz4 = jz.redSqr().redSqr();
        var jyd = jy.redAdd(jy);
        for (var i = 0; i < pow; i++) {
          var jx2 = jx.redSqr();
          var jyd2 = jyd.redSqr();
          var jyd4 = jyd2.redSqr();
          var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));
          var t1 = jx.redMul(jyd2);
          var nx = c.redSqr().redISub(t1.redAdd(t1));
          var t2 = t1.redISub(nx);
          var dny = c.redMul(t2);
          dny = dny.redIAdd(dny).redISub(jyd4);
          var nz = jyd.redMul(jz);
          if (i + 1 < pow)
            jz4 = jz4.redMul(jyd4);
          jx = nx;
          jz = nz;
          jyd = dny;
        }
        return this.curve.jpoint(jx, jyd.redMul(tinv), jz);
      };
      JPoint.prototype.dbl = function dbl() {
        if (this.isInfinity())
          return this;
        if (this.curve.zeroA)
          return this._zeroDbl();
        else if (this.curve.threeA)
          return this._threeDbl();
        else
          return this._dbl();
      };
      JPoint.prototype._zeroDbl = function _zeroDbl() {
        var nx;
        var ny;
        var nz;
        if (this.zOne) {
          var xx = this.x.redSqr();
          var yy = this.y.redSqr();
          var yyyy = yy.redSqr();
          var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
          s = s.redIAdd(s);
          var m = xx.redAdd(xx).redIAdd(xx);
          var t = m.redSqr().redISub(s).redISub(s);
          var yyyy8 = yyyy.redIAdd(yyyy);
          yyyy8 = yyyy8.redIAdd(yyyy8);
          yyyy8 = yyyy8.redIAdd(yyyy8);
          nx = t;
          ny = m.redMul(s.redISub(t)).redISub(yyyy8);
          nz = this.y.redAdd(this.y);
        } else {
          var a = this.x.redSqr();
          var b = this.y.redSqr();
          var c = b.redSqr();
          var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);
          d = d.redIAdd(d);
          var e = a.redAdd(a).redIAdd(a);
          var f = e.redSqr();
          var c8 = c.redIAdd(c);
          c8 = c8.redIAdd(c8);
          c8 = c8.redIAdd(c8);
          nx = f.redISub(d).redISub(d);
          ny = e.redMul(d.redISub(nx)).redISub(c8);
          nz = this.y.redMul(this.z);
          nz = nz.redIAdd(nz);
        }
        return this.curve.jpoint(nx, ny, nz);
      };
      JPoint.prototype._threeDbl = function _threeDbl() {
        var nx;
        var ny;
        var nz;
        if (this.zOne) {
          var xx = this.x.redSqr();
          var yy = this.y.redSqr();
          var yyyy = yy.redSqr();
          var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
          s = s.redIAdd(s);
          var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);
          var t = m.redSqr().redISub(s).redISub(s);
          nx = t;
          var yyyy8 = yyyy.redIAdd(yyyy);
          yyyy8 = yyyy8.redIAdd(yyyy8);
          yyyy8 = yyyy8.redIAdd(yyyy8);
          ny = m.redMul(s.redISub(t)).redISub(yyyy8);
          nz = this.y.redAdd(this.y);
        } else {
          var delta = this.z.redSqr();
          var gamma = this.y.redSqr();
          var beta = this.x.redMul(gamma);
          var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));
          alpha = alpha.redAdd(alpha).redIAdd(alpha);
          var beta4 = beta.redIAdd(beta);
          beta4 = beta4.redIAdd(beta4);
          var beta8 = beta4.redAdd(beta4);
          nx = alpha.redSqr().redISub(beta8);
          nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);
          var ggamma8 = gamma.redSqr();
          ggamma8 = ggamma8.redIAdd(ggamma8);
          ggamma8 = ggamma8.redIAdd(ggamma8);
          ggamma8 = ggamma8.redIAdd(ggamma8);
          ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);
        }
        return this.curve.jpoint(nx, ny, nz);
      };
      JPoint.prototype._dbl = function _dbl() {
        var a = this.curve.a;
        var jx = this.x;
        var jy = this.y;
        var jz = this.z;
        var jz4 = jz.redSqr().redSqr();
        var jx2 = jx.redSqr();
        var jy2 = jy.redSqr();
        var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));
        var jxd4 = jx.redAdd(jx);
        jxd4 = jxd4.redIAdd(jxd4);
        var t1 = jxd4.redMul(jy2);
        var nx = c.redSqr().redISub(t1.redAdd(t1));
        var t2 = t1.redISub(nx);
        var jyd8 = jy2.redSqr();
        jyd8 = jyd8.redIAdd(jyd8);
        jyd8 = jyd8.redIAdd(jyd8);
        jyd8 = jyd8.redIAdd(jyd8);
        var ny = c.redMul(t2).redISub(jyd8);
        var nz = jy.redAdd(jy).redMul(jz);
        return this.curve.jpoint(nx, ny, nz);
      };
      JPoint.prototype.trpl = function trpl() {
        if (!this.curve.zeroA)
          return this.dbl().add(this);
        var xx = this.x.redSqr();
        var yy = this.y.redSqr();
        var zz = this.z.redSqr();
        var yyyy = yy.redSqr();
        var m = xx.redAdd(xx).redIAdd(xx);
        var mm = m.redSqr();
        var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
        e = e.redIAdd(e);
        e = e.redAdd(e).redIAdd(e);
        e = e.redISub(mm);
        var ee = e.redSqr();
        var t = yyyy.redIAdd(yyyy);
        t = t.redIAdd(t);
        t = t.redIAdd(t);
        t = t.redIAdd(t);
        var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);
        var yyu4 = yy.redMul(u);
        yyu4 = yyu4.redIAdd(yyu4);
        yyu4 = yyu4.redIAdd(yyu4);
        var nx = this.x.redMul(ee).redISub(yyu4);
        nx = nx.redIAdd(nx);
        nx = nx.redIAdd(nx);
        var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));
        ny = ny.redIAdd(ny);
        ny = ny.redIAdd(ny);
        ny = ny.redIAdd(ny);
        var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);
        return this.curve.jpoint(nx, ny, nz);
      };
      JPoint.prototype.mul = function mul(k, kbase) {
        k = new bn(k, kbase);
        return this.curve._wnafMul(this, k);
      };
      JPoint.prototype.eq = function eq(p) {
        if (p.type === 'affine')
          return this.eq(p.toJ());
        if (this === p)
          return true;
        var z2 = this.z.redSqr();
        var pz2 = p.z.redSqr();
        if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)
          return false;
        var z3 = z2.redMul(this.z);
        var pz3 = pz2.redMul(p.z);
        return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;
      };
      JPoint.prototype.inspect = function inspect() {
        if (this.isInfinity())
          return '<EC JPoint Infinity>';
        return '<EC JPoint x: ' + this.x.toString(16, 2) + ' y: ' + this.y.toString(16, 2) + ' z: ' + this.z.toString(16, 2) + '>';
      };
      JPoint.prototype.isInfinity = function isInfinity() {
        return this.z.cmpn(0) === 0;
      };
    }, {
      "../../elliptic": 72,
      "../curve": 75,
      "bn.js": 70,
      "inherits": 190
    }],
    78: [function(require, module, exports) {
      'use strict';
      var curves = exports;
      var hash = require('hash.js');
      var elliptic = require('../elliptic');
      var assert = elliptic.utils.assert;
      function PresetCurve(options) {
        if (options.type === 'short')
          this.curve = new elliptic.curve.short(options);
        else if (options.type === 'edwards')
          this.curve = new elliptic.curve.edwards(options);
        else
          this.curve = new elliptic.curve.mont(options);
        this.g = this.curve.g;
        this.n = this.curve.n;
        this.hash = options.hash;
        assert(this.g.validate(), 'Invalid curve');
        assert(this.g.mul(this.n).isInfinity(), 'Invalid curve, G*N != O');
      }
      curves.PresetCurve = PresetCurve;
      function defineCurve(name, options) {
        Object.defineProperty(curves, name, {
          configurable: true,
          enumerable: true,
          get: function() {
            var curve = new PresetCurve(options);
            Object.defineProperty(curves, name, {
              configurable: true,
              enumerable: true,
              value: curve
            });
            return curve;
          }
        });
      }
      defineCurve('p192', {
        type: 'short',
        prime: 'p192',
        p: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',
        a: 'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',
        b: '64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',
        n: 'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',
        hash: hash.sha256,
        gRed: false,
        g: ['188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012', '07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811']
      });
      defineCurve('p224', {
        type: 'short',
        prime: 'p224',
        p: 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',
        a: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',
        b: 'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',
        n: 'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',
        hash: hash.sha256,
        gRed: false,
        g: ['b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21', 'bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34']
      });
      defineCurve('p256', {
        type: 'short',
        prime: null,
        p: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',
        a: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',
        b: '5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',
        n: 'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',
        hash: hash.sha256,
        gRed: false,
        g: ['6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296', '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5']
      });
      defineCurve('curve25519', {
        type: 'mont',
        prime: 'p25519',
        p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',
        a: '76d06',
        b: '0',
        n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',
        hash: hash.sha256,
        gRed: false,
        g: ['9']
      });
      defineCurve('ed25519', {
        type: 'edwards',
        prime: 'p25519',
        p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',
        a: '-1',
        c: '1',
        d: '52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',
        n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',
        hash: hash.sha256,
        gRed: false,
        g: ['216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a', '6666666666666666666666666666666666666666666666666666666666666658']
      });
      var pre;
      try {
        pre = require('./precomputed/secp256k1');
      } catch (e) {
        pre = undefined;
      }
      defineCurve('secp256k1', {
        type: 'short',
        prime: 'k256',
        p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',
        a: '0',
        b: '7',
        n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',
        h: '1',
        hash: hash.sha256,
        beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',
        lambda: '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',
        basis: [{
          a: '3086d221a7d46bcde86c90e49284eb15',
          b: '-e4437ed6010e88286f547fa90abfe4c3'
        }, {
          a: '114ca50f7a8e2f3f657c1108d9d44cfd8',
          b: '3086d221a7d46bcde86c90e49284eb15'
        }],
        gRed: false,
        g: ['79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798', '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8', pre]
      });
    }, {
      "../elliptic": 72,
      "./precomputed/secp256k1": 83,
      "hash.js": 86
    }],
    79: [function(require, module, exports) {
      'use strict';
      var bn = require('bn.js');
      var elliptic = require('../../elliptic');
      var utils = elliptic.utils;
      var assert = utils.assert;
      var KeyPair = require('./key');
      var Signature = require('./signature');
      function EC(options) {
        if (!(this instanceof EC))
          return new EC(options);
        if (typeof options === 'string') {
          assert(elliptic.curves.hasOwnProperty(options), 'Unknown curve ' + options);
          options = elliptic.curves[options];
        }
        if (options instanceof elliptic.curves.PresetCurve)
          options = {curve: options};
        this.curve = options.curve.curve;
        this.n = this.curve.n;
        this.nh = this.n.shrn(1);
        this.g = this.curve.g;
        this.g = options.curve.g;
        this.g.precompute(options.curve.n.bitLength() + 1);
        this.hash = options.hash || options.curve.hash;
      }
      module.exports = EC;
      EC.prototype.keyPair = function keyPair(options) {
        return new KeyPair(this, options);
      };
      EC.prototype.keyFromPrivate = function keyFromPrivate(priv, enc) {
        return KeyPair.fromPrivate(this, priv, enc);
      };
      EC.prototype.keyFromPublic = function keyFromPublic(pub, enc) {
        return KeyPair.fromPublic(this, pub, enc);
      };
      EC.prototype.genKeyPair = function genKeyPair(options) {
        if (!options)
          options = {};
        var drbg = new elliptic.hmacDRBG({
          hash: this.hash,
          pers: options.pers,
          entropy: options.entropy || elliptic.rand(this.hash.hmacStrength),
          nonce: this.n.toArray()
        });
        var bytes = this.n.byteLength();
        var ns2 = this.n.sub(new bn(2));
        do {
          var priv = new bn(drbg.generate(bytes));
          if (priv.cmp(ns2) > 0)
            continue;
          priv.iaddn(1);
          return this.keyFromPrivate(priv);
        } while (true);
      };
      EC.prototype._truncateToN = function truncateToN(msg, truncOnly) {
        var delta = msg.byteLength() * 8 - this.n.bitLength();
        if (delta > 0)
          msg = msg.shrn(delta);
        if (!truncOnly && msg.cmp(this.n) >= 0)
          return msg.sub(this.n);
        else
          return msg;
      };
      EC.prototype.sign = function sign(msg, key, enc, options) {
        if (typeof enc === 'object') {
          options = enc;
          enc = null;
        }
        if (!options)
          options = {};
        key = this.keyFromPrivate(key, enc);
        msg = this._truncateToN(new bn(msg, 16));
        var bytes = this.n.byteLength();
        var bkey = key.getPrivate().toArray();
        for (var i = bkey.length; i < 21; i++)
          bkey.unshift(0);
        var nonce = msg.toArray();
        for (var i = nonce.length; i < bytes; i++)
          nonce.unshift(0);
        var drbg = new elliptic.hmacDRBG({
          hash: this.hash,
          entropy: bkey,
          nonce: nonce
        });
        var ns1 = this.n.sub(new bn(1));
        do {
          var k = new bn(drbg.generate(this.n.byteLength()));
          k = this._truncateToN(k, true);
          if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0)
            continue;
          var kp = this.g.mul(k);
          if (kp.isInfinity())
            continue;
          var kpX = kp.getX();
          var r = kpX.mod(this.n);
          if (r.cmpn(0) === 0)
            continue;
          var s = k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg)).mod(this.n);
          if (s.cmpn(0) === 0)
            continue;
          if (options.canonical && s.cmp(this.nh) > 0)
            s = this.n.sub(s);
          var recoveryParam = (kp.getY().isOdd() ? 1 : 0) | (kpX.cmp(r) !== 0 ? 2 : 0);
          return new Signature({
            r: r,
            s: s,
            recoveryParam: recoveryParam
          });
        } while (true);
      };
      EC.prototype.verify = function verify(msg, signature, key, enc) {
        msg = this._truncateToN(new bn(msg, 16));
        key = this.keyFromPublic(key, enc);
        signature = new Signature(signature, 'hex');
        var r = signature.r;
        var s = signature.s;
        if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0)
          return false;
        if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
          return false;
        var sinv = s.invm(this.n);
        var u1 = sinv.mul(msg).mod(this.n);
        var u2 = sinv.mul(r).mod(this.n);
        var p = this.g.mulAdd(u1, key.getPublic(), u2);
        if (p.isInfinity())
          return false;
        return p.getX().mod(this.n).cmp(r) === 0;
      };
      EC.prototype.recoverPubKey = function(msg, signature, j, enc) {
        assert((3 & j) === j, 'The recovery param is more than two bits');
        signature = new Signature(signature, enc);
        var n = this.n;
        var e = new bn(msg);
        var r = signature.r;
        var s = signature.s;
        var isYOdd = j & 1;
        var isSecondKey = j >> 1;
        if (r.cmp(this.curve.p.mod(this.curve.n)) >= 0 && isSecondKey)
          throw new Error('Unable to find sencond key candinate');
        r = this.curve.pointFromX(isYOdd, r);
        var eNeg = e.neg().mod(n);
        var rInv = signature.r.invm(n);
        return r.mul(s).add(this.g.mul(eNeg)).mul(rInv);
      };
      EC.prototype.getKeyRecoveryParam = function(e, signature, Q, enc) {
        signature = new Signature(signature, enc);
        if (signature.recoveryParam !== null)
          return signature.recoveryParam;
        for (var i = 0; i < 4; i++) {
          var Qprime = this.recoverPubKey(e, signature, i);
          if (Qprime.eq(Q))
            return i;
        }
        throw new Error('Unable to find valid recovery factor');
      };
    }, {
      "../../elliptic": 72,
      "./key": 80,
      "./signature": 81,
      "bn.js": 70
    }],
    80: [function(require, module, exports) {
      'use strict';
      var bn = require('bn.js');
      var elliptic = require('../../elliptic');
      var utils = elliptic.utils;
      function KeyPair(ec, options) {
        this.ec = ec;
        this.priv = null;
        this.pub = null;
        if (options.priv)
          this._importPrivate(options.priv, options.privEnc);
        if (options.pub)
          this._importPublic(options.pub, options.pubEnc);
      }
      module.exports = KeyPair;
      KeyPair.fromPublic = function fromPublic(ec, pub, enc) {
        if (pub instanceof KeyPair)
          return pub;
        return new KeyPair(ec, {
          pub: pub,
          pubEnc: enc
        });
      };
      KeyPair.fromPrivate = function fromPrivate(ec, priv, enc) {
        if (priv instanceof KeyPair)
          return priv;
        return new KeyPair(ec, {
          priv: priv,
          privEnc: enc
        });
      };
      KeyPair.prototype.validate = function validate() {
        var pub = this.getPublic();
        if (pub.isInfinity())
          return {
            result: false,
            reason: 'Invalid public key'
          };
        if (!pub.validate())
          return {
            result: false,
            reason: 'Public key is not a point'
          };
        if (!pub.mul(this.ec.curve.n).isInfinity())
          return {
            result: false,
            reason: 'Public key * N != O'
          };
        return {
          result: true,
          reason: null
        };
      };
      KeyPair.prototype.getPublic = function getPublic(compact, enc) {
        if (!this.pub)
          this.pub = this.ec.g.mul(this.priv);
        if (typeof compact === 'string') {
          enc = compact;
          compact = null;
        }
        if (!enc)
          return this.pub;
        var len = this.ec.curve.p.byteLength();
        var x = this.pub.getX().toArray();
        for (var i = x.length; i < len; i++)
          x.unshift(0);
        var res;
        if (this.ec.curve.type !== 'mont') {
          if (compact) {
            res = [this.pub.getY().isEven() ? 0x02 : 0x03].concat(x);
          } else {
            var y = this.pub.getY().toArray();
            for (var i = y.length; i < len; i++)
              y.unshift(0);
            var res = [0x04].concat(x, y);
          }
        } else {
          res = x;
        }
        return utils.encode(res, enc);
      };
      KeyPair.prototype.getPrivate = function getPrivate(enc) {
        if (enc === 'hex')
          return this.priv.toString(16, 2);
        else
          return this.priv;
      };
      KeyPair.prototype._importPrivate = function _importPrivate(key, enc) {
        this.priv = new bn(key, enc || 16);
        this.priv = this.priv.mod(this.ec.curve.n);
      };
      KeyPair.prototype._importPublic = function _importPublic(key, enc) {
        if (key.x || key.y) {
          this.pub = this.ec.curve.point(key.x, key.y);
          return;
        }
        key = utils.toArray(key, enc);
        if (this.ec.curve.type !== 'mont')
          return this._importPublicShort(key);
        else
          return this._importPublicMont(key);
      };
      KeyPair.prototype._importPublicShort = function _importPublicShort(key) {
        var len = this.ec.curve.p.byteLength();
        if (key[0] === 0x04 && key.length - 1 === 2 * len) {
          this.pub = this.ec.curve.point(key.slice(1, 1 + len), key.slice(1 + len, 1 + 2 * len));
        } else if ((key[0] === 0x02 || key[0] === 0x03) && key.length - 1 === len) {
          this.pub = this.ec.curve.pointFromX(key[0] === 0x03, key.slice(1, 1 + len));
        }
      };
      KeyPair.prototype._importPublicMont = function _importPublicMont(key) {
        this.pub = this.ec.curve.point(key, 1);
      };
      KeyPair.prototype.derive = function derive(pub) {
        return pub.mul(this.priv).getX();
      };
      KeyPair.prototype.sign = function sign(msg) {
        return this.ec.sign(msg, this);
      };
      KeyPair.prototype.verify = function verify(msg, signature) {
        return this.ec.verify(msg, signature, this);
      };
      KeyPair.prototype.inspect = function inspect() {
        return '<Key priv: ' + (this.priv && this.priv.toString(16, 2)) + ' pub: ' + (this.pub && this.pub.inspect()) + ' >';
      };
    }, {
      "../../elliptic": 72,
      "bn.js": 70
    }],
    81: [function(require, module, exports) {
      'use strict';
      var bn = require('bn.js');
      var elliptic = require('../../elliptic');
      var utils = elliptic.utils;
      var assert = utils.assert;
      function Signature(options, enc) {
        if (options instanceof Signature)
          return options;
        if (this._importDER(options, enc))
          return;
        assert(options.r && options.s, 'Signature without r or s');
        this.r = new bn(options.r, 16);
        this.s = new bn(options.s, 16);
        if (options.recoveryParam !== null)
          this.recoveryParam = options.recoveryParam;
        else
          this.recoveryParam = null;
      }
      module.exports = Signature;
      Signature.prototype._importDER = function _importDER(data, enc) {
        data = utils.toArray(data, enc);
        if (data.length < 6 || data[0] !== 0x30 || data[2] !== 0x02)
          return false;
        var total = data[1];
        if (1 + total > data.length)
          return false;
        var rlen = data[3];
        if (rlen >= 0x80)
          return false;
        if (4 + rlen + 2 >= data.length)
          return false;
        if (data[4 + rlen] !== 0x02)
          return false;
        var slen = data[5 + rlen];
        if (slen >= 0x80)
          return false;
        if (4 + rlen + 2 + slen > data.length)
          return false;
        this.r = new bn(data.slice(4, 4 + rlen));
        this.s = new bn(data.slice(4 + rlen + 2, 4 + rlen + 2 + slen));
        this.recoveryParam = null;
        return true;
      };
      Signature.prototype.toDER = function toDER(enc) {
        var r = this.r.toArray();
        var s = this.s.toArray();
        if (r[0] & 0x80)
          r = [0].concat(r);
        if (s[0] & 0x80)
          s = [0].concat(s);
        var total = r.length + s.length + 4;
        var res = [0x30, total, 0x02, r.length];
        res = res.concat(r, [0x02, s.length], s);
        return utils.encode(res, enc);
      };
    }, {
      "../../elliptic": 72,
      "bn.js": 70
    }],
    82: [function(require, module, exports) {
      'use strict';
      var hash = require('hash.js');
      var elliptic = require('../elliptic');
      var utils = elliptic.utils;
      var assert = utils.assert;
      function HmacDRBG(options) {
        if (!(this instanceof HmacDRBG))
          return new HmacDRBG(options);
        this.hash = options.hash;
        this.predResist = !!options.predResist;
        this.outLen = this.hash.outSize;
        this.minEntropy = options.minEntropy || this.hash.hmacStrength;
        this.reseed = null;
        this.reseedInterval = null;
        this.K = null;
        this.V = null;
        var entropy = utils.toArray(options.entropy, options.entropyEnc);
        var nonce = utils.toArray(options.nonce, options.nonceEnc);
        var pers = utils.toArray(options.pers, options.persEnc);
        assert(entropy.length >= (this.minEntropy / 8), 'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');
        this._init(entropy, nonce, pers);
      }
      module.exports = HmacDRBG;
      HmacDRBG.prototype._init = function init(entropy, nonce, pers) {
        var seed = entropy.concat(nonce).concat(pers);
        this.K = new Array(this.outLen / 8);
        this.V = new Array(this.outLen / 8);
        for (var i = 0; i < this.V.length; i++) {
          this.K[i] = 0x00;
          this.V[i] = 0x01;
        }
        this._update(seed);
        this.reseed = 1;
        this.reseedInterval = 0x1000000000000;
      };
      HmacDRBG.prototype._hmac = function hmac() {
        return new hash.hmac(this.hash, this.K);
      };
      HmacDRBG.prototype._update = function update(seed) {
        var kmac = this._hmac().update(this.V).update([0x00]);
        if (seed)
          kmac = kmac.update(seed);
        this.K = kmac.digest();
        this.V = this._hmac().update(this.V).digest();
        if (!seed)
          return;
        this.K = this._hmac().update(this.V).update([0x01]).update(seed).digest();
        this.V = this._hmac().update(this.V).digest();
      };
      HmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {
        if (typeof entropyEnc !== 'string') {
          addEnc = add;
          add = entropyEnc;
          entropyEnc = null;
        }
        entropy = utils.toBuffer(entropy, entropyEnc);
        add = utils.toBuffer(add, addEnc);
        assert(entropy.length >= (this.minEntropy / 8), 'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');
        this._update(entropy.concat(add || []));
        this.reseed = 1;
      };
      HmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {
        if (this.reseed > this.reseedInterval)
          throw new Error('Reseed is required');
        if (typeof enc !== 'string') {
          addEnc = add;
          add = enc;
          enc = null;
        }
        if (add) {
          add = utils.toArray(add, addEnc);
          this._update(add);
        }
        var temp = [];
        while (temp.length < len) {
          this.V = this._hmac().update(this.V).digest();
          temp = temp.concat(this.V);
        }
        var res = temp.slice(0, len);
        this._update(add);
        this.reseed++;
        return utils.encode(res, enc);
      };
    }, {
      "../elliptic": 72,
      "hash.js": 86
    }],
    83: [function(require, module, exports) {
      module.exports = {
        doubles: {
          step: 4,
          points: [['e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a', 'f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821'], ['8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508', '11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf'], ['175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739', 'd3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695'], ['363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640', '4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9'], ['8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c', '4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36'], ['723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda', '96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f'], ['eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa', '5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999'], ['100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0', 'cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09'], ['e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d', '9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d'], ['feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d', 'e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088'], ['da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1', '9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d'], ['53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0', '5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8'], ['8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047', '10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a'], ['385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862', '283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453'], ['6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7', '7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160'], ['3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd', '56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0'], ['85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83', '7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6'], ['948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a', '53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589'], ['6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8', 'bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17'], ['e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d', '4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda'], ['e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725', '7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd'], ['213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754', '4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2'], ['4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c', '17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6'], ['fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6', '6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f'], ['76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39', 'c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01'], ['c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891', '893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3'], ['d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b', 'febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f'], ['b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03', '2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7'], ['e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d', 'eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78'], ['a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070', '7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1'], ['90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4', 'e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150'], ['8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da', '662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82'], ['e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11', '1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc'], ['8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e', 'efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b'], ['e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41', '2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51'], ['b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef', '67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45'], ['d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8', 'db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120'], ['324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d', '648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84'], ['4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96', '35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d'], ['9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd', 'ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d'], ['6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5', '9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8'], ['a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266', '40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8'], ['7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71', '34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac'], ['928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac', 'c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f'], ['85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751', '1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962'], ['ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e', '493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907'], ['827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241', 'c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec'], ['eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3', 'be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d'], ['e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f', '4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414'], ['1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19', 'aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd'], ['146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be', 'b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0'], ['fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9', '6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811'], ['da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2', '8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1'], ['a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13', '7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c'], ['174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c', 'ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73'], ['959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba', '2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd'], ['d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151', 'e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405'], ['64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073', 'd99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589'], ['8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458', '38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e'], ['13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b', '69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27'], ['bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366', 'd3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1'], ['8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa', '40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482'], ['8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0', '620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945'], ['dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787', '7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573'], ['f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e', 'ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82']]
        },
        naf: {
          wnd: 7,
          points: [['f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9', '388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672'], ['2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4', 'd8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6'], ['5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc', '6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da'], ['acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe', 'cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37'], ['774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb', 'd984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b'], ['f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8', 'ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81'], ['d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e', '581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58'], ['defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34', '4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77'], ['2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c', '85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a'], ['352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5', '321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c'], ['2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f', '2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67'], ['9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714', '73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402'], ['daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729', 'a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55'], ['c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db', '2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482'], ['6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4', 'e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82'], ['1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5', 'b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396'], ['605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479', '2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49'], ['62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d', '80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf'], ['80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f', '1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a'], ['7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb', 'd0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7'], ['d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9', 'eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933'], ['49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963', '758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a'], ['77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74', '958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6'], ['f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530', 'e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37'], ['463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b', '5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e'], ['f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247', 'cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6'], ['caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1', 'cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476'], ['2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120', '4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40'], ['7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435', '91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61'], ['754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18', '673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683'], ['e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8', '59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5'], ['186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb', '3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b'], ['df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f', '55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417'], ['5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143', 'efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868'], ['290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba', 'e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a'], ['af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45', 'f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6'], ['766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a', '744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996'], ['59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e', 'c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e'], ['f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8', 'e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d'], ['7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c', '30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2'], ['948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519', 'e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e'], ['7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab', '100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437'], ['3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca', 'ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311'], ['d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf', '8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4'], ['1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610', '68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575'], ['733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4', 'f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d'], ['15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c', 'd56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d'], ['a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940', 'edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629'], ['e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980', 'a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06'], ['311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3', '66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374'], ['34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf', '9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee'], ['f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63', '4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1'], ['d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448', 'fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b'], ['32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf', '5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661'], ['7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5', '8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6'], ['ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6', '8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e'], ['16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5', '5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d'], ['eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99', 'f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc'], ['78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51', 'f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4'], ['494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5', '42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c'], ['a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5', '204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b'], ['c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997', '4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913'], ['841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881', '73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154'], ['5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5', '39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865'], ['36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66', 'd2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc'], ['336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726', 'ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224'], ['8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede', '6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e'], ['1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94', '60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6'], ['85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31', '3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511'], ['29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51', 'b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b'], ['a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252', 'ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2'], ['4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5', 'cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c'], ['d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b', '6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3'], ['ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4', '322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d'], ['af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f', '6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700'], ['e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889', '2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4'], ['591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246', 'b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196'], ['11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984', '998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4'], ['3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a', 'b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257'], ['cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030', 'bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13'], ['c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197', '6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096'], ['c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593', 'c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38'], ['a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef', '21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f'], ['347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38', '60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448'], ['da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a', '49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a'], ['c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111', '5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4'], ['4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502', '7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437'], ['3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea', 'be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7'], ['cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26', '8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d'], ['b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986', '39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a'], ['d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e', '62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54'], ['48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4', '25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77'], ['dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda', 'ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517'], ['6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859', 'cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10'], ['e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f', 'f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125'], ['eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c', '6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e'], ['13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942', 'fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1'], ['ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a', '1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2'], ['b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80', '5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423'], ['ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d', '438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8'], ['8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1', 'cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758'], ['52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63', 'c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375'], ['e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352', '6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d'], ['7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193', 'ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec'], ['5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00', '9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0'], ['32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58', 'ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c'], ['e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7', 'd3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4'], ['8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8', 'c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f'], ['4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e', '67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649'], ['3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d', 'cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826'], ['674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b', '299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5'], ['d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f', 'f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87'], ['30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6', '462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b'], ['be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297', '62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc'], ['93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a', '7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c'], ['b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c', 'ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f'], ['d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52', '4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a'], ['d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb', 'bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46'], ['463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065', 'bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f'], ['7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917', '603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03'], ['74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9', 'cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08'], ['30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3', '553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8'], ['9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57', '712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373'], ['176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66', 'ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3'], ['75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8', '9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8'], ['809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721', '9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1'], ['1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180', '4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9']]
        }
      };
    }, {}],
    84: [function(require, module, exports) {
      'use strict';
      var utils = exports;
      utils.assert = function assert(val, msg) {
        if (!val)
          throw new Error(msg || 'Assertion failed');
      };
      function toArray(msg, enc) {
        if (Array.isArray(msg))
          return msg.slice();
        if (!msg)
          return [];
        var res = [];
        if (typeof msg !== 'string') {
          for (var i = 0; i < msg.length; i++)
            res[i] = msg[i] | 0;
          return res;
        }
        if (!enc) {
          for (var i = 0; i < msg.length; i++) {
            var c = msg.charCodeAt(i);
            var hi = c >> 8;
            var lo = c & 0xff;
            if (hi)
              res.push(hi, lo);
            else
              res.push(lo);
          }
        } else if (enc === 'hex') {
          msg = msg.replace(/[^a-z0-9]+/ig, '');
          if (msg.length % 2 !== 0)
            msg = '0' + msg;
          for (var i = 0; i < msg.length; i += 2)
            res.push(parseInt(msg[i] + msg[i + 1], 16));
        }
        return res;
      }
      utils.toArray = toArray;
      function zero2(word) {
        if (word.length === 1)
          return '0' + word;
        else
          return word;
      }
      utils.zero2 = zero2;
      function toHex(msg) {
        var res = '';
        for (var i = 0; i < msg.length; i++)
          res += zero2(msg[i].toString(16));
        return res;
      }
      utils.toHex = toHex;
      utils.encode = function encode(arr, enc) {
        if (enc === 'hex')
          return toHex(arr);
        else
          return arr;
      };
      function getNAF(num, w) {
        var naf = [];
        var ws = 1 << (w + 1);
        var k = num.clone();
        while (k.cmpn(1) >= 0) {
          var z;
          if (k.isOdd()) {
            var mod = k.andln(ws - 1);
            if (mod > (ws >> 1) - 1)
              z = (ws >> 1) - mod;
            else
              z = mod;
            k.isubn(z);
          } else {
            z = 0;
          }
          naf.push(z);
          var shift = (k.cmpn(0) !== 0 && k.andln(ws - 1) === 0) ? (w + 1) : 1;
          for (var i = 1; i < shift; i++)
            naf.push(0);
          k.ishrn(shift);
        }
        return naf;
      }
      utils.getNAF = getNAF;
      function getJSF(k1, k2) {
        var jsf = [[], []];
        k1 = k1.clone();
        k2 = k2.clone();
        var d1 = 0;
        var d2 = 0;
        while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {
          var m14 = (k1.andln(3) + d1) & 3;
          var m24 = (k2.andln(3) + d2) & 3;
          if (m14 === 3)
            m14 = -1;
          if (m24 === 3)
            m24 = -1;
          var u1;
          if ((m14 & 1) === 0) {
            u1 = 0;
          } else {
            var m8 = (k1.andln(7) + d1) & 7;
            if ((m8 === 3 || m8 === 5) && m24 === 2)
              u1 = -m14;
            else
              u1 = m14;
          }
          jsf[0].push(u1);
          var u2;
          if ((m24 & 1) === 0) {
            u2 = 0;
          } else {
            var m8 = (k2.andln(7) + d2) & 7;
            if ((m8 === 3 || m8 === 5) && m14 === 2)
              u2 = -m24;
            else
              u2 = m24;
          }
          jsf[1].push(u2);
          if (2 * d1 === u1 + 1)
            d1 = 1 - d1;
          if (2 * d2 === u2 + 1)
            d2 = 1 - d2;
          k1.ishrn(1);
          k2.ishrn(1);
        }
        return jsf;
      }
      utils.getJSF = getJSF;
    }, {}],
    85: [function(require, module, exports) {
      var r;
      module.exports = function rand(len) {
        if (!r)
          r = new Rand(null);
        return r.generate(len);
      };
      function Rand(rand) {
        this.rand = rand;
      }
      module.exports.Rand = Rand;
      Rand.prototype.generate = function generate(len) {
        return this._rand(len);
      };
      if (typeof window === 'object') {
        if (window.crypto && window.crypto.getRandomValues) {
          Rand.prototype._rand = function _rand(n) {
            var arr = new Uint8Array(n);
            window.crypto.getRandomValues(arr);
            return arr;
          };
        } else if (window.msCrypto && window.msCrypto.getRandomValues) {
          Rand.prototype._rand = function _rand(n) {
            var arr = new Uint8Array(n);
            window.msCrypto.getRandomValues(arr);
            return arr;
          };
        } else {
          Rand.prototype._rand = function() {
            throw new Error('Not implemented yet');
          };
        }
      } else {
        try {
          var crypto = require('cry' + 'pto');
          Rand.prototype._rand = function _rand(n) {
            return crypto.randomBytes(n);
          };
        } catch (e) {
          Rand.prototype._rand = function _rand(n) {
            var res = new Uint8Array(n);
            for (var i = 0; i < res.length; i++)
              res[i] = this.rand.getByte();
            return res;
          };
        }
      }
    }, {}],
    86: [function(require, module, exports) {
      var hash = exports;
      hash.utils = require('./hash/utils');
      hash.common = require('./hash/common');
      hash.sha = require('./hash/sha');
      hash.ripemd = require('./hash/ripemd');
      hash.hmac = require('./hash/hmac');
      hash.sha1 = hash.sha.sha1;
      hash.sha256 = hash.sha.sha256;
      hash.sha224 = hash.sha.sha224;
      hash.sha384 = hash.sha.sha384;
      hash.sha512 = hash.sha.sha512;
      hash.ripemd160 = hash.ripemd.ripemd160;
    }, {
      "./hash/common": 87,
      "./hash/hmac": 88,
      "./hash/ripemd": 89,
      "./hash/sha": 90,
      "./hash/utils": 91
    }],
    87: [function(require, module, exports) {
      var hash = require('../hash');
      var utils = hash.utils;
      var assert = utils.assert;
      function BlockHash() {
        this.pending = null;
        this.pendingTotal = 0;
        this.blockSize = this.constructor.blockSize;
        this.outSize = this.constructor.outSize;
        this.hmacStrength = this.constructor.hmacStrength;
        this.padLength = this.constructor.padLength / 8;
        this.endian = 'big';
        this._delta8 = this.blockSize / 8;
        this._delta32 = this.blockSize / 32;
      }
      exports.BlockHash = BlockHash;
      BlockHash.prototype.update = function update(msg, enc) {
        msg = utils.toArray(msg, enc);
        if (!this.pending)
          this.pending = msg;
        else
          this.pending = this.pending.concat(msg);
        this.pendingTotal += msg.length;
        if (this.pending.length >= this._delta8) {
          msg = this.pending;
          var r = msg.length % this._delta8;
          this.pending = msg.slice(msg.length - r, msg.length);
          if (this.pending.length === 0)
            this.pending = null;
          msg = utils.join32(msg, 0, msg.length - r, this.endian);
          for (var i = 0; i < msg.length; i += this._delta32)
            this._update(msg, i, i + this._delta32);
        }
        return this;
      };
      BlockHash.prototype.digest = function digest(enc) {
        this.update(this._pad());
        assert(this.pending === null);
        return this._digest(enc);
      };
      BlockHash.prototype._pad = function pad() {
        var len = this.pendingTotal;
        var bytes = this._delta8;
        var k = bytes - ((len + this.padLength) % bytes);
        var res = new Array(k + this.padLength);
        res[0] = 0x80;
        for (var i = 1; i < k; i++)
          res[i] = 0;
        len <<= 3;
        if (this.endian === 'big') {
          for (var t = 8; t < this.padLength; t++)
            res[i++] = 0;
          res[i++] = 0;
          res[i++] = 0;
          res[i++] = 0;
          res[i++] = 0;
          res[i++] = (len >>> 24) & 0xff;
          res[i++] = (len >>> 16) & 0xff;
          res[i++] = (len >>> 8) & 0xff;
          res[i++] = len & 0xff;
        } else {
          res[i++] = len & 0xff;
          res[i++] = (len >>> 8) & 0xff;
          res[i++] = (len >>> 16) & 0xff;
          res[i++] = (len >>> 24) & 0xff;
          res[i++] = 0;
          res[i++] = 0;
          res[i++] = 0;
          res[i++] = 0;
          for (var t = 8; t < this.padLength; t++)
            res[i++] = 0;
        }
        return res;
      };
    }, {"../hash": 86}],
    88: [function(require, module, exports) {
      var hmac = exports;
      var hash = require('../hash');
      var utils = hash.utils;
      var assert = utils.assert;
      function Hmac(hash, key, enc) {
        if (!(this instanceof Hmac))
          return new Hmac(hash, key, enc);
        this.Hash = hash;
        this.blockSize = hash.blockSize / 8;
        this.outSize = hash.outSize / 8;
        this.inner = null;
        this.outer = null;
        this._init(utils.toArray(key, enc));
      }
      module.exports = Hmac;
      Hmac.prototype._init = function init(key) {
        if (key.length > this.blockSize)
          key = new this.Hash().update(key).digest();
        assert(key.length <= this.blockSize);
        for (var i = key.length; i < this.blockSize; i++)
          key.push(0);
        for (var i = 0; i < key.length; i++)
          key[i] ^= 0x36;
        this.inner = new this.Hash().update(key);
        for (var i = 0; i < key.length; i++)
          key[i] ^= 0x6a;
        this.outer = new this.Hash().update(key);
      };
      Hmac.prototype.update = function update(msg, enc) {
        this.inner.update(msg, enc);
        return this;
      };
      Hmac.prototype.digest = function digest(enc) {
        this.outer.update(this.inner.digest());
        return this.outer.digest(enc);
      };
    }, {"../hash": 86}],
    89: [function(require, module, exports) {
      var hash = require('../hash');
      var utils = hash.utils;
      var rotl32 = utils.rotl32;
      var sum32 = utils.sum32;
      var sum32_3 = utils.sum32_3;
      var sum32_4 = utils.sum32_4;
      var BlockHash = hash.common.BlockHash;
      function RIPEMD160() {
        if (!(this instanceof RIPEMD160))
          return new RIPEMD160();
        BlockHash.call(this);
        this.h = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];
        this.endian = 'little';
      }
      utils.inherits(RIPEMD160, BlockHash);
      exports.ripemd160 = RIPEMD160;
      RIPEMD160.blockSize = 512;
      RIPEMD160.outSize = 160;
      RIPEMD160.hmacStrength = 192;
      RIPEMD160.padLength = 64;
      RIPEMD160.prototype._update = function update(msg, start) {
        var A = this.h[0];
        var B = this.h[1];
        var C = this.h[2];
        var D = this.h[3];
        var E = this.h[4];
        var Ah = A;
        var Bh = B;
        var Ch = C;
        var Dh = D;
        var Eh = E;
        for (var j = 0; j < 80; j++) {
          var T = sum32(rotl32(sum32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)), s[j]), E);
          A = E;
          E = D;
          D = rotl32(C, 10);
          C = B;
          B = T;
          T = sum32(rotl32(sum32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)), sh[j]), Eh);
          Ah = Eh;
          Eh = Dh;
          Dh = rotl32(Ch, 10);
          Ch = Bh;
          Bh = T;
        }
        T = sum32_3(this.h[1], C, Dh);
        this.h[1] = sum32_3(this.h[2], D, Eh);
        this.h[2] = sum32_3(this.h[3], E, Ah);
        this.h[3] = sum32_3(this.h[4], A, Bh);
        this.h[4] = sum32_3(this.h[0], B, Ch);
        this.h[0] = T;
      };
      RIPEMD160.prototype._digest = function digest(enc) {
        if (enc === 'hex')
          return utils.toHex32(this.h, 'little');
        else
          return utils.split32(this.h, 'little');
      };
      function f(j, x, y, z) {
        if (j <= 15)
          return x ^ y ^ z;
        else if (j <= 31)
          return (x & y) | ((~x) & z);
        else if (j <= 47)
          return (x | (~y)) ^ z;
        else if (j <= 63)
          return (x & z) | (y & (~z));
        else
          return x ^ (y | (~z));
      }
      function K(j) {
        if (j <= 15)
          return 0x00000000;
        else if (j <= 31)
          return 0x5a827999;
        else if (j <= 47)
          return 0x6ed9eba1;
        else if (j <= 63)
          return 0x8f1bbcdc;
        else
          return 0xa953fd4e;
      }
      function Kh(j) {
        if (j <= 15)
          return 0x50a28be6;
        else if (j <= 31)
          return 0x5c4dd124;
        else if (j <= 47)
          return 0x6d703ef3;
        else if (j <= 63)
          return 0x7a6d76e9;
        else
          return 0x00000000;
      }
      var r = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13];
      var rh = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11];
      var s = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6];
      var sh = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11];
    }, {"../hash": 86}],
    90: [function(require, module, exports) {
      var hash = require('../hash');
      var utils = hash.utils;
      var assert = utils.assert;
      var rotr32 = utils.rotr32;
      var rotl32 = utils.rotl32;
      var sum32 = utils.sum32;
      var sum32_4 = utils.sum32_4;
      var sum32_5 = utils.sum32_5;
      var rotr64_hi = utils.rotr64_hi;
      var rotr64_lo = utils.rotr64_lo;
      var shr64_hi = utils.shr64_hi;
      var shr64_lo = utils.shr64_lo;
      var sum64 = utils.sum64;
      var sum64_hi = utils.sum64_hi;
      var sum64_lo = utils.sum64_lo;
      var sum64_4_hi = utils.sum64_4_hi;
      var sum64_4_lo = utils.sum64_4_lo;
      var sum64_5_hi = utils.sum64_5_hi;
      var sum64_5_lo = utils.sum64_5_lo;
      var BlockHash = hash.common.BlockHash;
      var sha256_K = [0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2];
      var sha512_K = [0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd, 0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc, 0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019, 0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118, 0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe, 0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2, 0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1, 0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694, 0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3, 0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65, 0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483, 0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5, 0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210, 0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4, 0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725, 0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70, 0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926, 0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df, 0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8, 0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b, 0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001, 0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30, 0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910, 0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8, 0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53, 0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8, 0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb, 0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3, 0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60, 0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec, 0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9, 0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b, 0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207, 0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178, 0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6, 0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b, 0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493, 0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c, 0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a, 0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817];
      var sha1_K = [0x5A827999, 0x6ED9EBA1, 0x8F1BBCDC, 0xCA62C1D6];
      function SHA256() {
        if (!(this instanceof SHA256))
          return new SHA256();
        BlockHash.call(this);
        this.h = [0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19];
        this.k = sha256_K;
        this.W = new Array(64);
      }
      utils.inherits(SHA256, BlockHash);
      exports.sha256 = SHA256;
      SHA256.blockSize = 512;
      SHA256.outSize = 256;
      SHA256.hmacStrength = 192;
      SHA256.padLength = 64;
      SHA256.prototype._update = function _update(msg, start) {
        var W = this.W;
        for (var i = 0; i < 16; i++)
          W[i] = msg[start + i];
        for (; i < W.length; i++)
          W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);
        var a = this.h[0];
        var b = this.h[1];
        var c = this.h[2];
        var d = this.h[3];
        var e = this.h[4];
        var f = this.h[5];
        var g = this.h[6];
        var h = this.h[7];
        assert(this.k.length === W.length);
        for (var i = 0; i < W.length; i++) {
          var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);
          var T2 = sum32(s0_256(a), maj32(a, b, c));
          h = g;
          g = f;
          f = e;
          e = sum32(d, T1);
          d = c;
          c = b;
          b = a;
          a = sum32(T1, T2);
        }
        this.h[0] = sum32(this.h[0], a);
        this.h[1] = sum32(this.h[1], b);
        this.h[2] = sum32(this.h[2], c);
        this.h[3] = sum32(this.h[3], d);
        this.h[4] = sum32(this.h[4], e);
        this.h[5] = sum32(this.h[5], f);
        this.h[6] = sum32(this.h[6], g);
        this.h[7] = sum32(this.h[7], h);
      };
      SHA256.prototype._digest = function digest(enc) {
        if (enc === 'hex')
          return utils.toHex32(this.h, 'big');
        else
          return utils.split32(this.h, 'big');
      };
      function SHA224() {
        if (!(this instanceof SHA224))
          return new SHA224();
        SHA256.call(this);
        this.h = [0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4];
      }
      utils.inherits(SHA224, SHA256);
      exports.sha224 = SHA224;
      SHA224.blockSize = 512;
      SHA224.outSize = 224;
      SHA224.hmacStrength = 192;
      SHA224.padLength = 64;
      SHA224.prototype._digest = function digest(enc) {
        if (enc === 'hex')
          return utils.toHex32(this.h.slice(0, 7), 'big');
        else
          return utils.split32(this.h.slice(0, 7), 'big');
      };
      function SHA512() {
        if (!(this instanceof SHA512))
          return new SHA512();
        BlockHash.call(this);
        this.h = [0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1, 0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179];
        this.k = sha512_K;
        this.W = new Array(160);
      }
      utils.inherits(SHA512, BlockHash);
      exports.sha512 = SHA512;
      SHA512.blockSize = 1024;
      SHA512.outSize = 512;
      SHA512.hmacStrength = 192;
      SHA512.padLength = 128;
      SHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {
        var W = this.W;
        for (var i = 0; i < 32; i++)
          W[i] = msg[start + i];
        for (; i < W.length; i += 2) {
          var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);
          var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);
          var c1_hi = W[i - 14];
          var c1_lo = W[i - 13];
          var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);
          var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);
          var c3_hi = W[i - 32];
          var c3_lo = W[i - 31];
          W[i] = sum64_4_hi(c0_hi, c0_lo, c1_hi, c1_lo, c2_hi, c2_lo, c3_hi, c3_lo);
          W[i + 1] = sum64_4_lo(c0_hi, c0_lo, c1_hi, c1_lo, c2_hi, c2_lo, c3_hi, c3_lo);
        }
      };
      SHA512.prototype._update = function _update(msg, start) {
        this._prepareBlock(msg, start);
        var W = this.W;
        var ah = this.h[0];
        var al = this.h[1];
        var bh = this.h[2];
        var bl = this.h[3];
        var ch = this.h[4];
        var cl = this.h[5];
        var dh = this.h[6];
        var dl = this.h[7];
        var eh = this.h[8];
        var el = this.h[9];
        var fh = this.h[10];
        var fl = this.h[11];
        var gh = this.h[12];
        var gl = this.h[13];
        var hh = this.h[14];
        var hl = this.h[15];
        assert(this.k.length === W.length);
        for (var i = 0; i < W.length; i += 2) {
          var c0_hi = hh;
          var c0_lo = hl;
          var c1_hi = s1_512_hi(eh, el);
          var c1_lo = s1_512_lo(eh, el);
          var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);
          var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);
          var c3_hi = this.k[i];
          var c3_lo = this.k[i + 1];
          var c4_hi = W[i];
          var c4_lo = W[i + 1];
          var T1_hi = sum64_5_hi(c0_hi, c0_lo, c1_hi, c1_lo, c2_hi, c2_lo, c3_hi, c3_lo, c4_hi, c4_lo);
          var T1_lo = sum64_5_lo(c0_hi, c0_lo, c1_hi, c1_lo, c2_hi, c2_lo, c3_hi, c3_lo, c4_hi, c4_lo);
          var c0_hi = s0_512_hi(ah, al);
          var c0_lo = s0_512_lo(ah, al);
          var c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);
          var c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);
          var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);
          var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);
          hh = gh;
          hl = gl;
          gh = fh;
          gl = fl;
          fh = eh;
          fl = el;
          eh = sum64_hi(dh, dl, T1_hi, T1_lo);
          el = sum64_lo(dl, dl, T1_hi, T1_lo);
          dh = ch;
          dl = cl;
          ch = bh;
          cl = bl;
          bh = ah;
          bl = al;
          ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);
          al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);
        }
        sum64(this.h, 0, ah, al);
        sum64(this.h, 2, bh, bl);
        sum64(this.h, 4, ch, cl);
        sum64(this.h, 6, dh, dl);
        sum64(this.h, 8, eh, el);
        sum64(this.h, 10, fh, fl);
        sum64(this.h, 12, gh, gl);
        sum64(this.h, 14, hh, hl);
      };
      SHA512.prototype._digest = function digest(enc) {
        if (enc === 'hex')
          return utils.toHex32(this.h, 'big');
        else
          return utils.split32(this.h, 'big');
      };
      function SHA384() {
        if (!(this instanceof SHA384))
          return new SHA384();
        SHA512.call(this);
        this.h = [0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939, 0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4];
      }
      utils.inherits(SHA384, SHA512);
      exports.sha384 = SHA384;
      SHA384.blockSize = 1024;
      SHA384.outSize = 384;
      SHA384.hmacStrength = 192;
      SHA384.padLength = 128;
      SHA384.prototype._digest = function digest(enc) {
        if (enc === 'hex')
          return utils.toHex32(this.h.slice(0, 12), 'big');
        else
          return utils.split32(this.h.slice(0, 12), 'big');
      };
      function SHA1() {
        if (!(this instanceof SHA1))
          return new SHA1();
        BlockHash.call(this);
        this.h = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];
        this.W = new Array(80);
      }
      utils.inherits(SHA1, BlockHash);
      exports.sha1 = SHA1;
      SHA1.blockSize = 512;
      SHA1.outSize = 160;
      SHA1.hmacStrength = 80;
      SHA1.padLength = 64;
      SHA1.prototype._update = function _update(msg, start) {
        var W = this.W;
        for (var i = 0; i < 16; i++)
          W[i] = msg[start + i];
        for (; i < W.length; i++)
          W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);
        var a = this.h[0];
        var b = this.h[1];
        var c = this.h[2];
        var d = this.h[3];
        var e = this.h[4];
        for (var i = 0; i < W.length; i++) {
          var s = ~~(i / 20);
          var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);
          e = d;
          d = c;
          c = rotl32(b, 30);
          b = a;
          a = t;
        }
        this.h[0] = sum32(this.h[0], a);
        this.h[1] = sum32(this.h[1], b);
        this.h[2] = sum32(this.h[2], c);
        this.h[3] = sum32(this.h[3], d);
        this.h[4] = sum32(this.h[4], e);
      };
      SHA1.prototype._digest = function digest(enc) {
        if (enc === 'hex')
          return utils.toHex32(this.h, 'big');
        else
          return utils.split32(this.h, 'big');
      };
      function ch32(x, y, z) {
        return (x & y) ^ ((~x) & z);
      }
      function maj32(x, y, z) {
        return (x & y) ^ (x & z) ^ (y & z);
      }
      function p32(x, y, z) {
        return x ^ y ^ z;
      }
      function s0_256(x) {
        return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);
      }
      function s1_256(x) {
        return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);
      }
      function g0_256(x) {
        return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);
      }
      function g1_256(x) {
        return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);
      }
      function ft_1(s, x, y, z) {
        if (s === 0)
          return ch32(x, y, z);
        if (s === 1 || s === 3)
          return p32(x, y, z);
        if (s === 2)
          return maj32(x, y, z);
      }
      function ch64_hi(xh, xl, yh, yl, zh, zl) {
        var r = (xh & yh) ^ ((~xh) & zh);
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function ch64_lo(xh, xl, yh, yl, zh, zl) {
        var r = (xl & yl) ^ ((~xl) & zl);
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function maj64_hi(xh, xl, yh, yl, zh, zl) {
        var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function maj64_lo(xh, xl, yh, yl, zh, zl) {
        var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function s0_512_hi(xh, xl) {
        var c0_hi = rotr64_hi(xh, xl, 28);
        var c1_hi = rotr64_hi(xl, xh, 2);
        var c2_hi = rotr64_hi(xl, xh, 7);
        var r = c0_hi ^ c1_hi ^ c2_hi;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function s0_512_lo(xh, xl) {
        var c0_lo = rotr64_lo(xh, xl, 28);
        var c1_lo = rotr64_lo(xl, xh, 2);
        var c2_lo = rotr64_lo(xl, xh, 7);
        var r = c0_lo ^ c1_lo ^ c2_lo;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function s1_512_hi(xh, xl) {
        var c0_hi = rotr64_hi(xh, xl, 14);
        var c1_hi = rotr64_hi(xh, xl, 18);
        var c2_hi = rotr64_hi(xl, xh, 9);
        var r = c0_hi ^ c1_hi ^ c2_hi;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function s1_512_lo(xh, xl) {
        var c0_lo = rotr64_lo(xh, xl, 14);
        var c1_lo = rotr64_lo(xh, xl, 18);
        var c2_lo = rotr64_lo(xl, xh, 9);
        var r = c0_lo ^ c1_lo ^ c2_lo;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function g0_512_hi(xh, xl) {
        var c0_hi = rotr64_hi(xh, xl, 1);
        var c1_hi = rotr64_hi(xh, xl, 8);
        var c2_hi = shr64_hi(xh, xl, 7);
        var r = c0_hi ^ c1_hi ^ c2_hi;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function g0_512_lo(xh, xl) {
        var c0_lo = rotr64_lo(xh, xl, 1);
        var c1_lo = rotr64_lo(xh, xl, 8);
        var c2_lo = shr64_lo(xh, xl, 7);
        var r = c0_lo ^ c1_lo ^ c2_lo;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function g1_512_hi(xh, xl) {
        var c0_hi = rotr64_hi(xh, xl, 19);
        var c1_hi = rotr64_hi(xl, xh, 29);
        var c2_hi = shr64_hi(xh, xl, 6);
        var r = c0_hi ^ c1_hi ^ c2_hi;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
      function g1_512_lo(xh, xl) {
        var c0_lo = rotr64_lo(xh, xl, 19);
        var c1_lo = rotr64_lo(xl, xh, 29);
        var c2_lo = shr64_lo(xh, xl, 6);
        var r = c0_lo ^ c1_lo ^ c2_lo;
        if (r < 0)
          r += 0x100000000;
        return r;
      }
    }, {"../hash": 86}],
    91: [function(require, module, exports) {
      var utils = exports;
      var inherits = require('inherits');
      function toArray(msg, enc) {
        if (Array.isArray(msg))
          return msg.slice();
        if (!msg)
          return [];
        var res = [];
        if (typeof msg === 'string') {
          if (!enc) {
            for (var i = 0; i < msg.length; i++) {
              var c = msg.charCodeAt(i);
              var hi = c >> 8;
              var lo = c & 0xff;
              if (hi)
                res.push(hi, lo);
              else
                res.push(lo);
            }
          } else if (enc === 'hex') {
            msg = msg.replace(/[^a-z0-9]+/ig, '');
            if (msg.length % 2 !== 0)
              msg = '0' + msg;
            for (var i = 0; i < msg.length; i += 2)
              res.push(parseInt(msg[i] + msg[i + 1], 16));
          }
        } else {
          for (var i = 0; i < msg.length; i++)
            res[i] = msg[i] | 0;
        }
        return res;
      }
      utils.toArray = toArray;
      function toHex(msg) {
        var res = '';
        for (var i = 0; i < msg.length; i++)
          res += zero2(msg[i].toString(16));
        return res;
      }
      utils.toHex = toHex;
      function htonl(w) {
        var res = (w >>> 24) | ((w >>> 8) & 0xff00) | ((w << 8) & 0xff0000) | ((w & 0xff) << 24);
        return res >>> 0;
      }
      utils.htonl = htonl;
      function toHex32(msg, endian) {
        var res = '';
        for (var i = 0; i < msg.length; i++) {
          var w = msg[i];
          if (endian === 'little')
            w = htonl(w);
          res += zero8(w.toString(16));
        }
        return res;
      }
      utils.toHex32 = toHex32;
      function zero2(word) {
        if (word.length === 1)
          return '0' + word;
        else
          return word;
      }
      utils.zero2 = zero2;
      function zero8(word) {
        if (word.length === 7)
          return '0' + word;
        else if (word.length === 6)
          return '00' + word;
        else if (word.length === 5)
          return '000' + word;
        else if (word.length === 4)
          return '0000' + word;
        else if (word.length === 3)
          return '00000' + word;
        else if (word.length === 2)
          return '000000' + word;
        else if (word.length === 1)
          return '0000000' + word;
        else
          return word;
      }
      utils.zero8 = zero8;
      function join32(msg, start, end, endian) {
        var len = end - start;
        assert(len % 4 === 0);
        var res = new Array(len / 4);
        for (var i = 0,
            k = start; i < res.length; i++, k += 4) {
          var w;
          if (endian === 'big')
            w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];
          else
            w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];
          res[i] = w >>> 0;
        }
        return res;
      }
      utils.join32 = join32;
      function split32(msg, endian) {
        var res = new Array(msg.length * 4);
        for (var i = 0,
            k = 0; i < msg.length; i++, k += 4) {
          var m = msg[i];
          if (endian === 'big') {
            res[k] = m >>> 24;
            res[k + 1] = (m >>> 16) & 0xff;
            res[k + 2] = (m >>> 8) & 0xff;
            res[k + 3] = m & 0xff;
          } else {
            res[k + 3] = m >>> 24;
            res[k + 2] = (m >>> 16) & 0xff;
            res[k + 1] = (m >>> 8) & 0xff;
            res[k] = m & 0xff;
          }
        }
        return res;
      }
      utils.split32 = split32;
      function rotr32(w, b) {
        return (w >>> b) | (w << (32 - b));
      }
      utils.rotr32 = rotr32;
      function rotl32(w, b) {
        return (w << b) | (w >>> (32 - b));
      }
      utils.rotl32 = rotl32;
      function sum32(a, b) {
        return (a + b) >>> 0;
      }
      utils.sum32 = sum32;
      function sum32_3(a, b, c) {
        return (a + b + c) >>> 0;
      }
      utils.sum32_3 = sum32_3;
      function sum32_4(a, b, c, d) {
        return (a + b + c + d) >>> 0;
      }
      utils.sum32_4 = sum32_4;
      function sum32_5(a, b, c, d, e) {
        return (a + b + c + d + e) >>> 0;
      }
      utils.sum32_5 = sum32_5;
      function assert(cond, msg) {
        if (!cond)
          throw new Error(msg || 'Assertion failed');
      }
      utils.assert = assert;
      utils.inherits = inherits;
      function sum64(buf, pos, ah, al) {
        var bh = buf[pos];
        var bl = buf[pos + 1];
        var lo = (al + bl) >>> 0;
        var hi = (lo < al ? 1 : 0) + ah + bh;
        buf[pos] = hi >>> 0;
        buf[pos + 1] = lo;
      }
      exports.sum64 = sum64;
      function sum64_hi(ah, al, bh, bl) {
        var lo = (al + bl) >>> 0;
        var hi = (lo < al ? 1 : 0) + ah + bh;
        return hi >>> 0;
      }
      ;
      exports.sum64_hi = sum64_hi;
      function sum64_lo(ah, al, bh, bl) {
        var lo = al + bl;
        return lo >>> 0;
      }
      ;
      exports.sum64_lo = sum64_lo;
      function sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {
        var carry = 0;
        var lo = al;
        lo = (lo + bl) >>> 0;
        carry += lo < al ? 1 : 0;
        lo = (lo + cl) >>> 0;
        carry += lo < cl ? 1 : 0;
        lo = (lo + dl) >>> 0;
        carry += lo < dl ? 1 : 0;
        var hi = ah + bh + ch + dh + carry;
        return hi >>> 0;
      }
      ;
      exports.sum64_4_hi = sum64_4_hi;
      function sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {
        var lo = al + bl + cl + dl;
        return lo >>> 0;
      }
      ;
      exports.sum64_4_lo = sum64_4_lo;
      function sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {
        var carry = 0;
        var lo = al;
        lo = (lo + bl) >>> 0;
        carry += lo < al ? 1 : 0;
        lo = (lo + cl) >>> 0;
        carry += lo < cl ? 1 : 0;
        lo = (lo + dl) >>> 0;
        carry += lo < dl ? 1 : 0;
        lo = (lo + el) >>> 0;
        carry += lo < el ? 1 : 0;
        var hi = ah + bh + ch + dh + eh + carry;
        return hi >>> 0;
      }
      ;
      exports.sum64_5_hi = sum64_5_hi;
      function sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {
        var lo = al + bl + cl + dl + el;
        return lo >>> 0;
      }
      ;
      exports.sum64_5_lo = sum64_5_lo;
      function rotr64_hi(ah, al, num) {
        var r = (al << (32 - num)) | (ah >>> num);
        return r >>> 0;
      }
      ;
      exports.rotr64_hi = rotr64_hi;
      function rotr64_lo(ah, al, num) {
        var r = (ah << (32 - num)) | (al >>> num);
        return r >>> 0;
      }
      ;
      exports.rotr64_lo = rotr64_lo;
      function shr64_hi(ah, al, num) {
        return ah >>> num;
      }
      ;
      exports.shr64_hi = shr64_hi;
      function shr64_lo(ah, al, num) {
        var r = (ah << (32 - num)) | (al >>> num);
        return r >>> 0;
      }
      ;
      exports.shr64_lo = shr64_lo;
    }, {"inherits": 190}],
    92: [function(require, module, exports) {
      module.exports = {
        "name": "elliptic",
        "version": "3.1.0",
        "description": "EC cryptography",
        "main": "lib/elliptic.js",
        "scripts": {"test": "make lint && mocha --reporter=spec test/*-test.js"},
        "repository": {
          "type": "git",
          "url": "git+ssh://git@github.com/indutny/elliptic.git"
        },
        "keywords": ["EC", "Elliptic", "curve", "Cryptography"],
        "author": {
          "name": "Fedor Indutny",
          "email": "fedor@indutny.com"
        },
        "license": "MIT",
        "bugs": {"url": "https://github.com/indutny/elliptic/issues"},
        "homepage": "https://github.com/indutny/elliptic",
        "devDependencies": {
          "browserify": "^3.44.2",
          "jscs": "^1.11.3",
          "jshint": "^2.6.0",
          "mocha": "^2.1.0",
          "uglify-js": "^2.4.13"
        },
        "dependencies": {
          "bn.js": "^2.0.3",
          "brorand": "^1.0.1",
          "hash.js": "^1.0.0",
          "inherits": "^2.0.1"
        },
        "gitHead": "d86cd2a8178f7e7cecbd6dd92eea084e2ab44c13",
        "_id": "elliptic@3.1.0",
        "_shasum": "c21682ef762769b56a74201609105da11d5f60cc",
        "_from": "elliptic@^3.0.0",
        "_npmVersion": "2.11.0",
        "_nodeVersion": "2.2.1",
        "_npmUser": {
          "name": "indutny",
          "email": "fedor@indutny.com"
        },
        "maintainers": [{
          "name": "indutny",
          "email": "fedor@indutny.com"
        }],
        "dist": {
          "shasum": "c21682ef762769b56a74201609105da11d5f60cc",
          "tarball": "http://registry.npmjs.org/elliptic/-/elliptic-3.1.0.tgz"
        },
        "directories": {},
        "_resolved": "https://registry.npmjs.org/elliptic/-/elliptic-3.1.0.tgz",
        "readme": "ERROR: No README data found!"
      };
    }, {}],
    93: [function(require, module, exports) {
      (function(Buffer) {
        var createHash = require('create-hash');
        module.exports = function evp(password, salt, keyLen) {
          keyLen = keyLen / 8;
          var ki = 0;
          var ii = 0;
          var key = new Buffer(keyLen);
          var addmd = 0;
          var md,
              md_buf;
          var i;
          while (true) {
            md = createHash('md5');
            if (addmd++ > 0) {
              md.update(md_buf);
            }
            md.update(password);
            md.update(salt);
            md_buf = md.digest();
            i = 0;
            if (keyLen > 0) {
              while (true) {
                if (keyLen === 0) {
                  break;
                }
                if (i === md_buf.length) {
                  break;
                }
                key[ki++] = md_buf[i++];
                keyLen--;
              }
            }
            if (keyLen === 0) {
              break;
            }
          }
          for (i = 0; i < md_buf.length; i++) {
            md_buf[i] = 0;
          }
          return key;
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "create-hash": 139
    }],
    94: [function(require, module, exports) {
      module.exports = {
        "2.16.840.1.101.3.4.1.1": "aes-128-ecb",
        "2.16.840.1.101.3.4.1.2": "aes-128-cbc",
        "2.16.840.1.101.3.4.1.3": "aes-128-ofb",
        "2.16.840.1.101.3.4.1.4": "aes-128-cfb",
        "2.16.840.1.101.3.4.1.21": "aes-192-ecb",
        "2.16.840.1.101.3.4.1.22": "aes-192-cbc",
        "2.16.840.1.101.3.4.1.23": "aes-192-ofb",
        "2.16.840.1.101.3.4.1.24": "aes-192-cfb",
        "2.16.840.1.101.3.4.1.41": "aes-256-ecb",
        "2.16.840.1.101.3.4.1.42": "aes-256-cbc",
        "2.16.840.1.101.3.4.1.43": "aes-256-ofb",
        "2.16.840.1.101.3.4.1.44": "aes-256-cfb"
      };
    }, {}],
    95: [function(require, module, exports) {
      var asn1 = require('asn1.js');
      var RSAPrivateKey = asn1.define('RSAPrivateKey', function() {
        this.seq().obj(this.key('version').int(), this.key('modulus').int(), this.key('publicExponent').int(), this.key('privateExponent').int(), this.key('prime1').int(), this.key('prime2').int(), this.key('exponent1').int(), this.key('exponent2').int(), this.key('coefficient').int());
      });
      exports.RSAPrivateKey = RSAPrivateKey;
      var RSAPublicKey = asn1.define('RSAPublicKey', function() {
        this.seq().obj(this.key('modulus').int(), this.key('publicExponent').int());
      });
      exports.RSAPublicKey = RSAPublicKey;
      var PublicKey = asn1.define('SubjectPublicKeyInfo', function() {
        this.seq().obj(this.key('algorithm').use(AlgorithmIdentifier), this.key('subjectPublicKey').bitstr());
      });
      exports.PublicKey = PublicKey;
      var AlgorithmIdentifier = asn1.define('AlgorithmIdentifier', function() {
        this.seq().obj(this.key('algorithm').objid(), this.key('none').null_().optional(), this.key('curve').objid().optional(), this.key('params').seq().obj(this.key('p').int(), this.key('q').int(), this.key('g').int()).optional());
      });
      var PrivateKeyInfo = asn1.define('PrivateKeyInfo', function() {
        this.seq().obj(this.key('version').int(), this.key('algorithm').use(AlgorithmIdentifier), this.key('subjectPrivateKey').octstr());
      });
      exports.PrivateKey = PrivateKeyInfo;
      var EncryptedPrivateKeyInfo = asn1.define('EncryptedPrivateKeyInfo', function() {
        this.seq().obj(this.key('algorithm').seq().obj(this.key('id').objid(), this.key('decrypt').seq().obj(this.key('kde').seq().obj(this.key('id').objid(), this.key('kdeparams').seq().obj(this.key('salt').octstr(), this.key('iters').int())), this.key('cipher').seq().obj(this.key('algo').objid(), this.key('iv').octstr()))), this.key('subjectPrivateKey').octstr());
      });
      exports.EncryptedPrivateKey = EncryptedPrivateKeyInfo;
      var DSAPrivateKey = asn1.define('DSAPrivateKey', function() {
        this.seq().obj(this.key('version').int(), this.key('p').int(), this.key('q').int(), this.key('g').int(), this.key('pub_key').int(), this.key('priv_key').int());
      });
      exports.DSAPrivateKey = DSAPrivateKey;
      exports.DSAparam = asn1.define('DSAparam', function() {
        this.int();
      });
      var ECPrivateKey = asn1.define('ECPrivateKey', function() {
        this.seq().obj(this.key('version').int(), this.key('privateKey').octstr(), this.key('parameters').optional().explicit(0).use(ECParameters), this.key('publicKey').optional().explicit(1).bitstr());
      });
      exports.ECPrivateKey = ECPrivateKey;
      var ECParameters = asn1.define('ECParameters', function() {
        this.choice({namedCurve: this.objid()});
      });
      exports.signature = asn1.define('signature', function() {
        this.seq().obj(this.key('r').int(), this.key('s').int());
      });
    }, {"asn1.js": 98}],
    96: [function(require, module, exports) {
      (function(Buffer) {
        var findProc = /Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m;
        var startRegex = /^-----BEGIN (.*) KEY-----\r?\n/m;
        var fullRegex = /^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m;
        var evp = require('./EVP_BytesToKey');
        var ciphers = require('browserify-aes');
        module.exports = function(okey, password) {
          var key = okey.toString();
          var match = key.match(findProc);
          var decrypted;
          if (!match) {
            var match2 = key.match(fullRegex);
            decrypted = new Buffer(match2[2].replace(/\r?\n/g, ''), 'base64');
          } else {
            var suite = 'aes' + match[1];
            var iv = new Buffer(match[2], 'hex');
            var cipherText = new Buffer(match[3].replace(/\r?\n/g, ''), 'base64');
            var cipherKey = evp(password, iv.slice(0, 8), parseInt(match[1]));
            var out = [];
            var cipher = ciphers.createDecipheriv(suite, cipherKey, iv);
            out.push(cipher.update(cipherText));
            out.push(cipher.final());
            decrypted = Buffer.concat(out);
          }
          var tag = key.match(startRegex)[1] + ' KEY';
          return {
            tag: tag,
            data: decrypted
          };
        };
        function wrap(str) {
          var chunks = [];
          for (var i = 0; i < str.length; i += 64) {
            chunks.push(str.slice(i, i + 64));
          }
          return chunks.join("\n");
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "./EVP_BytesToKey": 93,
      "browserify-aes": 52,
      "buffer": 44
    }],
    97: [function(require, module, exports) {
      (function(Buffer) {
        var asn1 = require('./asn1');
        var aesid = require('./aesid.json');
        var fixProc = require('./fixProc');
        var ciphers = require('browserify-aes');
        var compat = require('pbkdf2');
        module.exports = parseKeys;
        function parseKeys(buffer) {
          var password;
          if (typeof buffer === 'object' && !Buffer.isBuffer(buffer)) {
            password = buffer.passphrase;
            buffer = buffer.key;
          }
          if (typeof buffer === 'string') {
            buffer = new Buffer(buffer);
          }
          var stripped = fixProc(buffer, password);
          var type = stripped.tag;
          var data = stripped.data;
          var subtype,
              ndata;
          switch (type) {
            case 'PUBLIC KEY':
              ndata = asn1.PublicKey.decode(data, 'der');
              subtype = ndata.algorithm.algorithm.join('.');
              switch (subtype) {
                case '1.2.840.113549.1.1.1':
                  return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data, 'der');
                case '1.2.840.10045.2.1':
                  ndata.subjectPrivateKey = ndata.subjectPublicKey;
                  return {
                    type: 'ec',
                    data: ndata
                  };
                case '1.2.840.10040.4.1':
                  ndata.algorithm.params.pub_key = asn1.DSAparam.decode(ndata.subjectPublicKey.data, 'der');
                  return {
                    type: 'dsa',
                    data: ndata.algorithm.params
                  };
                default:
                  throw new Error('unknown key id ' + subtype);
              }
              throw new Error('unknown key type ' + type);
            case 'ENCRYPTED PRIVATE KEY':
              data = asn1.EncryptedPrivateKey.decode(data, 'der');
              data = decrypt(data, password);
            case 'PRIVATE KEY':
              ndata = asn1.PrivateKey.decode(data, 'der');
              subtype = ndata.algorithm.algorithm.join('.');
              switch (subtype) {
                case '1.2.840.113549.1.1.1':
                  return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey, 'der');
                case '1.2.840.10045.2.1':
                  return {
                    curve: ndata.algorithm.curve,
                    privateKey: asn1.ECPrivateKey.decode(ndata.subjectPrivateKey, 'der').privateKey
                  };
                case '1.2.840.10040.4.1':
                  ndata.algorithm.params.priv_key = asn1.DSAparam.decode(ndata.subjectPrivateKey, 'der');
                  return {
                    type: 'dsa',
                    params: ndata.algorithm.params
                  };
                default:
                  throw new Error('unknown key id ' + subtype);
              }
              throw new Error('unknown key type ' + type);
            case 'RSA PUBLIC KEY':
              return asn1.RSAPublicKey.decode(data, 'der');
            case 'RSA PRIVATE KEY':
              return asn1.RSAPrivateKey.decode(data, 'der');
            case 'DSA PRIVATE KEY':
              return {
                type: 'dsa',
                params: asn1.DSAPrivateKey.decode(data, 'der')
              };
            case 'EC PRIVATE KEY':
              data = asn1.ECPrivateKey.decode(data, 'der');
              return {
                curve: data.parameters.value,
                privateKey: data.privateKey
              };
            default:
              throw new Error('unknown key type ' + type);
          }
        }
        parseKeys.signature = asn1.signature;
        function decrypt(data, password) {
          var salt = data.algorithm.decrypt.kde.kdeparams.salt;
          var iters = parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(), 10);
          var algo = aesid[data.algorithm.decrypt.cipher.algo.join('.')];
          var iv = data.algorithm.decrypt.cipher.iv;
          var cipherText = data.subjectPrivateKey;
          var keylen = parseInt(algo.split('-')[1], 10) / 8;
          var key = compat.pbkdf2Sync(password, salt, iters, keylen);
          var cipher = ciphers.createDecipheriv(algo, key, iv);
          var out = [];
          out.push(cipher.update(cipherText));
          out.push(cipher.final());
          return Buffer.concat(out);
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "./aesid.json": 94,
      "./asn1": 95,
      "./fixProc": 96,
      "browserify-aes": 52,
      "buffer": 44,
      "pbkdf2": 159
    }],
    98: [function(require, module, exports) {
      var asn1 = exports;
      asn1.bignum = require('bn.js');
      asn1.define = require('./asn1/api').define;
      asn1.base = require('./asn1/base');
      asn1.constants = require('./asn1/constants');
      asn1.decoders = require('./asn1/decoders');
      asn1.encoders = require('./asn1/encoders');
    }, {
      "./asn1/api": 99,
      "./asn1/base": 101,
      "./asn1/constants": 105,
      "./asn1/decoders": 107,
      "./asn1/encoders": 110,
      "bn.js": 70
    }],
    99: [function(require, module, exports) {
      var asn1 = require('../asn1');
      var inherits = require('inherits');
      var api = exports;
      api.define = function define(name, body) {
        return new Entity(name, body);
      };
      function Entity(name, body) {
        this.name = name;
        this.body = body;
        this.decoders = {};
        this.encoders = {};
      }
      ;
      Entity.prototype._createNamed = function createNamed(base) {
        var named;
        try {
          named = require('vm').runInThisContext('(function ' + this.name + '(entity) {\n' + '  this._initNamed(entity);\n' + '})');
        } catch (e) {
          named = function(entity) {
            this._initNamed(entity);
          };
        }
        inherits(named, base);
        named.prototype._initNamed = function initnamed(entity) {
          base.call(this, entity);
        };
        return new named(this);
      };
      Entity.prototype._getDecoder = function _getDecoder(enc) {
        if (!this.decoders.hasOwnProperty(enc))
          this.decoders[enc] = this._createNamed(asn1.decoders[enc]);
        return this.decoders[enc];
      };
      Entity.prototype.decode = function decode(data, enc, options) {
        return this._getDecoder(enc).decode(data, options);
      };
      Entity.prototype._getEncoder = function _getEncoder(enc) {
        if (!this.encoders.hasOwnProperty(enc))
          this.encoders[enc] = this._createNamed(asn1.encoders[enc]);
        return this.encoders[enc];
      };
      Entity.prototype.encode = function encode(data, enc, reporter) {
        return this._getEncoder(enc).encode(data, reporter);
      };
    }, {
      "../asn1": 98,
      "inherits": 190,
      "vm": 208
    }],
    100: [function(require, module, exports) {
      var inherits = require('inherits');
      var Reporter = require('../base').Reporter;
      var Buffer = require('buffer').Buffer;
      function DecoderBuffer(base, options) {
        Reporter.call(this, options);
        if (!Buffer.isBuffer(base)) {
          this.error('Input not Buffer');
          return;
        }
        this.base = base;
        this.offset = 0;
        this.length = base.length;
      }
      inherits(DecoderBuffer, Reporter);
      exports.DecoderBuffer = DecoderBuffer;
      DecoderBuffer.prototype.save = function save() {
        return {
          offset: this.offset,
          reporter: Reporter.prototype.save.call(this)
        };
      };
      DecoderBuffer.prototype.restore = function restore(save) {
        var res = new DecoderBuffer(this.base);
        res.offset = save.offset;
        res.length = this.offset;
        this.offset = save.offset;
        Reporter.prototype.restore.call(this, save.reporter);
        return res;
      };
      DecoderBuffer.prototype.isEmpty = function isEmpty() {
        return this.offset === this.length;
      };
      DecoderBuffer.prototype.readUInt8 = function readUInt8(fail) {
        if (this.offset + 1 <= this.length)
          return this.base.readUInt8(this.offset++, true);
        else
          return this.error(fail || 'DecoderBuffer overrun');
      };
      DecoderBuffer.prototype.skip = function skip(bytes, fail) {
        if (!(this.offset + bytes <= this.length))
          return this.error(fail || 'DecoderBuffer overrun');
        var res = new DecoderBuffer(this.base);
        res._reporterState = this._reporterState;
        res.offset = this.offset;
        res.length = this.offset + bytes;
        this.offset += bytes;
        return res;
      };
      DecoderBuffer.prototype.raw = function raw(save) {
        return this.base.slice(save ? save.offset : this.offset, this.length);
      };
      function EncoderBuffer(value, reporter) {
        if (Array.isArray(value)) {
          this.length = 0;
          this.value = value.map(function(item) {
            if (!(item instanceof EncoderBuffer))
              item = new EncoderBuffer(item, reporter);
            this.length += item.length;
            return item;
          }, this);
        } else if (typeof value === 'number') {
          if (!(0 <= value && value <= 0xff))
            return reporter.error('non-byte EncoderBuffer value');
          this.value = value;
          this.length = 1;
        } else if (typeof value === 'string') {
          this.value = value;
          this.length = Buffer.byteLength(value);
        } else if (Buffer.isBuffer(value)) {
          this.value = value;
          this.length = value.length;
        } else {
          return reporter.error('Unsupported type: ' + typeof value);
        }
      }
      exports.EncoderBuffer = EncoderBuffer;
      EncoderBuffer.prototype.join = function join(out, offset) {
        if (!out)
          out = new Buffer(this.length);
        if (!offset)
          offset = 0;
        if (this.length === 0)
          return out;
        if (Array.isArray(this.value)) {
          this.value.forEach(function(item) {
            item.join(out, offset);
            offset += item.length;
          });
        } else {
          if (typeof this.value === 'number')
            out[offset] = this.value;
          else if (typeof this.value === 'string')
            out.write(this.value, offset);
          else if (Buffer.isBuffer(this.value))
            this.value.copy(out, offset);
          offset += this.length;
        }
        return out;
      };
    }, {
      "../base": 101,
      "buffer": 44,
      "inherits": 190
    }],
    101: [function(require, module, exports) {
      var base = exports;
      base.Reporter = require('./reporter').Reporter;
      base.DecoderBuffer = require('./buffer').DecoderBuffer;
      base.EncoderBuffer = require('./buffer').EncoderBuffer;
      base.Node = require('./node');
    }, {
      "./buffer": 100,
      "./node": 102,
      "./reporter": 103
    }],
    102: [function(require, module, exports) {
      var Reporter = require('../base').Reporter;
      var EncoderBuffer = require('../base').EncoderBuffer;
      var assert = require('minimalistic-assert');
      var tags = ['seq', 'seqof', 'set', 'setof', 'octstr', 'bitstr', 'objid', 'bool', 'gentime', 'utctime', 'null_', 'enum', 'int', 'ia5str', 'utf8str'];
      var methods = ['key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice', 'any'].concat(tags);
      var overrided = ['_peekTag', '_decodeTag', '_use', '_decodeStr', '_decodeObjid', '_decodeTime', '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList', '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime', '_encodeNull', '_encodeInt', '_encodeBool'];
      function Node(enc, parent) {
        var state = {};
        this._baseState = state;
        state.enc = enc;
        state.parent = parent || null;
        state.children = null;
        state.tag = null;
        state.args = null;
        state.reverseArgs = null;
        state.choice = null;
        state.optional = false;
        state.any = false;
        state.obj = false;
        state.use = null;
        state.useDecoder = null;
        state.key = null;
        state['default'] = null;
        state.explicit = null;
        state.implicit = null;
        if (!state.parent) {
          state.children = [];
          this._wrap();
        }
      }
      module.exports = Node;
      var stateProps = ['enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice', 'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit', 'implicit'];
      Node.prototype.clone = function clone() {
        var state = this._baseState;
        var cstate = {};
        stateProps.forEach(function(prop) {
          cstate[prop] = state[prop];
        });
        var res = new this.constructor(cstate.parent);
        res._baseState = cstate;
        return res;
      };
      Node.prototype._wrap = function wrap() {
        var state = this._baseState;
        methods.forEach(function(method) {
          this[method] = function _wrappedMethod() {
            var clone = new this.constructor(this);
            state.children.push(clone);
            return clone[method].apply(clone, arguments);
          };
        }, this);
      };
      Node.prototype._init = function init(body) {
        var state = this._baseState;
        assert(state.parent === null);
        body.call(this);
        state.children = state.children.filter(function(child) {
          return child._baseState.parent === this;
        }, this);
        assert.equal(state.children.length, 1, 'Root node can have only one child');
      };
      Node.prototype._useArgs = function useArgs(args) {
        var state = this._baseState;
        var children = args.filter(function(arg) {
          return arg instanceof this.constructor;
        }, this);
        args = args.filter(function(arg) {
          return !(arg instanceof this.constructor);
        }, this);
        if (children.length !== 0) {
          assert(state.children === null);
          state.children = children;
          children.forEach(function(child) {
            child._baseState.parent = this;
          }, this);
        }
        if (args.length !== 0) {
          assert(state.args === null);
          state.args = args;
          state.reverseArgs = args.map(function(arg) {
            if (typeof arg !== 'object' || arg.constructor !== Object)
              return arg;
            var res = {};
            Object.keys(arg).forEach(function(key) {
              if (key == (key | 0))
                key |= 0;
              var value = arg[key];
              res[value] = key;
            });
            return res;
          });
        }
      };
      overrided.forEach(function(method) {
        Node.prototype[method] = function _overrided() {
          var state = this._baseState;
          throw new Error(method + ' not implemented for encoding: ' + state.enc);
        };
      });
      tags.forEach(function(tag) {
        Node.prototype[tag] = function _tagMethod() {
          var state = this._baseState;
          var args = Array.prototype.slice.call(arguments);
          assert(state.tag === null);
          state.tag = tag;
          this._useArgs(args);
          return this;
        };
      });
      Node.prototype.use = function use(item) {
        var state = this._baseState;
        assert(state.use === null);
        state.use = item;
        return this;
      };
      Node.prototype.optional = function optional() {
        var state = this._baseState;
        state.optional = true;
        return this;
      };
      Node.prototype.def = function def(val) {
        var state = this._baseState;
        assert(state['default'] === null);
        state['default'] = val;
        state.optional = true;
        return this;
      };
      Node.prototype.explicit = function explicit(num) {
        var state = this._baseState;
        assert(state.explicit === null && state.implicit === null);
        state.explicit = num;
        return this;
      };
      Node.prototype.implicit = function implicit(num) {
        var state = this._baseState;
        assert(state.explicit === null && state.implicit === null);
        state.implicit = num;
        return this;
      };
      Node.prototype.obj = function obj() {
        var state = this._baseState;
        var args = Array.prototype.slice.call(arguments);
        state.obj = true;
        if (args.length !== 0)
          this._useArgs(args);
        return this;
      };
      Node.prototype.key = function key(newKey) {
        var state = this._baseState;
        assert(state.key === null);
        state.key = newKey;
        return this;
      };
      Node.prototype.any = function any() {
        var state = this._baseState;
        state.any = true;
        return this;
      };
      Node.prototype.choice = function choice(obj) {
        var state = this._baseState;
        assert(state.choice === null);
        state.choice = obj;
        this._useArgs(Object.keys(obj).map(function(key) {
          return obj[key];
        }));
        return this;
      };
      Node.prototype._decode = function decode(input) {
        var state = this._baseState;
        if (state.parent === null)
          return input.wrapResult(state.children[0]._decode(input));
        var result = state['default'];
        var present = true;
        var prevKey;
        if (state.key !== null)
          prevKey = input.enterKey(state.key);
        if (state.optional) {
          var tag = null;
          if (state.explicit !== null)
            tag = state.explicit;
          else if (state.implicit !== null)
            tag = state.implicit;
          else if (state.tag !== null)
            tag = state.tag;
          if (tag === null && !state.any) {
            var save = input.save();
            try {
              if (state.choice === null)
                this._decodeGeneric(state.tag, input);
              else
                this._decodeChoice(input);
              present = true;
            } catch (e) {
              present = false;
            }
            input.restore(save);
          } else {
            present = this._peekTag(input, tag, state.any);
            if (input.isError(present))
              return present;
          }
        }
        var prevObj;
        if (state.obj && present)
          prevObj = input.enterObject();
        if (present) {
          if (state.explicit !== null) {
            var explicit = this._decodeTag(input, state.explicit);
            if (input.isError(explicit))
              return explicit;
            input = explicit;
          }
          if (state.use === null && state.choice === null) {
            if (state.any)
              var save = input.save();
            var body = this._decodeTag(input, state.implicit !== null ? state.implicit : state.tag, state.any);
            if (input.isError(body))
              return body;
            if (state.any)
              result = input.raw(save);
            else
              input = body;
          }
          if (state.any)
            result = result;
          else if (state.choice === null)
            result = this._decodeGeneric(state.tag, input);
          else
            result = this._decodeChoice(input);
          if (input.isError(result))
            return result;
          if (!state.any && state.choice === null && state.children !== null) {
            var fail = state.children.some(function decodeChildren(child) {
              child._decode(input);
            });
            if (fail)
              return err;
          }
        }
        if (state.obj && present)
          result = input.leaveObject(prevObj);
        if (state.key !== null && (result !== null || present === true))
          input.leaveKey(prevKey, state.key, result);
        return result;
      };
      Node.prototype._decodeGeneric = function decodeGeneric(tag, input) {
        var state = this._baseState;
        if (tag === 'seq' || tag === 'set')
          return null;
        if (tag === 'seqof' || tag === 'setof')
          return this._decodeList(input, tag, state.args[0]);
        else if (tag === 'octstr' || tag === 'bitstr')
          return this._decodeStr(input, tag);
        else if (tag === 'ia5str' || tag === 'utf8str')
          return this._decodeStr(input, tag);
        else if (tag === 'objid' && state.args)
          return this._decodeObjid(input, state.args[0], state.args[1]);
        else if (tag === 'objid')
          return this._decodeObjid(input, null, null);
        else if (tag === 'gentime' || tag === 'utctime')
          return this._decodeTime(input, tag);
        else if (tag === 'null_')
          return this._decodeNull(input);
        else if (tag === 'bool')
          return this._decodeBool(input);
        else if (tag === 'int' || tag === 'enum')
          return this._decodeInt(input, state.args && state.args[0]);
        else if (state.use !== null)
          return this._getUse(state.use, input._reporterState.obj)._decode(input);
        else
          return input.error('unknown tag: ' + tag);
        return null;
      };
      Node.prototype._getUse = function _getUse(entity, obj) {
        var state = this._baseState;
        state.useDecoder = this._use(entity, obj);
        assert(state.useDecoder._baseState.parent === null);
        state.useDecoder = state.useDecoder._baseState.children[0];
        if (state.implicit !== state.useDecoder._baseState.implicit) {
          state.useDecoder = state.useDecoder.clone();
          state.useDecoder._baseState.implicit = state.implicit;
        }
        return state.useDecoder;
      };
      Node.prototype._decodeChoice = function decodeChoice(input) {
        var state = this._baseState;
        var result = null;
        var match = false;
        Object.keys(state.choice).some(function(key) {
          var save = input.save();
          var node = state.choice[key];
          try {
            var value = node._decode(input);
            if (input.isError(value))
              return false;
            result = {
              type: key,
              value: value
            };
            match = true;
          } catch (e) {
            input.restore(save);
            return false;
          }
          return true;
        }, this);
        if (!match)
          return input.error('Choice not matched');
        return result;
      };
      Node.prototype._createEncoderBuffer = function createEncoderBuffer(data) {
        return new EncoderBuffer(data, this.reporter);
      };
      Node.prototype._encode = function encode(data, reporter, parent) {
        var state = this._baseState;
        if (state['default'] !== null && state['default'] === data)
          return;
        var result = this._encodeValue(data, reporter, parent);
        if (result === undefined)
          return;
        if (this._skipDefault(result, reporter, parent))
          return;
        return result;
      };
      Node.prototype._encodeValue = function encode(data, reporter, parent) {
        var state = this._baseState;
        if (state.parent === null)
          return state.children[0]._encode(data, reporter || new Reporter());
        var result = null;
        var present = true;
        this.reporter = reporter;
        if (state.optional && data === undefined) {
          if (state['default'] !== null)
            data = state['default'];
          else
            return;
        }
        var prevKey;
        var content = null;
        var primitive = false;
        if (state.any) {
          result = this._createEncoderBuffer(data);
        } else if (state.choice) {
          result = this._encodeChoice(data, reporter);
        } else if (state.children) {
          content = state.children.map(function(child) {
            if (child._baseState.tag === 'null_')
              return child._encode(null, reporter, data);
            if (child._baseState.key === null)
              return reporter.error('Child should have a key');
            var prevKey = reporter.enterKey(child._baseState.key);
            if (typeof data !== 'object')
              return reporter.error('Child expected, but input is not object');
            var res = child._encode(data[child._baseState.key], reporter, data);
            reporter.leaveKey(prevKey);
            return res;
          }, this).filter(function(child) {
            return child;
          });
          content = this._createEncoderBuffer(content);
        } else {
          if (state.tag === 'seqof' || state.tag === 'setof') {
            if (!(state.args && state.args.length === 1))
              return reporter.error('Too many args for : ' + state.tag);
            if (!Array.isArray(data))
              return reporter.error('seqof/setof, but data is not Array');
            var child = this.clone();
            child._baseState.implicit = null;
            content = this._createEncoderBuffer(data.map(function(item) {
              var state = this._baseState;
              return this._getUse(state.args[0], data)._encode(item, reporter);
            }, child));
          } else if (state.use !== null) {
            result = this._getUse(state.use, parent)._encode(data, reporter);
          } else {
            content = this._encodePrimitive(state.tag, data);
            primitive = true;
          }
        }
        var result;
        if (!state.any && state.choice === null) {
          var tag = state.implicit !== null ? state.implicit : state.tag;
          var cls = state.implicit === null ? 'universal' : 'context';
          if (tag === null) {
            if (state.use === null)
              reporter.error('Tag could be ommited only for .use()');
          } else {
            if (state.use === null)
              result = this._encodeComposite(tag, primitive, cls, content);
          }
        }
        if (state.explicit !== null)
          result = this._encodeComposite(state.explicit, false, 'context', result);
        return result;
      };
      Node.prototype._encodeChoice = function encodeChoice(data, reporter) {
        var state = this._baseState;
        var node = state.choice[data.type];
        if (!node) {
          assert(false, data.type + ' not found in ' + JSON.stringify(Object.keys(state.choice)));
        }
        return node._encode(data.value, reporter);
      };
      Node.prototype._encodePrimitive = function encodePrimitive(tag, data) {
        var state = this._baseState;
        if (tag === 'octstr' || tag === 'bitstr' || tag === 'ia5str')
          return this._encodeStr(data, tag);
        else if (tag === 'utf8str')
          return this._encodeStr(data, tag);
        else if (tag === 'objid' && state.args)
          return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);
        else if (tag === 'objid')
          return this._encodeObjid(data, null, null);
        else if (tag === 'gentime' || tag === 'utctime')
          return this._encodeTime(data, tag);
        else if (tag === 'null_')
          return this._encodeNull();
        else if (tag === 'int' || tag === 'enum')
          return this._encodeInt(data, state.args && state.reverseArgs[0]);
        else if (tag === 'bool')
          return this._encodeBool(data);
        else
          throw new Error('Unsupported tag: ' + tag);
      };
    }, {
      "../base": 101,
      "minimalistic-assert": 112
    }],
    103: [function(require, module, exports) {
      var inherits = require('inherits');
      function Reporter(options) {
        this._reporterState = {
          obj: null,
          path: [],
          options: options || {},
          errors: []
        };
      }
      exports.Reporter = Reporter;
      Reporter.prototype.isError = function isError(obj) {
        return obj instanceof ReporterError;
      };
      Reporter.prototype.save = function save() {
        var state = this._reporterState;
        return {
          obj: state.obj,
          pathLen: state.path.length
        };
      };
      Reporter.prototype.restore = function restore(data) {
        var state = this._reporterState;
        state.obj = data.obj;
        state.path = state.path.slice(0, data.pathLen);
      };
      Reporter.prototype.enterKey = function enterKey(key) {
        return this._reporterState.path.push(key);
      };
      Reporter.prototype.leaveKey = function leaveKey(index, key, value) {
        var state = this._reporterState;
        state.path = state.path.slice(0, index - 1);
        if (state.obj !== null)
          state.obj[key] = value;
      };
      Reporter.prototype.enterObject = function enterObject() {
        var state = this._reporterState;
        var prev = state.obj;
        state.obj = {};
        return prev;
      };
      Reporter.prototype.leaveObject = function leaveObject(prev) {
        var state = this._reporterState;
        var now = state.obj;
        state.obj = prev;
        return now;
      };
      Reporter.prototype.error = function error(msg) {
        var err;
        var state = this._reporterState;
        var inherited = msg instanceof ReporterError;
        if (inherited) {
          err = msg;
        } else {
          err = new ReporterError(state.path.map(function(elem) {
            return '[' + JSON.stringify(elem) + ']';
          }).join(''), msg.message || msg, msg.stack);
        }
        if (!state.options.partial)
          throw err;
        if (!inherited)
          state.errors.push(err);
        return err;
      };
      Reporter.prototype.wrapResult = function wrapResult(result) {
        var state = this._reporterState;
        if (!state.options.partial)
          return result;
        return {
          result: this.isError(result) ? null : result,
          errors: state.errors
        };
      };
      function ReporterError(path, msg) {
        this.path = path;
        this.rethrow(msg);
      }
      ;
      inherits(ReporterError, Error);
      ReporterError.prototype.rethrow = function rethrow(msg) {
        this.message = msg + ' at: ' + (this.path || '(shallow)');
        Error.captureStackTrace(this, ReporterError);
        return this;
      };
    }, {"inherits": 190}],
    104: [function(require, module, exports) {
      var constants = require('../constants');
      exports.tagClass = {
        0: 'universal',
        1: 'application',
        2: 'context',
        3: 'private'
      };
      exports.tagClassByName = constants._reverse(exports.tagClass);
      exports.tag = {
        0x00: 'end',
        0x01: 'bool',
        0x02: 'int',
        0x03: 'bitstr',
        0x04: 'octstr',
        0x05: 'null_',
        0x06: 'objid',
        0x07: 'objDesc',
        0x08: 'external',
        0x09: 'real',
        0x0a: 'enum',
        0x0b: 'embed',
        0x0c: 'utf8str',
        0x0d: 'relativeOid',
        0x10: 'seq',
        0x11: 'set',
        0x12: 'numstr',
        0x13: 'printstr',
        0x14: 't61str',
        0x15: 'videostr',
        0x16: 'ia5str',
        0x17: 'utctime',
        0x18: 'gentime',
        0x19: 'graphstr',
        0x1a: 'iso646str',
        0x1b: 'genstr',
        0x1c: 'unistr',
        0x1d: 'charstr',
        0x1e: 'bmpstr'
      };
      exports.tagByName = constants._reverse(exports.tag);
    }, {"../constants": 105}],
    105: [function(require, module, exports) {
      var constants = exports;
      constants._reverse = function reverse(map) {
        var res = {};
        Object.keys(map).forEach(function(key) {
          if ((key | 0) == key)
            key = key | 0;
          var value = map[key];
          res[value] = key;
        });
        return res;
      };
      constants.der = require('./der');
    }, {"./der": 104}],
    106: [function(require, module, exports) {
      var inherits = require('inherits');
      var asn1 = require('../../asn1');
      var base = asn1.base;
      var bignum = asn1.bignum;
      var der = asn1.constants.der;
      function DERDecoder(entity) {
        this.enc = 'der';
        this.name = entity.name;
        this.entity = entity;
        this.tree = new DERNode();
        this.tree._init(entity.body);
      }
      ;
      module.exports = DERDecoder;
      DERDecoder.prototype.decode = function decode(data, options) {
        if (!(data instanceof base.DecoderBuffer))
          data = new base.DecoderBuffer(data, options);
        return this.tree._decode(data, options);
      };
      function DERNode(parent) {
        base.Node.call(this, 'der', parent);
      }
      inherits(DERNode, base.Node);
      DERNode.prototype._peekTag = function peekTag(buffer, tag, any) {
        if (buffer.isEmpty())
          return false;
        var state = buffer.save();
        var decodedTag = derDecodeTag(buffer, 'Failed to peek tag: "' + tag + '"');
        if (buffer.isError(decodedTag))
          return decodedTag;
        buffer.restore(state);
        return decodedTag.tag === tag || decodedTag.tagStr === tag || any;
      };
      DERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {
        var decodedTag = derDecodeTag(buffer, 'Failed to decode tag of "' + tag + '"');
        if (buffer.isError(decodedTag))
          return decodedTag;
        var len = derDecodeLen(buffer, decodedTag.primitive, 'Failed to get length of "' + tag + '"');
        if (buffer.isError(len))
          return len;
        if (!any && decodedTag.tag !== tag && decodedTag.tagStr !== tag && decodedTag.tagStr + 'of' !== tag) {
          return buffer.error('Failed to match tag: "' + tag + '"');
        }
        if (decodedTag.primitive || len !== null)
          return buffer.skip(len, 'Failed to match body of: "' + tag + '"');
        var state = buffer.save();
        var res = this._skipUntilEnd(buffer, 'Failed to skip indefinite length body: "' + this.tag + '"');
        if (buffer.isError(res))
          return res;
        len = buffer.offset - state.offset;
        buffer.restore(state);
        return buffer.skip(len, 'Failed to match body of: "' + tag + '"');
      };
      DERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {
        while (true) {
          var tag = derDecodeTag(buffer, fail);
          if (buffer.isError(tag))
            return tag;
          var len = derDecodeLen(buffer, tag.primitive, fail);
          if (buffer.isError(len))
            return len;
          var res;
          if (tag.primitive || len !== null)
            res = buffer.skip(len);
          else
            res = this._skipUntilEnd(buffer, fail);
          if (buffer.isError(res))
            return res;
          if (tag.tagStr === 'end')
            break;
        }
      };
      DERNode.prototype._decodeList = function decodeList(buffer, tag, decoder) {
        var result = [];
        while (!buffer.isEmpty()) {
          var possibleEnd = this._peekTag(buffer, 'end');
          if (buffer.isError(possibleEnd))
            return possibleEnd;
          var res = decoder.decode(buffer, 'der');
          if (buffer.isError(res) && possibleEnd)
            break;
          result.push(res);
        }
        return result;
      };
      DERNode.prototype._decodeStr = function decodeStr(buffer, tag) {
        if (tag === 'octstr') {
          return buffer.raw();
        } else if (tag === 'bitstr') {
          var unused = buffer.readUInt8();
          if (buffer.isError(unused))
            return unused;
          return {
            unused: unused,
            data: buffer.raw()
          };
        } else if (tag === 'ia5str' || tag === 'utf8str') {
          return buffer.raw().toString();
        } else {
          return this.error('Decoding of string type: ' + tag + ' unsupported');
        }
      };
      DERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {
        var identifiers = [];
        var ident = 0;
        while (!buffer.isEmpty()) {
          var subident = buffer.readUInt8();
          ident <<= 7;
          ident |= subident & 0x7f;
          if ((subident & 0x80) === 0) {
            identifiers.push(ident);
            ident = 0;
          }
        }
        if (subident & 0x80)
          identifiers.push(ident);
        var first = (identifiers[0] / 40) | 0;
        var second = identifiers[0] % 40;
        if (relative)
          result = identifiers;
        else
          result = [first, second].concat(identifiers.slice(1));
        if (values)
          result = values[result.join(' ')];
        return result;
      };
      DERNode.prototype._decodeTime = function decodeTime(buffer, tag) {
        var str = buffer.raw().toString();
        if (tag === 'gentime') {
          var year = str.slice(0, 4) | 0;
          var mon = str.slice(4, 6) | 0;
          var day = str.slice(6, 8) | 0;
          var hour = str.slice(8, 10) | 0;
          var min = str.slice(10, 12) | 0;
          var sec = str.slice(12, 14) | 0;
        } else if (tag === 'utctime') {
          var year = str.slice(0, 2) | 0;
          var mon = str.slice(2, 4) | 0;
          var day = str.slice(4, 6) | 0;
          var hour = str.slice(6, 8) | 0;
          var min = str.slice(8, 10) | 0;
          var sec = str.slice(10, 12) | 0;
          if (year < 70)
            year = 2000 + year;
          else
            year = 1900 + year;
        } else {
          return this.error('Decoding ' + tag + ' time is not supported yet');
        }
        return Date.UTC(year, mon - 1, day, hour, min, sec, 0);
      };
      DERNode.prototype._decodeNull = function decodeNull(buffer) {
        return null;
      };
      DERNode.prototype._decodeBool = function decodeBool(buffer) {
        var res = buffer.readUInt8();
        if (buffer.isError(res))
          return res;
        else
          return res !== 0;
      };
      DERNode.prototype._decodeInt = function decodeInt(buffer, values) {
        var raw = buffer.raw();
        var res = new bignum(raw);
        if (values)
          res = values[res.toString(10)] || res;
        return res;
      };
      DERNode.prototype._use = function use(entity, obj) {
        if (typeof entity === 'function')
          entity = entity(obj);
        return entity._getDecoder('der').tree;
      };
      function derDecodeTag(buf, fail) {
        var tag = buf.readUInt8(fail);
        if (buf.isError(tag))
          return tag;
        var cls = der.tagClass[tag >> 6];
        var primitive = (tag & 0x20) === 0;
        if ((tag & 0x1f) === 0x1f) {
          var oct = tag;
          tag = 0;
          while ((oct & 0x80) === 0x80) {
            oct = buf.readUInt8(fail);
            if (buf.isError(oct))
              return oct;
            tag <<= 7;
            tag |= oct & 0x7f;
          }
        } else {
          tag &= 0x1f;
        }
        var tagStr = der.tag[tag];
        return {
          cls: cls,
          primitive: primitive,
          tag: tag,
          tagStr: tagStr
        };
      }
      function derDecodeLen(buf, primitive, fail) {
        var len = buf.readUInt8(fail);
        if (buf.isError(len))
          return len;
        if (!primitive && len === 0x80)
          return null;
        if ((len & 0x80) === 0) {
          return len;
        }
        var num = len & 0x7f;
        if (num >= 4)
          return buf.error('length octect is too long');
        len = 0;
        for (var i = 0; i < num; i++) {
          len <<= 8;
          var j = buf.readUInt8(fail);
          if (buf.isError(j))
            return j;
          len |= j;
        }
        return len;
      }
    }, {
      "../../asn1": 98,
      "inherits": 190
    }],
    107: [function(require, module, exports) {
      var decoders = exports;
      decoders.der = require('./der');
      decoders.pem = require('./pem');
    }, {
      "./der": 106,
      "./pem": 108
    }],
    108: [function(require, module, exports) {
      var inherits = require('inherits');
      var Buffer = require('buffer').Buffer;
      var asn1 = require('../../asn1');
      var DERDecoder = require('./der');
      function PEMDecoder(entity) {
        DERDecoder.call(this, entity);
        this.enc = 'pem';
      }
      ;
      inherits(PEMDecoder, DERDecoder);
      module.exports = PEMDecoder;
      PEMDecoder.prototype.decode = function decode(data, options) {
        var lines = data.toString().split(/[\r\n]+/g);
        var label = options.label.toUpperCase();
        var re = /^-----(BEGIN|END) ([^-]+)-----$/;
        var start = -1;
        var end = -1;
        for (var i = 0; i < lines.length; i++) {
          var match = lines[i].match(re);
          if (match === null)
            continue;
          if (match[2] !== label)
            continue;
          if (start === -1) {
            if (match[1] !== 'BEGIN')
              break;
            start = i;
          } else {
            if (match[1] !== 'END')
              break;
            end = i;
            break;
          }
        }
        if (start === -1 || end === -1)
          throw new Error('PEM section not found for: ' + label);
        var base64 = lines.slice(start + 1, end).join('');
        base64.replace(/[^a-z0-9\+\/=]+/gi, '');
        var input = new Buffer(base64, 'base64');
        return DERDecoder.prototype.decode.call(this, input, options);
      };
    }, {
      "../../asn1": 98,
      "./der": 106,
      "buffer": 44,
      "inherits": 190
    }],
    109: [function(require, module, exports) {
      var inherits = require('inherits');
      var Buffer = require('buffer').Buffer;
      var asn1 = require('../../asn1');
      var base = asn1.base;
      var bignum = asn1.bignum;
      var der = asn1.constants.der;
      function DEREncoder(entity) {
        this.enc = 'der';
        this.name = entity.name;
        this.entity = entity;
        this.tree = new DERNode();
        this.tree._init(entity.body);
      }
      ;
      module.exports = DEREncoder;
      DEREncoder.prototype.encode = function encode(data, reporter) {
        return this.tree._encode(data, reporter).join();
      };
      function DERNode(parent) {
        base.Node.call(this, 'der', parent);
      }
      inherits(DERNode, base.Node);
      DERNode.prototype._encodeComposite = function encodeComposite(tag, primitive, cls, content) {
        var encodedTag = encodeTag(tag, primitive, cls, this.reporter);
        if (content.length < 0x80) {
          var header = new Buffer(2);
          header[0] = encodedTag;
          header[1] = content.length;
          return this._createEncoderBuffer([header, content]);
        }
        var lenOctets = 1;
        for (var i = content.length; i >= 0x100; i >>= 8)
          lenOctets++;
        var header = new Buffer(1 + 1 + lenOctets);
        header[0] = encodedTag;
        header[1] = 0x80 | lenOctets;
        for (var i = 1 + lenOctets,
            j = content.length; j > 0; i--, j >>= 8)
          header[i] = j & 0xff;
        return this._createEncoderBuffer([header, content]);
      };
      DERNode.prototype._encodeStr = function encodeStr(str, tag) {
        if (tag === 'octstr')
          return this._createEncoderBuffer(str);
        else if (tag === 'bitstr')
          return this._createEncoderBuffer([str.unused | 0, str.data]);
        else if (tag === 'ia5str' || tag === 'utf8str')
          return this._createEncoderBuffer(str);
        return this.reporter.error('Encoding of string type: ' + tag + ' unsupported');
      };
      DERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {
        if (typeof id === 'string') {
          if (!values)
            return this.reporter.error('string objid given, but no values map found');
          if (!values.hasOwnProperty(id))
            return this.reporter.error('objid not found in values map');
          id = values[id].split(/[\s\.]+/g);
          for (var i = 0; i < id.length; i++)
            id[i] |= 0;
        } else if (Array.isArray(id)) {
          id = id.slice();
          for (var i = 0; i < id.length; i++)
            id[i] |= 0;
        }
        if (!Array.isArray(id)) {
          return this.reporter.error('objid() should be either array or string, ' + 'got: ' + JSON.stringify(id));
        }
        if (!relative) {
          if (id[1] >= 40)
            return this.reporter.error('Second objid identifier OOB');
          id.splice(0, 2, id[0] * 40 + id[1]);
        }
        var size = 0;
        for (var i = 0; i < id.length; i++) {
          var ident = id[i];
          for (size++; ident >= 0x80; ident >>= 7)
            size++;
        }
        var objid = new Buffer(size);
        var offset = objid.length - 1;
        for (var i = id.length - 1; i >= 0; i--) {
          var ident = id[i];
          objid[offset--] = ident & 0x7f;
          while ((ident >>= 7) > 0)
            objid[offset--] = 0x80 | (ident & 0x7f);
        }
        return this._createEncoderBuffer(objid);
      };
      function two(num) {
        if (num < 10)
          return '0' + num;
        else
          return num;
      }
      DERNode.prototype._encodeTime = function encodeTime(time, tag) {
        var str;
        var date = new Date(time);
        if (tag === 'gentime') {
          str = [two(date.getFullYear()), two(date.getUTCMonth() + 1), two(date.getUTCDate()), two(date.getUTCHours()), two(date.getUTCMinutes()), two(date.getUTCSeconds()), 'Z'].join('');
        } else if (tag === 'utctime') {
          str = [two(date.getFullYear() % 100), two(date.getUTCMonth() + 1), two(date.getUTCDate()), two(date.getUTCHours()), two(date.getUTCMinutes()), two(date.getUTCSeconds()), 'Z'].join('');
        } else {
          this.reporter.error('Encoding ' + tag + ' time is not supported yet');
        }
        return this._encodeStr(str, 'octstr');
      };
      DERNode.prototype._encodeNull = function encodeNull() {
        return this._createEncoderBuffer('');
      };
      DERNode.prototype._encodeInt = function encodeInt(num, values) {
        if (typeof num === 'string') {
          if (!values)
            return this.reporter.error('String int or enum given, but no values map');
          if (!values.hasOwnProperty(num)) {
            return this.reporter.error('Values map doesn\'t contain: ' + JSON.stringify(num));
          }
          num = values[num];
        }
        if (typeof num !== 'number' && !Buffer.isBuffer(num)) {
          var numArray = num.toArray();
          if (num.sign === false && numArray[0] & 0x80) {
            numArray.unshift(0);
          }
          num = new Buffer(numArray);
        }
        if (Buffer.isBuffer(num)) {
          var size = num.length;
          if (num.length === 0)
            size++;
          var out = new Buffer(size);
          num.copy(out);
          if (num.length === 0)
            out[0] = 0;
          return this._createEncoderBuffer(out);
        }
        if (num < 0x80)
          return this._createEncoderBuffer(num);
        if (num < 0x100)
          return this._createEncoderBuffer([0, num]);
        var size = 1;
        for (var i = num; i >= 0x100; i >>= 8)
          size++;
        var out = new Array(size);
        for (var i = out.length - 1; i >= 0; i--) {
          out[i] = num & 0xff;
          num >>= 8;
        }
        if (out[0] & 0x80) {
          out.unshift(0);
        }
        return this._createEncoderBuffer(new Buffer(out));
      };
      DERNode.prototype._encodeBool = function encodeBool(value) {
        return this._createEncoderBuffer(value ? 0xff : 0);
      };
      DERNode.prototype._use = function use(entity, obj) {
        if (typeof entity === 'function')
          entity = entity(obj);
        return entity._getEncoder('der').tree;
      };
      DERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {
        var state = this._baseState;
        var i;
        if (state['default'] === null)
          return false;
        var data = dataBuffer.join();
        if (state.defaultBuffer === undefined)
          state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();
        if (data.length !== state.defaultBuffer.length)
          return false;
        for (i = 0; i < data.length; i++)
          if (data[i] !== state.defaultBuffer[i])
            return false;
        return true;
      };
      function encodeTag(tag, primitive, cls, reporter) {
        var res;
        if (tag === 'seqof')
          tag = 'seq';
        else if (tag === 'setof')
          tag = 'set';
        if (der.tagByName.hasOwnProperty(tag))
          res = der.tagByName[tag];
        else if (typeof tag === 'number' && (tag | 0) === tag)
          res = tag;
        else
          return reporter.error('Unknown tag: ' + tag);
        if (res >= 0x1f)
          return reporter.error('Multi-octet tag encoding unsupported');
        if (!primitive)
          res |= 0x20;
        res |= (der.tagClassByName[cls || 'universal'] << 6);
        return res;
      }
    }, {
      "../../asn1": 98,
      "buffer": 44,
      "inherits": 190
    }],
    110: [function(require, module, exports) {
      var encoders = exports;
      encoders.der = require('./der');
      encoders.pem = require('./pem');
    }, {
      "./der": 109,
      "./pem": 111
    }],
    111: [function(require, module, exports) {
      var inherits = require('inherits');
      var Buffer = require('buffer').Buffer;
      var asn1 = require('../../asn1');
      var DEREncoder = require('./der');
      function PEMEncoder(entity) {
        DEREncoder.call(this, entity);
        this.enc = 'pem';
      }
      ;
      inherits(PEMEncoder, DEREncoder);
      module.exports = PEMEncoder;
      PEMEncoder.prototype.encode = function encode(data, options) {
        var buf = DEREncoder.prototype.encode.call(this, data);
        var p = buf.toString('base64');
        var out = ['-----BEGIN ' + options.label + '-----'];
        for (var i = 0; i < p.length; i += 64)
          out.push(p.slice(i, i + 64));
        out.push('-----END ' + options.label + '-----');
        return out.join('\n');
      };
    }, {
      "../../asn1": 98,
      "./der": 109,
      "buffer": 44,
      "inherits": 190
    }],
    112: [function(require, module, exports) {
      module.exports = assert;
      function assert(val, msg) {
        if (!val)
          throw new Error(msg || 'Assertion failed');
      }
      assert.equal = function assertEqual(l, r, msg) {
        if (l != r)
          throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));
      };
    }, {}],
    113: [function(require, module, exports) {
      (function(Buffer) {
        var createHmac = require('create-hmac');
        var crt = require('browserify-rsa');
        var curves = require('./curves');
        var elliptic = require('elliptic');
        var parseKeys = require('parse-asn1');
        var BN = require('bn.js');
        var EC = elliptic.ec;
        function sign(hash, key, hashType, signType) {
          var priv = parseKeys(key);
          if (priv.curve) {
            if (signType !== 'ecdsa')
              throw new Error('wrong private key type');
            return ecSign(hash, priv);
          } else if (priv.type === 'dsa') {
            if (signType !== 'dsa') {
              throw new Error('wrong private key type');
            }
            return dsaSign(hash, priv, hashType);
          } else {
            if (signType !== 'rsa')
              throw new Error('wrong private key type');
          }
          var len = priv.modulus.byteLength();
          var pad = [0, 1];
          while (hash.length + pad.length + 1 < len) {
            pad.push(0xff);
          }
          pad.push(0x00);
          var i = -1;
          while (++i < hash.length) {
            pad.push(hash[i]);
          }
          var out = crt(pad, priv);
          return out;
        }
        function ecSign(hash, priv) {
          var curveId = curves[priv.curve.join('.')];
          if (!curveId)
            throw new Error('unknown curve ' + priv.curve.join('.'));
          var curve = new EC(curveId);
          var key = curve.genKeyPair();
          key._importPrivate(priv.privateKey);
          var out = key.sign(hash);
          return new Buffer(out.toDER());
        }
        function dsaSign(hash, priv, algo) {
          var x = priv.params.priv_key;
          var p = priv.params.p;
          var q = priv.params.q;
          var g = priv.params.g;
          var r = new BN(0);
          var k;
          var H = bits2int(hash, q).mod(q);
          var s = false;
          var kv = getKey(x, q, hash, algo);
          while (s === false) {
            k = makeKey(q, kv, algo);
            r = makeR(g, k, p, q);
            s = k.invm(q).imul(H.add(x.mul(r))).mod(q);
            if (!s.cmpn(0)) {
              s = false;
              r = new BN(0);
            }
          }
          return toDER(r, s);
        }
        function toDER(r, s) {
          r = r.toArray();
          s = s.toArray();
          if (r[0] & 0x80) {
            r = [0].concat(r);
          }
          if (s[0] & 0x80) {
            s = [0].concat(s);
          }
          var total = r.length + s.length + 4;
          var res = [0x30, total, 0x02, r.length];
          res = res.concat(r, [0x02, s.length], s);
          return new Buffer(res);
        }
        function getKey(x, q, hash, algo) {
          x = new Buffer(x.toArray());
          if (x.length < q.byteLength()) {
            var zeros = new Buffer(q.byteLength() - x.length);
            zeros.fill(0);
            x = Buffer.concat([zeros, x]);
          }
          var hlen = hash.length;
          var hbits = bits2octets(hash, q);
          var v = new Buffer(hlen);
          v.fill(1);
          var k = new Buffer(hlen);
          k.fill(0);
          k = createHmac(algo, k).update(v).update(new Buffer([0])).update(x).update(hbits).digest();
          v = createHmac(algo, k).update(v).digest();
          k = createHmac(algo, k).update(v).update(new Buffer([1])).update(x).update(hbits).digest();
          v = createHmac(algo, k).update(v).digest();
          return {
            k: k,
            v: v
          };
        }
        function bits2int(obits, q) {
          var bits = new BN(obits);
          var shift = (obits.length << 3) - q.bitLength();
          if (shift > 0) {
            bits.ishrn(shift);
          }
          return bits;
        }
        function bits2octets(bits, q) {
          bits = bits2int(bits, q);
          bits = bits.mod(q);
          var out = new Buffer(bits.toArray());
          if (out.length < q.byteLength()) {
            var zeros = new Buffer(q.byteLength() - out.length);
            zeros.fill(0);
            out = Buffer.concat([zeros, out]);
          }
          return out;
        }
        function makeKey(q, kv, algo) {
          var t,
              k;
          do {
            t = new Buffer('');
            while (t.length * 8 < q.bitLength()) {
              kv.v = createHmac(algo, kv.k).update(kv.v).digest();
              t = Buffer.concat([t, kv.v]);
            }
            k = bits2int(t, q);
            kv.k = createHmac(algo, kv.k).update(kv.v).update(new Buffer([0])).digest();
            kv.v = createHmac(algo, kv.k).update(kv.v).digest();
          } while (k.cmp(q) !== -1);
          return k;
        }
        function makeR(g, k, p, q) {
          return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q);
        }
        module.exports = sign;
        module.exports.getKey = getKey;
        module.exports.makeKey = makeKey;
      }).call(this, require("buffer").Buffer);
    }, {
      "./curves": 69,
      "bn.js": 70,
      "browserify-rsa": 71,
      "buffer": 44,
      "create-hmac": 151,
      "elliptic": 72,
      "parse-asn1": 97
    }],
    114: [function(require, module, exports) {
      (function(Buffer) {
        var curves = require('./curves');
        var elliptic = require('elliptic');
        var parseKeys = require('parse-asn1');
        var BN = require('bn.js');
        var EC = elliptic.ec;
        function verify(sig, hash, key, signType) {
          var pub = parseKeys(key);
          if (pub.type === 'ec') {
            if (signType !== 'ecdsa') {
              throw new Error('wrong public key type');
            }
            return ecVerify(sig, hash, pub);
          } else if (pub.type === 'dsa') {
            if (signType !== 'dsa') {
              throw new Error('wrong public key type');
            }
            return dsaVerify(sig, hash, pub);
          } else {
            if (signType !== 'rsa') {
              throw new Error('wrong public key type');
            }
          }
          var len = pub.modulus.byteLength();
          var pad = [1];
          var padNum = 0;
          while (hash.length + pad.length + 2 < len) {
            pad.push(0xff);
            padNum++;
          }
          pad.push(0x00);
          var i = -1;
          while (++i < hash.length) {
            pad.push(hash[i]);
          }
          pad = new Buffer(pad);
          var red = BN.mont(pub.modulus);
          sig = new BN(sig).toRed(red);
          sig = sig.redPow(new BN(pub.publicExponent));
          sig = new Buffer(sig.fromRed().toArray());
          var out = 0;
          if (padNum < 8) {
            out = 1;
          }
          len = Math.min(sig.length, pad.length);
          if (sig.length !== pad.length) {
            out = 1;
          }
          i = -1;
          while (++i < len) {
            out |= (sig[i] ^ pad[i]);
          }
          return out === 0;
        }
        function ecVerify(sig, hash, pub) {
          var curveId = curves[pub.data.algorithm.curve.join('.')];
          if (!curveId)
            throw new Error('unknown curve ' + pub.data.algorithm.curve.join('.'));
          var curve = new EC(curveId);
          var pubkey = pub.data.subjectPrivateKey.data;
          return curve.verify(hash, sig, pubkey);
        }
        function dsaVerify(sig, hash, pub) {
          var p = pub.data.p;
          var q = pub.data.q;
          var g = pub.data.g;
          var y = pub.data.pub_key;
          var unpacked = parseKeys.signature.decode(sig, 'der');
          var s = unpacked.s;
          var r = unpacked.r;
          checkValue(s, q);
          checkValue(r, q);
          var montp = BN.mont(p);
          var w = s.invm(q);
          var v = g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);
          return !v.cmp(r);
        }
        function checkValue(b, q) {
          if (b.cmpn(0) <= 0) {
            throw new Error('invalid sig');
          }
          if (b.cmp(q) >= q) {
            throw new Error('invalid sig');
          }
        }
        module.exports = verify;
      }).call(this, require("buffer").Buffer);
    }, {
      "./curves": 69,
      "bn.js": 70,
      "buffer": 44,
      "elliptic": 72,
      "parse-asn1": 97
    }],
    115: [function(require, module, exports) {
      (function(Buffer) {
        var elliptic = require('elliptic');
        var BN = require('bn.js');
        module.exports = function createECDH(curve) {
          return new ECDH(curve);
        };
        var aliases = {
          secp256k1: {
            name: 'secp256k1',
            byteLength: 32
          },
          secp224r1: {
            name: 'p224',
            byteLength: 28
          },
          prime256v1: {
            name: 'p256',
            byteLength: 32
          },
          prime192v1: {
            name: 'p192',
            byteLength: 24
          },
          ed25519: {
            name: 'ed25519',
            byteLength: 32
          }
        };
        aliases.p224 = aliases.secp224r1;
        aliases.p256 = aliases.secp256r1 = aliases.prime256v1;
        aliases.p192 = aliases.secp192r1 = aliases.prime192v1;
        function ECDH(curve) {
          this.curveType = aliases[curve];
          if (!this.curveType) {
            this.curveType = {name: curve};
          }
          this.curve = new elliptic.ec(this.curveType.name);
          this.keys = void 0;
        }
        ECDH.prototype.generateKeys = function(enc, format) {
          this.keys = this.curve.genKeyPair();
          return this.getPublicKey(enc, format);
        };
        ECDH.prototype.computeSecret = function(other, inenc, enc) {
          inenc = inenc || 'utf8';
          if (!Buffer.isBuffer(other)) {
            other = new Buffer(other, inenc);
          }
          var otherPub = this.curve.keyFromPublic(other).getPublic();
          var out = otherPub.mul(this.keys.getPrivate()).getX();
          return formatReturnValue(out, enc, this.curveType.byteLength);
        };
        ECDH.prototype.getPublicKey = function(enc, format) {
          var key = this.keys.getPublic(format === 'compressed', true);
          if (format === 'hybrid') {
            if (key[key.length - 1] % 2) {
              key[0] = 7;
            } else {
              key[0] = 6;
            }
          }
          return formatReturnValue(key, enc);
        };
        ECDH.prototype.getPrivateKey = function(enc) {
          return formatReturnValue(this.keys.getPrivate(), enc);
        };
        ECDH.prototype.setPublicKey = function(pub, enc) {
          enc = enc || 'utf8';
          if (!Buffer.isBuffer(pub)) {
            pub = new Buffer(pub, enc);
          }
          this.keys._importPublic(pub);
          return this;
        };
        ECDH.prototype.setPrivateKey = function(priv, enc) {
          enc = enc || 'utf8';
          if (!Buffer.isBuffer(priv)) {
            priv = new Buffer(priv, enc);
          }
          var _priv = new BN(priv);
          _priv = _priv.toString(16);
          this.keys._importPrivate(_priv);
          return this;
        };
        function formatReturnValue(bn, enc, len) {
          if (!Array.isArray(bn)) {
            bn = bn.toArray();
          }
          var buf = new Buffer(bn);
          if (len && buf.length < len) {
            var zeros = new Buffer(len - buf.length);
            zeros.fill(0);
            buf = Buffer.concat([zeros, buf]);
          }
          if (!enc) {
            return buf;
          } else {
            return buf.toString(enc);
          }
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "bn.js": 117,
      "buffer": 44,
      "elliptic": 118
    }],
    116: [function(require, module, exports) {
      var createECDH = require('crypto').createECDH;
      module.exports = createECDH || require('./browser');
    }, {
      "./browser": 115,
      "crypto": 48
    }],
    117: [function(require, module, exports) {
      arguments[4][70][0].apply(exports, arguments);
    }, {"dup": 70}],
    118: [function(require, module, exports) {
      arguments[4][72][0].apply(exports, arguments);
    }, {
      "../package.json": 138,
      "./elliptic/curve": 121,
      "./elliptic/curves": 124,
      "./elliptic/ec": 125,
      "./elliptic/hmac-drbg": 128,
      "./elliptic/utils": 130,
      "brorand": 131,
      "dup": 72
    }],
    119: [function(require, module, exports) {
      arguments[4][73][0].apply(exports, arguments);
    }, {
      "../../elliptic": 118,
      "bn.js": 117,
      "dup": 73
    }],
    120: [function(require, module, exports) {
      arguments[4][74][0].apply(exports, arguments);
    }, {
      "../../elliptic": 118,
      "../curve": 121,
      "bn.js": 117,
      "dup": 74,
      "inherits": 190
    }],
    121: [function(require, module, exports) {
      arguments[4][75][0].apply(exports, arguments);
    }, {
      "./base": 119,
      "./edwards": 120,
      "./mont": 122,
      "./short": 123,
      "dup": 75
    }],
    122: [function(require, module, exports) {
      arguments[4][76][0].apply(exports, arguments);
    }, {
      "../curve": 121,
      "bn.js": 117,
      "dup": 76,
      "inherits": 190
    }],
    123: [function(require, module, exports) {
      arguments[4][77][0].apply(exports, arguments);
    }, {
      "../../elliptic": 118,
      "../curve": 121,
      "bn.js": 117,
      "dup": 77,
      "inherits": 190
    }],
    124: [function(require, module, exports) {
      arguments[4][78][0].apply(exports, arguments);
    }, {
      "../elliptic": 118,
      "./precomputed/secp256k1": 129,
      "dup": 78,
      "hash.js": 132
    }],
    125: [function(require, module, exports) {
      arguments[4][79][0].apply(exports, arguments);
    }, {
      "../../elliptic": 118,
      "./key": 126,
      "./signature": 127,
      "bn.js": 117,
      "dup": 79
    }],
    126: [function(require, module, exports) {
      arguments[4][80][0].apply(exports, arguments);
    }, {
      "../../elliptic": 118,
      "bn.js": 117,
      "dup": 80
    }],
    127: [function(require, module, exports) {
      arguments[4][81][0].apply(exports, arguments);
    }, {
      "../../elliptic": 118,
      "bn.js": 117,
      "dup": 81
    }],
    128: [function(require, module, exports) {
      arguments[4][82][0].apply(exports, arguments);
    }, {
      "../elliptic": 118,
      "dup": 82,
      "hash.js": 132
    }],
    129: [function(require, module, exports) {
      arguments[4][83][0].apply(exports, arguments);
    }, {"dup": 83}],
    130: [function(require, module, exports) {
      arguments[4][84][0].apply(exports, arguments);
    }, {"dup": 84}],
    131: [function(require, module, exports) {
      arguments[4][85][0].apply(exports, arguments);
    }, {"dup": 85}],
    132: [function(require, module, exports) {
      arguments[4][86][0].apply(exports, arguments);
    }, {
      "./hash/common": 133,
      "./hash/hmac": 134,
      "./hash/ripemd": 135,
      "./hash/sha": 136,
      "./hash/utils": 137,
      "dup": 86
    }],
    133: [function(require, module, exports) {
      arguments[4][87][0].apply(exports, arguments);
    }, {
      "../hash": 132,
      "dup": 87
    }],
    134: [function(require, module, exports) {
      arguments[4][88][0].apply(exports, arguments);
    }, {
      "../hash": 132,
      "dup": 88
    }],
    135: [function(require, module, exports) {
      arguments[4][89][0].apply(exports, arguments);
    }, {
      "../hash": 132,
      "dup": 89
    }],
    136: [function(require, module, exports) {
      arguments[4][90][0].apply(exports, arguments);
    }, {
      "../hash": 132,
      "dup": 90
    }],
    137: [function(require, module, exports) {
      arguments[4][91][0].apply(exports, arguments);
    }, {
      "dup": 91,
      "inherits": 190
    }],
    138: [function(require, module, exports) {
      arguments[4][92][0].apply(exports, arguments);
    }, {"dup": 92}],
    139: [function(require, module, exports) {
      (function(Buffer) {
        'use strict';
        var inherits = require('inherits');
        var md5 = require('./md5');
        var rmd160 = require('ripemd160');
        var sha = require('sha.js');
        var Transform = require('stream').Transform;
        function HashNoConstructor(hash) {
          Transform.call(this);
          this._hash = hash;
          this.buffers = [];
        }
        inherits(HashNoConstructor, Transform);
        HashNoConstructor.prototype._transform = function(data, _, next) {
          this.buffers.push(data);
          next();
        };
        HashNoConstructor.prototype._flush = function(next) {
          this.push(this.digest());
          next();
        };
        HashNoConstructor.prototype.update = function(data, enc) {
          if (typeof data === 'string') {
            data = new Buffer(data, enc);
          }
          this.buffers.push(data);
          return this;
        };
        HashNoConstructor.prototype.digest = function(enc) {
          var buf = Buffer.concat(this.buffers);
          var r = this._hash(buf);
          this.buffers = null;
          return enc ? r.toString(enc) : r;
        };
        function Hash(hash) {
          Transform.call(this);
          this._hash = hash;
        }
        inherits(Hash, Transform);
        Hash.prototype._transform = function(data, enc, next) {
          if (enc)
            data = new Buffer(data, enc);
          this._hash.update(data);
          next();
        };
        Hash.prototype._flush = function(next) {
          this.push(this._hash.digest());
          this._hash = null;
          next();
        };
        Hash.prototype.update = function(data, enc) {
          if (typeof data === 'string') {
            data = new Buffer(data, enc);
          }
          this._hash.update(data);
          return this;
        };
        Hash.prototype.digest = function(enc) {
          var outData = this._hash.digest();
          return enc ? outData.toString(enc) : outData;
        };
        module.exports = function createHash(alg) {
          if ('md5' === alg)
            return new HashNoConstructor(md5);
          if ('rmd160' === alg)
            return new HashNoConstructor(rmd160);
          return new Hash(sha(alg));
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "./md5": 141,
      "buffer": 44,
      "inherits": 190,
      "ripemd160": 142,
      "sha.js": 144,
      "stream": 206
    }],
    140: [function(require, module, exports) {
      (function(Buffer) {
        'use strict';
        var intSize = 4;
        var zeroBuffer = new Buffer(intSize);
        zeroBuffer.fill(0);
        var chrsz = 8;
        function toArray(buf, bigEndian) {
          if ((buf.length % intSize) !== 0) {
            var len = buf.length + (intSize - (buf.length % intSize));
            buf = Buffer.concat([buf, zeroBuffer], len);
          }
          var arr = [];
          var fn = bigEndian ? buf.readInt32BE : buf.readInt32LE;
          for (var i = 0; i < buf.length; i += intSize) {
            arr.push(fn.call(buf, i));
          }
          return arr;
        }
        function toBuffer(arr, size, bigEndian) {
          var buf = new Buffer(size);
          var fn = bigEndian ? buf.writeInt32BE : buf.writeInt32LE;
          for (var i = 0; i < arr.length; i++) {
            fn.call(buf, arr[i], i * 4, true);
          }
          return buf;
        }
        function hash(buf, fn, hashSize, bigEndian) {
          if (!Buffer.isBuffer(buf))
            buf = new Buffer(buf);
          var arr = fn(toArray(buf, bigEndian), buf.length * chrsz);
          return toBuffer(arr, hashSize, bigEndian);
        }
        exports.hash = hash;
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    141: [function(require, module, exports) {
      'use strict';
      var helpers = require('./helpers');
      function core_md5(x, len) {
        x[len >> 5] |= 0x80 << ((len) % 32);
        x[(((len + 64) >>> 9) << 4) + 14] = len;
        var a = 1732584193;
        var b = -271733879;
        var c = -1732584194;
        var d = 271733878;
        for (var i = 0; i < x.length; i += 16) {
          var olda = a;
          var oldb = b;
          var oldc = c;
          var oldd = d;
          a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
          d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
          c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
          b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
          a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
          d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
          c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
          b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
          a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
          d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
          c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);
          b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
          a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
          d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
          c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
          b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
          a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
          d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
          c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
          b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
          a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
          d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
          c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
          b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
          a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
          d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
          c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
          b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
          a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
          d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
          c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
          b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);
          a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);
          d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
          c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
          b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
          a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
          d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
          c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
          b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
          a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
          d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
          c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
          b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
          a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
          d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
          c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
          b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);
          a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
          d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
          c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
          b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
          a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
          d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
          c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
          b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
          a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
          d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
          c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
          b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
          a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
          d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
          c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
          b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);
          a = safe_add(a, olda);
          b = safe_add(b, oldb);
          c = safe_add(c, oldc);
          d = safe_add(d, oldd);
        }
        return Array(a, b, c, d);
      }
      function md5_cmn(q, a, b, x, s, t) {
        return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);
      }
      function md5_ff(a, b, c, d, x, s, t) {
        return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
      }
      function md5_gg(a, b, c, d, x, s, t) {
        return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
      }
      function md5_hh(a, b, c, d, x, s, t) {
        return md5_cmn(b ^ c ^ d, a, b, x, s, t);
      }
      function md5_ii(a, b, c, d, x, s, t) {
        return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
      }
      function safe_add(x, y) {
        var lsw = (x & 0xFFFF) + (y & 0xFFFF);
        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
        return (msw << 16) | (lsw & 0xFFFF);
      }
      function bit_rol(num, cnt) {
        return (num << cnt) | (num >>> (32 - cnt));
      }
      module.exports = function md5(buf) {
        return helpers.hash(buf, core_md5, 16);
      };
    }, {"./helpers": 140}],
    142: [function(require, module, exports) {
      (function(Buffer) {
        var zl = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13];
        var zr = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11];
        var sl = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6];
        var sr = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11];
        var hl = [0x00000000, 0x5A827999, 0x6ED9EBA1, 0x8F1BBCDC, 0xA953FD4E];
        var hr = [0x50A28BE6, 0x5C4DD124, 0x6D703EF3, 0x7A6D76E9, 0x00000000];
        function bytesToWords(bytes) {
          var words = [];
          for (var i = 0,
              b = 0; i < bytes.length; i++, b += 8) {
            words[b >>> 5] |= bytes[i] << (24 - b % 32);
          }
          return words;
        }
        function wordsToBytes(words) {
          var bytes = [];
          for (var b = 0; b < words.length * 32; b += 8) {
            bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);
          }
          return bytes;
        }
        function processBlock(H, M, offset) {
          for (var i = 0; i < 16; i++) {
            var offset_i = offset + i;
            var M_offset_i = M[offset_i];
            M[offset_i] = ((((M_offset_i << 8) | (M_offset_i >>> 24)) & 0x00ff00ff) | (((M_offset_i << 24) | (M_offset_i >>> 8)) & 0xff00ff00));
          }
          var al,
              bl,
              cl,
              dl,
              el;
          var ar,
              br,
              cr,
              dr,
              er;
          ar = al = H[0];
          br = bl = H[1];
          cr = cl = H[2];
          dr = dl = H[3];
          er = el = H[4];
          var t;
          for (i = 0; i < 80; i += 1) {
            t = (al + M[offset + zl[i]]) | 0;
            if (i < 16) {
              t += f1(bl, cl, dl) + hl[0];
            } else if (i < 32) {
              t += f2(bl, cl, dl) + hl[1];
            } else if (i < 48) {
              t += f3(bl, cl, dl) + hl[2];
            } else if (i < 64) {
              t += f4(bl, cl, dl) + hl[3];
            } else {
              t += f5(bl, cl, dl) + hl[4];
            }
            t = t | 0;
            t = rotl(t, sl[i]);
            t = (t + el) | 0;
            al = el;
            el = dl;
            dl = rotl(cl, 10);
            cl = bl;
            bl = t;
            t = (ar + M[offset + zr[i]]) | 0;
            if (i < 16) {
              t += f5(br, cr, dr) + hr[0];
            } else if (i < 32) {
              t += f4(br, cr, dr) + hr[1];
            } else if (i < 48) {
              t += f3(br, cr, dr) + hr[2];
            } else if (i < 64) {
              t += f2(br, cr, dr) + hr[3];
            } else {
              t += f1(br, cr, dr) + hr[4];
            }
            t = t | 0;
            t = rotl(t, sr[i]);
            t = (t + er) | 0;
            ar = er;
            er = dr;
            dr = rotl(cr, 10);
            cr = br;
            br = t;
          }
          t = (H[1] + cl + dr) | 0;
          H[1] = (H[2] + dl + er) | 0;
          H[2] = (H[3] + el + ar) | 0;
          H[3] = (H[4] + al + br) | 0;
          H[4] = (H[0] + bl + cr) | 0;
          H[0] = t;
        }
        function f1(x, y, z) {
          return ((x) ^ (y) ^ (z));
        }
        function f2(x, y, z) {
          return (((x) & (y)) | ((~x) & (z)));
        }
        function f3(x, y, z) {
          return (((x) | (~(y))) ^ (z));
        }
        function f4(x, y, z) {
          return (((x) & (z)) | ((y) & (~(z))));
        }
        function f5(x, y, z) {
          return ((x) ^ ((y) | (~(z))));
        }
        function rotl(x, n) {
          return (x << n) | (x >>> (32 - n));
        }
        function ripemd160(message) {
          var H = [0x67452301, 0xEFCDAB89, 0x98BADCFE, 0x10325476, 0xC3D2E1F0];
          if (typeof message === 'string') {
            message = new Buffer(message, 'utf8');
          }
          var m = bytesToWords(message);
          var nBitsLeft = message.length * 8;
          var nBitsTotal = message.length * 8;
          m[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);
          m[(((nBitsLeft + 64) >>> 9) << 4) + 14] = ((((nBitsTotal << 8) | (nBitsTotal >>> 24)) & 0x00ff00ff) | (((nBitsTotal << 24) | (nBitsTotal >>> 8)) & 0xff00ff00));
          for (var i = 0; i < m.length; i += 16) {
            processBlock(H, m, i);
          }
          for (i = 0; i < 5; i++) {
            var H_i = H[i];
            H[i] = (((H_i << 8) | (H_i >>> 24)) & 0x00ff00ff) | (((H_i << 24) | (H_i >>> 8)) & 0xff00ff00);
          }
          var digestbytes = wordsToBytes(H);
          return new Buffer(digestbytes);
        }
        module.exports = ripemd160;
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    143: [function(require, module, exports) {
      (function(Buffer) {
        function Hash(blockSize, finalSize) {
          this._block = new Buffer(blockSize);
          this._finalSize = finalSize;
          this._blockSize = blockSize;
          this._len = 0;
          this._s = 0;
        }
        Hash.prototype.update = function(data, enc) {
          if (typeof data === 'string') {
            enc = enc || 'utf8';
            data = new Buffer(data, enc);
          }
          var l = this._len += data.length;
          var s = this._s || 0;
          var f = 0;
          var buffer = this._block;
          while (s < l) {
            var t = Math.min(data.length, f + this._blockSize - (s % this._blockSize));
            var ch = (t - f);
            for (var i = 0; i < ch; i++) {
              buffer[(s % this._blockSize) + i] = data[i + f];
            }
            s += ch;
            f += ch;
            if ((s % this._blockSize) === 0) {
              this._update(buffer);
            }
          }
          this._s = s;
          return this;
        };
        Hash.prototype.digest = function(enc) {
          var l = this._len * 8;
          this._block[this._len % this._blockSize] = 0x80;
          this._block.fill(0, this._len % this._blockSize + 1);
          if (l % (this._blockSize * 8) >= this._finalSize * 8) {
            this._update(this._block);
            this._block.fill(0);
          }
          this._block.writeInt32BE(l, this._blockSize - 4);
          var hash = this._update(this._block) || this._hash();
          return enc ? hash.toString(enc) : hash;
        };
        Hash.prototype._update = function() {
          throw new Error('_update must be implemented by subclass');
        };
        module.exports = Hash;
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    144: [function(require, module, exports) {
      var exports = module.exports = function SHA(algorithm) {
        algorithm = algorithm.toLowerCase();
        var Algorithm = exports[algorithm];
        if (!Algorithm)
          throw new Error(algorithm + ' is not supported (we accept pull requests)');
        return new Algorithm();
      };
      exports.sha = require('./sha');
      exports.sha1 = require('./sha1');
      exports.sha224 = require('./sha224');
      exports.sha256 = require('./sha256');
      exports.sha384 = require('./sha384');
      exports.sha512 = require('./sha512');
    }, {
      "./sha": 145,
      "./sha1": 146,
      "./sha224": 147,
      "./sha256": 148,
      "./sha384": 149,
      "./sha512": 150
    }],
    145: [function(require, module, exports) {
      (function(Buffer) {
        var inherits = require('inherits');
        var Hash = require('./hash');
        var W = new Array(80);
        function Sha() {
          this.init();
          this._w = W;
          Hash.call(this, 64, 56);
        }
        inherits(Sha, Hash);
        Sha.prototype.init = function() {
          this._a = 0x67452301 | 0;
          this._b = 0xefcdab89 | 0;
          this._c = 0x98badcfe | 0;
          this._d = 0x10325476 | 0;
          this._e = 0xc3d2e1f0 | 0;
          return this;
        };
        function rol(num, cnt) {
          return (num << cnt) | (num >>> (32 - cnt));
        }
        Sha.prototype._update = function(M) {
          var W = this._w;
          var a = this._a;
          var b = this._b;
          var c = this._c;
          var d = this._d;
          var e = this._e;
          var j = 0;
          var k;
          function calcW() {
            return W[j - 3] ^ W[j - 8] ^ W[j - 14] ^ W[j - 16];
          }
          function loop(w, f) {
            W[j] = w;
            var t = rol(a, 5) + f + e + w + k;
            e = d;
            d = c;
            c = rol(b, 30);
            b = a;
            a = t;
            j++;
          }
          k = 1518500249;
          while (j < 16)
            loop(M.readInt32BE(j * 4), (b & c) | ((~b) & d));
          while (j < 20)
            loop(calcW(), (b & c) | ((~b) & d));
          k = 1859775393;
          while (j < 40)
            loop(calcW(), b ^ c ^ d);
          k = -1894007588;
          while (j < 60)
            loop(calcW(), (b & c) | (b & d) | (c & d));
          k = -899497514;
          while (j < 80)
            loop(calcW(), b ^ c ^ d);
          this._a = (a + this._a) | 0;
          this._b = (b + this._b) | 0;
          this._c = (c + this._c) | 0;
          this._d = (d + this._d) | 0;
          this._e = (e + this._e) | 0;
        };
        Sha.prototype._hash = function() {
          var H = new Buffer(20);
          H.writeInt32BE(this._a | 0, 0);
          H.writeInt32BE(this._b | 0, 4);
          H.writeInt32BE(this._c | 0, 8);
          H.writeInt32BE(this._d | 0, 12);
          H.writeInt32BE(this._e | 0, 16);
          return H;
        };
        module.exports = Sha;
      }).call(this, require("buffer").Buffer);
    }, {
      "./hash": 143,
      "buffer": 44,
      "inherits": 190
    }],
    146: [function(require, module, exports) {
      (function(Buffer) {
        var inherits = require('inherits');
        var Hash = require('./hash');
        var W = new Array(80);
        function Sha1() {
          this.init();
          this._w = W;
          Hash.call(this, 64, 56);
        }
        inherits(Sha1, Hash);
        Sha1.prototype.init = function() {
          this._a = 0x67452301 | 0;
          this._b = 0xefcdab89 | 0;
          this._c = 0x98badcfe | 0;
          this._d = 0x10325476 | 0;
          this._e = 0xc3d2e1f0 | 0;
          return this;
        };
        function rol(num, cnt) {
          return (num << cnt) | (num >>> (32 - cnt));
        }
        Sha1.prototype._update = function(M) {
          var W = this._w;
          var a = this._a;
          var b = this._b;
          var c = this._c;
          var d = this._d;
          var e = this._e;
          var j = 0;
          var k;
          function calcW() {
            return rol(W[j - 3] ^ W[j - 8] ^ W[j - 14] ^ W[j - 16], 1);
          }
          function loop(w, f) {
            W[j] = w;
            var t = rol(a, 5) + f + e + w + k;
            e = d;
            d = c;
            c = rol(b, 30);
            b = a;
            a = t;
            j++;
          }
          k = 1518500249;
          while (j < 16)
            loop(M.readInt32BE(j * 4), (b & c) | ((~b) & d));
          while (j < 20)
            loop(calcW(), (b & c) | ((~b) & d));
          k = 1859775393;
          while (j < 40)
            loop(calcW(), b ^ c ^ d);
          k = -1894007588;
          while (j < 60)
            loop(calcW(), (b & c) | (b & d) | (c & d));
          k = -899497514;
          while (j < 80)
            loop(calcW(), b ^ c ^ d);
          this._a = (a + this._a) | 0;
          this._b = (b + this._b) | 0;
          this._c = (c + this._c) | 0;
          this._d = (d + this._d) | 0;
          this._e = (e + this._e) | 0;
        };
        Sha1.prototype._hash = function() {
          var H = new Buffer(20);
          H.writeInt32BE(this._a | 0, 0);
          H.writeInt32BE(this._b | 0, 4);
          H.writeInt32BE(this._c | 0, 8);
          H.writeInt32BE(this._d | 0, 12);
          H.writeInt32BE(this._e | 0, 16);
          return H;
        };
        module.exports = Sha1;
      }).call(this, require("buffer").Buffer);
    }, {
      "./hash": 143,
      "buffer": 44,
      "inherits": 190
    }],
    147: [function(require, module, exports) {
      (function(Buffer) {
        var inherits = require('inherits');
        var Sha256 = require('./sha256');
        var Hash = require('./hash');
        var W = new Array(64);
        function Sha224() {
          this.init();
          this._w = W;
          Hash.call(this, 64, 56);
        }
        inherits(Sha224, Sha256);
        Sha224.prototype.init = function() {
          this._a = 0xc1059ed8 | 0;
          this._b = 0x367cd507 | 0;
          this._c = 0x3070dd17 | 0;
          this._d = 0xf70e5939 | 0;
          this._e = 0xffc00b31 | 0;
          this._f = 0x68581511 | 0;
          this._g = 0x64f98fa7 | 0;
          this._h = 0xbefa4fa4 | 0;
          return this;
        };
        Sha224.prototype._hash = function() {
          var H = new Buffer(28);
          H.writeInt32BE(this._a, 0);
          H.writeInt32BE(this._b, 4);
          H.writeInt32BE(this._c, 8);
          H.writeInt32BE(this._d, 12);
          H.writeInt32BE(this._e, 16);
          H.writeInt32BE(this._f, 20);
          H.writeInt32BE(this._g, 24);
          return H;
        };
        module.exports = Sha224;
      }).call(this, require("buffer").Buffer);
    }, {
      "./hash": 143,
      "./sha256": 148,
      "buffer": 44,
      "inherits": 190
    }],
    148: [function(require, module, exports) {
      (function(Buffer) {
        var inherits = require('inherits');
        var Hash = require('./hash');
        var K = [0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5, 0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3, 0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174, 0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA, 0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7, 0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13, 0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85, 0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070, 0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208, 0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2];
        var W = new Array(64);
        function Sha256() {
          this.init();
          this._w = W;
          Hash.call(this, 64, 56);
        }
        inherits(Sha256, Hash);
        Sha256.prototype.init = function() {
          this._a = 0x6a09e667 | 0;
          this._b = 0xbb67ae85 | 0;
          this._c = 0x3c6ef372 | 0;
          this._d = 0xa54ff53a | 0;
          this._e = 0x510e527f | 0;
          this._f = 0x9b05688c | 0;
          this._g = 0x1f83d9ab | 0;
          this._h = 0x5be0cd19 | 0;
          return this;
        };
        function S(X, n) {
          return (X >>> n) | (X << (32 - n));
        }
        function R(X, n) {
          return (X >>> n);
        }
        function Ch(x, y, z) {
          return ((x & y) ^ ((~x) & z));
        }
        function Maj(x, y, z) {
          return ((x & y) ^ (x & z) ^ (y & z));
        }
        function Sigma0256(x) {
          return (S(x, 2) ^ S(x, 13) ^ S(x, 22));
        }
        function Sigma1256(x) {
          return (S(x, 6) ^ S(x, 11) ^ S(x, 25));
        }
        function Gamma0256(x) {
          return (S(x, 7) ^ S(x, 18) ^ R(x, 3));
        }
        function Gamma1256(x) {
          return (S(x, 17) ^ S(x, 19) ^ R(x, 10));
        }
        Sha256.prototype._update = function(M) {
          var W = this._w;
          var a = this._a | 0;
          var b = this._b | 0;
          var c = this._c | 0;
          var d = this._d | 0;
          var e = this._e | 0;
          var f = this._f | 0;
          var g = this._g | 0;
          var h = this._h | 0;
          var j = 0;
          function calcW() {
            return Gamma1256(W[j - 2]) + W[j - 7] + Gamma0256(W[j - 15]) + W[j - 16];
          }
          function loop(w) {
            W[j] = w;
            var T1 = h + Sigma1256(e) + Ch(e, f, g) + K[j] + w;
            var T2 = Sigma0256(a) + Maj(a, b, c);
            h = g;
            g = f;
            f = e;
            e = d + T1;
            d = c;
            c = b;
            b = a;
            a = T1 + T2;
            j++;
          }
          while (j < 16)
            loop(M.readInt32BE(j * 4));
          while (j < 64)
            loop(calcW());
          this._a = (a + this._a) | 0;
          this._b = (b + this._b) | 0;
          this._c = (c + this._c) | 0;
          this._d = (d + this._d) | 0;
          this._e = (e + this._e) | 0;
          this._f = (f + this._f) | 0;
          this._g = (g + this._g) | 0;
          this._h = (h + this._h) | 0;
        };
        Sha256.prototype._hash = function() {
          var H = new Buffer(32);
          H.writeInt32BE(this._a, 0);
          H.writeInt32BE(this._b, 4);
          H.writeInt32BE(this._c, 8);
          H.writeInt32BE(this._d, 12);
          H.writeInt32BE(this._e, 16);
          H.writeInt32BE(this._f, 20);
          H.writeInt32BE(this._g, 24);
          H.writeInt32BE(this._h, 28);
          return H;
        };
        module.exports = Sha256;
      }).call(this, require("buffer").Buffer);
    }, {
      "./hash": 143,
      "buffer": 44,
      "inherits": 190
    }],
    149: [function(require, module, exports) {
      (function(Buffer) {
        var inherits = require('inherits');
        var SHA512 = require('./sha512');
        var Hash = require('./hash');
        var W = new Array(160);
        function Sha384() {
          this.init();
          this._w = W;
          Hash.call(this, 128, 112);
        }
        inherits(Sha384, SHA512);
        Sha384.prototype.init = function() {
          this._a = 0xcbbb9d5d | 0;
          this._b = 0x629a292a | 0;
          this._c = 0x9159015a | 0;
          this._d = 0x152fecd8 | 0;
          this._e = 0x67332667 | 0;
          this._f = 0x8eb44a87 | 0;
          this._g = 0xdb0c2e0d | 0;
          this._h = 0x47b5481d | 0;
          this._al = 0xc1059ed8 | 0;
          this._bl = 0x367cd507 | 0;
          this._cl = 0x3070dd17 | 0;
          this._dl = 0xf70e5939 | 0;
          this._el = 0xffc00b31 | 0;
          this._fl = 0x68581511 | 0;
          this._gl = 0x64f98fa7 | 0;
          this._hl = 0xbefa4fa4 | 0;
          return this;
        };
        Sha384.prototype._hash = function() {
          var H = new Buffer(48);
          function writeInt64BE(h, l, offset) {
            H.writeInt32BE(h, offset);
            H.writeInt32BE(l, offset + 4);
          }
          writeInt64BE(this._a, this._al, 0);
          writeInt64BE(this._b, this._bl, 8);
          writeInt64BE(this._c, this._cl, 16);
          writeInt64BE(this._d, this._dl, 24);
          writeInt64BE(this._e, this._el, 32);
          writeInt64BE(this._f, this._fl, 40);
          return H;
        };
        module.exports = Sha384;
      }).call(this, require("buffer").Buffer);
    }, {
      "./hash": 143,
      "./sha512": 150,
      "buffer": 44,
      "inherits": 190
    }],
    150: [function(require, module, exports) {
      (function(Buffer) {
        var inherits = require('inherits');
        var Hash = require('./hash');
        var K = [0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd, 0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc, 0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019, 0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118, 0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe, 0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2, 0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1, 0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694, 0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3, 0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65, 0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483, 0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5, 0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210, 0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4, 0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725, 0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70, 0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926, 0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df, 0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8, 0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b, 0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001, 0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30, 0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910, 0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8, 0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53, 0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8, 0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb, 0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3, 0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60, 0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec, 0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9, 0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b, 0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207, 0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178, 0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6, 0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b, 0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493, 0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c, 0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a, 0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817];
        var W = new Array(160);
        function Sha512() {
          this.init();
          this._w = W;
          Hash.call(this, 128, 112);
        }
        inherits(Sha512, Hash);
        Sha512.prototype.init = function() {
          this._a = 0x6a09e667 | 0;
          this._b = 0xbb67ae85 | 0;
          this._c = 0x3c6ef372 | 0;
          this._d = 0xa54ff53a | 0;
          this._e = 0x510e527f | 0;
          this._f = 0x9b05688c | 0;
          this._g = 0x1f83d9ab | 0;
          this._h = 0x5be0cd19 | 0;
          this._al = 0xf3bcc908 | 0;
          this._bl = 0x84caa73b | 0;
          this._cl = 0xfe94f82b | 0;
          this._dl = 0x5f1d36f1 | 0;
          this._el = 0xade682d1 | 0;
          this._fl = 0x2b3e6c1f | 0;
          this._gl = 0xfb41bd6b | 0;
          this._hl = 0x137e2179 | 0;
          return this;
        };
        function S(X, Xl, n) {
          return (X >>> n) | (Xl << (32 - n));
        }
        function Ch(x, y, z) {
          return ((x & y) ^ ((~x) & z));
        }
        function Maj(x, y, z) {
          return ((x & y) ^ (x & z) ^ (y & z));
        }
        Sha512.prototype._update = function(M) {
          var W = this._w;
          var a = this._a | 0;
          var b = this._b | 0;
          var c = this._c | 0;
          var d = this._d | 0;
          var e = this._e | 0;
          var f = this._f | 0;
          var g = this._g | 0;
          var h = this._h | 0;
          var al = this._al | 0;
          var bl = this._bl | 0;
          var cl = this._cl | 0;
          var dl = this._dl | 0;
          var el = this._el | 0;
          var fl = this._fl | 0;
          var gl = this._gl | 0;
          var hl = this._hl | 0;
          var i = 0;
          var j = 0;
          var Wi,
              Wil;
          function calcW() {
            var x = W[j - 15 * 2];
            var xl = W[j - 15 * 2 + 1];
            var gamma0 = S(x, xl, 1) ^ S(x, xl, 8) ^ (x >>> 7);
            var gamma0l = S(xl, x, 1) ^ S(xl, x, 8) ^ S(xl, x, 7);
            x = W[j - 2 * 2];
            xl = W[j - 2 * 2 + 1];
            var gamma1 = S(x, xl, 19) ^ S(xl, x, 29) ^ (x >>> 6);
            var gamma1l = S(xl, x, 19) ^ S(x, xl, 29) ^ S(xl, x, 6);
            var Wi7 = W[j - 7 * 2];
            var Wi7l = W[j - 7 * 2 + 1];
            var Wi16 = W[j - 16 * 2];
            var Wi16l = W[j - 16 * 2 + 1];
            Wil = gamma0l + Wi7l;
            Wi = gamma0 + Wi7 + ((Wil >>> 0) < (gamma0l >>> 0) ? 1 : 0);
            Wil = Wil + gamma1l;
            Wi = Wi + gamma1 + ((Wil >>> 0) < (gamma1l >>> 0) ? 1 : 0);
            Wil = Wil + Wi16l;
            Wi = Wi + Wi16 + ((Wil >>> 0) < (Wi16l >>> 0) ? 1 : 0);
          }
          function loop() {
            W[j] = Wi;
            W[j + 1] = Wil;
            var maj = Maj(a, b, c);
            var majl = Maj(al, bl, cl);
            var sigma0h = S(a, al, 28) ^ S(al, a, 2) ^ S(al, a, 7);
            var sigma0l = S(al, a, 28) ^ S(a, al, 2) ^ S(a, al, 7);
            var sigma1h = S(e, el, 14) ^ S(e, el, 18) ^ S(el, e, 9);
            var sigma1l = S(el, e, 14) ^ S(el, e, 18) ^ S(e, el, 9);
            var Ki = K[j];
            var Kil = K[j + 1];
            var ch = Ch(e, f, g);
            var chl = Ch(el, fl, gl);
            var t1l = hl + sigma1l;
            var t1 = h + sigma1h + ((t1l >>> 0) < (hl >>> 0) ? 1 : 0);
            t1l = t1l + chl;
            t1 = t1 + ch + ((t1l >>> 0) < (chl >>> 0) ? 1 : 0);
            t1l = t1l + Kil;
            t1 = t1 + Ki + ((t1l >>> 0) < (Kil >>> 0) ? 1 : 0);
            t1l = t1l + Wil;
            t1 = t1 + Wi + ((t1l >>> 0) < (Wil >>> 0) ? 1 : 0);
            var t2l = sigma0l + majl;
            var t2 = sigma0h + maj + ((t2l >>> 0) < (sigma0l >>> 0) ? 1 : 0);
            h = g;
            hl = gl;
            g = f;
            gl = fl;
            f = e;
            fl = el;
            el = (dl + t1l) | 0;
            e = (d + t1 + ((el >>> 0) < (dl >>> 0) ? 1 : 0)) | 0;
            d = c;
            dl = cl;
            c = b;
            cl = bl;
            b = a;
            bl = al;
            al = (t1l + t2l) | 0;
            a = (t1 + t2 + ((al >>> 0) < (t1l >>> 0) ? 1 : 0)) | 0;
            i++;
            j += 2;
          }
          while (i < 16) {
            Wi = M.readInt32BE(j * 4);
            Wil = M.readInt32BE(j * 4 + 4);
            loop();
          }
          while (i < 80) {
            calcW();
            loop();
          }
          this._al = (this._al + al) | 0;
          this._bl = (this._bl + bl) | 0;
          this._cl = (this._cl + cl) | 0;
          this._dl = (this._dl + dl) | 0;
          this._el = (this._el + el) | 0;
          this._fl = (this._fl + fl) | 0;
          this._gl = (this._gl + gl) | 0;
          this._hl = (this._hl + hl) | 0;
          this._a = (this._a + a + ((this._al >>> 0) < (al >>> 0) ? 1 : 0)) | 0;
          this._b = (this._b + b + ((this._bl >>> 0) < (bl >>> 0) ? 1 : 0)) | 0;
          this._c = (this._c + c + ((this._cl >>> 0) < (cl >>> 0) ? 1 : 0)) | 0;
          this._d = (this._d + d + ((this._dl >>> 0) < (dl >>> 0) ? 1 : 0)) | 0;
          this._e = (this._e + e + ((this._el >>> 0) < (el >>> 0) ? 1 : 0)) | 0;
          this._f = (this._f + f + ((this._fl >>> 0) < (fl >>> 0) ? 1 : 0)) | 0;
          this._g = (this._g + g + ((this._gl >>> 0) < (gl >>> 0) ? 1 : 0)) | 0;
          this._h = (this._h + h + ((this._hl >>> 0) < (hl >>> 0) ? 1 : 0)) | 0;
        };
        Sha512.prototype._hash = function() {
          var H = new Buffer(64);
          function writeInt64BE(h, l, offset) {
            H.writeInt32BE(h, offset);
            H.writeInt32BE(l, offset + 4);
          }
          writeInt64BE(this._a, this._al, 0);
          writeInt64BE(this._b, this._bl, 8);
          writeInt64BE(this._c, this._cl, 16);
          writeInt64BE(this._d, this._dl, 24);
          writeInt64BE(this._e, this._el, 32);
          writeInt64BE(this._f, this._fl, 40);
          writeInt64BE(this._g, this._gl, 48);
          writeInt64BE(this._h, this._hl, 56);
          return H;
        };
        module.exports = Sha512;
      }).call(this, require("buffer").Buffer);
    }, {
      "./hash": 143,
      "buffer": 44,
      "inherits": 190
    }],
    151: [function(require, module, exports) {
      (function(Buffer) {
        'use strict';
        var createHash = require('create-hash/browser');
        var inherits = require('inherits');
        var Transform = require('stream').Transform;
        var ZEROS = new Buffer(128);
        ZEROS.fill(0);
        function Hmac(alg, key) {
          Transform.call(this);
          if (typeof key === 'string') {
            key = new Buffer(key);
          }
          var blocksize = (alg === 'sha512' || alg === 'sha384') ? 128 : 64;
          this._alg = alg;
          this._key = key;
          if (key.length > blocksize) {
            key = createHash(alg).update(key).digest();
          } else if (key.length < blocksize) {
            key = Buffer.concat([key, ZEROS], blocksize);
          }
          var ipad = this._ipad = new Buffer(blocksize);
          var opad = this._opad = new Buffer(blocksize);
          for (var i = 0; i < blocksize; i++) {
            ipad[i] = key[i] ^ 0x36;
            opad[i] = key[i] ^ 0x5C;
          }
          this._hash = createHash(alg).update(ipad);
        }
        inherits(Hmac, Transform);
        Hmac.prototype.update = function(data, enc) {
          this._hash.update(data, enc);
          return this;
        };
        Hmac.prototype._transform = function(data, _, next) {
          this._hash.update(data);
          next();
        };
        Hmac.prototype._flush = function(next) {
          this.push(this.digest());
          next();
        };
        Hmac.prototype.digest = function(enc) {
          var h = this._hash.digest();
          return createHash(this._alg).update(this._opad).update(h).digest(enc);
        };
        module.exports = function createHmac(alg, key) {
          return new Hmac(alg, key);
        };
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "create-hash/browser": 139,
      "inherits": 190,
      "stream": 206
    }],
    152: [function(require, module, exports) {
      (function(Buffer) {
        var generatePrime = require('./lib/generatePrime');
        var primes = require('./lib/primes');
        var DH = require('./lib/dh');
        function getDiffieHellman(mod) {
          var prime = new Buffer(primes[mod].prime, 'hex');
          var gen = new Buffer(primes[mod].gen, 'hex');
          return new DH(prime, gen);
        }
        function createDiffieHellman(prime, enc, generator, genc) {
          if (Buffer.isBuffer(enc) || (typeof enc === 'string' && ['hex', 'binary', 'base64'].indexOf(enc) === -1)) {
            genc = generator;
            generator = enc;
            enc = undefined;
          }
          enc = enc || 'binary';
          genc = genc || 'binary';
          generator = generator || new Buffer([2]);
          if (!Buffer.isBuffer(generator)) {
            generator = new Buffer(generator, genc);
          }
          if (typeof prime === 'number') {
            return new DH(generatePrime(prime, generator), generator, true);
          }
          if (!Buffer.isBuffer(prime)) {
            prime = new Buffer(prime, enc);
          }
          return new DH(prime, generator, true);
        }
        exports.DiffieHellmanGroup = exports.createDiffieHellmanGroup = exports.getDiffieHellman = getDiffieHellman;
        exports.createDiffieHellman = exports.DiffieHellman = createDiffieHellman;
      }).call(this, require("buffer").Buffer);
    }, {
      "./lib/dh": 153,
      "./lib/generatePrime": 154,
      "./lib/primes": 155,
      "buffer": 44
    }],
    153: [function(require, module, exports) {
      (function(Buffer) {
        var BN = require('bn.js');
        var MillerRabin = require('miller-rabin');
        var millerRabin = new MillerRabin();
        var TWENTYFOUR = new BN(24);
        var ELEVEN = new BN(11);
        var TEN = new BN(10);
        var THREE = new BN(3);
        var SEVEN = new BN(7);
        var primes = require('./generatePrime');
        var randomBytes = require('randombytes');
        module.exports = DH;
        function setPublicKey(pub, enc) {
          enc = enc || 'utf8';
          if (!Buffer.isBuffer(pub)) {
            pub = new Buffer(pub, enc);
          }
          this._pub = new BN(pub);
          return this;
        }
        function setPrivateKey(priv, enc) {
          enc = enc || 'utf8';
          if (!Buffer.isBuffer(priv)) {
            priv = new Buffer(priv, enc);
          }
          this._priv = new BN(priv);
          return this;
        }
        var primeCache = {};
        function checkPrime(prime, generator) {
          var gen = generator.toString('hex');
          var hex = [gen, prime.toString(16)].join('_');
          if (hex in primeCache) {
            return primeCache[hex];
          }
          var error = 0;
          if (prime.isEven() || !primes.simpleSieve || !primes.fermatTest(prime) || !millerRabin.test(prime)) {
            error += 1;
            if (gen === '02' || gen === '05') {
              error += 8;
            } else {
              error += 4;
            }
            primeCache[hex] = error;
            return error;
          }
          if (!millerRabin.test(prime.shrn(1))) {
            error += 2;
          }
          var rem;
          switch (gen) {
            case '02':
              if (prime.mod(TWENTYFOUR).cmp(ELEVEN)) {
                error += 8;
              }
              break;
            case '05':
              rem = prime.mod(TEN);
              if (rem.cmp(THREE) && rem.cmp(SEVEN)) {
                error += 8;
              }
              break;
            default:
              error += 4;
          }
          primeCache[hex] = error;
          return error;
        }
        function defineError(self, error) {
          try {
            Object.defineProperty(self, 'verifyError', {
              enumerable: true,
              value: error,
              writable: false
            });
          } catch (e) {
            self.verifyError = error;
          }
        }
        function DH(prime, generator, malleable) {
          this.setGenerator(generator);
          this.__prime = new BN(prime);
          this._prime = BN.mont(this.__prime);
          this._primeLen = prime.length;
          this._pub = void 0;
          this._priv = void 0;
          if (malleable) {
            this.setPublicKey = setPublicKey;
            this.setPrivateKey = setPrivateKey;
            defineError(this, checkPrime(this.__prime, generator));
          } else {
            defineError(this, 8);
          }
        }
        DH.prototype.generateKeys = function() {
          if (!this._priv) {
            this._priv = new BN(randomBytes(this._primeLen));
          }
          this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed();
          return this.getPublicKey();
        };
        DH.prototype.computeSecret = function(other) {
          other = new BN(other);
          other = other.toRed(this._prime);
          var secret = other.redPow(this._priv).fromRed();
          var out = new Buffer(secret.toArray());
          var prime = this.getPrime();
          if (out.length < prime.length) {
            var front = new Buffer(prime.length - out.length);
            front.fill(0);
            out = Buffer.concat([front, out]);
          }
          return out;
        };
        DH.prototype.getPublicKey = function getPublicKey(enc) {
          return formatReturnValue(this._pub, enc);
        };
        DH.prototype.getPrivateKey = function getPrivateKey(enc) {
          return formatReturnValue(this._priv, enc);
        };
        DH.prototype.getPrime = function(enc) {
          return formatReturnValue(this.__prime, enc);
        };
        DH.prototype.getGenerator = function(enc) {
          return formatReturnValue(this._gen, enc);
        };
        DH.prototype.setGenerator = function(gen, enc) {
          enc = enc || 'utf8';
          if (!Buffer.isBuffer(gen)) {
            gen = new Buffer(gen, enc);
          }
          this._gen = new BN(gen);
          return this;
        };
        function formatReturnValue(bn, enc) {
          var buf = new Buffer(bn.toArray());
          if (!enc) {
            return buf;
          } else {
            return buf.toString(enc);
          }
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "./generatePrime": 154,
      "bn.js": 156,
      "buffer": 44,
      "miller-rabin": 157,
      "randombytes": 188
    }],
    154: [function(require, module, exports) {
      var randomBytes = require('randombytes');
      module.exports = findPrime;
      findPrime.simpleSieve = simpleSieve;
      findPrime.fermatTest = fermatTest;
      var BN = require('bn.js');
      var TWENTYFOUR = new BN(24);
      var MillerRabin = require('miller-rabin');
      var millerRabin = new MillerRabin();
      var ONE = new BN(1);
      var TWO = new BN(2);
      var FIVE = new BN(5);
      var SIXTEEN = new BN(16);
      var EIGHT = new BN(8);
      var TEN = new BN(10);
      var THREE = new BN(3);
      var SEVEN = new BN(7);
      var ELEVEN = new BN(11);
      var FOUR = new BN(4);
      var TWELVE = new BN(12);
      var primes = null;
      function _getPrimes() {
        if (primes !== null)
          return primes;
        var limit = 0x100000;
        var res = [];
        res[0] = 2;
        for (var i = 1,
            k = 3; k < limit; k += 2) {
          var sqrt = Math.ceil(Math.sqrt(k));
          for (var j = 0; j < i && res[j] <= sqrt; j++)
            if (k % res[j] === 0)
              break;
          if (i !== j && res[j] <= sqrt)
            continue;
          res[i++] = k;
        }
        primes = res;
        return res;
      }
      function simpleSieve(p) {
        var primes = _getPrimes();
        for (var i = 0; i < primes.length; i++)
          if (p.modn(primes[i]) === 0) {
            if (p.cmpn(primes[i]) === 0) {
              return true;
            } else {
              return false;
            }
          }
        return true;
      }
      function fermatTest(p) {
        var red = BN.mont(p);
        return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1) === 0;
      }
      function findPrime(bits, gen) {
        if (bits < 16) {
          if (gen === 2 || gen === 5) {
            return new BN([0x8c, 0x7b]);
          } else {
            return new BN([0x8c, 0x27]);
          }
        }
        gen = new BN(gen);
        var runs,
            comp;
        function generateRandom(bits) {
          runs = -1;
          var out = new BN(randomBytes(Math.ceil(bits / 8)));
          while (out.bitLength() > bits) {
            out.ishrn(1);
          }
          if (out.isEven()) {
            out.iadd(ONE);
          }
          if (!out.testn(1)) {
            out.iadd(TWO);
          }
          if (!gen.cmp(TWO)) {
            while (out.mod(TWENTYFOUR).cmp(ELEVEN)) {
              out.iadd(FOUR);
            }
            comp = {
              major: [TWENTYFOUR],
              minor: [TWELVE]
            };
          } else if (!gen.cmp(FIVE)) {
            rem = out.mod(TEN);
            while (rem.cmp(THREE)) {
              out.iadd(FOUR);
              rem = out.mod(TEN);
            }
            comp = {
              major: [FOUR, SIXTEEN],
              minor: [TWO, EIGHT]
            };
          } else {
            comp = {
              major: [FOUR],
              minor: [TWO]
            };
          }
          return out;
        }
        var num = generateRandom(bits);
        var n2 = num.shrn(1);
        while (true) {
          while (num.bitLength() > bits) {
            num = generateRandom(bits);
            n2 = num.shrn(1);
          }
          runs++;
          if (simpleSieve(n2) && simpleSieve(num) && fermatTest(n2) && fermatTest(num) && millerRabin.test(n2) && millerRabin.test(num)) {
            return num;
          }
          num.iadd(comp.major[runs % comp.major.length]);
          n2.iadd(comp.minor[runs % comp.minor.length]);
        }
      }
    }, {
      "bn.js": 156,
      "miller-rabin": 157,
      "randombytes": 188
    }],
    155: [function(require, module, exports) {
      module.exports = {
        "modp1": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"
        },
        "modp2": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"
        },
        "modp5": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"
        },
        "modp14": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"
        },
        "modp15": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"
        },
        "modp16": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"
        },
        "modp17": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
        },
        "modp18": {
          "gen": "02",
          "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"
        }
      };
    }, {}],
    156: [function(require, module, exports) {
      arguments[4][70][0].apply(exports, arguments);
    }, {"dup": 70}],
    157: [function(require, module, exports) {
      var bn = require('bn.js');
      var brorand = require('brorand');
      function MillerRabin(rand) {
        this.rand = rand || new brorand.Rand();
      }
      module.exports = MillerRabin;
      MillerRabin.create = function create(rand) {
        return new MillerRabin(rand);
      };
      MillerRabin.prototype._rand = function _rand(n) {
        var len = n.bitLength();
        var buf = this.rand.generate(Math.ceil(len / 8));
        buf[0] |= 3;
        var mask = len & 0x7;
        if (mask !== 0)
          buf[buf.length - 1] >>= 7 - mask;
        return new bn(buf);
      };
      MillerRabin.prototype.test = function test(n, k, cb) {
        var len = n.bitLength();
        var red = bn.mont(n);
        var rone = new bn(1).toRed(red);
        if (!k)
          k = Math.max(1, (len / 48) | 0);
        var n1 = n.subn(1);
        var n2 = n1.subn(1);
        for (var s = 0; !n1.testn(s); s++) {}
        var d = n.shrn(s);
        var rn1 = n1.toRed(red);
        var prime = true;
        for (; k > 0; k--) {
          var a = this._rand(n2);
          if (cb)
            cb(a);
          var x = a.toRed(red).redPow(d);
          if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)
            continue;
          for (var i = 1; i < s; i++) {
            x = x.redSqr();
            if (x.cmp(rone) === 0)
              return false;
            if (x.cmp(rn1) === 0)
              break;
          }
          if (i === s)
            return false;
        }
        return prime;
      };
      MillerRabin.prototype.getDivisor = function getDivisor(n, k) {
        var len = n.bitLength();
        var red = bn.mont(n);
        var rone = new bn(1).toRed(red);
        if (!k)
          k = Math.max(1, (len / 48) | 0);
        var n1 = n.subn(1);
        var n2 = n1.subn(1);
        for (var s = 0; !n1.testn(s); s++) {}
        var d = n.shrn(s);
        var rn1 = n1.toRed(red);
        for (; k > 0; k--) {
          var a = this._rand(n2);
          var g = n.gcd(a);
          if (g.cmpn(1) !== 0)
            return g;
          var x = a.toRed(red).redPow(d);
          if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)
            continue;
          for (var i = 1; i < s; i++) {
            x = x.redSqr();
            if (x.cmp(rone) === 0)
              return x.fromRed().subn(1).gcd(n);
            if (x.cmp(rn1) === 0)
              break;
          }
          if (i === s) {
            x = x.redSqr();
            return x.fromRed().subn(1).gcd(n);
          }
        }
        return false;
      };
    }, {
      "bn.js": 156,
      "brorand": 158
    }],
    158: [function(require, module, exports) {
      arguments[4][85][0].apply(exports, arguments);
    }, {"dup": 85}],
    159: [function(require, module, exports) {
      (function(Buffer) {
        var createHmac = require('create-hmac');
        var MAX_ALLOC = Math.pow(2, 30) - 1;
        exports.pbkdf2 = pbkdf2;
        function pbkdf2(password, salt, iterations, keylen, digest, callback) {
          if (typeof digest === 'function') {
            callback = digest;
            digest = undefined;
          }
          if (typeof callback !== 'function') {
            throw new Error('No callback provided to pbkdf2');
          }
          var result = pbkdf2Sync(password, salt, iterations, keylen, digest);
          setTimeout(function() {
            callback(undefined, result);
          });
        }
        exports.pbkdf2Sync = pbkdf2Sync;
        function pbkdf2Sync(password, salt, iterations, keylen, digest) {
          if (typeof iterations !== 'number') {
            throw new TypeError('Iterations not a number');
          }
          if (iterations < 0) {
            throw new TypeError('Bad iterations');
          }
          if (typeof keylen !== 'number') {
            throw new TypeError('Key length not a number');
          }
          if (keylen < 0 || keylen > MAX_ALLOC) {
            throw new TypeError('Bad key length');
          }
          digest = digest || 'sha1';
          if (!Buffer.isBuffer(password))
            password = new Buffer(password, 'binary');
          if (!Buffer.isBuffer(salt))
            salt = new Buffer(salt, 'binary');
          var hLen;
          var l = 1;
          var DK = new Buffer(keylen);
          var block1 = new Buffer(salt.length + 4);
          salt.copy(block1, 0, 0, salt.length);
          var r;
          var T;
          for (var i = 1; i <= l; i++) {
            block1.writeUInt32BE(i, salt.length);
            var U = createHmac(digest, password).update(block1).digest();
            if (!hLen) {
              hLen = U.length;
              T = new Buffer(hLen);
              l = Math.ceil(keylen / hLen);
              r = keylen - (l - 1) * hLen;
            }
            U.copy(T, 0, 0, hLen);
            for (var j = 1; j < iterations; j++) {
              U = createHmac(digest, password).update(U).digest();
              for (var k = 0; k < hLen; k++) {
                T[k] ^= U[k];
              }
            }
            var destPos = (i - 1) * hLen;
            var len = (i === l ? r : hLen);
            T.copy(DK, destPos, 0, len);
          }
          return DK;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "create-hmac": 151
    }],
    160: [function(require, module, exports) {
      exports.publicEncrypt = require('./publicEncrypt');
      exports.privateDecrypt = require('./privateDecrypt');
      exports.privateEncrypt = function privateEncrypt(key, buf) {
        return exports.publicEncrypt(key, buf, true);
      };
      exports.publicDecrypt = function publicDecrypt(key, buf) {
        return exports.privateDecrypt(key, buf, true);
      };
    }, {
      "./privateDecrypt": 184,
      "./publicEncrypt": 185
    }],
    161: [function(require, module, exports) {
      (function(Buffer) {
        var createHash = require('create-hash');
        module.exports = function(seed, len) {
          var t = new Buffer('');
          var i = 0,
              c;
          while (t.length < len) {
            c = i2ops(i++);
            t = Buffer.concat([t, createHash('sha1').update(seed).update(c).digest()]);
          }
          return t.slice(0, len);
        };
        function i2ops(c) {
          var out = new Buffer(4);
          out.writeUInt32BE(c, 0);
          return out;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "buffer": 44,
      "create-hash": 139
    }],
    162: [function(require, module, exports) {
      arguments[4][70][0].apply(exports, arguments);
    }, {"dup": 70}],
    163: [function(require, module, exports) {
      arguments[4][71][0].apply(exports, arguments);
    }, {
      "bn.js": 162,
      "buffer": 44,
      "dup": 71,
      "randombytes": 188
    }],
    164: [function(require, module, exports) {
      arguments[4][93][0].apply(exports, arguments);
    }, {
      "buffer": 44,
      "create-hash": 139,
      "dup": 93
    }],
    165: [function(require, module, exports) {
      arguments[4][94][0].apply(exports, arguments);
    }, {"dup": 94}],
    166: [function(require, module, exports) {
      arguments[4][95][0].apply(exports, arguments);
    }, {
      "asn1.js": 169,
      "dup": 95
    }],
    167: [function(require, module, exports) {
      arguments[4][96][0].apply(exports, arguments);
    }, {
      "./EVP_BytesToKey": 164,
      "browserify-aes": 52,
      "buffer": 44,
      "dup": 96
    }],
    168: [function(require, module, exports) {
      arguments[4][97][0].apply(exports, arguments);
    }, {
      "./aesid.json": 165,
      "./asn1": 166,
      "./fixProc": 167,
      "browserify-aes": 52,
      "buffer": 44,
      "dup": 97,
      "pbkdf2": 159
    }],
    169: [function(require, module, exports) {
      arguments[4][98][0].apply(exports, arguments);
    }, {
      "./asn1/api": 170,
      "./asn1/base": 172,
      "./asn1/constants": 176,
      "./asn1/decoders": 178,
      "./asn1/encoders": 181,
      "bn.js": 162,
      "dup": 98
    }],
    170: [function(require, module, exports) {
      arguments[4][99][0].apply(exports, arguments);
    }, {
      "../asn1": 169,
      "dup": 99,
      "inherits": 190,
      "vm": 208
    }],
    171: [function(require, module, exports) {
      arguments[4][100][0].apply(exports, arguments);
    }, {
      "../base": 172,
      "buffer": 44,
      "dup": 100,
      "inherits": 190
    }],
    172: [function(require, module, exports) {
      arguments[4][101][0].apply(exports, arguments);
    }, {
      "./buffer": 171,
      "./node": 173,
      "./reporter": 174,
      "dup": 101
    }],
    173: [function(require, module, exports) {
      arguments[4][102][0].apply(exports, arguments);
    }, {
      "../base": 172,
      "dup": 102,
      "minimalistic-assert": 183
    }],
    174: [function(require, module, exports) {
      arguments[4][103][0].apply(exports, arguments);
    }, {
      "dup": 103,
      "inherits": 190
    }],
    175: [function(require, module, exports) {
      arguments[4][104][0].apply(exports, arguments);
    }, {
      "../constants": 176,
      "dup": 104
    }],
    176: [function(require, module, exports) {
      arguments[4][105][0].apply(exports, arguments);
    }, {
      "./der": 175,
      "dup": 105
    }],
    177: [function(require, module, exports) {
      arguments[4][106][0].apply(exports, arguments);
    }, {
      "../../asn1": 169,
      "dup": 106,
      "inherits": 190
    }],
    178: [function(require, module, exports) {
      arguments[4][107][0].apply(exports, arguments);
    }, {
      "./der": 177,
      "./pem": 179,
      "dup": 107
    }],
    179: [function(require, module, exports) {
      arguments[4][108][0].apply(exports, arguments);
    }, {
      "../../asn1": 169,
      "./der": 177,
      "buffer": 44,
      "dup": 108,
      "inherits": 190
    }],
    180: [function(require, module, exports) {
      arguments[4][109][0].apply(exports, arguments);
    }, {
      "../../asn1": 169,
      "buffer": 44,
      "dup": 109,
      "inherits": 190
    }],
    181: [function(require, module, exports) {
      arguments[4][110][0].apply(exports, arguments);
    }, {
      "./der": 180,
      "./pem": 182,
      "dup": 110
    }],
    182: [function(require, module, exports) {
      arguments[4][111][0].apply(exports, arguments);
    }, {
      "../../asn1": 169,
      "./der": 180,
      "buffer": 44,
      "dup": 111,
      "inherits": 190
    }],
    183: [function(require, module, exports) {
      arguments[4][112][0].apply(exports, arguments);
    }, {"dup": 112}],
    184: [function(require, module, exports) {
      (function(Buffer) {
        var parseKeys = require('parse-asn1');
        var mgf = require('./mgf');
        var xor = require('./xor');
        var bn = require('bn.js');
        var crt = require('browserify-rsa');
        var createHash = require('create-hash');
        var withPublic = require('./withPublic');
        module.exports = function privateDecrypt(private_key, enc, reverse) {
          var padding;
          if (private_key.padding) {
            padding = private_key.padding;
          } else if (reverse) {
            padding = 1;
          } else {
            padding = 4;
          }
          var key = parseKeys(private_key);
          var k = key.modulus.byteLength();
          if (enc.length > k || new bn(enc).cmp(key.modulus) >= 0) {
            throw new Error('decryption error');
          }
          var msg;
          if (reverse) {
            msg = withPublic(new bn(enc), key);
          } else {
            msg = crt(enc, key);
          }
          var zBuffer = new Buffer(k - msg.length);
          zBuffer.fill(0);
          msg = Buffer.concat([zBuffer, msg], k);
          if (padding === 4) {
            return oaep(key, msg);
          } else if (padding === 1) {
            return pkcs1(key, msg, reverse);
          } else if (padding === 3) {
            return msg;
          } else {
            throw new Error('unknown padding');
          }
        };
        function oaep(key, msg) {
          var n = key.modulus;
          var k = key.modulus.byteLength();
          var mLen = msg.length;
          var iHash = createHash('sha1').update(new Buffer('')).digest();
          var hLen = iHash.length;
          var hLen2 = 2 * hLen;
          if (msg[0] !== 0) {
            throw new Error('decryption error');
          }
          var maskedSeed = msg.slice(1, hLen + 1);
          var maskedDb = msg.slice(hLen + 1);
          var seed = xor(maskedSeed, mgf(maskedDb, hLen));
          var db = xor(maskedDb, mgf(seed, k - hLen - 1));
          if (compare(iHash, db.slice(0, hLen))) {
            throw new Error('decryption error');
          }
          var i = hLen;
          while (db[i] === 0) {
            i++;
          }
          if (db[i++] !== 1) {
            throw new Error('decryption error');
          }
          return db.slice(i);
        }
        function pkcs1(key, msg, reverse) {
          var p1 = msg.slice(0, 2);
          var i = 2;
          var status = 0;
          while (msg[i++] !== 0) {
            if (i >= msg.length) {
              status++;
              break;
            }
          }
          var ps = msg.slice(2, i - 1);
          var p2 = msg.slice(i - 1, i);
          if ((p1.toString('hex') !== '0002' && !reverse) || (p1.toString('hex') !== '0001' && reverse)) {
            status++;
          }
          if (ps.length < 8) {
            status++;
          }
          if (status) {
            throw new Error('decryption error');
          }
          return msg.slice(i);
        }
        function compare(a, b) {
          a = new Buffer(a);
          b = new Buffer(b);
          var dif = 0;
          var len = a.length;
          if (a.length !== b.length) {
            dif++;
            len = Math.min(a.length, b.length);
          }
          var i = -1;
          while (++i < len) {
            dif += (a[i] ^ b[i]);
          }
          return dif;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "./mgf": 161,
      "./withPublic": 186,
      "./xor": 187,
      "bn.js": 162,
      "browserify-rsa": 163,
      "buffer": 44,
      "create-hash": 139,
      "parse-asn1": 168
    }],
    185: [function(require, module, exports) {
      (function(Buffer) {
        var parseKeys = require('parse-asn1');
        var randomBytes = require('randombytes');
        var createHash = require('create-hash');
        var mgf = require('./mgf');
        var xor = require('./xor');
        var bn = require('bn.js');
        var withPublic = require('./withPublic');
        var crt = require('browserify-rsa');
        var constants = {
          RSA_PKCS1_OAEP_PADDING: 4,
          RSA_PKCS1_PADDIN: 1,
          RSA_NO_PADDING: 3
        };
        module.exports = function publicEncrypt(public_key, msg, reverse) {
          var padding;
          if (public_key.padding) {
            padding = public_key.padding;
          } else if (reverse) {
            padding = 1;
          } else {
            padding = 4;
          }
          var key = parseKeys(public_key);
          var paddedMsg;
          if (padding === 4) {
            paddedMsg = oaep(key, msg);
          } else if (padding === 1) {
            paddedMsg = pkcs1(key, msg, reverse);
          } else if (padding === 3) {
            paddedMsg = new bn(msg);
            if (paddedMsg.cmp(key.modulus) >= 0) {
              throw new Error('data too long for modulus');
            }
          } else {
            throw new Error('unknown padding');
          }
          if (reverse) {
            return crt(paddedMsg, key);
          } else {
            return withPublic(paddedMsg, key);
          }
        };
        function oaep(key, msg) {
          var k = key.modulus.byteLength();
          var mLen = msg.length;
          var iHash = createHash('sha1').update(new Buffer('')).digest();
          var hLen = iHash.length;
          var hLen2 = 2 * hLen;
          if (mLen > k - hLen2 - 2) {
            throw new Error('message too long');
          }
          var ps = new Buffer(k - mLen - hLen2 - 2);
          ps.fill(0);
          var dblen = k - hLen - 1;
          var seed = randomBytes(hLen);
          var maskedDb = xor(Buffer.concat([iHash, ps, new Buffer([1]), msg], dblen), mgf(seed, dblen));
          var maskedSeed = xor(seed, mgf(maskedDb, hLen));
          return new bn(Buffer.concat([new Buffer([0]), maskedSeed, maskedDb], k));
        }
        function pkcs1(key, msg, reverse) {
          var mLen = msg.length;
          var k = key.modulus.byteLength();
          if (mLen > k - 11) {
            throw new Error('message too long');
          }
          var ps;
          if (reverse) {
            ps = new Buffer(k - mLen - 3);
            ps.fill(0xff);
          } else {
            ps = nonZero(k - mLen - 3);
          }
          return new bn(Buffer.concat([new Buffer([0, reverse ? 1 : 2]), ps, new Buffer([0]), msg], k));
        }
        function nonZero(len, crypto) {
          var out = new Buffer(len);
          var i = 0;
          var cache = randomBytes(len * 2);
          var cur = 0;
          var num;
          while (i < len) {
            if (cur === cache.length) {
              cache = randomBytes(len * 2);
              cur = 0;
            }
            num = cache[cur++];
            if (num) {
              out[i++] = num;
            }
          }
          return out;
        }
      }).call(this, require("buffer").Buffer);
    }, {
      "./mgf": 161,
      "./withPublic": 186,
      "./xor": 187,
      "bn.js": 162,
      "browserify-rsa": 163,
      "buffer": 44,
      "create-hash": 139,
      "parse-asn1": 168,
      "randombytes": 188
    }],
    186: [function(require, module, exports) {
      (function(Buffer) {
        var bn = require('bn.js');
        function withPublic(paddedMsg, key) {
          return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray());
        }
        module.exports = withPublic;
      }).call(this, require("buffer").Buffer);
    }, {
      "bn.js": 162,
      "buffer": 44
    }],
    187: [function(require, module, exports) {
      module.exports = function xor(a, b) {
        var len = a.length;
        var i = -1;
        while (++i < len) {
          a[i] ^= b[i];
        }
        return a;
      };
    }, {}],
    188: [function(require, module, exports) {
      (function(process, global, Buffer) {
        'use strict';
        var crypto = global.crypto || global.msCrypto;
        if (crypto && crypto.getRandomValues) {
          module.exports = randomBytes;
        } else {
          module.exports = oldBrowser;
        }
        function randomBytes(size, cb) {
          var bytes = new Buffer(size);
          crypto.getRandomValues(bytes);
          if (typeof cb === 'function') {
            return process.nextTick(function() {
              cb(null, bytes);
            });
          }
          return bytes;
        }
        function oldBrowser() {
          throw new Error('secure random number generation not supported by this browser\n' + 'use chrome, FireFox or Internet Explorer 11');
        }
      }).call(this, require('_process'), typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {}, require("buffer").Buffer);
    }, {
      "_process": 192,
      "buffer": 44
    }],
    189: [function(require, module, exports) {
      function EventEmitter() {
        this._events = this._events || {};
        this._maxListeners = this._maxListeners || undefined;
      }
      module.exports = EventEmitter;
      EventEmitter.EventEmitter = EventEmitter;
      EventEmitter.prototype._events = undefined;
      EventEmitter.prototype._maxListeners = undefined;
      EventEmitter.defaultMaxListeners = 10;
      EventEmitter.prototype.setMaxListeners = function(n) {
        if (!isNumber(n) || n < 0 || isNaN(n))
          throw TypeError('n must be a positive number');
        this._maxListeners = n;
        return this;
      };
      EventEmitter.prototype.emit = function(type) {
        var er,
            handler,
            len,
            args,
            i,
            listeners;
        if (!this._events)
          this._events = {};
        if (type === 'error') {
          if (!this._events.error || (isObject(this._events.error) && !this._events.error.length)) {
            er = arguments[1];
            if (er instanceof Error) {
              throw er;
            }
            throw TypeError('Uncaught, unspecified "error" event.');
          }
        }
        handler = this._events[type];
        if (isUndefined(handler))
          return false;
        if (isFunction(handler)) {
          switch (arguments.length) {
            case 1:
              handler.call(this);
              break;
            case 2:
              handler.call(this, arguments[1]);
              break;
            case 3:
              handler.call(this, arguments[1], arguments[2]);
              break;
            default:
              len = arguments.length;
              args = new Array(len - 1);
              for (i = 1; i < len; i++)
                args[i - 1] = arguments[i];
              handler.apply(this, args);
          }
        } else if (isObject(handler)) {
          len = arguments.length;
          args = new Array(len - 1);
          for (i = 1; i < len; i++)
            args[i - 1] = arguments[i];
          listeners = handler.slice();
          len = listeners.length;
          for (i = 0; i < len; i++)
            listeners[i].apply(this, args);
        }
        return true;
      };
      EventEmitter.prototype.addListener = function(type, listener) {
        var m;
        if (!isFunction(listener))
          throw TypeError('listener must be a function');
        if (!this._events)
          this._events = {};
        if (this._events.newListener)
          this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);
        if (!this._events[type])
          this._events[type] = listener;
        else if (isObject(this._events[type]))
          this._events[type].push(listener);
        else
          this._events[type] = [this._events[type], listener];
        if (isObject(this._events[type]) && !this._events[type].warned) {
          var m;
          if (!isUndefined(this._maxListeners)) {
            m = this._maxListeners;
          } else {
            m = EventEmitter.defaultMaxListeners;
          }
          if (m && m > 0 && this._events[type].length > m) {
            this._events[type].warned = true;
            console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);
            if (typeof console.trace === 'function') {
              console.trace();
            }
          }
        }
        return this;
      };
      EventEmitter.prototype.on = EventEmitter.prototype.addListener;
      EventEmitter.prototype.once = function(type, listener) {
        if (!isFunction(listener))
          throw TypeError('listener must be a function');
        var fired = false;
        function g() {
          this.removeListener(type, g);
          if (!fired) {
            fired = true;
            listener.apply(this, arguments);
          }
        }
        g.listener = listener;
        this.on(type, g);
        return this;
      };
      EventEmitter.prototype.removeListener = function(type, listener) {
        var list,
            position,
            length,
            i;
        if (!isFunction(listener))
          throw TypeError('listener must be a function');
        if (!this._events || !this._events[type])
          return this;
        list = this._events[type];
        length = list.length;
        position = -1;
        if (list === listener || (isFunction(list.listener) && list.listener === listener)) {
          delete this._events[type];
          if (this._events.removeListener)
            this.emit('removeListener', type, listener);
        } else if (isObject(list)) {
          for (i = length; i-- > 0; ) {
            if (list[i] === listener || (list[i].listener && list[i].listener === listener)) {
              position = i;
              break;
            }
          }
          if (position < 0)
            return this;
          if (list.length === 1) {
            list.length = 0;
            delete this._events[type];
          } else {
            list.splice(position, 1);
          }
          if (this._events.removeListener)
            this.emit('removeListener', type, listener);
        }
        return this;
      };
      EventEmitter.prototype.removeAllListeners = function(type) {
        var key,
            listeners;
        if (!this._events)
          return this;
        if (!this._events.removeListener) {
          if (arguments.length === 0)
            this._events = {};
          else if (this._events[type])
            delete this._events[type];
          return this;
        }
        if (arguments.length === 0) {
          for (key in this._events) {
            if (key === 'removeListener')
              continue;
            this.removeAllListeners(key);
          }
          this.removeAllListeners('removeListener');
          this._events = {};
          return this;
        }
        listeners = this._events[type];
        if (isFunction(listeners)) {
          this.removeListener(type, listeners);
        } else {
          while (listeners.length)
            this.removeListener(type, listeners[listeners.length - 1]);
        }
        delete this._events[type];
        return this;
      };
      EventEmitter.prototype.listeners = function(type) {
        var ret;
        if (!this._events || !this._events[type])
          ret = [];
        else if (isFunction(this._events[type]))
          ret = [this._events[type]];
        else
          ret = this._events[type].slice();
        return ret;
      };
      EventEmitter.listenerCount = function(emitter, type) {
        var ret;
        if (!emitter._events || !emitter._events[type])
          ret = 0;
        else if (isFunction(emitter._events[type]))
          ret = 1;
        else
          ret = emitter._events[type].length;
        return ret;
      };
      function isFunction(arg) {
        return typeof arg === 'function';
      }
      function isNumber(arg) {
        return typeof arg === 'number';
      }
      function isObject(arg) {
        return typeof arg === 'object' && arg !== null;
      }
      function isUndefined(arg) {
        return arg === void 0;
      }
    }, {}],
    190: [function(require, module, exports) {
      if (typeof Object.create === 'function') {
        module.exports = function inherits(ctor, superCtor) {
          ctor.super_ = superCtor;
          ctor.prototype = Object.create(superCtor.prototype, {constructor: {
              value: ctor,
              enumerable: false,
              writable: true,
              configurable: true
            }});
        };
      } else {
        module.exports = function inherits(ctor, superCtor) {
          ctor.super_ = superCtor;
          var TempCtor = function() {};
          TempCtor.prototype = superCtor.prototype;
          ctor.prototype = new TempCtor();
          ctor.prototype.constructor = ctor;
        };
      }
    }, {}],
    191: [function(require, module, exports) {
      module.exports = Array.isArray || function(arr) {
        return Object.prototype.toString.call(arr) == '[object Array]';
      };
    }, {}],
    192: [function(require, module, exports) {
      var process = module.exports = {};
      var queue = [];
      var draining = false;
      var currentQueue;
      var queueIndex = -1;
      function cleanUpNextTick() {
        draining = false;
        if (currentQueue.length) {
          queue = currentQueue.concat(queue);
        } else {
          queueIndex = -1;
        }
        if (queue.length) {
          drainQueue();
        }
      }
      function drainQueue() {
        if (draining) {
          return;
        }
        var timeout = setTimeout(cleanUpNextTick);
        draining = true;
        var len = queue.length;
        while (len) {
          currentQueue = queue;
          queue = [];
          while (++queueIndex < len) {
            if (currentQueue) {
              currentQueue[queueIndex].run();
            }
          }
          queueIndex = -1;
          len = queue.length;
        }
        currentQueue = null;
        draining = false;
        clearTimeout(timeout);
      }
      process.nextTick = function(fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
          setTimeout(drainQueue, 0);
        }
      };
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      Item.prototype.run = function() {
        this.fun.apply(null, this.array);
      };
      process.title = 'browser';
      process.browser = true;
      process.env = {};
      process.argv = [];
      process.version = '';
      process.versions = {};
      function noop() {}
      process.on = noop;
      process.addListener = noop;
      process.once = noop;
      process.off = noop;
      process.removeListener = noop;
      process.removeAllListeners = noop;
      process.emit = noop;
      process.binding = function(name) {
        throw new Error('process.binding is not supported');
      };
      process.cwd = function() {
        return '/';
      };
      process.chdir = function(dir) {
        throw new Error('process.chdir is not supported');
      };
      process.umask = function() {
        return 0;
      };
    }, {}],
    193: [function(require, module, exports) {
      module.exports = require("./lib/_stream_duplex.js");
    }, {"./lib/_stream_duplex.js": 194}],
    194: [function(require, module, exports) {
      'use strict';
      var objectKeys = Object.keys || function(obj) {
        var keys = [];
        for (var key in obj)
          keys.push(key);
        return keys;
      };
      module.exports = Duplex;
      var processNextTick = require('process-nextick-args');
      var util = require('core-util-is');
      util.inherits = require('inherits');
      var Readable = require('./_stream_readable');
      var Writable = require('./_stream_writable');
      util.inherits(Duplex, Readable);
      var keys = objectKeys(Writable.prototype);
      for (var v = 0; v < keys.length; v++) {
        var method = keys[v];
        if (!Duplex.prototype[method])
          Duplex.prototype[method] = Writable.prototype[method];
      }
      function Duplex(options) {
        if (!(this instanceof Duplex))
          return new Duplex(options);
        Readable.call(this, options);
        Writable.call(this, options);
        if (options && options.readable === false)
          this.readable = false;
        if (options && options.writable === false)
          this.writable = false;
        this.allowHalfOpen = true;
        if (options && options.allowHalfOpen === false)
          this.allowHalfOpen = false;
        this.once('end', onend);
      }
      function onend() {
        if (this.allowHalfOpen || this._writableState.ended)
          return;
        processNextTick(onEndNT, this);
      }
      function onEndNT(self) {
        self.end();
      }
      function forEach(xs, f) {
        for (var i = 0,
            l = xs.length; i < l; i++) {
          f(xs[i], i);
        }
      }
    }, {
      "./_stream_readable": 196,
      "./_stream_writable": 198,
      "core-util-is": 199,
      "inherits": 190,
      "process-nextick-args": 200
    }],
    195: [function(require, module, exports) {
      'use strict';
      module.exports = PassThrough;
      var Transform = require('./_stream_transform');
      var util = require('core-util-is');
      util.inherits = require('inherits');
      util.inherits(PassThrough, Transform);
      function PassThrough(options) {
        if (!(this instanceof PassThrough))
          return new PassThrough(options);
        Transform.call(this, options);
      }
      PassThrough.prototype._transform = function(chunk, encoding, cb) {
        cb(null, chunk);
      };
    }, {
      "./_stream_transform": 197,
      "core-util-is": 199,
      "inherits": 190
    }],
    196: [function(require, module, exports) {
      (function(process) {
        'use strict';
        module.exports = Readable;
        var processNextTick = require('process-nextick-args');
        var isArray = require('isarray');
        var Buffer = require('buffer').Buffer;
        Readable.ReadableState = ReadableState;
        var EE = require('events').EventEmitter;
        if (!EE.listenerCount)
          EE.listenerCount = function(emitter, type) {
            return emitter.listeners(type).length;
          };
        var Stream;
        (function() {
          try {
            Stream = require('st' + 'ream');
          } catch (_) {} finally {
            if (!Stream)
              Stream = require('events').EventEmitter;
          }
        }());
        var Buffer = require('buffer').Buffer;
        var util = require('core-util-is');
        util.inherits = require('inherits');
        var debug = require('util');
        if (debug && debug.debuglog) {
          debug = debug.debuglog('stream');
        } else {
          debug = function() {};
        }
        var StringDecoder;
        util.inherits(Readable, Stream);
        function ReadableState(options, stream) {
          var Duplex = require('./_stream_duplex');
          options = options || {};
          this.objectMode = !!options.objectMode;
          if (stream instanceof Duplex)
            this.objectMode = this.objectMode || !!options.readableObjectMode;
          var hwm = options.highWaterMark;
          var defaultHwm = this.objectMode ? 16 : 16 * 1024;
          this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;
          this.highWaterMark = ~~this.highWaterMark;
          this.buffer = [];
          this.length = 0;
          this.pipes = null;
          this.pipesCount = 0;
          this.flowing = null;
          this.ended = false;
          this.endEmitted = false;
          this.reading = false;
          this.sync = true;
          this.needReadable = false;
          this.emittedReadable = false;
          this.readableListening = false;
          this.defaultEncoding = options.defaultEncoding || 'utf8';
          this.ranOut = false;
          this.awaitDrain = 0;
          this.readingMore = false;
          this.decoder = null;
          this.encoding = null;
          if (options.encoding) {
            if (!StringDecoder)
              StringDecoder = require('string_decoder/').StringDecoder;
            this.decoder = new StringDecoder(options.encoding);
            this.encoding = options.encoding;
          }
        }
        function Readable(options) {
          var Duplex = require('./_stream_duplex');
          if (!(this instanceof Readable))
            return new Readable(options);
          this._readableState = new ReadableState(options, this);
          this.readable = true;
          if (options && typeof options.read === 'function')
            this._read = options.read;
          Stream.call(this);
        }
        Readable.prototype.push = function(chunk, encoding) {
          var state = this._readableState;
          if (!state.objectMode && typeof chunk === 'string') {
            encoding = encoding || state.defaultEncoding;
            if (encoding !== state.encoding) {
              chunk = new Buffer(chunk, encoding);
              encoding = '';
            }
          }
          return readableAddChunk(this, state, chunk, encoding, false);
        };
        Readable.prototype.unshift = function(chunk) {
          var state = this._readableState;
          return readableAddChunk(this, state, chunk, '', true);
        };
        Readable.prototype.isPaused = function() {
          return this._readableState.flowing === false;
        };
        function readableAddChunk(stream, state, chunk, encoding, addToFront) {
          var er = chunkInvalid(state, chunk);
          if (er) {
            stream.emit('error', er);
          } else if (chunk === null) {
            state.reading = false;
            onEofChunk(stream, state);
          } else if (state.objectMode || chunk && chunk.length > 0) {
            if (state.ended && !addToFront) {
              var e = new Error('stream.push() after EOF');
              stream.emit('error', e);
            } else if (state.endEmitted && addToFront) {
              var e = new Error('stream.unshift() after end event');
              stream.emit('error', e);
            } else {
              if (state.decoder && !addToFront && !encoding)
                chunk = state.decoder.write(chunk);
              if (!addToFront)
                state.reading = false;
              if (state.flowing && state.length === 0 && !state.sync) {
                stream.emit('data', chunk);
                stream.read(0);
              } else {
                state.length += state.objectMode ? 1 : chunk.length;
                if (addToFront)
                  state.buffer.unshift(chunk);
                else
                  state.buffer.push(chunk);
                if (state.needReadable)
                  emitReadable(stream);
              }
              maybeReadMore(stream, state);
            }
          } else if (!addToFront) {
            state.reading = false;
          }
          return needMoreData(state);
        }
        function needMoreData(state) {
          return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);
        }
        Readable.prototype.setEncoding = function(enc) {
          if (!StringDecoder)
            StringDecoder = require('string_decoder/').StringDecoder;
          this._readableState.decoder = new StringDecoder(enc);
          this._readableState.encoding = enc;
          return this;
        };
        var MAX_HWM = 0x800000;
        function roundUpToNextPowerOf2(n) {
          if (n >= MAX_HWM) {
            n = MAX_HWM;
          } else {
            n--;
            for (var p = 1; p < 32; p <<= 1)
              n |= n >> p;
            n++;
          }
          return n;
        }
        function howMuchToRead(n, state) {
          if (state.length === 0 && state.ended)
            return 0;
          if (state.objectMode)
            return n === 0 ? 0 : 1;
          if (n === null || isNaN(n)) {
            if (state.flowing && state.buffer.length)
              return state.buffer[0].length;
            else
              return state.length;
          }
          if (n <= 0)
            return 0;
          if (n > state.highWaterMark)
            state.highWaterMark = roundUpToNextPowerOf2(n);
          if (n > state.length) {
            if (!state.ended) {
              state.needReadable = true;
              return 0;
            } else {
              return state.length;
            }
          }
          return n;
        }
        Readable.prototype.read = function(n) {
          debug('read', n);
          var state = this._readableState;
          var nOrig = n;
          if (typeof n !== 'number' || n > 0)
            state.emittedReadable = false;
          if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {
            debug('read: emitReadable', state.length, state.ended);
            if (state.length === 0 && state.ended)
              endReadable(this);
            else
              emitReadable(this);
            return null;
          }
          n = howMuchToRead(n, state);
          if (n === 0 && state.ended) {
            if (state.length === 0)
              endReadable(this);
            return null;
          }
          var doRead = state.needReadable;
          debug('need readable', doRead);
          if (state.length === 0 || state.length - n < state.highWaterMark) {
            doRead = true;
            debug('length less than watermark', doRead);
          }
          if (state.ended || state.reading) {
            doRead = false;
            debug('reading or ended', doRead);
          }
          if (doRead) {
            debug('do read');
            state.reading = true;
            state.sync = true;
            if (state.length === 0)
              state.needReadable = true;
            this._read(state.highWaterMark);
            state.sync = false;
          }
          if (doRead && !state.reading)
            n = howMuchToRead(nOrig, state);
          var ret;
          if (n > 0)
            ret = fromList(n, state);
          else
            ret = null;
          if (ret === null) {
            state.needReadable = true;
            n = 0;
          }
          state.length -= n;
          if (state.length === 0 && !state.ended)
            state.needReadable = true;
          if (nOrig !== n && state.ended && state.length === 0)
            endReadable(this);
          if (ret !== null)
            this.emit('data', ret);
          return ret;
        };
        function chunkInvalid(state, chunk) {
          var er = null;
          if (!(Buffer.isBuffer(chunk)) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {
            er = new TypeError('Invalid non-string/buffer chunk');
          }
          return er;
        }
        function onEofChunk(stream, state) {
          if (state.ended)
            return;
          if (state.decoder) {
            var chunk = state.decoder.end();
            if (chunk && chunk.length) {
              state.buffer.push(chunk);
              state.length += state.objectMode ? 1 : chunk.length;
            }
          }
          state.ended = true;
          emitReadable(stream);
        }
        function emitReadable(stream) {
          var state = stream._readableState;
          state.needReadable = false;
          if (!state.emittedReadable) {
            debug('emitReadable', state.flowing);
            state.emittedReadable = true;
            if (state.sync)
              processNextTick(emitReadable_, stream);
            else
              emitReadable_(stream);
          }
        }
        function emitReadable_(stream) {
          debug('emit readable');
          stream.emit('readable');
          flow(stream);
        }
        function maybeReadMore(stream, state) {
          if (!state.readingMore) {
            state.readingMore = true;
            processNextTick(maybeReadMore_, stream, state);
          }
        }
        function maybeReadMore_(stream, state) {
          var len = state.length;
          while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {
            debug('maybeReadMore read 0');
            stream.read(0);
            if (len === state.length)
              break;
            else
              len = state.length;
          }
          state.readingMore = false;
        }
        Readable.prototype._read = function(n) {
          this.emit('error', new Error('not implemented'));
        };
        Readable.prototype.pipe = function(dest, pipeOpts) {
          var src = this;
          var state = this._readableState;
          switch (state.pipesCount) {
            case 0:
              state.pipes = dest;
              break;
            case 1:
              state.pipes = [state.pipes, dest];
              break;
            default:
              state.pipes.push(dest);
              break;
          }
          state.pipesCount += 1;
          debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);
          var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;
          var endFn = doEnd ? onend : cleanup;
          if (state.endEmitted)
            processNextTick(endFn);
          else
            src.once('end', endFn);
          dest.on('unpipe', onunpipe);
          function onunpipe(readable) {
            debug('onunpipe');
            if (readable === src) {
              cleanup();
            }
          }
          function onend() {
            debug('onend');
            dest.end();
          }
          var ondrain = pipeOnDrain(src);
          dest.on('drain', ondrain);
          function cleanup() {
            debug('cleanup');
            dest.removeListener('close', onclose);
            dest.removeListener('finish', onfinish);
            dest.removeListener('drain', ondrain);
            dest.removeListener('error', onerror);
            dest.removeListener('unpipe', onunpipe);
            src.removeListener('end', onend);
            src.removeListener('end', cleanup);
            src.removeListener('data', ondata);
            if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
              ondrain();
          }
          src.on('data', ondata);
          function ondata(chunk) {
            debug('ondata');
            var ret = dest.write(chunk);
            if (false === ret) {
              debug('false write response, pause', src._readableState.awaitDrain);
              src._readableState.awaitDrain++;
              src.pause();
            }
          }
          function onerror(er) {
            debug('onerror', er);
            unpipe();
            dest.removeListener('error', onerror);
            if (EE.listenerCount(dest, 'error') === 0)
              dest.emit('error', er);
          }
          if (!dest._events || !dest._events.error)
            dest.on('error', onerror);
          else if (isArray(dest._events.error))
            dest._events.error.unshift(onerror);
          else
            dest._events.error = [onerror, dest._events.error];
          function onclose() {
            dest.removeListener('finish', onfinish);
            unpipe();
          }
          dest.once('close', onclose);
          function onfinish() {
            debug('onfinish');
            dest.removeListener('close', onclose);
            unpipe();
          }
          dest.once('finish', onfinish);
          function unpipe() {
            debug('unpipe');
            src.unpipe(dest);
          }
          dest.emit('pipe', src);
          if (!state.flowing) {
            debug('pipe resume');
            src.resume();
          }
          return dest;
        };
        function pipeOnDrain(src) {
          return function() {
            var state = src._readableState;
            debug('pipeOnDrain', state.awaitDrain);
            if (state.awaitDrain)
              state.awaitDrain--;
            if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {
              state.flowing = true;
              flow(src);
            }
          };
        }
        Readable.prototype.unpipe = function(dest) {
          var state = this._readableState;
          if (state.pipesCount === 0)
            return this;
          if (state.pipesCount === 1) {
            if (dest && dest !== state.pipes)
              return this;
            if (!dest)
              dest = state.pipes;
            state.pipes = null;
            state.pipesCount = 0;
            state.flowing = false;
            if (dest)
              dest.emit('unpipe', this);
            return this;
          }
          if (!dest) {
            var dests = state.pipes;
            var len = state.pipesCount;
            state.pipes = null;
            state.pipesCount = 0;
            state.flowing = false;
            for (var i = 0; i < len; i++)
              dests[i].emit('unpipe', this);
            return this;
          }
          var i = indexOf(state.pipes, dest);
          if (i === -1)
            return this;
          state.pipes.splice(i, 1);
          state.pipesCount -= 1;
          if (state.pipesCount === 1)
            state.pipes = state.pipes[0];
          dest.emit('unpipe', this);
          return this;
        };
        Readable.prototype.on = function(ev, fn) {
          var res = Stream.prototype.on.call(this, ev, fn);
          if (ev === 'data' && false !== this._readableState.flowing) {
            this.resume();
          }
          if (ev === 'readable' && this.readable) {
            var state = this._readableState;
            if (!state.readableListening) {
              state.readableListening = true;
              state.emittedReadable = false;
              state.needReadable = true;
              if (!state.reading) {
                processNextTick(nReadingNextTick, this);
              } else if (state.length) {
                emitReadable(this, state);
              }
            }
          }
          return res;
        };
        Readable.prototype.addListener = Readable.prototype.on;
        function nReadingNextTick(self) {
          debug('readable nexttick read 0');
          self.read(0);
        }
        Readable.prototype.resume = function() {
          var state = this._readableState;
          if (!state.flowing) {
            debug('resume');
            state.flowing = true;
            resume(this, state);
          }
          return this;
        };
        function resume(stream, state) {
          if (!state.resumeScheduled) {
            state.resumeScheduled = true;
            processNextTick(resume_, stream, state);
          }
        }
        function resume_(stream, state) {
          if (!state.reading) {
            debug('resume read 0');
            stream.read(0);
          }
          state.resumeScheduled = false;
          stream.emit('resume');
          flow(stream);
          if (state.flowing && !state.reading)
            stream.read(0);
        }
        Readable.prototype.pause = function() {
          debug('call pause flowing=%j', this._readableState.flowing);
          if (false !== this._readableState.flowing) {
            debug('pause');
            this._readableState.flowing = false;
            this.emit('pause');
          }
          return this;
        };
        function flow(stream) {
          var state = stream._readableState;
          debug('flow', state.flowing);
          if (state.flowing) {
            do {
              var chunk = stream.read();
            } while (null !== chunk && state.flowing);
          }
        }
        Readable.prototype.wrap = function(stream) {
          var state = this._readableState;
          var paused = false;
          var self = this;
          stream.on('end', function() {
            debug('wrapped end');
            if (state.decoder && !state.ended) {
              var chunk = state.decoder.end();
              if (chunk && chunk.length)
                self.push(chunk);
            }
            self.push(null);
          });
          stream.on('data', function(chunk) {
            debug('wrapped data');
            if (state.decoder)
              chunk = state.decoder.write(chunk);
            if (state.objectMode && (chunk === null || chunk === undefined))
              return;
            else if (!state.objectMode && (!chunk || !chunk.length))
              return;
            var ret = self.push(chunk);
            if (!ret) {
              paused = true;
              stream.pause();
            }
          });
          for (var i in stream) {
            if (this[i] === undefined && typeof stream[i] === 'function') {
              this[i] = function(method) {
                return function() {
                  return stream[method].apply(stream, arguments);
                };
              }(i);
            }
          }
          var events = ['error', 'close', 'destroy', 'pause', 'resume'];
          forEach(events, function(ev) {
            stream.on(ev, self.emit.bind(self, ev));
          });
          self._read = function(n) {
            debug('wrapped _read', n);
            if (paused) {
              paused = false;
              stream.resume();
            }
          };
          return self;
        };
        Readable._fromList = fromList;
        function fromList(n, state) {
          var list = state.buffer;
          var length = state.length;
          var stringMode = !!state.decoder;
          var objectMode = !!state.objectMode;
          var ret;
          if (list.length === 0)
            return null;
          if (length === 0)
            ret = null;
          else if (objectMode)
            ret = list.shift();
          else if (!n || n >= length) {
            if (stringMode)
              ret = list.join('');
            else
              ret = Buffer.concat(list, length);
            list.length = 0;
          } else {
            if (n < list[0].length) {
              var buf = list[0];
              ret = buf.slice(0, n);
              list[0] = buf.slice(n);
            } else if (n === list[0].length) {
              ret = list.shift();
            } else {
              if (stringMode)
                ret = '';
              else
                ret = new Buffer(n);
              var c = 0;
              for (var i = 0,
                  l = list.length; i < l && c < n; i++) {
                var buf = list[0];
                var cpy = Math.min(n - c, buf.length);
                if (stringMode)
                  ret += buf.slice(0, cpy);
                else
                  buf.copy(ret, c, 0, cpy);
                if (cpy < buf.length)
                  list[0] = buf.slice(cpy);
                else
                  list.shift();
                c += cpy;
              }
            }
          }
          return ret;
        }
        function endReadable(stream) {
          var state = stream._readableState;
          if (state.length > 0)
            throw new Error('endReadable called on non-empty stream');
          if (!state.endEmitted) {
            state.ended = true;
            processNextTick(endReadableNT, state, stream);
          }
        }
        function endReadableNT(state, stream) {
          if (!state.endEmitted && state.length === 0) {
            state.endEmitted = true;
            stream.readable = false;
            stream.emit('end');
          }
        }
        function forEach(xs, f) {
          for (var i = 0,
              l = xs.length; i < l; i++) {
            f(xs[i], i);
          }
        }
        function indexOf(xs, x) {
          for (var i = 0,
              l = xs.length; i < l; i++) {
            if (xs[i] === x)
              return i;
          }
          return -1;
        }
      }).call(this, require('_process'));
    }, {
      "./_stream_duplex": 194,
      "_process": 192,
      "buffer": 44,
      "core-util-is": 199,
      "events": 189,
      "inherits": 190,
      "isarray": 191,
      "process-nextick-args": 200,
      "string_decoder/": 207,
      "util": 43
    }],
    197: [function(require, module, exports) {
      'use strict';
      module.exports = Transform;
      var Duplex = require('./_stream_duplex');
      var util = require('core-util-is');
      util.inherits = require('inherits');
      util.inherits(Transform, Duplex);
      function TransformState(stream) {
        this.afterTransform = function(er, data) {
          return afterTransform(stream, er, data);
        };
        this.needTransform = false;
        this.transforming = false;
        this.writecb = null;
        this.writechunk = null;
      }
      function afterTransform(stream, er, data) {
        var ts = stream._transformState;
        ts.transforming = false;
        var cb = ts.writecb;
        if (!cb)
          return stream.emit('error', new Error('no writecb in Transform class'));
        ts.writechunk = null;
        ts.writecb = null;
        if (data !== null && data !== undefined)
          stream.push(data);
        if (cb)
          cb(er);
        var rs = stream._readableState;
        rs.reading = false;
        if (rs.needReadable || rs.length < rs.highWaterMark) {
          stream._read(rs.highWaterMark);
        }
      }
      function Transform(options) {
        if (!(this instanceof Transform))
          return new Transform(options);
        Duplex.call(this, options);
        this._transformState = new TransformState(this);
        var stream = this;
        this._readableState.needReadable = true;
        this._readableState.sync = false;
        if (options) {
          if (typeof options.transform === 'function')
            this._transform = options.transform;
          if (typeof options.flush === 'function')
            this._flush = options.flush;
        }
        this.once('prefinish', function() {
          if (typeof this._flush === 'function')
            this._flush(function(er) {
              done(stream, er);
            });
          else
            done(stream);
        });
      }
      Transform.prototype.push = function(chunk, encoding) {
        this._transformState.needTransform = false;
        return Duplex.prototype.push.call(this, chunk, encoding);
      };
      Transform.prototype._transform = function(chunk, encoding, cb) {
        throw new Error('not implemented');
      };
      Transform.prototype._write = function(chunk, encoding, cb) {
        var ts = this._transformState;
        ts.writecb = cb;
        ts.writechunk = chunk;
        ts.writeencoding = encoding;
        if (!ts.transforming) {
          var rs = this._readableState;
          if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
            this._read(rs.highWaterMark);
        }
      };
      Transform.prototype._read = function(n) {
        var ts = this._transformState;
        if (ts.writechunk !== null && ts.writecb && !ts.transforming) {
          ts.transforming = true;
          this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
        } else {
          ts.needTransform = true;
        }
      };
      function done(stream, er) {
        if (er)
          return stream.emit('error', er);
        var ws = stream._writableState;
        var ts = stream._transformState;
        if (ws.length)
          throw new Error('calling transform done when ws.length != 0');
        if (ts.transforming)
          throw new Error('calling transform done when still transforming');
        return stream.push(null);
      }
    }, {
      "./_stream_duplex": 194,
      "core-util-is": 199,
      "inherits": 190
    }],
    198: [function(require, module, exports) {
      'use strict';
      module.exports = Writable;
      var processNextTick = require('process-nextick-args');
      var Buffer = require('buffer').Buffer;
      Writable.WritableState = WritableState;
      var util = require('core-util-is');
      util.inherits = require('inherits');
      var Stream;
      (function() {
        try {
          Stream = require('st' + 'ream');
        } catch (_) {} finally {
          if (!Stream)
            Stream = require('events').EventEmitter;
        }
      }());
      var Buffer = require('buffer').Buffer;
      util.inherits(Writable, Stream);
      function nop() {}
      function WriteReq(chunk, encoding, cb) {
        this.chunk = chunk;
        this.encoding = encoding;
        this.callback = cb;
        this.next = null;
      }
      function WritableState(options, stream) {
        var Duplex = require('./_stream_duplex');
        options = options || {};
        this.objectMode = !!options.objectMode;
        if (stream instanceof Duplex)
          this.objectMode = this.objectMode || !!options.writableObjectMode;
        var hwm = options.highWaterMark;
        var defaultHwm = this.objectMode ? 16 : 16 * 1024;
        this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;
        this.highWaterMark = ~~this.highWaterMark;
        this.needDrain = false;
        this.ending = false;
        this.ended = false;
        this.finished = false;
        var noDecode = options.decodeStrings === false;
        this.decodeStrings = !noDecode;
        this.defaultEncoding = options.defaultEncoding || 'utf8';
        this.length = 0;
        this.writing = false;
        this.corked = 0;
        this.sync = true;
        this.bufferProcessing = false;
        this.onwrite = function(er) {
          onwrite(stream, er);
        };
        this.writecb = null;
        this.writelen = 0;
        this.bufferedRequest = null;
        this.lastBufferedRequest = null;
        this.pendingcb = 0;
        this.prefinished = false;
        this.errorEmitted = false;
      }
      WritableState.prototype.getBuffer = function writableStateGetBuffer() {
        var current = this.bufferedRequest;
        var out = [];
        while (current) {
          out.push(current);
          current = current.next;
        }
        return out;
      };
      (function() {
        try {
          Object.defineProperty(WritableState.prototype, 'buffer', {get: require('util-deprecate')(function() {
              return this.getBuffer();
            }, '_writableState.buffer is deprecated. Use ' + '_writableState.getBuffer() instead.')});
        } catch (_) {}
      }());
      function Writable(options) {
        var Duplex = require('./_stream_duplex');
        if (!(this instanceof Writable) && !(this instanceof Duplex))
          return new Writable(options);
        this._writableState = new WritableState(options, this);
        this.writable = true;
        if (options) {
          if (typeof options.write === 'function')
            this._write = options.write;
          if (typeof options.writev === 'function')
            this._writev = options.writev;
        }
        Stream.call(this);
      }
      Writable.prototype.pipe = function() {
        this.emit('error', new Error('Cannot pipe. Not readable.'));
      };
      function writeAfterEnd(stream, cb) {
        var er = new Error('write after end');
        stream.emit('error', er);
        processNextTick(cb, er);
      }
      function validChunk(stream, state, chunk, cb) {
        var valid = true;
        if (!(Buffer.isBuffer(chunk)) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {
          var er = new TypeError('Invalid non-string/buffer chunk');
          stream.emit('error', er);
          processNextTick(cb, er);
          valid = false;
        }
        return valid;
      }
      Writable.prototype.write = function(chunk, encoding, cb) {
        var state = this._writableState;
        var ret = false;
        if (typeof encoding === 'function') {
          cb = encoding;
          encoding = null;
        }
        if (Buffer.isBuffer(chunk))
          encoding = 'buffer';
        else if (!encoding)
          encoding = state.defaultEncoding;
        if (typeof cb !== 'function')
          cb = nop;
        if (state.ended)
          writeAfterEnd(this, cb);
        else if (validChunk(this, state, chunk, cb)) {
          state.pendingcb++;
          ret = writeOrBuffer(this, state, chunk, encoding, cb);
        }
        return ret;
      };
      Writable.prototype.cork = function() {
        var state = this._writableState;
        state.corked++;
      };
      Writable.prototype.uncork = function() {
        var state = this._writableState;
        if (state.corked) {
          state.corked--;
          if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest)
            clearBuffer(this, state);
        }
      };
      Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
        if (typeof encoding === 'string')
          encoding = encoding.toLowerCase();
        if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1))
          throw new TypeError('Unknown encoding: ' + encoding);
        this._writableState.defaultEncoding = encoding;
      };
      function decodeChunk(state, chunk, encoding) {
        if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {
          chunk = new Buffer(chunk, encoding);
        }
        return chunk;
      }
      function writeOrBuffer(stream, state, chunk, encoding, cb) {
        chunk = decodeChunk(state, chunk, encoding);
        if (Buffer.isBuffer(chunk))
          encoding = 'buffer';
        var len = state.objectMode ? 1 : chunk.length;
        state.length += len;
        var ret = state.length < state.highWaterMark;
        if (!ret)
          state.needDrain = true;
        if (state.writing || state.corked) {
          var last = state.lastBufferedRequest;
          state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);
          if (last) {
            last.next = state.lastBufferedRequest;
          } else {
            state.bufferedRequest = state.lastBufferedRequest;
          }
        } else {
          doWrite(stream, state, false, len, chunk, encoding, cb);
        }
        return ret;
      }
      function doWrite(stream, state, writev, len, chunk, encoding, cb) {
        state.writelen = len;
        state.writecb = cb;
        state.writing = true;
        state.sync = true;
        if (writev)
          stream._writev(chunk, state.onwrite);
        else
          stream._write(chunk, encoding, state.onwrite);
        state.sync = false;
      }
      function onwriteError(stream, state, sync, er, cb) {
        --state.pendingcb;
        if (sync)
          processNextTick(cb, er);
        else
          cb(er);
        stream._writableState.errorEmitted = true;
        stream.emit('error', er);
      }
      function onwriteStateUpdate(state) {
        state.writing = false;
        state.writecb = null;
        state.length -= state.writelen;
        state.writelen = 0;
      }
      function onwrite(stream, er) {
        var state = stream._writableState;
        var sync = state.sync;
        var cb = state.writecb;
        onwriteStateUpdate(state);
        if (er)
          onwriteError(stream, state, sync, er, cb);
        else {
          var finished = needFinish(state);
          if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
            clearBuffer(stream, state);
          }
          if (sync) {
            processNextTick(afterWrite, stream, state, finished, cb);
          } else {
            afterWrite(stream, state, finished, cb);
          }
        }
      }
      function afterWrite(stream, state, finished, cb) {
        if (!finished)
          onwriteDrain(stream, state);
        state.pendingcb--;
        cb();
        finishMaybe(stream, state);
      }
      function onwriteDrain(stream, state) {
        if (state.length === 0 && state.needDrain) {
          state.needDrain = false;
          stream.emit('drain');
        }
      }
      function clearBuffer(stream, state) {
        state.bufferProcessing = true;
        var entry = state.bufferedRequest;
        if (stream._writev && entry && entry.next) {
          var buffer = [];
          var cbs = [];
          while (entry) {
            cbs.push(entry.callback);
            buffer.push(entry);
            entry = entry.next;
          }
          state.pendingcb++;
          state.lastBufferedRequest = null;
          doWrite(stream, state, true, state.length, buffer, '', function(err) {
            for (var i = 0; i < cbs.length; i++) {
              state.pendingcb--;
              cbs[i](err);
            }
          });
        } else {
          while (entry) {
            var chunk = entry.chunk;
            var encoding = entry.encoding;
            var cb = entry.callback;
            var len = state.objectMode ? 1 : chunk.length;
            doWrite(stream, state, false, len, chunk, encoding, cb);
            entry = entry.next;
            if (state.writing) {
              break;
            }
          }
          if (entry === null)
            state.lastBufferedRequest = null;
        }
        state.bufferedRequest = entry;
        state.bufferProcessing = false;
      }
      Writable.prototype._write = function(chunk, encoding, cb) {
        cb(new Error('not implemented'));
      };
      Writable.prototype._writev = null;
      Writable.prototype.end = function(chunk, encoding, cb) {
        var state = this._writableState;
        if (typeof chunk === 'function') {
          cb = chunk;
          chunk = null;
          encoding = null;
        } else if (typeof encoding === 'function') {
          cb = encoding;
          encoding = null;
        }
        if (chunk !== null && chunk !== undefined)
          this.write(chunk, encoding);
        if (state.corked) {
          state.corked = 1;
          this.uncork();
        }
        if (!state.ending && !state.finished)
          endWritable(this, state, cb);
      };
      function needFinish(state) {
        return (state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing);
      }
      function prefinish(stream, state) {
        if (!state.prefinished) {
          state.prefinished = true;
          stream.emit('prefinish');
        }
      }
      function finishMaybe(stream, state) {
        var need = needFinish(state);
        if (need) {
          if (state.pendingcb === 0) {
            prefinish(stream, state);
            state.finished = true;
            stream.emit('finish');
          } else {
            prefinish(stream, state);
          }
        }
        return need;
      }
      function endWritable(stream, state, cb) {
        state.ending = true;
        finishMaybe(stream, state);
        if (cb) {
          if (state.finished)
            processNextTick(cb);
          else
            stream.once('finish', cb);
        }
        state.ended = true;
      }
    }, {
      "./_stream_duplex": 194,
      "buffer": 44,
      "core-util-is": 199,
      "events": 189,
      "inherits": 190,
      "process-nextick-args": 200,
      "util-deprecate": 201
    }],
    199: [function(require, module, exports) {
      (function(Buffer) {
        function isArray(ar) {
          return Array.isArray(ar);
        }
        exports.isArray = isArray;
        function isBoolean(arg) {
          return typeof arg === 'boolean';
        }
        exports.isBoolean = isBoolean;
        function isNull(arg) {
          return arg === null;
        }
        exports.isNull = isNull;
        function isNullOrUndefined(arg) {
          return arg == null;
        }
        exports.isNullOrUndefined = isNullOrUndefined;
        function isNumber(arg) {
          return typeof arg === 'number';
        }
        exports.isNumber = isNumber;
        function isString(arg) {
          return typeof arg === 'string';
        }
        exports.isString = isString;
        function isSymbol(arg) {
          return typeof arg === 'symbol';
        }
        exports.isSymbol = isSymbol;
        function isUndefined(arg) {
          return arg === void 0;
        }
        exports.isUndefined = isUndefined;
        function isRegExp(re) {
          return isObject(re) && objectToString(re) === '[object RegExp]';
        }
        exports.isRegExp = isRegExp;
        function isObject(arg) {
          return typeof arg === 'object' && arg !== null;
        }
        exports.isObject = isObject;
        function isDate(d) {
          return isObject(d) && objectToString(d) === '[object Date]';
        }
        exports.isDate = isDate;
        function isError(e) {
          return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);
        }
        exports.isError = isError;
        function isFunction(arg) {
          return typeof arg === 'function';
        }
        exports.isFunction = isFunction;
        function isPrimitive(arg) {
          return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || typeof arg === 'symbol' || typeof arg === 'undefined';
        }
        exports.isPrimitive = isPrimitive;
        function isBuffer(arg) {
          return Buffer.isBuffer(arg);
        }
        exports.isBuffer = isBuffer;
        function objectToString(o) {
          return Object.prototype.toString.call(o);
        }
      }).call(this, require("buffer").Buffer);
    }, {"buffer": 44}],
    200: [function(require, module, exports) {
      (function(process) {
        'use strict';
        module.exports = nextTick;
        function nextTick(fn) {
          var args = new Array(arguments.length - 1);
          var i = 0;
          while (i < args.length) {
            args[i++] = arguments[i];
          }
          process.nextTick(function afterTick() {
            fn.apply(null, args);
          });
        }
      }).call(this, require('_process'));
    }, {"_process": 192}],
    201: [function(require, module, exports) {
      (function(global) {
        module.exports = deprecate;
        function deprecate(fn, msg) {
          if (config('noDeprecation')) {
            return fn;
          }
          var warned = false;
          function deprecated() {
            if (!warned) {
              if (config('throwDeprecation')) {
                throw new Error(msg);
              } else if (config('traceDeprecation')) {
                console.trace(msg);
              } else {
                console.warn(msg);
              }
              warned = true;
            }
            return fn.apply(this, arguments);
          }
          return deprecated;
        }
        function config(name) {
          if (!global.localStorage)
            return false;
          var val = global.localStorage[name];
          if (null == val)
            return false;
          return String(val).toLowerCase() === 'true';
        }
      }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
    }, {}],
    202: [function(require, module, exports) {
      module.exports = require("./lib/_stream_passthrough.js");
    }, {"./lib/_stream_passthrough.js": 195}],
    203: [function(require, module, exports) {
      var Stream = (function() {
        try {
          return require('st' + 'ream');
        } catch (_) {}
      }());
      exports = module.exports = require('./lib/_stream_readable.js');
      exports.Stream = Stream || exports;
      exports.Readable = exports;
      exports.Writable = require('./lib/_stream_writable.js');
      exports.Duplex = require('./lib/_stream_duplex.js');
      exports.Transform = require('./lib/_stream_transform.js');
      exports.PassThrough = require('./lib/_stream_passthrough.js');
    }, {
      "./lib/_stream_duplex.js": 194,
      "./lib/_stream_passthrough.js": 195,
      "./lib/_stream_readable.js": 196,
      "./lib/_stream_transform.js": 197,
      "./lib/_stream_writable.js": 198
    }],
    204: [function(require, module, exports) {
      module.exports = require("./lib/_stream_transform.js");
    }, {"./lib/_stream_transform.js": 197}],
    205: [function(require, module, exports) {
      module.exports = require("./lib/_stream_writable.js");
    }, {"./lib/_stream_writable.js": 198}],
    206: [function(require, module, exports) {
      module.exports = Stream;
      var EE = require('events').EventEmitter;
      var inherits = require('inherits');
      inherits(Stream, EE);
      Stream.Readable = require('readable-stream/readable.js');
      Stream.Writable = require('readable-stream/writable.js');
      Stream.Duplex = require('readable-stream/duplex.js');
      Stream.Transform = require('readable-stream/transform.js');
      Stream.PassThrough = require('readable-stream/passthrough.js');
      Stream.Stream = Stream;
      function Stream() {
        EE.call(this);
      }
      Stream.prototype.pipe = function(dest, options) {
        var source = this;
        function ondata(chunk) {
          if (dest.writable) {
            if (false === dest.write(chunk) && source.pause) {
              source.pause();
            }
          }
        }
        source.on('data', ondata);
        function ondrain() {
          if (source.readable && source.resume) {
            source.resume();
          }
        }
        dest.on('drain', ondrain);
        if (!dest._isStdio && (!options || options.end !== false)) {
          source.on('end', onend);
          source.on('close', onclose);
        }
        var didOnEnd = false;
        function onend() {
          if (didOnEnd)
            return;
          didOnEnd = true;
          dest.end();
        }
        function onclose() {
          if (didOnEnd)
            return;
          didOnEnd = true;
          if (typeof dest.destroy === 'function')
            dest.destroy();
        }
        function onerror(er) {
          cleanup();
          if (EE.listenerCount(this, 'error') === 0) {
            throw er;
          }
        }
        source.on('error', onerror);
        dest.on('error', onerror);
        function cleanup() {
          source.removeListener('data', ondata);
          dest.removeListener('drain', ondrain);
          source.removeListener('end', onend);
          source.removeListener('close', onclose);
          source.removeListener('error', onerror);
          dest.removeListener('error', onerror);
          source.removeListener('end', cleanup);
          source.removeListener('close', cleanup);
          dest.removeListener('close', cleanup);
        }
        source.on('end', cleanup);
        source.on('close', cleanup);
        dest.on('close', cleanup);
        dest.emit('pipe', source);
        return dest;
      };
    }, {
      "events": 189,
      "inherits": 190,
      "readable-stream/duplex.js": 193,
      "readable-stream/passthrough.js": 202,
      "readable-stream/readable.js": 203,
      "readable-stream/transform.js": 204,
      "readable-stream/writable.js": 205
    }],
    207: [function(require, module, exports) {
      var Buffer = require('buffer').Buffer;
      var isBufferEncoding = Buffer.isEncoding || function(encoding) {
        switch (encoding && encoding.toLowerCase()) {
          case 'hex':
          case 'utf8':
          case 'utf-8':
          case 'ascii':
          case 'binary':
          case 'base64':
          case 'ucs2':
          case 'ucs-2':
          case 'utf16le':
          case 'utf-16le':
          case 'raw':
            return true;
          default:
            return false;
        }
      };
      function assertEncoding(encoding) {
        if (encoding && !isBufferEncoding(encoding)) {
          throw new Error('Unknown encoding: ' + encoding);
        }
      }
      var StringDecoder = exports.StringDecoder = function(encoding) {
        this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');
        assertEncoding(encoding);
        switch (this.encoding) {
          case 'utf8':
            this.surrogateSize = 3;
            break;
          case 'ucs2':
          case 'utf16le':
            this.surrogateSize = 2;
            this.detectIncompleteChar = utf16DetectIncompleteChar;
            break;
          case 'base64':
            this.surrogateSize = 3;
            this.detectIncompleteChar = base64DetectIncompleteChar;
            break;
          default:
            this.write = passThroughWrite;
            return;
        }
        this.charBuffer = new Buffer(6);
        this.charReceived = 0;
        this.charLength = 0;
      };
      StringDecoder.prototype.write = function(buffer) {
        var charStr = '';
        while (this.charLength) {
          var available = (buffer.length >= this.charLength - this.charReceived) ? this.charLength - this.charReceived : buffer.length;
          buffer.copy(this.charBuffer, this.charReceived, 0, available);
          this.charReceived += available;
          if (this.charReceived < this.charLength) {
            return '';
          }
          buffer = buffer.slice(available, buffer.length);
          charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);
          var charCode = charStr.charCodeAt(charStr.length - 1);
          if (charCode >= 0xD800 && charCode <= 0xDBFF) {
            this.charLength += this.surrogateSize;
            charStr = '';
            continue;
          }
          this.charReceived = this.charLength = 0;
          if (buffer.length === 0) {
            return charStr;
          }
          break;
        }
        this.detectIncompleteChar(buffer);
        var end = buffer.length;
        if (this.charLength) {
          buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);
          end -= this.charReceived;
        }
        charStr += buffer.toString(this.encoding, 0, end);
        var end = charStr.length - 1;
        var charCode = charStr.charCodeAt(end);
        if (charCode >= 0xD800 && charCode <= 0xDBFF) {
          var size = this.surrogateSize;
          this.charLength += size;
          this.charReceived += size;
          this.charBuffer.copy(this.charBuffer, size, 0, size);
          buffer.copy(this.charBuffer, 0, 0, size);
          return charStr.substring(0, end);
        }
        return charStr;
      };
      StringDecoder.prototype.detectIncompleteChar = function(buffer) {
        var i = (buffer.length >= 3) ? 3 : buffer.length;
        for (; i > 0; i--) {
          var c = buffer[buffer.length - i];
          if (i == 1 && c >> 5 == 0x06) {
            this.charLength = 2;
            break;
          }
          if (i <= 2 && c >> 4 == 0x0E) {
            this.charLength = 3;
            break;
          }
          if (i <= 3 && c >> 3 == 0x1E) {
            this.charLength = 4;
            break;
          }
        }
        this.charReceived = i;
      };
      StringDecoder.prototype.end = function(buffer) {
        var res = '';
        if (buffer && buffer.length)
          res = this.write(buffer);
        if (this.charReceived) {
          var cr = this.charReceived;
          var buf = this.charBuffer;
          var enc = this.encoding;
          res += buf.slice(0, cr).toString(enc);
        }
        return res;
      };
      function passThroughWrite(buffer) {
        return buffer.toString(this.encoding);
      }
      function utf16DetectIncompleteChar(buffer) {
        this.charReceived = buffer.length % 2;
        this.charLength = this.charReceived ? 2 : 0;
      }
      function base64DetectIncompleteChar(buffer) {
        this.charReceived = buffer.length % 3;
        this.charLength = this.charReceived ? 3 : 0;
      }
    }, {"buffer": 44}],
    208: [function(require, module, exports) {
      var indexOf = require('indexof');
      var Object_keys = function(obj) {
        if (Object.keys)
          return Object.keys(obj);
        else {
          var res = [];
          for (var key in obj)
            res.push(key);
          return res;
        }
      };
      var forEach = function(xs, fn) {
        if (xs.forEach)
          return xs.forEach(fn);
        else
          for (var i = 0; i < xs.length; i++) {
            fn(xs[i], i, xs);
          }
      };
      var defineProp = (function() {
        try {
          Object.defineProperty({}, '_', {});
          return function(obj, name, value) {
            Object.defineProperty(obj, name, {
              writable: true,
              enumerable: false,
              configurable: true,
              value: value
            });
          };
        } catch (e) {
          return function(obj, name, value) {
            obj[name] = value;
          };
        }
      }());
      var globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function', 'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError', 'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError', 'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape', 'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];
      function Context() {}
      Context.prototype = {};
      var Script = exports.Script = function NodeScript(code) {
        if (!(this instanceof Script))
          return new Script(code);
        this.code = code;
      };
      Script.prototype.runInContext = function(context) {
        if (!(context instanceof Context)) {
          throw new TypeError("needs a 'context' argument.");
        }
        var iframe = document.createElement('iframe');
        if (!iframe.style)
          iframe.style = {};
        iframe.style.display = 'none';
        document.body.appendChild(iframe);
        var win = iframe.contentWindow;
        var wEval = win.eval,
            wExecScript = win.execScript;
        if (!wEval && wExecScript) {
          wExecScript.call(win, 'null');
          wEval = win.eval;
        }
        forEach(Object_keys(context), function(key) {
          win[key] = context[key];
        });
        forEach(globals, function(key) {
          if (context[key]) {
            win[key] = context[key];
          }
        });
        var winKeys = Object_keys(win);
        var res = wEval.call(win, this.code);
        forEach(Object_keys(win), function(key) {
          if (key in context || indexOf(winKeys, key) === -1) {
            context[key] = win[key];
          }
        });
        forEach(globals, function(key) {
          if (!(key in context)) {
            defineProp(context, key, win[key]);
          }
        });
        document.body.removeChild(iframe);
        return res;
      };
      Script.prototype.runInThisContext = function() {
        return eval(this.code);
      };
      Script.prototype.runInNewContext = function(context) {
        var ctx = Script.createContext(context);
        var res = this.runInContext(ctx);
        forEach(Object_keys(ctx), function(key) {
          context[key] = ctx[key];
        });
        return res;
      };
      forEach(Object_keys(Script.prototype), function(name) {
        exports[name] = Script[name] = function(code) {
          var s = Script(code);
          return s[name].apply(s, [].slice.call(arguments, 1));
        };
      });
      exports.createScript = function(code) {
        return exports.Script(code);
      };
      exports.createContext = Script.createContext = function(context) {
        var copy = new Context();
        if (typeof context === 'object') {
          forEach(Object_keys(context), function(key) {
            copy[key] = context[key];
          });
        }
        return copy;
      };
    }, {"indexof": 209}],
    209: [function(require, module, exports) {
      var indexOf = [].indexOf;
      module.exports = function(arr, obj) {
        if (indexOf)
          return arr.indexOf(obj);
        for (var i = 0; i < arr.length; ++i) {
          if (arr[i] === obj)
            return i;
        }
        return -1;
      };
    }, {}]
  }, {}, [2])(2);
});

})();
(function() {
var define = $__System.amdDefine;
(function(f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define("128", [], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.ClientAPI = f();
  }
})(function() {
  var define,
      module,
      exports;
  return (function e(t, n, r) {
    function s(o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = typeof require == "function" && require;
          if (!u && a)
            return a(o, !0);
          if (i)
            return i(o, !0);
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f;
        }
        var l = n[o] = {exports: {}};
        t[o][0].call(l.exports, function(e) {
          var n = t[o][1][e];
          return s(n ? n : e);
        }, l, l.exports, e, t, n, r);
      }
      return n[o].exports;
    }
    var i = typeof require == "function" && require;
    for (var o = 0; o < r.length; o++)
      s(r[o]);
    return s;
  })({
    1: [function(require, module, exports) {
      'option strict';
      module.exports = {
        Key: {
          "2i34lm": "AccountService.Account.SIGN_UP",
          "1AU3vj": "AccountService.Account.UPDATE_PROFILE",
          iY6g5: "AccountService.Session.SIGN_IN",
          Z1MCuQg: "AccountService.Session.TOKEN_SIGN_IN",
          Z2TCLI: "AccountService.Session.SET_STATE",
          ZvQ4OR: "AccountService.Session.SIGN_OUT",
          W0Ktc: "AccountService.Roster.ADD_PARTNER",
          Z1otpxy: "AccountService.Roster.REMOVE_PARTNER",
          Zn81jE: "AccountService.Roster.GET_OFFLINE_NEXT_PAGE",
          Z14pECD: "AccountService.Roster.GET_ONLINE_NEXT_PAGE",
          b0RKC: "AccountService.Roster.On.STATE_CHANGED",
          "2onRHm": "AccountService.Roster.On.PARTNER_ADDED",
          dAPo3: "AccountService.Roster.On.PARTNER_REMOVED",
          Z1wOjFV: "ChatService.Message.CHAT",
          Z1STJNK: "ChatService.Message.PHOTO",
          "15nD0m": "ChatService.Message.MISSED_CALL",
          "10PyVI": "ChatService.Message.AUDIO_CALL",
          "2li3Xn": "ChatService.Message.VIDEO_CALL",
          g63Hq: "ChatService.Message.GET_BY_ID",
          "1002Ec": "ChatService.Message.SET_READ_MESSAGE",
          "1qO9P1": "ChatService.Message.GET_NEXT_PAGE",
          Z1oBAXV: "ChatService.Message.GET_PREVIOUS_PAGE",
          ZEPJEc: "ChatService.Message.On.MESSAGE",
          Z1kcDr5: "ChatService.Message.On.MESSAGE_STATS",
          ZU8xEi: "ChatService.Conversation.CREATE_ONE",
          nnSq4: "ChatService.Conversation.CREATE_GROUP",
          Z2wzTlH: "ChatService.Conversation.UPDATE_TITLE",
          "3jAEz": "ChatService.Conversation.ADD_MEMBERS",
          aBCdC: "ChatService.Conversation.REMOVE_MEMBERS",
          "2uFNoD": "ChatService.Conversation.LEAVE_GROUP",
          "1fcCFy": "ChatService.Conversation.DELETE",
          Z1pqGbp: "ChatService.Conversation.GET_MEMBERS",
          "1PPlUY": "ChatService.Conversation.GET_BY_ID",
          XW083: "ChatService.Conversation.GET_NEXT_PAGE",
          JJ8ac: "ChatService.Conversation.GET_PREVIOUS_PAGE",
          Z2guxpL: "ChatService.Conversation.On.CREATED",
          Za9edJ: "ChatService.Conversation.On.MEMBERS_ADDED",
          mtFRI: "ChatService.Conversation.On.MEMBERS_REMOVED",
          Z1DNc8f: "ChatService.Conversation.On.DELETED",
          "1vpGOC": "CommunityService.Community.CREATE",
          "27uLm4": "CommunityService.Community.UPDATE",
          "1wCRlF": "CommunityService.Community.DELETE",
          "22CqAT": "CommunityService.Community.SEARCH",
          I1kJS: "CommunityService.Community.NEXT_PAGE",
          Z2ve2YU: "CommunityService.User.ADD_FAVORITE",
          "8A604": "CommunityService.User.REMOVE_FAVORITE",
          xlF2C: "CommunityService.User.FAVOURITES",
          "2wdlAi": "CommunityService.Administrator.ADD",
          ci7Nl: "CommunityService.Administrator.REMOVE",
          Z1EeTJe: "CommunityService.Member.ADD",
          Z1cxpsv: "CommunityService.Member.REMOVE",
          Z20QCVO: "CommunityService.Member.SET_ROLE",
          Z1lkyMT: "CommunityService.Member.GET_ROLE",
          Z1EeTuP: "CommunityService.Member.BAN",
          "1KTUqc": "CommunityService.Member.UNBAN",
          Z1auPY2: "CommunityService.Member.SEARCH",
          Z27IGGK: "CommunityService.Member.NEXT_PAGE",
          ZAyDPg: "CommunityService.Member.JOIN",
          "1Ki7yn": "CommunityService.Member.LEAVE",
          "1E7phu": "CommunityService.Post.CHAT",
          xDlOH: "CommunityService.Post.PHOTO",
          ZwHbQy: "CommunityService.Post.SET_READ_POST",
          Z20bHT2: "CommunityService.Post.NEXT_PAGE",
          "1il7LN": "CommunityService.Post.PREVIOUS_PAGE",
          "1nB1BY": "CommunityService.Post.On.POST",
          "9Ty7q": "CommunityService.Post.On.POST_STATS",
          Z2c6AVC: "CommunityService.Topic.CREATE",
          Z1A1wpb: "CommunityService.Topic.UPDATE",
          Z2aSqpz: "CommunityService.Topic.DELETE",
          Z1ESRal: "CommunityService.Topic.SEARCH",
          Z1W7Dtk: "CommunityService.Topic.NEXT_PAGE",
          Z265rPX: "CommunityService.Topic.FOLLOW",
          "5E1pM": "CommunityService.Topic.UNFOLLOW",
          Z2vPAv1: "CommunityService.Topic.FOLLOWING",
          Z2vPBuN: "CommunityService.Topic.FOLLOWERS",
          BwDSC: "BlobService.Blob.WRITE_BLOB",
          ZzEREl: "BlobService.Blob.READ_BLOB",
          Z1g8IFo: "BlobService.Blob.WRITE_CHUNK",
          "2d4RB6": "BlobService.Blob.READ_CHUNK"
        },
        GlobalSessionService: {},
        CentralAuthenticationService: {},
        AccountService: {
          Account: {
            SIGN_UP: "2i34lm",
            UPDATE_PROFILE: "1AU3vj"
          },
          Session: {
            SIGN_IN: "iY6g5",
            TOKEN_SIGN_IN: "Z1MCuQg",
            SET_STATE: "Z2TCLI",
            SIGN_OUT: "ZvQ4OR"
          },
          Roster: {
            ADD_PARTNER: "W0Ktc",
            REMOVE_PARTNER: "Z1otpxy",
            GET_OFFLINE_NEXT_PAGE: "Zn81jE",
            GET_ONLINE_NEXT_PAGE: "Z14pECD",
            On: {
              STATE_CHANGED: "b0RKC",
              PARTNER_ADDED: "2onRHm",
              PARTNER_REMOVED: "dAPo3"
            }
          }
        },
        ChatService: {
          Message: {
            CHAT: "Z1wOjFV",
            PHOTO: "Z1STJNK",
            MISSED_CALL: "15nD0m",
            AUDIO_CALL: "10PyVI",
            VIDEO_CALL: "2li3Xn",
            GET_BY_ID: "g63Hq",
            SET_READ_MESSAGE: "1002Ec",
            GET_NEXT_PAGE: "1qO9P1",
            GET_PREVIOUS_PAGE: "Z1oBAXV",
            On: {
              MESSAGE: "ZEPJEc",
              MESSAGE_STATS: "Z1kcDr5"
            }
          },
          Conversation: {
            CREATE_ONE: "ZU8xEi",
            CREATE_GROUP: "nnSq4",
            UPDATE_TITLE: "Z2wzTlH",
            ADD_MEMBERS: "3jAEz",
            REMOVE_MEMBERS: "aBCdC",
            LEAVE_GROUP: "2uFNoD",
            DELETE: "1fcCFy",
            GET_MEMBERS: "Z1pqGbp",
            GET_BY_ID: "1PPlUY",
            GET_NEXT_PAGE: "XW083",
            GET_PREVIOUS_PAGE: "JJ8ac",
            On: {
              CREATED: "Z2guxpL",
              MEMBERS_ADDED: "Za9edJ",
              MEMBERS_REMOVED: "mtFRI",
              DELETED: "Z1DNc8f"
            }
          }
        },
        CommunityService: {
          Community: {
            CREATE: "1vpGOC",
            UPDATE: "27uLm4",
            DELETE: "1wCRlF",
            SEARCH: "22CqAT",
            NEXT_PAGE: "I1kJS"
          },
          User: {
            ADD_FAVORITE: "Z2ve2YU",
            REMOVE_FAVORITE: "8A604",
            FAVOURITES: "xlF2C"
          },
          Administrator: {
            ADD: "2wdlAi",
            REMOVE: "ci7Nl"
          },
          Member: {
            ADD: "Z1EeTJe",
            REMOVE: "Z1cxpsv",
            SET_ROLE: "Z20QCVO",
            GET_ROLE: "Z1lkyMT",
            BAN: "Z1EeTuP",
            UNBAN: "1KTUqc",
            SEARCH: "Z1auPY2",
            NEXT_PAGE: "Z27IGGK",
            JOIN: "ZAyDPg",
            LEAVE: "1Ki7yn"
          },
          Post: {
            CHAT: "1E7phu",
            PHOTO: "xDlOH",
            SET_READ_POST: "ZwHbQy",
            NEXT_PAGE: "Z20bHT2",
            PREVIOUS_PAGE: "1il7LN",
            On: {
              POST: "1nB1BY",
              POST_STATS: "9Ty7q"
            }
          },
          Topic: {
            CREATE: "Z2c6AVC",
            UPDATE: "Z1A1wpb",
            DELETE: "Z2aSqpz",
            SEARCH: "Z1ESRal",
            NEXT_PAGE: "Z1W7Dtk",
            FOLLOW: "Z265rPX",
            UNFOLLOW: "5E1pM",
            FOLLOWING: "Z2vPAv1",
            FOLLOWERS: "Z2vPBuN"
          }
        },
        BlobService: {Blob: {
            WRITE_BLOB: "BwDSC",
            READ_BLOB: "ZzEREl",
            WRITE_CHUNK: "Z1g8IFo",
            READ_CHUNK: "2d4RB6"
          }}
      };
    }, {}],
    2: [function(require, module, exports) {
      'option strict';
      module.exports = {
        AccountService: {
          State: {
            OFFLINE: 0,
            INVISIBLE: 1,
            ONLINE: 2,
            BUSY: 3,
            AWAY: 4
          },
          DeviceId: {BROWSER: 'BROWSER'},
          PrivacyLevel: {
            PUBLIC: 0,
            FRIENDS: 1
          }
        },
        ChatService: {Conversation: {
            ConversationType: {
              ONE: 0,
              GROUP: 1
            },
            MemberType: {
              OWNER: 'OWNER',
              MEMBER: 'MEMBER'
            }
          }}
      };
    }, {}],
    3: [function(require, module, exports) {
      'option strict';
      module.exports = MessageHelper;
      function MessageHelper() {}
      MessageHelper.prototype.parseBody = function(rows) {
        var index = rows.length;
        while (index--) {
          rows[index].body = this.fromJson(rows[index].body);
        }
      };
      MessageHelper.prototype.toJson = function(value) {
        return JSON.stringify(value);
      };
      MessageHelper.prototype.fromJson = function(value) {
        try {
          return JSON.parse(value);
        } catch (err) {
          return '';
        }
      };
    }, {}],
    4: [function(require, module, exports) {
      'option strict';
      var Commands = require('./commands'),
          AppEnum = require('./helpers/enum'),
          MessageHelper = require('./helpers/messageHelper');
      module.exports = API;
      function API(pipe) {
        this.version = '2.0';
        this.pipe = pipe;
        this.pipe.Enum.Command = Commands;
        this.pipe.Enum.App = AppEnum;
        this.GlobalSessionService = new GlobalSessionService(this.pipe);
        this.CentralAuthenticationService = new CentralAuthenticationService(this.pipe);
        this.AccountService = new AccountService(this.pipe);
        this.BlobService = new BlobService(this.pipe);
        this.ChatService = new ChatService(this.pipe);
        this.CommunityService = new CommunityService(this.pipe);
      }
      ;
      function GlobalSessionService(pipe) {}
      ;
      function CentralAuthenticationService(pipe) {}
      ;
      function AccountService(pipe) {
        this.Account = new Account(pipe);
        this.Session = new Session(pipe);
        this.Roster = new Roster(pipe);
      }
      ;
      function Account(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function Session(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function Roster(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function ChatService(pipe) {
        this.Message = new Message(pipe);
        this.Conversation = new Conversation(pipe);
      }
      ;
      function Message(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
        this.messageHelper = new MessageHelper();
      }
      ;
      function Conversation(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function CommunityService(pipe) {
        this.Community = new Community(pipe);
        this.User = new User(pipe);
        this.Administrator = new Administrator(pipe);
        this.Member = new Member(pipe);
        this.Post = new Post(pipe);
        this.Topic = new Topic(pipe);
      }
      ;
      function Community(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function User(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function Administrator(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function Member(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function Post(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
        this.messageHelper = new MessageHelper();
      }
      ;
      function Topic(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      function BlobService(pipe) {
        this.Blob = new Blob(pipe);
      }
      ;
      function Blob(pipe) {
        this.pipe = pipe;
        this.Enum = this.pipe.Enum;
      }
      ;
      Account.prototype.signUp = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Account.SIGN_UP, param, null, callback);
      };
      Account.prototype.updateProfile = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Account.UPDATE_PROFILE, param, null, callback);
      };
      Session.prototype.signIn = function(param, callback) {
        param.sessionId = this.sessionId;
        this.pipe.sendRequest(this.Enum.Command.AccountService.Session.SIGN_IN, param, null, callback);
      };
      Session.prototype.tokenSignIn = function(param, callback) {
        param.sessionId = this.sessionId;
        this.pipe.sendRequest(this.Enum.Command.AccountService.Session.TOKEN_SIGN_IN, param, null, callback);
      };
      Session.prototype.setState = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Session.SET_STATE, param, null, callback);
      };
      Session.prototype.signOut = function(callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Session.SIGN_OUT, null, null, callback);
      };
      Roster.prototype.addPartner = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Roster.ADD_PARTNER, param, null, callback);
      };
      Roster.prototype.removePartner = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Roster.REMOVE_PARTNER, param, null, callback);
      };
      Roster.prototype.getOfflineNextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Roster.GET_OFFLINE_NEXT_PAGE, param, null, callback);
      };
      Roster.prototype.getOnlineNextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.AccountService.Roster.GET_ONLINE_NEXT_PAGE, param, null, callback);
      };
      Roster.prototype.onStateChanged = function(callback) {
        this.pipe.on(this.Enum.Command.AccountService.Roster.On.STATE_CHANGED, callback);
      };
      Roster.prototype.onPartnerAdded = function(callback) {
        this.pipe.on(this.Enum.Command.AccountService.Roster.On.PARTNER_ADDED, callback);
      };
      Roster.prototype.onPartnerRemoved = function(callback) {
        this.pipe.on(this.Enum.Command.AccountService.Roster.On.PARTNER_REMOVED, callback);
      };
      Message.prototype.chat = function(param, fileBuffer, callback, percentCallback) {
        if (!fileBuffer) {
          param.body = this.messageHelper.toJson(param.body);
          this.pipe.sendRequest(this.Enum.Command.ChatService.Message.CHAT, param, null, callback, percentCallback);
        } else {
          param.body.file = param.body.file || {};
          param.body.file.name = param.body.file.name || '*unknown*';
          param.body.file.type = param.body.file.type || '*unknown*';
          param.body.file.size = fileBuffer.length;
          param.Context = param.body.file;
          param.body = this.messageHelper.toJson(param.body);
          this.pipe.blobSendRequest(this.Enum.Command.ChatService.Message.CHAT, param, fileBuffer, callback, percentCallback);
        }
      };
      Message.prototype.photo = function(param, photoBuffer, callback, percentCallback) {
        param.body.photo = param.body.photo || {};
        param.body.photo.name = param.body.photo.name || '*unknown*';
        param.body.photo.type = param.body.photo.type || '*unknown*';
        param.body.photo.size = photoBuffer.length;
        param.Context = param.body.photo;
        param.body = this.messageHelper.toJson(param.body);
        this.pipe.blobSendRequest(this.Enum.Command.ChatService.Message.PHOTO, param, photoBuffer, callback, percentCallback);
      };
      Message.prototype.missedCall = function(param, callback) {
        param.body = this.messageHelper.toJson(param.body);
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.MISSED_CALL, param, null, callback);
      };
      Message.prototype.audioCall = function(param, callback) {
        param.body = this.messageHelper.toJson(param.body);
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.AUDIO_CALL, param, null, callback);
      };
      Message.prototype.videoCall = function(param, callback) {
        param.body = this.messageHelper.toJson(param.body);
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.VIDEO_CALL, param, null, callback);
      };
      Message.prototype.getById = function(param, callback) {
        var self = this;
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.GET_BY_ID, param, null, function(error, result, payload, roundTripTime, serverLatency) {
          if (!error && result.message) {
            result.message.body = self.messageHelper.fromJson(result.message.body);
          }
          callback(error, result, payload, roundTripTime, serverLatency);
        });
      };
      Message.prototype.setReadMessage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.SET_READ_MESSAGE, param, null, callback);
      };
      Message.prototype.getNextPage = function(param, callback) {
        var self = this;
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.GET_NEXT_PAGE, param, null, function(error, result, payload, roundTripTime, serverLatency) {
          if (!error) {
            self.messageHelper.parseBody(result.rows);
          }
          callback(error, result, payload, roundTripTime, serverLatency);
        });
      };
      Message.prototype.getPreviousPage = function(param, callback) {
        var self = this;
        this.pipe.sendRequest(this.Enum.Command.ChatService.Message.GET_PREVIOUS_PAGE, param, null, function(error, result, payload, roundTripTime, serverLatency) {
          self.messageHelper.parseBody(result.rows);
          callback(error, result, payload, roundTripTime, serverLatency);
        });
      };
      Message.prototype.onMessage = function(callback) {
        var self = this;
        this.pipe.on(this.Enum.Command.ChatService.Message.On.MESSAGE, function(error, result, payload, roundTripTime, serverLatency) {
          if (!error) {
            result.message.body = self.messageHelper.fromJson(result.message.body);
          }
          callback(error, result, payload, roundTripTime, serverLatency);
        });
      };
      Message.prototype.onMessageStats = function(callback) {
        this.pipe.on(this.Enum.Command.ChatService.Message.On.MESSAGE_STATS, callback);
      };
      Conversation.prototype.createOne = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.CREATE_ONE, param, null, callback);
      };
      Conversation.prototype.createGroup = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.CREATE_GROUP, param, null, callback);
      };
      Conversation.prototype.updateTitle = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.UPDATE_TITLE, param, null, callback);
      };
      Conversation.prototype.addMembers = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.ADD_MEMBERS, param, null, callback);
      };
      Conversation.prototype.removeMembers = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.REMOVE_MEMBERS, param, null, callback);
      };
      Conversation.prototype.leaveGroup = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.LEAVE_GROUP, param, null, callback);
      };
      Conversation.prototype.delete = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.DELETE, param, null, callback);
      };
      Conversation.prototype.getMembers = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.GET_MEMBERS, param, null, callback);
      };
      Conversation.prototype.getById = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.GET_BY_ID, param, null, callback);
      };
      Conversation.prototype.getNextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.GET_NEXT_PAGE, param, null, callback);
      };
      Conversation.prototype.getPreviousPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.ChatService.Conversation.GET_PREVIOUS_PAGE, param, null, callback);
      };
      Conversation.prototype.onCreated = function(callback) {
        this.pipe.on(this.Enum.Command.ChatService.Conversation.On.CREATED, callback);
      };
      Conversation.prototype.onMembersAdded = function(callback) {
        this.pipe.on(this.Enum.Command.ChatService.Conversation.On.MEMBERS_ADDED, callback);
      };
      Conversation.prototype.onMembersRemoved = function(callback) {
        this.pipe.on(this.Enum.Command.ChatService.Conversation.On.MEMBERS_REMOVED, callback);
      };
      Conversation.prototype.onDeleted = function(callback) {
        this.pipe.on(this.Enum.Command.ChatService.Conversation.On.DELETED, callback);
      };
      Community.prototype.create = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Community.CREATE, param, null, callback);
      };
      Community.prototype.update = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Community.UPDATE, param, null, callback);
      };
      Community.prototype.delete = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Community.DELETE, param, null, callback);
      };
      Community.prototype.search = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Community.SEARCH, param, null, callback);
      };
      Community.prototype.nextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Community.NEXT_PAGE, param, null, callback);
      };
      User.prototype.addFavorite = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.User.ADD_FAVORITE, param, null, callback);
      };
      User.prototype.removeFavorite = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.User.REMOVE_FAVORITE, param, null, callback);
      };
      User.prototype.favourites = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.User.FAVOURITES, param, null, callback);
      };
      Administrator.prototype.add = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Administrator.ADD, param, null, callback);
      };
      Administrator.prototype.remove = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Administrator.REMOVE, param, null, callback);
      };
      Member.prototype.add = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.ADD, param, null, callback);
      };
      Member.prototype.remove = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.REMOVE, param, null, callback);
      };
      Member.prototype.setRole = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.SET_ROLE, param, null, callback);
      };
      Member.prototype.getRole = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.GET_ROLE, param, null, callback);
      };
      Member.prototype.ban = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.BAN, param, null, callback);
      };
      Member.prototype.unban = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.UNBAN, param, null, callback);
      };
      Member.prototype.search = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.SEARCH, param, null, callback);
      };
      Member.prototype.nextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.NEXT_PAGE, param, null, callback);
      };
      Member.prototype.join = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.JOIN, param, null, callback);
      };
      Member.prototype.leave = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Member.LEAVE, param, null, callback);
      };
      Post.prototype.chat = function(param, fileBuffer, callback, percentCallback) {
        if (!fileBuffer) {
          param.body = this.messageHelper.toJson(param.body);
          this.pipe.sendRequest(this.Enum.Command.CommunityService.Post.CHAT, param, null, callback, percentCallback);
        } else {
          param.body.file = param.body.file || {};
          param.body.file.name = param.body.file.name || '*unknown*';
          param.body.file.type = param.body.file.type || '*unknown*';
          param.body.file.size = fileBuffer.length;
          param.Context = param.body.file;
          param.body = this.messageHelper.toJson(param.body);
          this.pipe.blobSendRequest(this.Enum.Command.CommunityService.Post.CHAT, param, fileBuffer, callback, percentCallback);
        }
      };
      Post.prototype.photo = function(param, photoBuffer, callback, percentCallback) {
        param.body.photo = param.body.photo || {};
        param.body.photo.name = param.body.photo.name || '*unknown*';
        param.body.photo.type = param.body.photo.type || '*unknown*';
        param.body.photo.size = photoBuffer.length;
        param.Context = param.body.photo;
        param.body = this.messageHelper.toJson(param.body);
        this.pipe.blobSendRequest(this.Enum.Command.CommunityService.Post.PHOTO, param, photoBuffer, callback, percentCallback);
      };
      Post.prototype.setReadPost = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Post.SET_READ_POST, param, null, callback);
      };
      Post.prototype.nextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Post.NEXT_PAGE, param, null, callback);
      };
      Post.prototype.previousPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Post.PREVIOUS_PAGE, param, null, callback);
      };
      Post.prototype.onPost = function(callback) {
        this.pipe.on(this.Enum.Command.CommunityService.Post.On.POST, callback);
      };
      Post.prototype.onPostStats = function(callback) {
        this.pipe.on(this.Enum.Command.CommunityService.Post.On.POST_STATS, callback);
      };
      Topic.prototype.create = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.CREATE, param, null, callback);
      };
      Topic.prototype.update = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.UPDATE, param, null, callback);
      };
      Topic.prototype.delete = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.DELETE, param, null, callback);
      };
      Topic.prototype.search = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.SEARCH, param, null, callback);
      };
      Topic.prototype.nextPage = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.NEXT_PAGE, param, null, callback);
      };
      Topic.prototype.follow = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.FOLLOW, param, null, callback);
      };
      Topic.prototype.unfollow = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.UNFOLLOW, param, null, callback);
      };
      Topic.prototype.following = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.FOLLOWING, param, null, callback);
      };
      Topic.prototype.followers = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.CommunityService.Topic.FOLLOWERS, param, null, callback);
      };
      Blob.prototype.writeBlob = function(param, callback, percentCallback) {
        this.pipe.blobSendRequest(this.Enum.Command.BlobService.Blob.WRITE_BLOB, param, null, callback, percentCallback);
      };
      Blob.prototype.readBlob = function(param, callback, percentCallback) {
        this.pipe.blobReceiveRequest(this.Enum.Command.BlobService.Blob.READ_BLOB, param, null, function(error, result, payload, roundTripTime, serverLatency) {
          var innerResult = {file: result.Context};
          innerResult.file.blobId = result.blobId;
          callback(error, innerResult, payload, roundTripTime, serverLatency);
        }, percentCallback);
      };
      Blob.prototype.writeChunk = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.BlobService.Blob.WRITE_CHUNK, param, null, callback);
      };
      Blob.prototype.readChunk = function(param, callback) {
        this.pipe.sendRequest(this.Enum.Command.BlobService.Blob.READ_CHUNK, param, null, callback);
      };
    }, {
      "./commands": 1,
      "./helpers/enum": 2,
      "./helpers/messageHelper": 3
    }]
  }, {}, [4])(4);
});

})();
(function() {
var define = $__System.amdDefine;
(function(f) {
  if (typeof exports === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (typeof define === "function" && define.amd) {
    define("129", [], f);
  } else {
    var g;
    if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }
    g.Client = f();
  }
})(function() {
  var define,
      module,
      exports;
  return (function e(t, n, r) {
    function s(o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = typeof require == "function" && require;
          if (!u && a)
            return a(o, !0);
          if (i)
            return i(o, !0);
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f;
        }
        var l = n[o] = {exports: {}};
        t[o][0].call(l.exports, function(e) {
          var n = t[o][1][e];
          return s(n ? n : e);
        }, l, l.exports, e, t, n, r);
      }
      return n[o].exports;
    }
    var i = typeof require == "function" && require;
    for (var o = 0; o < r.length; o++)
      s(r[o]);
    return s;
  })({1: [function(require, module, exports) {
      'option strict';
      var Command = {Session: {
          RESTORE_SESSION: '2oaP9p',
          On: {
            BEGIN_USER_SESSION: 'PLA8R',
            UPDATE_SESSION_TOKEN: 'flqo7'
          }
        }};
      module.exports = Client;
      function Client(config, ClientIO, ClientAPI) {
        this.pipe = new ClientIO(config);
        this.config = this.pipe.config;
        this.Enum = this.pipe.Enum;
        this.API = new ClientAPI(this.pipe);
        this.sessionId = this.pipe.md5(new Date().getTime() + ':' + Math.random());
      }
      Client.prototype.start = function(callback) {
        var self = this;
        this.callback = callback;
        this.pipe.start(function(status, response) {
          switch (status) {
            case self.Enum.Status.CONNECTION_OPENED:
              self.pipe.log.trace(status, response.pipeId);
              self.addSessionTokenListener();
              if (self.callback)
                self.callback(status, response);
              self.restoreSession();
              break;
            case self.Enum.Status.CONNECTION_CLOSED:
              self.pipe.log.trace(status, response.pipeId);
              if (self.callback)
                self.callback(status, response);
              break;
            case self.Enum.Status.MAX_CONNECT_ATTEMPTS:
              self.pipe.log.trace(status, response);
              if (self.callback)
                self.callback(status, response);
              break;
          }
        });
        return this;
      };
      Client.prototype.restoreSession = function() {
        if (this.config.MetaData.sessionToken) {
          var self = this,
              param = {token: this.config.MetaData.sessionToken};
          this.pipe.sendRequest(Command.Session.RESTORE_SESSION, param, null, function(error, result, payload, roundTripTime, networkLatency) {
            if (!error) {
              if (self.callback)
                self.callback(self.Enum.Status.SESSION_RESTORED);
            } else {
              if (self.callback)
                self.callback(self.Enum.Status.SESSION_FAILED, error.message);
            }
          });
        } else {
          this.callback(this.Enum.Status.SESSION_FAILED, 'No session token');
        }
      };
      Client.prototype.addSessionTokenListener = function() {
        var self = this;
        this.pipe.on(Command.Session.On.BEGIN_USER_SESSION, function(error, result, payload, roundTripTime, networkLatency) {
          if (!error) {
            self.config.MetaData.sessionToken = result.token;
            if (self.callback)
              self.callback(self.Enum.Status.SESSION_RESTORED, result);
          }
        });
        this.pipe.on(Command.Session.On.UPDATE_SESSION_TOKEN, function(error, result, payload, roundTripTime, networkLatency) {
          if (!error) {
            self.config.MetaData.sessionToken = result.token;
            self.config.MetaData.sessionExpiresInSeconds = result.expiresInSeconds;
            self.startSessionTimer();
            if (self.callback)
              self.callback(self.Enum.Status.SESSION_UPDATED, result);
          }
        });
      };
      Client.prototype.startSessionTimer = function() {
        if (!this.sessionTimer) {
          this.sessionTimer = setInterval(function() {}, this.config.MetaData.sessionExpiresInSeconds * 1000);
        }
      };
    }, {}]}, {}, [1])(1);
});

})();
$__System.registerDynamic("12a", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("12b", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("12c", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("12d", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("12e", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("12f", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    /*! UIkit 2.26.3 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
    !function (t) {
      if ("function" == typeof define && define.amd && define("uikit", function () {
        var i = window.UIkit || t(window, window.jQuery, window.document);return i.load = function (t, e, n, o) {
          var s,
              a = t.split(","),
              r = [],
              l = (o.config && o.config.uikit && o.config.uikit.base ? o.config.uikit.base : "").replace(/\/+$/g, "");if (!l) throw new Error("Please define base path to UIkit in the requirejs config.");for (s = 0; s < a.length; s += 1) {
            var c = a[s].replace(/\./g, "/");r.push(l + "/components/" + c);
          }e(r, function () {
            n(i);
          });
        }, i;
      }), !window.jQuery) throw new Error("UIkit requires jQuery");window && window.jQuery && t(window, window.jQuery, window.document);
    }(function (t, i, e) {
      "use strict";
      var n = {},
          o = t.UIkit ? Object.create(t.UIkit) : void 0;if (n.version = "2.26.3", n.noConflict = function () {
        return o && (t.UIkit = o, i.UIkit = o, i.fn.uk = o.fn), n;
      }, n.prefix = function (t) {
        return t;
      }, n.$ = i, n.$doc = n.$(document), n.$win = n.$(window), n.$html = n.$("html"), n.support = {}, n.support.transition = function () {
        var t = function () {
          var t,
              i = e.body || e.documentElement,
              n = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" };for (t in n) if (void 0 !== i.style[t]) return n[t];
        }();return t && { end: t };
      }(), n.support.animation = function () {
        var t = function () {
          var t,
              i = e.body || e.documentElement,
              n = { WebkitAnimation: "webkitAnimationEnd", MozAnimation: "animationend", OAnimation: "oAnimationEnd oanimationend", animation: "animationend" };for (t in n) if (void 0 !== i.style[t]) return n[t];
        }();return t && { end: t };
      }(), function () {
        Date.now = Date.now || function () {
          return new Date().getTime();
        };for (var t = ["webkit", "moz"], i = 0; i < t.length && !window.requestAnimationFrame; ++i) {
          var e = t[i];window.requestAnimationFrame = window[e + "RequestAnimationFrame"], window.cancelAnimationFrame = window[e + "CancelAnimationFrame"] || window[e + "CancelRequestAnimationFrame"];
        }if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {
          var n = 0;window.requestAnimationFrame = function (t) {
            var i = Date.now(),
                e = Math.max(n + 16, i);return setTimeout(function () {
              t(n = e);
            }, e - i);
          }, window.cancelAnimationFrame = clearTimeout;
        }
      }(), n.support.touch = "ontouchstart" in document || t.DocumentTouch && document instanceof t.DocumentTouch || t.navigator.msPointerEnabled && t.navigator.msMaxTouchPoints > 0 || t.navigator.pointerEnabled && t.navigator.maxTouchPoints > 0 || !1, n.support.mutationobserver = t.MutationObserver || t.WebKitMutationObserver || null, n.Utils = {}, n.Utils.isFullscreen = function () {
        return document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || document.fullscreenElement || !1;
      }, n.Utils.str2json = function (t, i) {
        try {
          return i ? JSON.parse(t.replace(/([\$\w]+)\s*:/g, function (t, i) {
            return '"' + i + '":';
          }).replace(/'([^']+)'/g, function (t, i) {
            return '"' + i + '"';
          })) : new Function("", "var json = " + t + "; return JSON.parse(JSON.stringify(json));")();
        } catch (e) {
          return !1;
        }
      }, n.Utils.debounce = function (t, i, e) {
        var n;return function () {
          var o = this,
              s = arguments,
              a = function () {
            n = null, e || t.apply(o, s);
          },
              r = e && !n;clearTimeout(n), n = setTimeout(a, i), r && t.apply(o, s);
        };
      }, n.Utils.throttle = function (t, i) {
        var e = !1;return function () {
          e || (t.call(), e = !0, setTimeout(function () {
            e = !1;
          }, i));
        };
      }, n.Utils.removeCssRules = function (t) {
        var i, e, n, o, s, a, r, l, c, u;t && setTimeout(function () {
          try {
            for (u = document.styleSheets, o = 0, r = u.length; r > o; o++) {
              for (n = u[o], e = [], n.cssRules = n.cssRules, i = s = 0, l = n.cssRules.length; l > s; i = ++s) n.cssRules[i].type === CSSRule.STYLE_RULE && t.test(n.cssRules[i].selectorText) && e.unshift(i);for (a = 0, c = e.length; c > a; a++) n.deleteRule(e[a]);
            }
          } catch (h) {}
        }, 0);
      }, n.Utils.isInView = function (t, e) {
        var o = i(t);if (!o.is(":visible")) return !1;var s = n.$win.scrollLeft(),
            a = n.$win.scrollTop(),
            r = o.offset(),
            l = r.left,
            c = r.top;return e = i.extend({ topoffset: 0, leftoffset: 0 }, e), c + o.height() >= a && c - e.topoffset <= a + n.$win.height() && l + o.width() >= s && l - e.leftoffset <= s + n.$win.width() ? !0 : !1;
      }, n.Utils.checkDisplay = function (t, e) {
        var o = n.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]", t || document);return t && !o.length && (o = i(t)), o.trigger("display.uk.check"), e && ("string" != typeof e && (e = '[class*="uk-animation-"]'), o.find(e).each(function () {
          var t = n.$(this),
              i = t.attr("class"),
              e = i.match(/uk\-animation\-(.+)/);t.removeClass(e[0]).width(), t.addClass(e[0]);
        })), o;
      }, n.Utils.options = function (t) {
        if ("string" != i.type(t)) return t;-1 != t.indexOf(":") && "}" != t.trim().substr(-1) && (t = "{" + t + "}");var e = t ? t.indexOf("{") : -1,
            o = {};if (-1 != e) try {
          o = n.Utils.str2json(t.substr(e));
        } catch (s) {}return o;
      }, n.Utils.animate = function (t, e) {
        var o = i.Deferred();return t = n.$(t), t.css("display", "none").addClass(e).one(n.support.animation.end, function () {
          t.removeClass(e), o.resolve();
        }), t.css("display", ""), o.promise();
      }, n.Utils.uid = function (t) {
        return (t || "id") + new Date().getTime() + "RAND" + Math.ceil(1e5 * Math.random());
      }, n.Utils.template = function (t, i) {
        for (var e, n, o, s, a = t.replace(/\n/g, "\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g, "{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g), r = 0, l = [], c = 0; r < a.length;) {
          if (e = a[r], e.match(/\{\{\s*(.+?)\s*\}\}/)) switch (r += 1, e = a[r], n = e[0], o = e.substring(e.match(/^(\^|\#|\!|\~|\:)/) ? 1 : 0), n) {case "~":
              l.push("for(var $i=0;$i<" + o + ".length;$i++) { var $item = " + o + "[$i];"), c++;break;case ":":
              l.push("for(var $key in " + o + ") { var $val = " + o + "[$key];"), c++;break;case "#":
              l.push("if(" + o + ") {"), c++;break;case "^":
              l.push("if(!" + o + ") {"), c++;break;case "/":
              l.push("}"), c--;break;case "!":
              l.push("__ret.push(" + o + ");");break;default:
              l.push("__ret.push(escape(" + o + "));");} else l.push("__ret.push('" + e.replace(/\'/g, "\\'") + "');");r += 1;
        }return s = new Function("$data", ["var __ret = [];", "try {", "with($data){", c ? '__ret = ["Not all blocks are closed correctly."]' : l.join(""), "};", "}catch(e){__ret = [e.message];}", 'return __ret.join("").replace(/\\n\\n/g, "\\n");', "function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")), i ? s(i) : s;
      }, n.Utils.events = {}, n.Utils.events.click = n.support.touch ? "tap" : "click", t.UIkit = n, n.fn = function (t, e) {
        var o = arguments,
            s = t.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),
            a = s[1],
            r = s[2];return n[a] ? this.each(function () {
          var t = i(this),
              s = t.data(a);s || t.data(a, s = n[a](this, r ? void 0 : e)), r && s[r].apply(s, Array.prototype.slice.call(o, 1));
        }) : (i.error("UIkit component [" + a + "] does not exist."), this);
      }, i.UIkit = n, i.fn.uk = n.fn, n.langdirection = "rtl" == n.$html.attr("dir") ? "right" : "left", n.components = {}, n.component = function (t, e) {
        var o = function (e, s) {
          var a = this;return this.UIkit = n, this.element = e ? n.$(e) : null, this.options = i.extend(!0, {}, this.defaults, s), this.plugins = {}, this.element && this.element.data(t, this), this.init(), (this.options.plugins.length ? this.options.plugins : Object.keys(o.plugins)).forEach(function (t) {
            o.plugins[t].init && (o.plugins[t].init(a), a.plugins[t] = !0);
          }), this.trigger("init.uk.component", [t, this]), this;
        };return o.plugins = {}, i.extend(!0, o.prototype, { defaults: { plugins: [] }, boot: function () {}, init: function () {}, on: function (t, i, e) {
            return n.$(this.element || this).on(t, i, e);
          }, one: function (t, i, e) {
            return n.$(this.element || this).one(t, i, e);
          }, off: function (t) {
            return n.$(this.element || this).off(t);
          }, trigger: function (t, i) {
            return n.$(this.element || this).trigger(t, i);
          }, find: function (t) {
            return n.$(this.element ? this.element : []).find(t);
          }, proxy: function (t, i) {
            var e = this;i.split(" ").forEach(function (i) {
              e[i] || (e[i] = function () {
                return t[i].apply(t, arguments);
              });
            });
          }, mixin: function (t, i) {
            var e = this;i.split(" ").forEach(function (i) {
              e[i] || (e[i] = t[i].bind(e));
            });
          }, option: function () {
            return 1 == arguments.length ? this.options[arguments[0]] || void 0 : (2 == arguments.length && (this.options[arguments[0]] = arguments[1]), void 0);
          } }, e), this.components[t] = o, this[t] = function () {
          var e, o;if (arguments.length) switch (arguments.length) {case 1:
              "string" == typeof arguments[0] || arguments[0].nodeType || arguments[0] instanceof jQuery ? e = i(arguments[0]) : o = arguments[0];break;case 2:
              e = i(arguments[0]), o = arguments[1];}return e && e.data(t) ? e.data(t) : new n.components[t](e, o);
        }, n.domready && n.component.boot(t), o;
      }, n.plugin = function (t, i, e) {
        this.components[t].plugins[i] = e;
      }, n.component.boot = function (t) {
        n.components[t].prototype && n.components[t].prototype.boot && !n.components[t].booted && (n.components[t].prototype.boot.apply(n, []), n.components[t].booted = !0);
      }, n.component.bootComponents = function () {
        for (var t in n.components) n.component.boot(t);
      }, n.domObservers = [], n.domready = !1, n.ready = function (t) {
        n.domObservers.push(t), n.domready && t(document);
      }, n.on = function (t, i, e) {
        return t && t.indexOf("ready.uk.dom") > -1 && n.domready && i.apply(n.$doc), n.$doc.on(t, i, e);
      }, n.one = function (t, i, e) {
        return t && t.indexOf("ready.uk.dom") > -1 && n.domready ? (i.apply(n.$doc), n.$doc) : n.$doc.one(t, i, e);
      }, n.trigger = function (t, i) {
        return n.$doc.trigger(t, i);
      }, n.domObserve = function (t, i) {
        n.support.mutationobserver && (i = i || function () {}, n.$(t).each(function () {
          var t = this,
              e = n.$(t);if (!e.data("observer")) try {
            var o = new n.support.mutationobserver(n.Utils.debounce(function () {
              i.apply(t, []), e.trigger("changed.uk.dom");
            }, 50), { childList: !0, subtree: !0 });o.observe(t, { childList: !0, subtree: !0 }), e.data("observer", o);
          } catch (s) {}
        }));
      }, n.init = function (t) {
        t = t || document, n.domObservers.forEach(function (i) {
          i(t);
        });
      }, n.on("domready.uk.dom", function () {
        n.init(), n.domready && n.Utils.checkDisplay();
      }), document.addEventListener("DOMContentLoaded", function () {
        var t = function () {
          if (n.$body = n.$("body"), n.trigger("beforeready.uk.dom"), n.component.bootComponents(), requestAnimationFrame(function () {
            var t = { dir: { x: 0, y: 0 }, x: window.pageXOffset, y: window.pageYOffset },
                i = function () {
              var e = window.pageXOffset,
                  o = window.pageYOffset;(t.x != e || t.y != o) && (t.dir.x = e != t.x ? e > t.x ? 1 : -1 : 0, t.dir.y = o != t.y ? o > t.y ? 1 : -1 : 0, t.x = e, t.y = o, n.$doc.trigger("scrolling.uk.document", [{ dir: { x: t.dir.x, y: t.dir.y }, x: e, y: o }])), requestAnimationFrame(i);
            };return n.support.touch && n.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup", i), (t.x || t.y) && i(), i;
          }()), n.trigger("domready.uk.dom"), n.support.touch && navigator.userAgent.match(/(iPad|iPhone|iPod)/g) && n.$win.on("load orientationchange resize", n.Utils.debounce(function () {
            var t = function () {
              return i(".uk-height-viewport").css("height", window.innerHeight), t;
            };return t();
          }(), 100)), n.trigger("afterready.uk.dom"), n.domready = !0, n.support.mutationobserver) {
            var t = n.Utils.debounce(function () {
              requestAnimationFrame(function () {
                n.init(document.body);
              });
            }, 10);new n.support.mutationobserver(function (i) {
              var e = !1;i.every(function (t) {
                if ("childList" != t.type) return !0;for (var i, n = 0; n < t.addedNodes.length; ++n) if (i = t.addedNodes[n], i.outerHTML && -1 !== i.outerHTML.indexOf("data-uk-")) return (e = !0) && !1;return !0;
              }), e && t();
            }).observe(document.body, { childList: !0, subtree: !0 });
          }
        };return ("complete" == document.readyState || "interactive" == document.readyState) && setTimeout(t), t;
      }()), n.$html.addClass(n.support.touch ? "uk-touch" : "uk-notouch"), n.support.touch) {
        var s,
            a = !1,
            r = "uk-hover",
            l = ".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";n.$html.on("mouseenter touchstart MSPointerDown pointerdown", l, function () {
          a && i("." + r).removeClass(r), a = i(this).addClass(r);
        }).on("mouseleave touchend MSPointerUp pointerup", function (t) {
          s = i(t.target).parents(l), a && a.not(s).removeClass(r);
        });
      }return n;
    }), function (t) {
      function i(t, i, e, n) {
        return Math.abs(t - i) >= Math.abs(e - n) ? t - i > 0 ? "Left" : "Right" : e - n > 0 ? "Up" : "Down";
      }function e() {
        c = null, h.last && (void 0 !== h.el && h.el.trigger("longTap"), h = {});
      }function n() {
        c && clearTimeout(c), c = null;
      }function o() {
        a && clearTimeout(a), r && clearTimeout(r), l && clearTimeout(l), c && clearTimeout(c), a = r = l = c = null, h = {};
      }function s(t) {
        return t.pointerType == t.MSPOINTER_TYPE_TOUCH && t.isPrimary;
      }if (!t.fn.swipeLeft) {
        var a,
            r,
            l,
            c,
            u,
            h = {},
            d = 750;t(function () {
          var p,
              f,
              m,
              g = 0,
              v = 0;"MSGesture" in window && (u = new MSGesture(), u.target = document.body), t(document).on("MSGestureEnd gestureend", function (t) {
            var i = t.originalEvent.velocityX > 1 ? "Right" : t.originalEvent.velocityX < -1 ? "Left" : t.originalEvent.velocityY > 1 ? "Down" : t.originalEvent.velocityY < -1 ? "Up" : null;i && void 0 !== h.el && (h.el.trigger("swipe"), h.el.trigger("swipe" + i));
          }).on("touchstart MSPointerDown pointerdown", function (i) {
            ("MSPointerDown" != i.type || s(i.originalEvent)) && (m = "MSPointerDown" == i.type || "pointerdown" == i.type ? i : i.originalEvent.touches[0], p = Date.now(), f = p - (h.last || p), h.el = t("tagName" in m.target ? m.target : m.target.parentNode), a && clearTimeout(a), h.x1 = m.pageX, h.y1 = m.pageY, f > 0 && 250 >= f && (h.isDoubleTap = !0), h.last = p, c = setTimeout(e, d), !u || "MSPointerDown" != i.type && "pointerdown" != i.type && "touchstart" != i.type || u.addPointer(i.originalEvent.pointerId));
          }).on("touchmove MSPointerMove pointermove", function (t) {
            ("MSPointerMove" != t.type || s(t.originalEvent)) && (m = "MSPointerMove" == t.type || "pointermove" == t.type ? t : t.originalEvent.touches[0], n(), h.x2 = m.pageX, h.y2 = m.pageY, g += Math.abs(h.x1 - h.x2), v += Math.abs(h.y1 - h.y2));
          }).on("touchend MSPointerUp pointerup", function (e) {
            ("MSPointerUp" != e.type || s(e.originalEvent)) && (n(), h.x2 && Math.abs(h.x1 - h.x2) > 30 || h.y2 && Math.abs(h.y1 - h.y2) > 30 ? l = setTimeout(function () {
              void 0 !== h.el && (h.el.trigger("swipe"), h.el.trigger("swipe" + i(h.x1, h.x2, h.y1, h.y2))), h = {};
            }, 0) : "last" in h && (isNaN(g) || 30 > g && 30 > v ? r = setTimeout(function () {
              var i = t.Event("tap");i.cancelTouch = o, void 0 !== h.el && h.el.trigger(i), h.isDoubleTap ? (void 0 !== h.el && h.el.trigger("doubleTap"), h = {}) : a = setTimeout(function () {
                a = null, void 0 !== h.el && h.el.trigger("singleTap"), h = {};
              }, 250);
            }, 0) : h = {}, g = v = 0));
          }).on("touchcancel MSPointerCancel", o), t(window).on("scroll", o);
        }), ["swipe", "swipeLeft", "swipeRight", "swipeUp", "swipeDown", "doubleTap", "tap", "singleTap", "longTap"].forEach(function (i) {
          t.fn[i] = function (e) {
            return t(this).on(i, e);
          };
        });
      }
    }(jQuery), function (t) {
      "use strict";
      var i = [];t.component("stackMargin", { defaults: { cls: "uk-margin-small-top", rowfirst: !1, observe: !1 }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-margin]", i).each(function () {
              var i = t.$(this);i.data("stackMargin") || t.stackMargin(i, t.Utils.options(i.attr("data-uk-margin")));
            });
          });
        }, init: function () {
          var e = this;t.$win.on("resize orientationchange", function () {
            var i = function () {
              e.process();
            };return t.$(function () {
              i(), t.$win.on("load", i);
            }), t.Utils.debounce(i, 20);
          }()), this.on("display.uk.check", function () {
            this.element.is(":visible") && this.process();
          }.bind(this)), this.options.observe && t.domObserve(this.element, function () {
            e.element.is(":visible") && e.process();
          }), i.push(this);
        }, process: function () {
          var i = this.element.children();if (t.Utils.stackMargin(i, this.options), !this.options.rowfirst || !i.length) return this;var e = {},
              n = !1;return i.removeClass(this.options.rowfirst).each(function (i, o) {
            o = t.$(this), "none" != this.style.display && (i = o.offset().left, ((e[i] = e[i] || []) && e[i]).push(this), n = n === !1 ? i : Math.min(n, i));
          }), t.$(e[n]).addClass(this.options.rowfirst), this;
        } }), function () {
        var i = [],
            e = function (t) {
          if (t.is(":visible")) {
            var i = t.parent().width(),
                e = t.data("width"),
                n = i / e,
                o = Math.floor(n * t.data("height"));t.css({ height: e > i ? o : t.data("height") });
          }
        };t.component("responsiveElement", { defaults: {}, boot: function () {
            t.ready(function (i) {
              t.$("iframe.uk-responsive-width, [data-uk-responsive]", i).each(function () {
                var i,
                    e = t.$(this);e.data("responsiveElement") || (i = t.responsiveElement(e, {}));
              });
            });
          }, init: function () {
            var t = this.element;t.attr("width") && t.attr("height") && (t.data({ width: t.attr("width"), height: t.attr("height") }).on("display.uk.check", function () {
              e(t);
            }), e(t), i.push(t));
          } }), t.$win.on("resize load", t.Utils.debounce(function () {
          i.forEach(function (t) {
            e(t);
          });
        }, 15));
      }(), t.Utils.stackMargin = function (i, e) {
        e = t.$.extend({ cls: "uk-margin-small-top" }, e), i = t.$(i).removeClass(e.cls);var n = !1;i.each(function (i, e, o, s) {
          s = t.$(this), "none" != s.css("display") && (i = s.offset(), e = s.outerHeight(), o = i.top + e, s.data({ ukMarginPos: o, ukMarginTop: i.top }), (n === !1 || i.top < n.top) && (n = { top: i.top, left: i.left, pos: o }));
        }).each(function (i) {
          i = t.$(this), "none" != i.css("display") && i.data("ukMarginTop") > n.top && i.data("ukMarginPos") > n.pos && i.addClass(e.cls);
        });
      }, t.Utils.matchHeights = function (i, e) {
        i = t.$(i).css("min-height", ""), e = t.$.extend({ row: !0 }, e);var n = function (i) {
          if (!(i.length < 2)) {
            var e = 0;i.each(function () {
              e = Math.max(e, t.$(this).outerHeight());
            }).each(function () {
              var i = t.$(this),
                  n = e - ("border-box" == i.css("box-sizing") ? 0 : i.outerHeight() - i.height());i.css("min-height", n + "px");
            });
          }
        };e.row ? (i.first().width(), setTimeout(function () {
          var e = !1,
              o = [];i.each(function () {
            var i = t.$(this),
                s = i.offset().top;s != e && o.length && (n(t.$(o)), o = [], s = i.offset().top), o.push(i), e = s;
          }), o.length && n(t.$(o));
        }, 0)) : n(i);
      }, function (i) {
        t.Utils.inlineSvg = function (e, n) {
          t.$(e || 'img[src$=".svg"]', n || document).each(function () {
            var e = t.$(this),
                n = e.attr("src");if (!i[n]) {
              var o = t.$.Deferred();t.$.get(n, { nc: Math.random() }, function (i) {
                o.resolve(t.$(i).find("svg"));
              }), i[n] = o.promise();
            }i[n].then(function (i) {
              var n = t.$(i).clone();e.attr("id") && n.attr("id", e.attr("id")), e.attr("class") && n.attr("class", e.attr("class")), e.attr("style") && n.attr("style", e.attr("style")), e.attr("width") && (n.attr("width", e.attr("width")), e.attr("height") || n.removeAttr("height")), e.attr("height") && (n.attr("height", e.attr("height")), e.attr("width") || n.removeAttr("width")), e.replaceWith(n);
            });
          });
        }, t.ready(function (i) {
          t.Utils.inlineSvg("[data-uk-svg]", i);
        });
      }({});
    }(UIkit), function (t) {
      "use strict";
      function i(i, e) {
        e = t.$.extend({ duration: 1e3, transition: "easeOutExpo", offset: 0, complete: function () {} }, e);var n = i.offset().top - e.offset,
            o = t.$doc.height(),
            s = window.innerHeight;n + s > o && (n = o - s), t.$("html,body").stop().animate({ scrollTop: n }, e.duration, e.transition).promise().done(e.complete);
      }t.component("smoothScroll", { boot: function () {
          t.$html.on("click.smooth-scroll.uikit", "[data-uk-smooth-scroll]", function () {
            var i = t.$(this);if (!i.data("smoothScroll")) {
              {
                t.smoothScroll(i, t.Utils.options(i.attr("data-uk-smooth-scroll")));
              }i.trigger("click");
            }return !1;
          });
        }, init: function () {
          var e = this;this.on("click", function (n) {
            n.preventDefault(), i(t.$(this.hash).length ? t.$(this.hash) : t.$("body"), e.options);
          });
        } }), t.Utils.scrollToElement = i, t.$.easing.easeOutExpo || (t.$.easing.easeOutExpo = function (t, i, e, n, o) {
        return i == o ? e + n : n * (-Math.pow(2, -10 * i / o) + 1) + e;
      });
    }(UIkit), function (t) {
      "use strict";
      var i = t.$win,
          e = t.$doc,
          n = [],
          o = function () {
        for (var t = 0; t < n.length; t++) window.requestAnimationFrame.apply(window, [n[t].check]);
      };t.component("scrollspy", { defaults: { target: !1, cls: "uk-scrollspy-inview", initcls: "uk-scrollspy-init-inview", topoffset: 0, leftoffset: 0, repeat: !1, delay: 0 }, boot: function () {
          e.on("scrolling.uk.document", o), i.on("load resize orientationchange", t.Utils.debounce(o, 50)), t.ready(function (i) {
            t.$("[data-uk-scrollspy]", i).each(function () {
              var i = t.$(this);if (!i.data("scrollspy")) {
                t.scrollspy(i, t.Utils.options(i.attr("data-uk-scrollspy")));
              }
            });
          });
        }, init: function () {
          var i,
              e = this,
              o = this.options.cls.split(/,/),
              s = function () {
            var n = e.options.target ? e.element.find(e.options.target) : e.element,
                s = 1 === n.length ? 1 : 0,
                a = 0;n.each(function () {
              var n = t.$(this),
                  r = n.data("inviewstate"),
                  l = t.Utils.isInView(n, e.options),
                  c = n.data("ukScrollspyCls") || o[a].trim();!l || r || n.data("scrollspy-idle") || (i || (n.addClass(e.options.initcls), e.offset = n.offset(), i = !0, n.trigger("init.uk.scrollspy")), n.data("scrollspy-idle", setTimeout(function () {
                n.addClass("uk-scrollspy-inview").toggleClass(c).width(), n.trigger("inview.uk.scrollspy"), n.data("scrollspy-idle", !1), n.data("inviewstate", !0);
              }, e.options.delay * s)), s++), !l && r && e.options.repeat && (n.data("scrollspy-idle") && (clearTimeout(n.data("scrollspy-idle")), n.data("scrollspy-idle", !1)), n.removeClass("uk-scrollspy-inview").toggleClass(c), n.data("inviewstate", !1), n.trigger("outview.uk.scrollspy")), a = o[a + 1] ? a + 1 : 0;
            });
          };s(), this.check = s, n.push(this);
        } });var s = [],
          a = function () {
        for (var t = 0; t < s.length; t++) window.requestAnimationFrame.apply(window, [s[t].check]);
      };t.component("scrollspynav", { defaults: { cls: "uk-active", closest: !1, topoffset: 0, leftoffset: 0, smoothscroll: !1 }, boot: function () {
          e.on("scrolling.uk.document", a), i.on("resize orientationchange", t.Utils.debounce(a, 50)), t.ready(function (i) {
            t.$("[data-uk-scrollspy-nav]", i).each(function () {
              var i = t.$(this);if (!i.data("scrollspynav")) {
                t.scrollspynav(i, t.Utils.options(i.attr("data-uk-scrollspy-nav")));
              }
            });
          });
        }, init: function () {
          var e,
              n = [],
              o = this.find("a[href^='#']").each(function () {
            "#" !== this.getAttribute("href").trim() && n.push(this.getAttribute("href"));
          }),
              a = t.$(n.join(",")),
              r = this.options.cls,
              l = this.options.closest || this.options.closest,
              c = this,
              u = function () {
            e = [];for (var n = 0; n < a.length; n++) t.Utils.isInView(a.eq(n), c.options) && e.push(a.eq(n));if (e.length) {
              var s,
                  u = i.scrollTop(),
                  h = function () {
                for (var t = 0; t < e.length; t++) if (e[t].offset().top >= u) return e[t];
              }();if (!h) return;c.options.closest ? (o.blur().closest(l).removeClass(r), s = o.filter("a[href='#" + h.attr("id") + "']").closest(l).addClass(r)) : s = o.removeClass(r).filter("a[href='#" + h.attr("id") + "']").addClass(r), c.element.trigger("inview.uk.scrollspynav", [h, s]);
            }
          };this.options.smoothscroll && t.smoothScroll && o.each(function () {
            t.smoothScroll(this, c.options.smoothscroll);
          }), u(), this.element.data("scrollspynav", this), this.check = u, s.push(this);
        } });
    }(UIkit), function (t) {
      "use strict";
      var i = [];t.component("toggle", { defaults: { target: !1, cls: "uk-hidden", animation: !1, duration: 200 }, boot: function () {
          t.ready(function (e) {
            t.$("[data-uk-toggle]", e).each(function () {
              var i = t.$(this);if (!i.data("toggle")) {
                t.toggle(i, t.Utils.options(i.attr("data-uk-toggle")));
              }
            }), setTimeout(function () {
              i.forEach(function (t) {
                t.getToggles();
              });
            }, 0);
          });
        }, init: function () {
          var t = this;this.aria = -1 !== this.options.cls.indexOf("uk-hidden"), this.getToggles(), this.on("click", function (i) {
            t.element.is('a[href="#"]') && i.preventDefault(), t.toggle();
          }), i.push(this);
        }, toggle: function () {
          if (this.totoggle.length) {
            if (this.options.animation && t.support.animation) {
              var i = this,
                  e = this.options.animation.split(",");1 == e.length && (e[1] = e[0]), e[0] = e[0].trim(), e[1] = e[1].trim(), this.totoggle.css("animation-duration", this.options.duration + "ms"), this.totoggle.each(function () {
                var n = t.$(this);n.hasClass(i.options.cls) ? (n.toggleClass(i.options.cls), t.Utils.animate(n, e[0]).then(function () {
                  n.css("animation-duration", ""), t.Utils.checkDisplay(n);
                })) : t.Utils.animate(this, e[1] + " uk-animation-reverse").then(function () {
                  n.toggleClass(i.options.cls).css("animation-duration", ""), t.Utils.checkDisplay(n);
                });
              });
            } else this.totoggle.toggleClass(this.options.cls), t.Utils.checkDisplay(this.totoggle);this.updateAria();
          }
        }, getToggles: function () {
          this.totoggle = this.options.target ? t.$(this.options.target) : [], this.updateAria();
        }, updateAria: function () {
          this.aria && this.totoggle.length && this.totoggle.each(function () {
            t.$(this).attr("aria-hidden", t.$(this).hasClass("uk-hidden"));
          });
        } });
    }(UIkit), function (t) {
      "use strict";
      t.component("alert", { defaults: { fade: !0, duration: 200, trigger: ".uk-alert-close" }, boot: function () {
          t.$html.on("click.alert.uikit", "[data-uk-alert]", function (i) {
            var e = t.$(this);if (!e.data("alert")) {
              var n = t.alert(e, t.Utils.options(e.attr("data-uk-alert")));t.$(i.target).is(n.options.trigger) && (i.preventDefault(), n.close());
            }
          });
        }, init: function () {
          var t = this;this.on("click", this.options.trigger, function (i) {
            i.preventDefault(), t.close();
          });
        }, close: function () {
          var t = this.trigger("close.uk.alert"),
              i = function () {
            this.trigger("closed.uk.alert").remove();
          }.bind(this);this.options.fade ? t.css("overflow", "hidden").css("max-height", t.height()).animate({ height: 0, opacity: 0, "padding-top": 0, "padding-bottom": 0, "margin-top": 0, "margin-bottom": 0 }, this.options.duration, i) : i();
        } });
    }(UIkit), function (t) {
      "use strict";
      t.component("buttonRadio", { defaults: { activeClass: "uk-active", target: ".uk-button" }, boot: function () {
          t.$html.on("click.buttonradio.uikit", "[data-uk-button-radio]", function (i) {
            var e = t.$(this);if (!e.data("buttonRadio")) {
              var n = t.buttonRadio(e, t.Utils.options(e.attr("data-uk-button-radio"))),
                  o = t.$(i.target);o.is(n.options.target) && o.trigger("click");
            }
          });
        }, init: function () {
          var i = this;this.find(i.options.target).attr("aria-checked", "false").filter("." + i.options.activeClass).attr("aria-checked", "true"), this.on("click", this.options.target, function (e) {
            var n = t.$(this);n.is('a[href="#"]') && e.preventDefault(), i.find(i.options.target).not(n).removeClass(i.options.activeClass).blur(), n.addClass(i.options.activeClass), i.find(i.options.target).not(n).attr("aria-checked", "false"), n.attr("aria-checked", "true"), i.trigger("change.uk.button", [n]);
          });
        }, getSelected: function () {
          return this.find("." + this.options.activeClass);
        } }), t.component("buttonCheckbox", { defaults: { activeClass: "uk-active", target: ".uk-button" }, boot: function () {
          t.$html.on("click.buttoncheckbox.uikit", "[data-uk-button-checkbox]", function (i) {
            var e = t.$(this);if (!e.data("buttonCheckbox")) {
              var n = t.buttonCheckbox(e, t.Utils.options(e.attr("data-uk-button-checkbox"))),
                  o = t.$(i.target);o.is(n.options.target) && o.trigger("click");
            }
          });
        }, init: function () {
          var i = this;this.find(i.options.target).attr("aria-checked", "false").filter("." + i.options.activeClass).attr("aria-checked", "true"), this.on("click", this.options.target, function (e) {
            var n = t.$(this);n.is('a[href="#"]') && e.preventDefault(), n.toggleClass(i.options.activeClass).blur(), n.attr("aria-checked", n.hasClass(i.options.activeClass)), i.trigger("change.uk.button", [n]);
          });
        }, getSelected: function () {
          return this.find("." + this.options.activeClass);
        } }), t.component("button", { defaults: {}, boot: function () {
          t.$html.on("click.button.uikit", "[data-uk-button]", function () {
            var i = t.$(this);if (!i.data("button")) {
              {
                t.button(i, t.Utils.options(i.attr("data-uk-button")));
              }i.trigger("click");
            }
          });
        }, init: function () {
          var t = this;this.element.attr("aria-pressed", this.element.hasClass("uk-active")), this.on("click", function (i) {
            t.element.is('a[href="#"]') && i.preventDefault(), t.toggle(), t.trigger("change.uk.button", [t.element.blur().hasClass("uk-active")]);
          });
        }, toggle: function () {
          this.element.toggleClass("uk-active"), this.element.attr("aria-pressed", this.element.hasClass("uk-active"));
        } });
    }(UIkit), function (t) {
      "use strict";
      function i(i, e, n, o) {
        if (i = t.$(i), e = t.$(e), n = n || window.innerWidth, o = o || i.offset(), e.length) {
          var s = e.outerWidth();if (i.css("min-width", s), "right" == t.langdirection) {
            var a = n - (e.offset().left + s),
                r = n - (i.offset().left + i.outerWidth());i.css("margin-right", a - r);
          } else i.css("margin-left", e.offset().left - o.left);
        }
      }var e,
          n = !1,
          o = { x: { "bottom-left": "bottom-right", "bottom-right": "bottom-left", "bottom-center": "bottom-center", "top-left": "top-right", "top-right": "top-left", "top-center": "top-center", "left-top": "right-top", "left-bottom": "right-bottom", "left-center": "right-center", "right-top": "left-top", "right-bottom": "left-bottom", "right-center": "left-center" }, y: { "bottom-left": "top-left", "bottom-right": "top-right", "bottom-center": "top-center", "top-left": "bottom-left", "top-right": "bottom-right", "top-center": "bottom-center", "left-top": "left-bottom", "left-bottom": "left-top", "left-center": "left-center", "right-top": "right-bottom", "right-bottom": "right-top", "right-center": "right-center" }, xy: { "bottom-left": "top-right", "bottom-right": "top-left", "bottom-center": "top-center", "top-left": "bottom-right", "top-right": "bottom-left", "top-center": "bottom-center", "left-top": "right-bottom", "left-bottom": "right-top", "left-center": "right-center", "right-top": "left-bottom", "right-bottom": "left-top", "right-center": "left-center" } };t.component("dropdown", { defaults: { mode: "hover", pos: "bottom-left", offset: 0, remaintime: 800, justify: !1, boundary: t.$win, delay: 0, dropdownSelector: ".uk-dropdown,.uk-dropdown-blank", hoverDelayIdle: 250, preventflip: !1 }, remainIdle: !1, boot: function () {
          var i = t.support.touch ? "click" : "mouseenter";t.$html.on(i + ".dropdown.uikit", "[data-uk-dropdown]", function (e) {
            var n = t.$(this);if (!n.data("dropdown")) {
              var o = t.dropdown(n, t.Utils.options(n.attr("data-uk-dropdown")));("click" == i || "mouseenter" == i && "hover" == o.options.mode) && o.element.trigger(i), o.element.find(o.options.dropdownSelector).length && e.preventDefault();
            }
          });
        }, init: function () {
          var i = this;this.dropdown = this.find(this.options.dropdownSelector), this.offsetParent = this.dropdown.parents().filter(function () {
            return -1 !== t.$.inArray(t.$(this).css("position"), ["relative", "fixed", "absolute"]);
          }).slice(0, 1), this.centered = this.dropdown.hasClass("uk-dropdown-center"), this.justified = this.options.justify ? t.$(this.options.justify) : !1, this.boundary = t.$(this.options.boundary), this.boundary.length || (this.boundary = t.$win), this.dropdown.hasClass("uk-dropdown-up") && (this.options.pos = "top-left"), this.dropdown.hasClass("uk-dropdown-flip") && (this.options.pos = this.options.pos.replace("left", "right")), this.dropdown.hasClass("uk-dropdown-center") && (this.options.pos = this.options.pos.replace(/(left|right)/, "center")), this.element.attr("aria-haspopup", "true"), this.element.attr("aria-expanded", this.element.hasClass("uk-open")), "click" == this.options.mode || t.support.touch ? this.on("click.uk.dropdown", function (e) {
            var n = t.$(e.target);n.parents(i.options.dropdownSelector).length || ((n.is("a[href='#']") || n.parent().is("a[href='#']") || i.dropdown.length && !i.dropdown.is(":visible")) && e.preventDefault(), n.blur()), i.element.hasClass("uk-open") ? (!i.dropdown.find(e.target).length || n.is(".uk-dropdown-close") || n.parents(".uk-dropdown-close").length) && i.hide() : i.show();
          }) : this.on("mouseenter", function () {
            i.trigger("pointerenter.uk.dropdown", [i]), i.remainIdle && clearTimeout(i.remainIdle), e && clearTimeout(e), n && n == i || (e = n && n != i ? setTimeout(function () {
              e = setTimeout(i.show.bind(i), i.options.delay);
            }, i.options.hoverDelayIdle) : setTimeout(i.show.bind(i), i.options.delay));
          }).on("mouseleave", function () {
            e && clearTimeout(e), i.remainIdle = setTimeout(function () {
              n && n == i && i.hide();
            }, i.options.remaintime), i.trigger("pointerleave.uk.dropdown", [i]);
          }).on("click", function (e) {
            var o = t.$(e.target);return i.remainIdle && clearTimeout(i.remainIdle), n && n == i ? ((!i.dropdown.find(e.target).length || o.is(".uk-dropdown-close") || o.parents(".uk-dropdown-close").length) && i.hide(), void 0) : ((o.is("a[href='#']") || o.parent().is("a[href='#']")) && e.preventDefault(), i.show(), void 0);
          });
        }, show: function () {
          t.$html.off("click.outer.dropdown"), n && n != this && n.hide(!0), e && clearTimeout(e), this.trigger("beforeshow.uk.dropdown", [this]), this.checkDimensions(), this.element.addClass("uk-open"), this.element.attr("aria-expanded", "true"), this.trigger("show.uk.dropdown", [this]), t.Utils.checkDisplay(this.dropdown, !0), n = this, this.registerOuterClick();
        }, hide: function (t) {
          this.trigger("beforehide.uk.dropdown", [this, t]), this.element.removeClass("uk-open"), this.remainIdle && clearTimeout(this.remainIdle), this.remainIdle = !1, this.element.attr("aria-expanded", "false"), this.trigger("hide.uk.dropdown", [this, t]), n == this && (n = !1);
        }, registerOuterClick: function () {
          var i = this;t.$html.off("click.outer.dropdown"), setTimeout(function () {
            t.$html.on("click.outer.dropdown", function (o) {
              e && clearTimeout(e);t.$(o.target);n != i || i.element.find(o.target).length || (i.hide(!0), t.$html.off("click.outer.dropdown"));
            });
          }, 10);
        }, checkDimensions: function () {
          if (this.dropdown.length) {
            this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack").css({ "top-left": "", left: "", "margin-left": "", "margin-right": "" }), this.justified && this.justified.length && this.dropdown.css("min-width", "");var e,
                n = t.$.extend({}, this.offsetParent.offset(), { width: this.offsetParent[0].offsetWidth, height: this.offsetParent[0].offsetHeight }),
                s = this.options.offset,
                a = this.dropdown,
                r = (a.show().offset() || { left: 0, top: 0 }, a.outerWidth()),
                l = a.outerHeight(),
                c = this.boundary.width(),
                u = (this.boundary[0] !== window && this.boundary.offset() ? this.boundary.offset() : { top: 0, left: 0 }, this.options.pos),
                h = { "bottom-left": { top: 0 + n.height + s, left: 0 }, "bottom-right": { top: 0 + n.height + s, left: 0 + n.width - r }, "bottom-center": { top: 0 + n.height + s, left: 0 + n.width / 2 - r / 2 }, "top-left": { top: 0 - l - s, left: 0 }, "top-right": { top: 0 - l - s, left: 0 + n.width - r }, "top-center": { top: 0 - l - s, left: 0 + n.width / 2 - r / 2 }, "left-top": { top: 0, left: 0 - r - s }, "left-bottom": { top: 0 + n.height - l, left: 0 - r - s }, "left-center": { top: 0 + n.height / 2 - l / 2, left: 0 - r - s }, "right-top": { top: 0, left: 0 + n.width + s }, "right-bottom": { top: 0 + n.height - l, left: 0 + n.width + s }, "right-center": { top: 0 + n.height / 2 - l / 2, left: 0 + n.width + s } },
                d = {};if (e = u.split("-"), d = h[u] ? h[u] : h["bottom-left"], this.justified && this.justified.length) i(a.css({ left: 0 }), this.justified, c);else if (this.options.preventflip !== !0) {
              var p;switch (this.checkBoundary(n.left + d.left, n.top + d.top, r, l, c)) {case "x":
                  "x" !== this.options.preventflip && (p = o.x[u] || "right-top");break;case "y":
                  "y" !== this.options.preventflip && (p = o.y[u] || "top-left");break;case "xy":
                  this.options.preventflip || (p = o.xy[u] || "right-bottom");}p && (e = p.split("-"), d = h[p] ? h[p] : h["bottom-left"], this.checkBoundary(n.left + d.left, n.top + d.top, r, l, c) && (e = u.split("-"), d = h[u] ? h[u] : h["bottom-left"]));
            }r > c && (a.addClass("uk-dropdown-stack"), this.trigger("stack.uk.dropdown", [this])), a.css(d).css("display", "").addClass("uk-dropdown-" + e[0]);
          }
        }, checkBoundary: function (i, e, n, o, s) {
          var a = "";return (0 > i || i - t.$win.scrollLeft() + n > s) && (a += "x"), (e - t.$win.scrollTop() < 0 || e - t.$win.scrollTop() + o > window.innerHeight) && (a += "y"), a;
        } }), t.component("dropdownOverlay", { defaults: { justify: !1, cls: "", duration: 200 }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-dropdown-overlay]", i).each(function () {
              var i = t.$(this);i.data("dropdownOverlay") || t.dropdownOverlay(i, t.Utils.options(i.attr("data-uk-dropdown-overlay")));
            });
          });
        }, init: function () {
          var e = this;this.justified = this.options.justify ? t.$(this.options.justify) : !1, this.overlay = this.element.find("uk-dropdown-overlay"), this.overlay.length || (this.overlay = t.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)), this.overlay.addClass(this.options.cls), this.on({ "beforeshow.uk.dropdown": function (t, n) {
              e.dropdown = n, e.justified && e.justified.length && i(e.overlay.css({ display: "block", "margin-left": "", "margin-right": "" }), e.justified, e.justified.outerWidth());
            }, "show.uk.dropdown": function () {
              var i = e.dropdown.dropdown.outerHeight(!0);e.dropdown.element.removeClass("uk-open"), e.overlay.stop().css("display", "block").animate({ height: i }, e.options.duration, function () {
                e.dropdown.dropdown.css("visibility", ""), e.dropdown.element.addClass("uk-open"), t.Utils.checkDisplay(e.dropdown.dropdown, !0);
              }), e.pointerleave = !1;
            }, "hide.uk.dropdown": function () {
              e.overlay.stop().animate({ height: 0 }, e.options.duration);
            }, "pointerenter.uk.dropdown": function () {
              clearTimeout(e.remainIdle);
            }, "pointerleave.uk.dropdown": function () {
              e.pointerleave = !0;
            } }), this.overlay.on({ mouseenter: function () {
              e.remainIdle && (clearTimeout(e.dropdown.remainIdle), clearTimeout(e.remainIdle));
            }, mouseleave: function () {
              e.pointerleave && n && (e.remainIdle = setTimeout(function () {
                n && n.hide();
              }, n.options.remaintime));
            } });
        } });
    }(UIkit), function (t) {
      "use strict";
      var i = [];t.component("gridMatchHeight", { defaults: { target: !1, row: !0, ignorestacked: !1, observe: !1 }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-grid-match]", i).each(function () {
              var i,
                  e = t.$(this);e.data("gridMatchHeight") || (i = t.gridMatchHeight(e, t.Utils.options(e.attr("data-uk-grid-match"))));
            });
          });
        }, init: function () {
          var e = this;this.columns = this.element.children(), this.elements = this.options.target ? this.find(this.options.target) : this.columns, this.columns.length && (t.$win.on("load resize orientationchange", function () {
            var i = function () {
              e.element.is(":visible") && e.match();
            };return t.$(function () {
              i();
            }), t.Utils.debounce(i, 50);
          }()), this.options.observe && t.domObserve(this.element, function () {
            e.element.is(":visible") && e.match();
          }), this.on("display.uk.check", function () {
            this.element.is(":visible") && this.match();
          }.bind(this)), i.push(this));
        }, match: function () {
          var i = this.columns.filter(":visible:first");if (i.length) {
            var e = Math.ceil(100 * parseFloat(i.css("width")) / parseFloat(i.parent().css("width"))) >= 100;return e && !this.options.ignorestacked ? this.revert() : t.Utils.matchHeights(this.elements, this.options), this;
          }
        }, revert: function () {
          return this.elements.css("min-height", ""), this;
        } }), t.component("gridMargin", { defaults: { cls: "uk-grid-margin", rowfirst: "uk-row-first" }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-grid-margin]", i).each(function () {
              var i,
                  e = t.$(this);e.data("gridMargin") || (i = t.gridMargin(e, t.Utils.options(e.attr("data-uk-grid-margin"))));
            });
          });
        }, init: function () {
          t.stackMargin(this.element, this.options);
        } });
    }(UIkit), function (t) {
      "use strict";
      function i(i, e) {
        return e ? ("object" == typeof i ? (i = i instanceof jQuery ? i : t.$(i), i.parent().length && (e.persist = i, e.persist.data("modalPersistParent", i.parent()))) : i = "string" == typeof i || "number" == typeof i ? t.$("<div></div>").html(i) : t.$("<div></div>").html("UIkit.modal Error: Unsupported data type: " + typeof i), i.appendTo(e.element.find(".uk-modal-dialog")), e) : void 0;
      }var e,
          n = !1,
          o = 0,
          s = t.$html;t.$win.on("resize orientationchange", t.Utils.debounce(function () {
        t.$(".uk-modal.uk-open").each(function () {
          t.$(this).data("modal").resize();
        });
      }, 150)), t.component("modal", { defaults: { keyboard: !0, bgclose: !0, minScrollHeight: 150, center: !1, modal: !0 }, scrollable: !1, transition: !1, hasTransitioned: !0, init: function () {
          if (e || (e = t.$("body")), this.element.length) {
            var i = this;this.paddingdir = "padding-" + ("left" == t.langdirection ? "right" : "left"), this.dialog = this.find(".uk-modal-dialog"), this.active = !1, this.element.attr("aria-hidden", this.element.hasClass("uk-open")), this.on("click", ".uk-modal-close", function (t) {
              t.preventDefault(), i.hide();
            }).on("click", function (e) {
              var n = t.$(e.target);n[0] == i.element[0] && i.options.bgclose && i.hide();
            }), t.domObserve(this.element, function () {
              i.resize();
            });
          }
        }, toggle: function () {
          return this[this.isActive() ? "hide" : "show"]();
        }, show: function () {
          if (this.element.length) {
            var i = this;if (!this.isActive()) return this.options.modal && n && n.hide(!0), this.element.removeClass("uk-open").show(), this.resize(!0), this.options.modal && (n = this), this.active = !0, o++, t.support.transition ? (this.hasTransitioned = !1, this.element.one(t.support.transition.end, function () {
              i.hasTransitioned = !0;
            }).addClass("uk-open")) : this.element.addClass("uk-open"), s.addClass("uk-modal-page").height(), this.element.attr("aria-hidden", "false"), this.element.trigger("show.uk.modal"), t.Utils.checkDisplay(this.dialog, !0), this;
          }
        }, hide: function (i) {
          if (!i && t.support.transition && this.hasTransitioned) {
            var e = this;this.one(t.support.transition.end, function () {
              e._hide();
            }).removeClass("uk-open");
          } else this._hide();return this;
        }, resize: function (t) {
          if (this.isActive() || t) {
            var i = e.width();if (this.scrollbarwidth = window.innerWidth - i, e.css(this.paddingdir, this.scrollbarwidth), this.element.css("overflow-y", this.scrollbarwidth ? "scroll" : "auto"), !this.updateScrollable() && this.options.center) {
              var n = this.dialog.outerHeight(),
                  o = parseInt(this.dialog.css("margin-top"), 10) + parseInt(this.dialog.css("margin-bottom"), 10);n + o < window.innerHeight ? this.dialog.css({ top: window.innerHeight / 2 - n / 2 - o }) : this.dialog.css({ top: "" });
            }
          }
        }, updateScrollable: function () {
          var t = this.dialog.find(".uk-overflow-container:visible:first");if (t.length) {
            t.css("height", 0);var i = Math.abs(parseInt(this.dialog.css("margin-top"), 10)),
                e = this.dialog.outerHeight(),
                n = window.innerHeight,
                o = n - 2 * (20 > i ? 20 : i) - e;return t.css({ "max-height": o < this.options.minScrollHeight ? "" : o, height: "" }), !0;
          }return !1;
        }, _hide: function () {
          this.active = !1, o > 0 ? o-- : o = 0, this.element.hide().removeClass("uk-open"), this.element.attr("aria-hidden", "true"), o || (s.removeClass("uk-modal-page"), e.css(this.paddingdir, "")), n === this && (n = !1), this.trigger("hide.uk.modal");
        }, isActive: function () {
          return this.element.hasClass("uk-open");
        } }), t.component("modalTrigger", { boot: function () {
          t.$html.on("click.modal.uikit", "[data-uk-modal]", function (i) {
            var e = t.$(this);if (e.is("a") && i.preventDefault(), !e.data("modalTrigger")) {
              var n = t.modalTrigger(e, t.Utils.options(e.attr("data-uk-modal")));n.show();
            }
          }), t.$html.on("keydown.modal.uikit", function (t) {
            n && 27 === t.keyCode && n.options.keyboard && (t.preventDefault(), n.hide());
          });
        }, init: function () {
          var i = this;this.options = t.$.extend({ target: i.element.is("a") ? i.element.attr("href") : !1 }, this.options), this.modal = t.modal(this.options.target, this.options), this.on("click", function (t) {
            t.preventDefault(), i.show();
          }), this.proxy(this.modal, "show hide isActive");
        } }), t.modal.dialog = function (e, n) {
        var o = t.modal(t.$(t.modal.dialog.template).appendTo("body"), n);return o.on("hide.uk.modal", function () {
          o.persist && (o.persist.appendTo(o.persist.data("modalPersistParent")), o.persist = !1), o.element.remove();
        }), i(e, o), o;
      }, t.modal.dialog.template = '<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>', t.modal.alert = function (i, e) {
        e = t.$.extend(!0, { bgclose: !1, keyboard: !1, modal: !1, labels: t.modal.labels }, e);var n = t.modal.dialog(['<div class="uk-margin uk-modal-content">' + String(i) + "</div>", '<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">' + e.labels.Ok + "</button></div>"].join(""), e);return n.on("show.uk.modal", function () {
          setTimeout(function () {
            n.element.find("button:first").focus();
          }, 50);
        }), n.show();
      }, t.modal.confirm = function (i, e, n) {
        var o = arguments.length > 1 && arguments[arguments.length - 1] ? arguments[arguments.length - 1] : {};e = t.$.isFunction(e) ? e : function () {}, n = t.$.isFunction(n) ? n : function () {}, o = t.$.extend(!0, { bgclose: !1, keyboard: !1, modal: !1, labels: t.modal.labels }, t.$.isFunction(o) ? {} : o);var s = t.modal.dialog(['<div class="uk-margin uk-modal-content">' + String(i) + "</div>", '<div class="uk-modal-footer uk-text-right"><button class="uk-button js-modal-confirm-cancel">' + o.labels.Cancel + '</button> <button class="uk-button uk-button-primary js-modal-confirm">' + o.labels.Ok + "</button></div>"].join(""), o);return s.element.find(".js-modal-confirm, .js-modal-confirm-cancel").on("click", function () {
          t.$(this).is(".js-modal-confirm") ? e() : n(), s.hide();
        }), s.on("show.uk.modal", function () {
          setTimeout(function () {
            s.element.find(".js-modal-confirm").focus();
          }, 50);
        }), s.show();
      }, t.modal.prompt = function (i, e, n, o) {
        n = t.$.isFunction(n) ? n : function () {}, o = t.$.extend(!0, { bgclose: !1, keyboard: !1, modal: !1, labels: t.modal.labels }, o);var s = t.modal.dialog([i ? '<div class="uk-modal-content uk-form">' + String(i) + "</div>" : "", '<div class="uk-margin-small-top uk-modal-content uk-form"><p><input type="text" class="uk-width-1-1"></p></div>', '<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-modal-close">' + o.labels.Cancel + '</button> <button class="uk-button uk-button-primary js-modal-ok">' + o.labels.Ok + "</button></div>"].join(""), o),
            a = s.element.find("input[type='text']").val(e || "").on("keyup", function (t) {
          13 == t.keyCode && s.element.find(".js-modal-ok").trigger("click");
        });return s.element.find(".js-modal-ok").on("click", function () {
          n(a.val()) !== !1 && s.hide();
        }), s.on("show.uk.modal", function () {
          setTimeout(function () {
            a.focus();
          }, 50);
        }), s.show();
      }, t.modal.blockUI = function (i, e) {
        var n = t.modal.dialog(['<div class="uk-margin uk-modal-content">' + String(i || '<div class="uk-text-center">...</div>') + "</div>"].join(""), t.$.extend({ bgclose: !1, keyboard: !1, modal: !1 }, e));return n.content = n.element.find(".uk-modal-content:first"), n.show();
      }, t.modal.labels = { Ok: "Ok", Cancel: "Cancel" };
    }(UIkit), function (t) {
      "use strict";
      function i(i) {
        var e = t.$(i),
            n = "auto";if (e.is(":visible")) n = e.outerHeight();else {
          var o = { position: e.css("position"), visibility: e.css("visibility"), display: e.css("display") };n = e.css({ position: "absolute", visibility: "hidden", display: "block" }).outerHeight(), e.css(o);
        }return n;
      }t.component("nav", { defaults: { toggle: ">li.uk-parent > a[href='#']", lists: ">li.uk-parent > ul", multiple: !1 }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-nav]", i).each(function () {
              var i = t.$(this);if (!i.data("nav")) {
                t.nav(i, t.Utils.options(i.attr("data-uk-nav")));
              }
            });
          });
        }, init: function () {
          var i = this;this.on("click.uk.nav", this.options.toggle, function (e) {
            e.preventDefault();var n = t.$(this);i.open(n.parent()[0] == i.element[0] ? n : n.parent("li"));
          }), this.find(this.options.lists).each(function () {
            var e = t.$(this),
                n = e.parent(),
                o = n.hasClass("uk-active");e.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'), n.data("list-container", e.parent()[o ? "removeClass" : "addClass"]("uk-hidden")), n.attr("aria-expanded", n.hasClass("uk-open")), o && i.open(n, !0);
          });
        }, open: function (e, n) {
          var o = this,
              s = this.element,
              a = t.$(e),
              r = a.data("list-container");this.options.multiple || s.children(".uk-open").not(e).each(function () {
            var i = t.$(this);i.data("list-container") && i.data("list-container").stop().animate({ height: 0 }, function () {
              t.$(this).parent().removeClass("uk-open").end().addClass("uk-hidden");
            });
          }), a.toggleClass("uk-open"), a.attr("aria-expanded", a.hasClass("uk-open")), r && (a.hasClass("uk-open") && r.removeClass("uk-hidden"), n ? (r.stop().height(a.hasClass("uk-open") ? "auto" : 0), a.hasClass("uk-open") || r.addClass("uk-hidden"), this.trigger("display.uk.check")) : r.stop().animate({ height: a.hasClass("uk-open") ? i(r.find("ul:first")) : 0 }, function () {
            a.hasClass("uk-open") ? r.css("height", "") : r.addClass("uk-hidden"), o.trigger("display.uk.check");
          }));
        } });
    }(UIkit), function (t) {
      "use strict";
      var i = { x: window.scrollX, y: window.scrollY },
          e = (t.$win, t.$doc, t.$html),
          n = { show: function (n) {
          if (n = t.$(n), n.length) {
            var o = t.$("body"),
                s = n.find(".uk-offcanvas-bar:first"),
                a = "right" == t.langdirection,
                r = s.hasClass("uk-offcanvas-bar-flip") ? -1 : 1,
                l = r * (a ? -1 : 1),
                c = window.innerWidth - o.width();i = { x: window.pageXOffset, y: window.pageYOffset }, n.addClass("uk-active"), o.css({ width: window.innerWidth - c, height: window.innerHeight }).addClass("uk-offcanvas-page"), o.css(a ? "margin-right" : "margin-left", (a ? -1 : 1) * s.outerWidth() * l).width(), e.css("margin-top", -1 * i.y), s.addClass("uk-offcanvas-bar-show"), this._initElement(n), s.trigger("show.uk.offcanvas", [n, s]), n.attr("aria-hidden", "false");
          }
        }, hide: function (n) {
          var o = t.$("body"),
              s = t.$(".uk-offcanvas.uk-active"),
              a = "right" == t.langdirection,
              r = s.find(".uk-offcanvas-bar:first"),
              l = function () {
            o.removeClass("uk-offcanvas-page").css({ width: "", height: "", "margin-left": "", "margin-right": "" }), s.removeClass("uk-active"), r.removeClass("uk-offcanvas-bar-show"), e.css("margin-top", ""), window.scrollTo(i.x, i.y), r.trigger("hide.uk.offcanvas", [s, r]), s.attr("aria-hidden", "true");
          };s.length && (t.support.transition && !n ? (o.one(t.support.transition.end, function () {
            l();
          }).css(a ? "margin-right" : "margin-left", ""), setTimeout(function () {
            r.removeClass("uk-offcanvas-bar-show");
          }, 0)) : l());
        }, _initElement: function (i) {
          i.data("OffcanvasInit") || (i.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas", function (i) {
            var e = t.$(i.target);if (!i.type.match(/swipe/) && !e.hasClass("uk-offcanvas-close")) {
              if (e.hasClass("uk-offcanvas-bar")) return;if (e.parents(".uk-offcanvas-bar:first").length) return;
            }i.stopImmediatePropagation(), n.hide();
          }), i.on("click", "a[href*='#']", function () {
            var i = t.$(this),
                e = i.attr("href");"#" != e && (t.$doc.one("hide.uk.offcanvas", function () {
              var n;try {
                n = t.$(i[0].hash);
              } catch (o) {
                n = "";
              }n.length || (n = t.$('[name="' + i[0].hash.replace("#", "") + '"]')), n.length && t.Utils.scrollToElement ? t.Utils.scrollToElement(n, t.Utils.options(i.attr("data-uk-smooth-scroll") || "{}")) : window.location.href = e;
            }), n.hide());
          }), i.data("OffcanvasInit", !0));
        } };t.component("offcanvasTrigger", { boot: function () {
          e.on("click.offcanvas.uikit", "[data-uk-offcanvas]", function (i) {
            i.preventDefault();var e = t.$(this);if (!e.data("offcanvasTrigger")) {
              {
                t.offcanvasTrigger(e, t.Utils.options(e.attr("data-uk-offcanvas")));
              }e.trigger("click");
            }
          }), e.on("keydown.uk.offcanvas", function (t) {
            27 === t.keyCode && n.hide();
          });
        }, init: function () {
          var i = this;this.options = t.$.extend({ target: i.element.is("a") ? i.element.attr("href") : !1 }, this.options), this.on("click", function (t) {
            t.preventDefault(), n.show(i.options.target);
          });
        } }), t.offcanvas = n;
    }(UIkit), function (t) {
      "use strict";
      function i(i, e, n) {
        var o,
            s = t.$.Deferred(),
            a = i,
            r = i;return n[0] === e[0] ? (s.resolve(), s.promise()) : ("object" == typeof i && (a = i[0], r = i[1] || i[0]), t.$body.css("overflow-x", "hidden"), o = function () {
          e && e.hide().removeClass("uk-active " + r + " uk-animation-reverse"), n.addClass(a).one(t.support.animation.end, function () {
            n.removeClass("" + a).css({ opacity: "", display: "" }), s.resolve(), t.$body.css("overflow-x", ""), e && e.css({ opacity: "", display: "" });
          }.bind(this)).show();
        }, n.css("animation-duration", this.options.duration + "ms"), e && e.length ? (e.css("animation-duration", this.options.duration + "ms"), e.css("display", "none").addClass(r + " uk-animation-reverse").one(t.support.animation.end, function () {
          o();
        }.bind(this)).css("display", "")) : (n.addClass("uk-active"), o()), s.promise());
      }var e;t.component("switcher", { defaults: { connect: !1, toggle: ">*", active: 0, animation: !1, duration: 200, swiping: !0 }, animating: !1, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-switcher]", i).each(function () {
              var i = t.$(this);if (!i.data("switcher")) {
                t.switcher(i, t.Utils.options(i.attr("data-uk-switcher")));
              }
            });
          });
        }, init: function () {
          var i = this;if (this.on("click.uk.switcher", this.options.toggle, function (t) {
            t.preventDefault(), i.show(this);
          }), this.options.connect) {
            this.connect = t.$(this.options.connect), this.connect.children().removeClass("uk-active"), this.connect.length && (this.connect.children().attr("aria-hidden", "true"), this.connect.on("click", "[data-uk-switcher-item]", function (e) {
              e.preventDefault();var n = t.$(this).attr("data-uk-switcher-item");if (i.index != n) switch (n) {case "next":case "previous":
                  i.show(i.index + ("next" == n ? 1 : -1));break;default:
                  i.show(parseInt(n, 10));}
            }), this.options.swiping && this.connect.on("swipeRight swipeLeft", function (t) {
              t.preventDefault(), window.getSelection().toString() || i.show(i.index + ("swipeLeft" == t.type ? 1 : -1));
            }));var e = this.find(this.options.toggle),
                n = e.filter(".uk-active");if (n.length) this.show(n, !1);else {
              if (this.options.active === !1) return;n = e.eq(this.options.active), this.show(n.length ? n : e.eq(0), !1);
            }e.not(n).attr("aria-expanded", "false"), n.attr("aria-expanded", "true");
          }
        }, show: function (n, o) {
          if (!this.animating) {
            if (isNaN(n)) n = t.$(n);else {
              var s = this.find(this.options.toggle);n = 0 > n ? s.length - 1 : n, n = s.eq(s[n] ? n : 0);
            }var a = this,
                s = this.find(this.options.toggle),
                r = t.$(n),
                l = e[this.options.animation] || function (t, n) {
              if (!a.options.animation) return e.none.apply(a);var o = a.options.animation.split(",");return 1 == o.length && (o[1] = o[0]), o[0] = o[0].trim(), o[1] = o[1].trim(), i.apply(a, [o, t, n]);
            };o !== !1 && t.support.animation || (l = e.none), r.hasClass("uk-disabled") || (s.attr("aria-expanded", "false"), r.attr("aria-expanded", "true"), s.filter(".uk-active").removeClass("uk-active"), r.addClass("uk-active"), this.options.connect && this.connect.length && (this.index = this.find(this.options.toggle).index(r), -1 == this.index && (this.index = 0), this.connect.each(function () {
              var i = t.$(this),
                  e = t.$(i.children()),
                  n = t.$(e.filter(".uk-active")),
                  o = t.$(e.eq(a.index));a.animating = !0, l.apply(a, [n, o]).then(function () {
                n.removeClass("uk-active"), o.addClass("uk-active"), n.attr("aria-hidden", "true"), o.attr("aria-hidden", "false"), t.Utils.checkDisplay(o, !0), a.animating = !1;
              });
            })), this.trigger("show.uk.switcher", [r]));
          }
        } }), e = { none: function () {
          var i = t.$.Deferred();return i.resolve(), i.promise();
        }, fade: function (t, e) {
          return i.apply(this, ["uk-animation-fade", t, e]);
        }, "slide-bottom": function (t, e) {
          return i.apply(this, ["uk-animation-slide-bottom", t, e]);
        }, "slide-top": function (t, e) {
          return i.apply(this, ["uk-animation-slide-top", t, e]);
        }, "slide-vertical": function (t, e) {
          var n = ["uk-animation-slide-top", "uk-animation-slide-bottom"];return t && t.index() > e.index() && n.reverse(), i.apply(this, [n, t, e]);
        }, "slide-left": function (t, e) {
          return i.apply(this, ["uk-animation-slide-left", t, e]);
        }, "slide-right": function (t, e) {
          return i.apply(this, ["uk-animation-slide-right", t, e]);
        }, "slide-horizontal": function (t, e) {
          var n = ["uk-animation-slide-right", "uk-animation-slide-left"];return t && t.index() > e.index() && n.reverse(), i.apply(this, [n, t, e]);
        }, scale: function (t, e) {
          return i.apply(this, ["uk-animation-scale-up", t, e]);
        } }, t.switcher.animations = e;
    }(UIkit), function (t) {
      "use strict";
      t.component("tab", { defaults: { target: ">li:not(.uk-tab-responsive, .uk-disabled)", connect: !1, active: 0, animation: !1, duration: 200, swiping: !0 }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-tab]", i).each(function () {
              var i = t.$(this);if (!i.data("tab")) {
                t.tab(i, t.Utils.options(i.attr("data-uk-tab")));
              }
            });
          });
        }, init: function () {
          var i = this;this.current = !1, this.on("click.uk.tab", this.options.target, function (e) {
            if (e.preventDefault(), !i.switcher || !i.switcher.animating) {
              var n = i.find(i.options.target).not(this);n.removeClass("uk-active").blur(), i.trigger("change.uk.tab", [t.$(this).addClass("uk-active"), i.current]), i.current = t.$(this), i.options.connect || (n.attr("aria-expanded", "false"), t.$(this).attr("aria-expanded", "true"));
            }
          }), this.options.connect && (this.connect = t.$(this.options.connect)), this.responsivetab = t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'), this.responsivetab.dropdown = this.responsivetab.find(".uk-dropdown"), this.responsivetab.lst = this.responsivetab.dropdown.find("ul"), this.responsivetab.caption = this.responsivetab.find("a:first"), this.element.hasClass("uk-tab-bottom") && this.responsivetab.dropdown.addClass("uk-dropdown-up"), this.responsivetab.lst.on("click.uk.tab", "a", function (e) {
            e.preventDefault(), e.stopPropagation();var n = t.$(this);i.element.children("li:not(.uk-tab-responsive)").eq(n.data("index")).trigger("click");
          }), this.on("show.uk.switcher change.uk.tab", function (t, e) {
            i.responsivetab.caption.html(e.text());
          }), this.element.append(this.responsivetab), this.options.connect && (this.switcher = t.switcher(this.element, { toggle: ">li:not(.uk-tab-responsive)", connect: this.options.connect, active: this.options.active, animation: this.options.animation, duration: this.options.duration, swiping: this.options.swiping })), t.dropdown(this.responsivetab, { mode: "click", preventflip: "y" }), i.trigger("change.uk.tab", [this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]), this.check(), t.$win.on("resize orientationchange", t.Utils.debounce(function () {
            i.element.is(":visible") && i.check();
          }, 100)), this.on("display.uk.check", function () {
            i.element.is(":visible") && i.check();
          });
        }, check: function () {
          var i = this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if (!i.length) return this.responsivetab.addClass("uk-hidden"), void 0;var e,
              n,
              o,
              s = i.eq(0).offset().top + Math.ceil(i.eq(0).height() / 2),
              a = !1;if (this.responsivetab.lst.empty(), i.each(function () {
            t.$(this).offset().top > s && (a = !0);
          }), a) for (var r = 0; r < i.length; r++) e = t.$(i.eq(r)), n = e.find("a"), "none" == e.css("float") || e.attr("uk-dropdown") || (e.hasClass("uk-disabled") || (o = e[0].outerHTML.replace("<a ", '<a data-index="' + r + '" '), this.responsivetab.lst.append(o)), e.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length ? "removeClass" : "addClass"]("uk-hidden");
        } });
    }(UIkit), function (t) {
      "use strict";
      t.component("cover", { defaults: { automute: !0 }, boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-cover]", i).each(function () {
              var i = t.$(this);if (!i.data("cover")) {
                t.cover(i, t.Utils.options(i.attr("data-uk-cover")));
              }
            });
          });
        }, init: function () {
          if (this.parent = this.element.parent(), t.$win.on("load resize orientationchange", t.Utils.debounce(function () {
            this.check();
          }.bind(this), 100)), this.on("display.uk.check", function () {
            this.element.is(":visible") && this.check();
          }.bind(this)), this.check(), this.element.is("iframe") && this.options.automute) {
            var i = this.element.attr("src");this.element.attr("src", "").on("load", function () {
              this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}', "*");
            }).attr("src", [i, i.indexOf("?") > -1 ? "&" : "?", "enablejsapi=1&api=1"].join(""));
          }
        }, check: function () {
          this.element.css({ width: "", height: "" }), this.dimension = { w: this.element.width(), h: this.element.height() }, this.element.attr("width") && !isNaN(this.element.attr("width")) && (this.dimension.w = this.element.attr("width")), this.element.attr("height") && !isNaN(this.element.attr("height")) && (this.dimension.h = this.element.attr("height")), this.ratio = this.dimension.w / this.dimension.h;var t,
              i,
              e = this.parent.width(),
              n = this.parent.height();e / this.ratio < n ? (t = Math.ceil(n * this.ratio), i = n) : (t = e, i = Math.ceil(e / this.ratio)), this.element.css({ width: t, height: i });
        } });
    }(UIkit);
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("130", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    /*! UIkit 2.26.3 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
    !function (t) {
      var e;window.UIkit && (e = t(UIkit)), "function" == typeof define && define.amd && define("uikit-autocomplete", ["uikit"], function () {
        return e || t(UIkit);
      });
    }(function (t) {
      "use strict";
      var e;return t.component("autocomplete", { defaults: { minLength: 3, param: "search", method: "post", delay: 300, loadingClass: "uk-loading", flipDropdown: !1, skipClass: "uk-skip", hoverClass: "uk-active", source: null, renderer: null, template: '<ul class="uk-nav uk-nav-autocomplete uk-autocomplete-results">{{~items}}<li data-value="{{$item.value}}"><a>{{$item.value}}</a></li>{{/items}}</ul>' }, visible: !1, value: null, selected: null, boot: function () {
          t.$html.on("focus.autocomplete.uikit", "[data-uk-autocomplete]", function () {
            var e = t.$(this);e.data("autocomplete") || t.autocomplete(e, t.Utils.options(e.attr("data-uk-autocomplete")));
          }), t.$html.on("click.autocomplete.uikit", function (t) {
            e && t.target != e.input[0] && e.hide();
          });
        }, init: function () {
          var e = this,
              i = !1,
              s = t.Utils.debounce(function () {
            return i ? i = !1 : (e.handle(), void 0);
          }, this.options.delay);this.dropdown = this.find(".uk-dropdown"), this.template = this.find('script[type="text/autocomplete"]').html(), this.template = t.Utils.template(this.template || this.options.template), this.input = this.find("input:first").attr("autocomplete", "off"), this.dropdown.length || (this.dropdown = t.$('<div class="uk-dropdown"></div>').appendTo(this.element)), this.options.flipDropdown && this.dropdown.addClass("uk-dropdown-flip"), this.dropdown.attr("aria-expanded", "false"), this.input.on({ keydown: function (t) {
              if (t && t.which && !t.shiftKey) switch (t.which) {case 13:
                  i = !0, e.selected && (t.preventDefault(), e.select());break;case 38:
                  t.preventDefault(), e.pick("prev", !0);break;case 40:
                  t.preventDefault(), e.pick("next", !0);break;case 27:case 9:
                  e.hide();}
            }, keyup: s }), this.dropdown.on("click", ".uk-autocomplete-results > *", function () {
            e.select();
          }), this.dropdown.on("mouseover", ".uk-autocomplete-results > *", function () {
            e.pick(t.$(this));
          }), this.triggercomplete = s;
        }, handle: function () {
          var t = this,
              e = this.value;return this.value = this.input.val(), this.value.length < this.options.minLength ? this.hide() : (this.value != e && t.request(), this);
        }, pick: function (e, i) {
          var s = this,
              o = t.$(this.dropdown.find(".uk-autocomplete-results").children(":not(." + this.options.skipClass + ")")),
              n = !1;if ("string" == typeof e || e.hasClass(this.options.skipClass)) {
            if ("next" == e || "prev" == e) {
              if (this.selected) {
                var a = o.index(this.selected);n = "next" == e ? o.eq(a + 1 < o.length ? a + 1 : 0) : o.eq(0 > a - 1 ? o.length - 1 : a - 1);
              } else n = o["next" == e ? "first" : "last"]();n = t.$(n);
            }
          } else n = e;if (n && n.length && (this.selected = n, o.removeClass(this.options.hoverClass), this.selected.addClass(this.options.hoverClass), i)) {
            var l = n.position().top,
                h = s.dropdown.scrollTop(),
                r = s.dropdown.height();(l > r || 0 > l) && s.dropdown.scrollTop(h + l);
          }
        }, select: function () {
          if (this.selected) {
            var t = this.selected.data();this.trigger("selectitem.uk.autocomplete", [t, this]), t.value && this.input.val(t.value).trigger("change"), this.hide();
          }
        }, show: function () {
          return this.visible ? void 0 : (this.visible = !0, this.element.addClass("uk-open"), e && e !== this && e.hide(), e = this, this.dropdown.attr("aria-expanded", "true"), this);
        }, hide: function () {
          return this.visible ? (this.visible = !1, this.element.removeClass("uk-open"), e === this && (e = !1), this.dropdown.attr("aria-expanded", "false"), this) : void 0;
        }, request: function () {
          var e = this,
              i = function (t) {
            t && e.render(t), e.element.removeClass(e.options.loadingClass);
          };if (this.element.addClass(this.options.loadingClass), this.options.source) {
            var s = this.options.source;switch (typeof this.options.source) {case "function":
                this.options.source.apply(this, [i]);break;case "object":
                if (s.length) {
                  var o = [];s.forEach(function (t) {
                    t.value && -1 != t.value.toLowerCase().indexOf(e.value.toLowerCase()) && o.push(t);
                  }), i(o);
                }break;case "string":
                var n = {};n[this.options.param] = this.value, t.$.ajax({ url: this.options.source, data: n, type: this.options.method, dataType: "json" }).done(function (t) {
                  i(t || []);
                });break;default:
                i(null);}
          } else this.element.removeClass(e.options.loadingClass);
        }, render: function (t) {
          return this.dropdown.empty(), this.selected = !1, this.options.renderer ? this.options.renderer.apply(this, [t]) : t && t.length && (this.dropdown.append(this.template({ items: t })), this.show(), this.trigger("show.uk.autocomplete")), this;
        } }), t.autocomplete;
    });
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("131", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    /*! UIkit 2.26.3 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
    !function (t) {
      var i;window.UIkit && (i = t(UIkit)), "function" == typeof define && define.amd && define("uikit-slideset", ["uikit"], function () {
        return i || t(UIkit);
      });
    }(function (t) {
      "use strict";
      function i(i, e, s, n) {
        var a,
            o,
            r,
            l,
            h = t.$.Deferred(),
            u = this.options.delay === !1 ? Math.floor(this.options.duration / 2) : this.options.delay,
            d = this;if (n = n || 1, this.element.css("min-height", this.element.height()), s[0] === e[0]) return h.resolve(), h.promise();if ("object" == typeof i ? (a = i[0], o = i[1] || i[0]) : (a = i, o = a), r = function () {
          if (e && e.length && e.hide().removeClass(o + " uk-animation-reverse").css({ opacity: "", "animation-delay": "", animation: "" }), !s.length) return h.resolve(), void 0;for (l = 0; l < s.length; l++) s.eq(1 == n ? l : s.length - l - 1).css("animation-delay", l * u + "ms");var i = function () {
            s.removeClass("" + a).css({ opacity: "", display: "", "animation-delay": "", animation: "" }), h.resolve(), d.element.css("min-height", ""), i = !1;
          };s.addClass(a)[1 == n ? "last" : "first"]().one(t.support.animation.end, function () {
            i && i();
          }).end().css("display", ""), setTimeout(function () {
            i && i();
          }, s.length * u * 2);
        }, s.length && s.css("animation-duration", this.options.duration + "ms"), e && e.length) for (e.css("animation-duration", this.options.duration + "ms")[1 == n ? "last" : "first"]().one(t.support.animation.end, function () {
          r();
        }), l = 0; l < e.length; l++) !function (i, e) {
          setTimeout(function () {
            e.css("display", "none").css("display", "").css("opacity", 0).on(t.support.animation.end, function () {
              e.removeClass(o);
            }).addClass(o + " uk-animation-reverse");
          }.bind(this), l * u);
        }(l, e.eq(1 == n ? l : e.length - l - 1));else r();return h.promise();
      }function e(t, i) {
        var e,
            s = 0,
            n = -1,
            a = t.length || 0,
            o = [];if (1 > i) return null;for (; a > s;) e = s % i, e ? o[n][e] = t[s] : o[++n] = [t[s]], s++;for (s = 0, a = o.length; a > s;) o[s] = jQuery(o[s]), s++;return o;
      }var s;t.component("slideset", { defaults: { "default": 1, animation: "fade", duration: 200, filter: "", delay: !1, controls: !1, autoplay: !1, autoplayInterval: 7e3, pauseOnHover: !0 }, sets: [], boot: function () {
          t.ready(function (i) {
            t.$("[data-uk-slideset]", i).each(function () {
              var i = t.$(this);i.data("slideset") || t.slideset(i, t.Utils.options(i.attr("data-uk-slideset")));
            });
          });
        }, init: function () {
          var i = this;this.activeSet = !1, this.list = this.element.find(".uk-slideset"), this.nav = this.element.find(".uk-slideset-nav"), this.controls = this.options.controls ? t.$(this.options.controls) : this.element, t.$win.on("resize load", t.Utils.debounce(function () {
            i.updateSets();
          }, 100)), i.list.addClass("uk-grid-width-1-" + i.options.default), ["xlarge", "large", "medium", "small"].forEach(function (t) {
            i.options[t] && i.list.addClass("uk-grid-width-" + t + "-1-" + i.options[t]);
          }), this.on("click.uk.slideset", "[data-uk-slideset-item]", function (e) {
            if (e.preventDefault(), !i.animating) {
              var s = t.$(this).attr("data-uk-slideset-item");if (i.activeSet !== s) switch (s) {case "next":case "previous":
                  i["next" == s ? "next" : "previous"]();break;default:
                  i.show(parseInt(s, 10));}
            }
          }), this.controls.on("click.uk.slideset", "[data-uk-filter]", function (e) {
            var s = t.$(this);s.parent().hasClass("uk-slideset") || (e.preventDefault(), i.animating || i.currentFilter == s.attr("data-uk-filter") || (i.updateFilter(s.attr("data-uk-filter")), i._hide().then(function () {
              i.updateSets(!0, !0);
            })));
          }), this.on("swipeRight swipeLeft", function (t) {
            i["swipeLeft" == t.type ? "next" : "previous"]();
          }), this.updateFilter(this.options.filter), this.updateSets(), this.element.on({ mouseenter: function () {
              i.options.pauseOnHover && (i.hovering = !0);
            }, mouseleave: function () {
              i.hovering = !1;
            } }), this.options.autoplay && this.start();
        }, updateSets: function (t, i) {
          var s,
              n = this.visible;if (this.visible = this.getVisibleOnCurrenBreakpoint(), n != this.visible || i) {
            for (this.children = this.list.children().hide(), this.items = this.getItems(), this.sets = e(this.items, this.visible), s = 0; s < this.sets.length; s++) this.sets[s].css({ display: "none" });if (this.nav.length && this.nav.empty()) {
              for (s = 0; s < this.sets.length; s++) this.nav.append('<li data-uk-slideset-item="' + s + '"><a></a></li>');this.nav[1 == this.nav.children().length ? "addClass" : "removeClass"]("uk-invisible");
            }this.activeSet = !1, this.show(0, !t);
          }
        }, updateFilter: function (i) {
          var e,
              s = this;this.currentFilter = i, this.controls.find("[data-uk-filter]").each(function () {
            e = t.$(this), e.parent().hasClass("uk-slideset") || (e.attr("data-uk-filter") == s.currentFilter ? e.addClass("uk-active") : e.removeClass("uk-active"));
          });
        }, getVisibleOnCurrenBreakpoint: function () {
          var i = null,
              e = t.$('<div style="position:absolute;height:1px;top:-1000px;width:100px"><div></div></div>').appendTo("body"),
              s = e.children().eq(0),
              n = this.options;return ["xlarge", "large", "medium", "small"].forEach(function (t) {
            n[t] && !i && (e.attr("class", "uk-grid-width-" + t + "-1-2").width(), 50 == s.width() && (i = t));
          }), e.remove(), this.options[i] || this.options["default"];
        }, getItems: function () {
          var i,
              e = [];return this.currentFilter ? (i = this.currentFilter || [], "string" == typeof i && (i = i.split(/,/).map(function (t) {
            return t.trim();
          })), this.children.each(function () {
            var s = t.$(this),
                n = s.attr("data-uk-filter"),
                a = i.length ? !1 : !0;n && (n = n.split(/,/).map(function (t) {
              return t.trim();
            }), i.forEach(function (t) {
              n.indexOf(t) > -1 && (a = !0);
            })), a && e.push(s[0]);
          }), e = t.$(e)) : e = this.list.children(), e;
        }, show: function (i, e, n) {
          var a = this;if (this.activeSet !== i && !this.animating) {
            n = n || (i < this.activeSet ? -1 : 1);var o = this.sets[this.activeSet] || [],
                r = this.sets[i],
                l = this._getAnimation();(e || !t.support.animation) && (l = s.none), this.animating = !0, this.nav.length && this.nav.children().removeClass("uk-active").eq(i).addClass("uk-active"), l.apply(a, [o, r, n]).then(function () {
              t.Utils.checkDisplay(r, !0), a.children.hide().removeClass("uk-active"), r.addClass("uk-active").css({ display: "", opacity: "" }), a.animating = !1, a.activeSet = i, t.Utils.checkDisplay(r, !0), a.trigger("show.uk.slideset", [r]);
            });
          }
        }, _getAnimation: function () {
          var i = s[this.options.animation] || s.none;return t.support.animation || (i = s.none), i;
        }, _hide: function () {
          var t = this,
              i = this.sets[this.activeSet] || [],
              e = this._getAnimation();return this.animating = !0, e.apply(t, [i, [], 1]).then(function () {
            t.animating = !1;
          });
        }, next: function () {
          this.show(this.sets[this.activeSet + 1] ? this.activeSet + 1 : 0, !1, 1);
        }, previous: function () {
          this.show(this.sets[this.activeSet - 1] ? this.activeSet - 1 : this.sets.length - 1, !1, -1);
        }, start: function () {
          this.stop();var t = this;this.interval = setInterval(function () {
            t.hovering || t.animating || t.next();
          }, this.options.autoplayInterval);
        }, stop: function () {
          this.interval && clearInterval(this.interval);
        } }), s = { none: function () {
          var i = t.$.Deferred();return i.resolve(), i.promise();
        }, fade: function (t, e) {
          return i.apply(this, ["uk-animation-fade", t, e]);
        }, "slide-bottom": function (t, e) {
          return i.apply(this, ["uk-animation-slide-bottom", t, e]);
        }, "slide-top": function (t, e) {
          return i.apply(this, ["uk-animation-slide-top", t, e]);
        }, "slide-vertical": function (t, e, s) {
          var n = ["uk-animation-slide-top", "uk-animation-slide-bottom"];return -1 == s && n.reverse(), i.apply(this, [n, t, e]);
        }, "slide-horizontal": function (t, e, s) {
          var n = ["uk-animation-slide-right", "uk-animation-slide-left"];return -1 == s && n.reverse(), i.apply(this, [n, t, e, s]);
        }, scale: function (t, e) {
          return i.apply(this, ["uk-animation-scale-up", t, e]);
        } }, t.slideset.animations = s;
    });
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("132", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    /*! UIkit 2.26.3 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
    !function (i) {
      var t;window.UIkit && (t = i(UIkit)), "function" == typeof define && define.amd && define("uikit-lightbox", ["uikit"], function () {
        return t || i(UIkit);
      });
    }(function (i) {
      "use strict";
      function t(t) {
        if (e) return e.lightbox = t, e;e = i.$(['<div class="uk-modal">', '<div class="uk-modal-dialog uk-modal-dialog-lightbox uk-slidenav-position" style="margin-left:auto;margin-right:auto;width:200px;height:200px;top:' + Math.abs(window.innerHeight / 2 - 200) + 'px;">', '<a href="#" class="uk-modal-close uk-close uk-close-alt"></a>', '<div class="uk-lightbox-content"></div>', '<div class="uk-modal-spinner uk-hidden"></div>', "</div>", "</div>"].join("")).appendTo("body"), e.dialog = e.find(".uk-modal-dialog:first"), e.content = e.find(".uk-lightbox-content:first"), e.loader = e.find(".uk-modal-spinner:first"), e.closer = e.find(".uk-close.uk-close-alt"), e.modal = i.modal(e, { modal: !1 }), e.on("swipeRight swipeLeft", function (i) {
          e.lightbox["swipeLeft" == i.type ? "next" : "previous"]();
        }).on("click", "[data-lightbox-previous], [data-lightbox-next]", function (t) {
          t.preventDefault(), e.lightbox[i.$(this).is("[data-lightbox-next]") ? "next" : "previous"]();
        }), e.on("hide.uk.modal", function () {
          e.content.html("");
        });var o = { w: window.innerWidth, h: window.innerHeight };return i.$win.on("load resize orientationchange", i.Utils.debounce(function () {
          o.w !== window.innerWidth && e.is(":visible") && !i.Utils.isFullscreen() && e.lightbox.fitSize(), o = { w: window.innerWidth, h: window.innerHeight };
        }, 100)), e.lightbox = t, e;
      }var e,
          o = {};return i.component("lightbox", { defaults: { group: !1, duration: 400, keyboard: !0 }, index: 0, items: !1, boot: function () {
          i.$html.on("click", "[data-uk-lightbox]", function (t) {
            t.preventDefault();var e = i.$(this);e.data("lightbox") || i.lightbox(e, i.Utils.options(e.attr("data-uk-lightbox"))), e.data("lightbox").show(e);
          }), i.$doc.on("keyup", function (i) {
            if (e && e.is(":visible") && e.lightbox.options.keyboard) switch (i.preventDefault(), i.keyCode) {case 37:
                e.lightbox.previous();break;case 39:
                e.lightbox.next();}
          });
        }, init: function () {
          var t = [];if (this.index = 0, this.siblings = [], this.element && this.element.length) {
            var e = this.options.group ? i.$(['[data-uk-lightbox*="' + this.options.group + '"]', "[data-uk-lightbox*='" + this.options.group + "']"].join(",")) : this.element;e.each(function () {
              var e = i.$(this);t.push({ source: e.attr("href"), title: e.attr("data-title") || e.attr("title"), type: e.attr("data-lightbox-type") || "auto", link: e });
            }), this.index = e.index(this.element), this.siblings = t;
          } else this.options.group && this.options.group.length && (this.siblings = this.options.group);this.trigger("lightbox-init", [this]);
        }, show: function (e) {
          this.modal = t(this), this.modal.dialog.stop(), this.modal.content.stop();var o,
              n,
              h = this,
              s = i.$.Deferred();e = e || 0, "object" == typeof e && this.siblings.forEach(function (i, t) {
            e[0] === i.link[0] && (e = t);
          }), 0 > e ? e = this.siblings.length - e : this.siblings[e] || (e = 0), n = this.siblings[e], o = { lightbox: h, source: n.source, type: n.type, index: e, promise: s, title: n.title, item: n, meta: { content: "", width: null, height: null } }, this.index = e, this.modal.content.empty(), this.modal.is(":visible") || (this.modal.content.css({ width: "", height: "" }).empty(), this.modal.modal.show()), this.modal.loader.removeClass("uk-hidden"), s.promise().done(function () {
            h.data = o, h.fitSize(o);
          }).fail(function () {
            o.meta.content = '<div class="uk-position-cover uk-flex uk-flex-middle uk-flex-center"><strong>Loading resource failed!</strong></div>', o.meta.width = 400, o.meta.height = 300, h.data = o, h.fitSize(o);
          }), h.trigger("showitem.uk.lightbox", [o]);
        }, fitSize: function () {
          var t = this,
              e = this.data,
              o = this.modal.dialog.outerWidth() - this.modal.dialog.width(),
              n = parseInt(this.modal.dialog.css("margin-top"), 10),
              h = parseInt(this.modal.dialog.css("margin-bottom"), 10),
              s = n + h,
              a = e.meta.content,
              d = t.options.duration;this.siblings.length > 1 && (a = [a, '<a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-previous uk-hidden-touch" data-lightbox-previous></a>', '<a href="#" class="uk-slidenav uk-slidenav-contrast uk-slidenav-next uk-hidden-touch" data-lightbox-next></a>'].join(""));var l,
              r,
              u = i.$("<div>&nbsp;</div>").css({ opacity: 0, position: "absolute", top: 0, left: 0, width: "100%", "max-width": t.modal.dialog.css("max-width"), padding: t.modal.dialog.css("padding"), margin: t.modal.dialog.css("margin") }),
              c = e.meta.width,
              g = e.meta.height;u.appendTo("body").width(), l = u.width(), r = window.innerHeight - s, u.remove(), this.modal.dialog.find(".uk-modal-caption").remove(), e.title && (this.modal.dialog.append('<div class="uk-modal-caption">' + e.title + "</div>"), r -= this.modal.dialog.find(".uk-modal-caption").outerHeight()), l < e.meta.width && (g = Math.floor(g * (l / c)), c = l), g > r && (g = Math.floor(r), c = Math.ceil(e.meta.width * (r / e.meta.height))), this.modal.content.css("opacity", 0).width(c).html(a), "iframe" == e.type && this.modal.content.find("iframe:first").height(g);var m = g + o,
              p = Math.floor(window.innerHeight / 2 - m / 2) - s;0 > p && (p = 0), this.modal.closer.addClass("uk-hidden"), t.modal.data("mwidth") == c && t.modal.data("mheight") == g && (d = 0), this.modal.dialog.animate({ width: c + o, height: g + o, top: p }, d, "swing", function () {
            t.modal.loader.addClass("uk-hidden"), t.modal.content.css({ width: "" }).animate({ opacity: 1 }, function () {
              t.modal.closer.removeClass("uk-hidden");
            }), t.modal.data({ mwidth: c, mheight: g });
          });
        }, next: function () {
          this.show(this.siblings[this.index + 1] ? this.index + 1 : 0);
        }, previous: function () {
          this.show(this.siblings[this.index - 1] ? this.index - 1 : this.siblings.length - 1);
        } }), i.plugin("lightbox", "image", { init: function (i) {
          i.on("showitem.uk.lightbox", function (i, t) {
            if ("image" == t.type || t.source && t.source.match(/\.(jpg|jpeg|png|gif|svg)$/i)) {
              var e = function (i, e, o) {
                t.meta = { content: '<img class="uk-responsive-width" width="' + e + '" height="' + o + '" src ="' + i + '">', width: e, height: o }, t.type = "image", t.promise.resolve();
              };if (o[t.source]) e(t.source, o[t.source].width, o[t.source].height);else {
                var n = new Image();n.onerror = function () {
                  t.promise.reject("Loading image failed");
                }, n.onload = function () {
                  o[t.source] = { width: n.width, height: n.height }, e(t.source, o[t.source].width, o[t.source].height);
                }, n.src = t.source;
              }
            }
          });
        } }), i.plugin("lightbox", "youtube", { init: function (i) {
          var t = /(\/\/.*?youtube\.[a-z]+)\/watch\?v=([^&]+)&?(.*)/,
              e = /youtu\.be\/(.*)/;i.on("showitem.uk.lightbox", function (i, n) {
            var h,
                s,
                a = function (i, t, e) {
              n.meta = { content: '<iframe src="//www.youtube.com/embed/' + i + '" width="' + t + '" height="' + e + '" style="max-width:100%;"></iframe>', width: t, height: e }, n.type = "iframe", n.promise.resolve();
            };if ((s = n.source.match(t)) && (h = s[2]), (s = n.source.match(e)) && (h = s[1]), h) {
              if (o[h]) a(h, o[h].width, o[h].height);else {
                var d = new Image(),
                    l = !1;d.onerror = function () {
                  o[h] = { width: 640, height: 320 }, a(h, o[h].width, o[h].height);
                }, d.onload = function () {
                  120 == d.width && 90 == d.height ? l ? (o[h] = { width: 640, height: 320 }, a(h, o[h].width, o[h].height)) : (l = !0, d.src = "//img.youtube.com/vi/" + h + "/0.jpg") : (o[h] = { width: d.width, height: d.height }, a(h, d.width, d.height));
                }, d.src = "//img.youtube.com/vi/" + h + "/maxresdefault.jpg";
              }i.stopImmediatePropagation();
            }
          });
        } }), i.plugin("lightbox", "vimeo", { init: function (t) {
          var e,
              n = /(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/;t.on("showitem.uk.lightbox", function (t, h) {
            var s,
                a = function (i, t, e) {
              h.meta = { content: '<iframe src="//player.vimeo.com/video/' + i + '" width="' + t + '" height="' + e + '" style="width:100%;box-sizing:border-box;"></iframe>', width: t, height: e }, h.type = "iframe", h.promise.resolve();
            };(e = h.source.match(n)) && (s = e[2], o[s] ? a(s, o[s].width, o[s].height) : i.$.ajax({ type: "GET", url: "http://vimeo.com/api/oembed.json?url=" + encodeURI(h.source), jsonp: "callback", dataType: "jsonp", success: function (i) {
                o[s] = { width: i.width, height: i.height }, a(s, o[s].width, o[s].height);
              } }), t.stopImmediatePropagation());
          });
        } }), i.plugin("lightbox", "video", { init: function (t) {
          t.on("showitem.uk.lightbox", function (t, e) {
            var n = function (i, t, o) {
              e.meta = { content: '<video class="uk-responsive-width" src="' + i + '" width="' + t + '" height="' + o + '" controls></video>', width: t, height: o }, e.type = "video", e.promise.resolve();
            };if ("video" == e.type || e.source.match(/\.(mp4|webm|ogv)$/i)) if (o[e.source]) n(e.source, o[e.source].width, o[e.source].height);else var h = i.$('<video style="position:fixed;visibility:hidden;top:-10000px;"></video>').attr("src", e.source).appendTo("body"),
                s = setInterval(function () {
              h[0].videoWidth && (clearInterval(s), o[e.source] = { width: h[0].videoWidth, height: h[0].videoHeight }, n(e.source, o[e.source].width, o[e.source].height), h.remove());
            }, 20);
          });
        } }), UIkit.plugin("lightbox", "iframe", { init: function (i) {
          i.on("showitem.uk.lightbox", function (t, e) {
            var o = function (i, t, o) {
              e.meta = { content: '<iframe class="uk-responsive-width" src="' + i + '" width="' + t + '" height="' + o + '"></iframe>', width: t, height: o }, e.type = "iframe", e.promise.resolve();
            };("iframe" === e.type || e.source.match(/\.(html|php)$/)) && o(e.source, i.options.width || 800, i.options.height || 600);
          });
        } }), i.lightbox.create = function (t, e) {
        if (t) {
          var o,
              n = [];return t.forEach(function (t) {
            n.push(i.$.extend({ source: "", title: "", type: "auto", link: !1 }, "string" == typeof t ? { source: t } : t));
          }), o = i.lightbox(i.$.extend({}, e, { group: n }));
        }
      }, i.lightbox;
    });
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic('133', [], false, function ($__require, $__exports, $__module) {
    var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

    (function ($__global) {
        (function (root, factory) {
            'use strict';

            if (typeof define === 'function' && define.amd) {
                // AMD. Register as an anonymous module.
                define([], factory);
            } else if (typeof exports === 'object') {
                // Node. Does not work with strict CommonJS, but
                // only CommonJS-like environments that support module.exports,
                // like Node.
                module.exports = factory();
            } else {
                // Browser globals (root is window)
                root.emojify = factory();
            }
        })(this, function () {
            'use strict';

            var emojify = function () {
                /**
                 * NB!
                 * The namedEmojiString variable is updated automatically by the
                 * "update" gulp task. Do not remove the comment as this will
                 * cause the gulp task to stop working.
                 */
                var namedEmojiString =
                /*##EMOJILIST*/"+1,-1,100,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,back,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,bee,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_medium_small_square,black_medium_square,black_nib,black_small_square,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crescent_moon,crocodile,crossed_flags,crown,cry,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,disappointed_relieved,dizzy,dizzy_face,do_not_litter,dog,dog2,dollar,dolls,dolphin,donut,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fu,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_closed_eyes,kissing_face,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,neutral_face,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,package,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,plus1,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,raising_hand,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile,simple_smile,smile_cat,smiley,smiley_cat,smiling_imp,smirk,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkle,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunglasses,sunny,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_large_square,white_medium_small_square,white_medium_square,white_small_square,white_square_button,wind_chime,wine_glass,wink,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz,cry_loudy,rofl,laugh,cool,nerd,sleep,dont_tell,batting_eyelashes,worry,love_struck,no_talking,call_me,waiting,angle,happy,beating_heart,victory,hug,goodbye,listen_headphone,nodding,head_shake,hand_shake,party,whew,yawn,bowing_man,bowing_woman,sun,heshi,meditation,thumbs_up,thumbs_down,blushing,flower,birthday_cake,flag,giggle,lotus,fzn,kowtow,firework";

                var namedEmoji = namedEmojiString.split(/,/);

                /* A hash with the named emoji as keys */
                var namedMatchHash = namedEmoji.reduce(function (memo, v) {
                    memo[v] = true;
                    return memo;
                }, {});

                var emoticonsProcessed;
                var emojiMegaRe;

                /* Begin - nlttoan added for Unseen emotion icons */
                var file_name = {
                    /* Overlapped names & shortcuts */
                    /* :-)  */smile: "unseen/smile_uns_pxart_64x64.gif",
                    /* :o   */open_mouth: "unseen/surprise_uns_pxart_64x64.gif",
                    /* :-D  */grinning: "unseen/grin_uns_pxart_64x64.gif",
                    /* ;-p  */stuck_out_tongue_winking_eye: "unseen/tongue-out_uns_pxart_64x64.gif",
                    /* :-[ / :-@  */rage: "unseen/angry_uns_pxart_64x64.gif",
                    /* :-(  */frowning: "unseen/sad_uns_pxart_64x64.gif",
                    /* :-*  */kissing_heart: "unseen/kiss_uns_pxart_64x64.gif",
                    /* ;-)  */wink: "unseen/winking_uns_pxart_64x64.gif",
                    /* :-|  */flushed: "unseen/speechless_uns_pxart_64x64.gif",

                    /* Overlapped names */
                    coffee: "unseen/coffee_uns_pxart_64x64.gif",
                    clap: "unseen/applause_uns_pxart_64x64.gif",
                    rose: "unseen/rose_uns_pxart_64x64.gif",

                    /* Overlapped names for Unseen shorcuts */
                    confused: "unseen/confused_uns_pxart_64x64.gif", //'O.o',':?'
                    cry: "unseen/cry_uns_pxart_64x64.gif", //'(;'

                    /* From Unseen only, old names for shorcuts */
                    cry_loudy: "unseen/cry-loudly_uns_pxart_64x64.gif", //':(('
                    rofl: "unseen/laugh_uns_pxart_64x64.gif", //'=))'
                    laugh: "unseen/laugh_uns_pxart_64x64.gif", //'=))'
                    cool: "unseen/cool_uns_pxart_64x64.gif", //'8)','B)'
                    nerd: "unseen/nerd_uns_pxart_64x64.gif", //'8-|'

                    /* From Unseen only, new names for shorcuts */
                    sleep: "unseen/sleep_uns_pxart_64x64.gif", //'|-)'
                    love_struck: "unseen/love-struck_uns_pxart_64x64.gif", //':x'
                    dont_tell: "unseen/dont-tell-anyone_uns_pxart_64x64.gif", //':-$'
                    batting_eyelashes: "unseen/batting-eyelashes_uns_pxart_64x64.gif", //';;)'
                    worry: "unseen/wondering_uns_pxart_64x64.gif", //':^)'
                    no_talking: "unseen/no-talking_uns_pxart_64x64.gif", //'[-('
                    call_me: "unseen/callme_uns_pxart_64x64.gif", //':-c'
                    waiting: "unseen/waiting_uns_pxart_64x64.gif", //':-w'

                    /* From Unseen only, without shorcuts */
                    angle: "unseen/angel_uns_pxart_64x64.gif",
                    beating_heart: "unseen/beating-heart_uns_pxart_64x64.gif",
                    happy: "unseen/happy_uns_pxart_64x64.gif",
                    victory: "unseen/hi_uns_pxart_64x64.gif",
                    hug: "unseen/hug_uns_pxart_64x64.gif",
                    goodbye: "unseen/goodbye_uns_pxart_64x64.gif",
                    listen_headphone: "unseen/listening-with-headphone_uns_pxart_64x64.gif",
                    nodding: "unseen/nodding_uns_pxart_64x64.gif",
                    head_shake: "unseen/shaking_uns_pxart_64x64.gif",
                    hand_shake: "unseen/shaking-hand_uns_pxart_64x64.gif",
                    party: "unseen/party_uns_pxart_64x64.gif",
                    whew: "unseen/whew_uns_pxart_64x64.gif",
                    yawn: "unseen/yawn_uns_pxart_64x64.gif",
                    sun: "unseen/sun_uns_pxart_64x64.gif",
                    giggle: "unseen/giggle_uns_pxart_64x64.gif",
                    thumbs_up: "unseen/thump-up_uns_pxart_64x64.gif",
                    thumbs_down: "unseen/thump-down_uns_pxart_64x64.gif",
                    blushing: "unseen/blushing_uns_pxart_64x64.gif",
                    bowing_man: "unseen/bowing_man_uns_pxart_64x64.gif",
                    bowing_woman: "unseen/bowing_woman_uns_pxart_64x64.gif",
                    heshi: "unseen/heshi_uns_pxart_64x64.gif",
                    flower: "unseen/flower_uns_pxart_64x64.gif",
                    birthday_cake: "unseen/cake_uns_pxart_64x64.gif",
                    flag: "unseen/flag_uns_pxart_64x64.gif",
                    lotus: "unseen/lotus_uns_pxart_64x64.gif",
                    fzn: "unseen/fzn_uns_pxart_64x64.gif",
                    meditation: "unseen/meditation_uns_pxart_64x64.gif",
                    kowtow: "unseen/bowl_uns_pxart_64x64.gif",
                    firework: "unseen/firework_uns_pxart_64x64.gif"
                };
                /* End */

                function initEmoticonsProcessed() {
                    /* List of emoticons used in the regular expression */
                    var emoticons = {
                        /* :..: */named: /:([a-z0-9A-Z_-]+):/,
                        /* :-)  */smile: /:-?\)/g,
                        /* :o   */open_mouth: /:o/gi,
                        /* :-o  */ //scream: /:-o/gi, // nlttoan removed because of error
                        /* :-]  */ //smirk: /[:;]-?\]/g, // nlttoan removed because of error
                        /* :-D  */grinning: /[:;]-?d/gi,
                        /* X-D  */ //stuck_out_tongue_closed_eyes: /x-d/gi, // nlttoan removed because of error
                        /* ;-p  */stuck_out_tongue_winking_eye: /[:;]-?p/gi,
                        /* :-[ / :-@  */rage: /:-?[\[@]/g,

                        cry_loudy: /:\(\(/g, //':(('

                        /* :-(  */frowning: /:-?\(/g,
                        /* :'-( */ //sob: /:[']-?\(|:&#x27;\(/g, // nlttoan removed because of wrong expression
                        /* :-*  */kissing_heart: /:-?\*/g,
                        /* ;-)  */wink: /;-?\)/g,
                        /* :-/  */ //pensive: /:-?\//g, // nlttoan removed because of error
                        /* :-s  */ //confounded: /:-?s/gi, // nlttoan removed because of error
                        /* :-|  */flushed: /:-?\|/g,
                        /* :-$  */ //relaxed: /:-?\$/g, // nlttoan removed this shorcut for replacing to 'dont_tell'
                        /* :-x  */ //mask: /:-x/gi, // nlttoan removed this shorcut for replacing to 'love_struck'
                        /* <3   */ //heart: /<3|&lt;3/g, // nlttoan removed because of wrong expression
                        /* </3  */ //broken_heart: /<\/3|&lt;&#x2F;3/g, // nlttoan removed because of wrong expression
                        /* :+1: */ //thumbsup: /:\+1:/g, // nlttoan removed because of wrong expression
                        /* :-1: */ //thumbsdown: /:\-1:/g, // nlttoan removed because of wrong expression

                        /* Begin - nlttoan added for Unseen emotion icons */

                        /* Overlapped names for Unseen shorcuts */
                        confused: /:-?\x3F/g, //':?'
                        cry: /\(;/g, //'(;'

                        /* From Unseen only, old names for shorcuts */
                        rofl: /=\)\)/g, //'=))'
                        //laugh: /=\)\)/g, //'=))'
                        cool: /[8B]-?\)/g, //'8)','B)'
                        nerd: /8-?\|/g, //'8-|'

                        /* From Unseen only, new names for shorcuts */
                        sleep: /\|-?\)/g, //'|-)'
                        dont_tell: /:-?\$/g, //':-$'
                        batting_eyelashes: /;;\)/g, //';;)'
                        worry: /:\x5E\)/g, //':^)'
                        love_struck: /:-?x/gi, //':x'
                        no_talking: /\[-?\(/g, //'[-('
                        call_me: /:-?c/g, //':-c'
                        waiting: /:-?\x77/g //':-w'

                        /* End */
                    };

                    if (defaultConfig.ignore_emoticons) {
                        emoticons = {
                            /* :..: */named: /:([a-z0-9A-Z_-]+):/,
                            /* :+1: */thumbsup: /:\+1:/g,
                            /* :-1: */thumbsdown: /:\-1:/g
                        };
                    }

                    return Object.keys(emoticons).map(function (key) {
                        return [emoticons[key], /* nlttoan */file_name[key] ? file_name[key] : /**/key];
                    });
                }

                function initMegaRe() {
                    /* The source for our mega-regex */
                    var mega = emoticonsProcessed.map(function (v) {
                        var re = v[0];
                        var val = re.source || re;
                        val = val.replace(/(^|[^\[])\^/g, '$1');
                        return "(" + val + ")";
                    }).join('|');

                    /* The regex used to find emoji */
                    return new RegExp(mega, "gi");
                }

                var defaultConfig = {
                    blacklist: {
                        'ids': [],
                        'classes': ['no-emojify'],
                        'elements': ['script', 'textarea', 'a', 'pre', 'code']
                    },
                    tag_type: null,
                    only_crawl_id: null,
                    img_dir: 'images/emoji',
                    ignore_emoticons: false,
                    mode: 'img'
                };

                /* Returns true if the given char is whitespace */
                function isWhitespace(s) {
                    return s === ' ' || s === '\t' || s === '\r' || s === '\n' || s === '' || s === String.fromCharCode(160);
                }

                var modeToElementTagType = {
                    'img': 'img',
                    'sprite': 'span',
                    'data-uri': 'span'
                };

                /* Given a match in a node, replace the text with an image */
                function insertEmojicon(args) {
                    var emojiElement = null;

                    if (args.replacer) {
                        emojiElement = args.replacer.apply({
                            config: defaultConfig
                        }, [':' + args.emojiName + ':', args.emojiName]);
                    } else {
                        var elementType = defaultConfig.tag_type || modeToElementTagType[defaultConfig.mode];
                        emojiElement = args.win.document.createElement(elementType);

                        if (elementType !== 'img') {
                            emojiElement.setAttribute('class', 'emoji emoji-' + args.emojiName);
                        } else {
                            emojiElement.setAttribute('align', 'absmiddle');
                            emojiElement.setAttribute('alt', ':' + args.emojiName + ':');
                            emojiElement.setAttribute('class', 'emoji');
                            /* Begin - nlttoan added for Unseen emotion icons */
                            var file_path = args.emojiName === args.emojiPath ? defaultConfig.img_dir + '/' + args.emojiName + '.png' : defaultConfig.img_dir + '/' + args.emojiPath;
                            /* End */
                            emojiElement.setAttribute('src', /*defaultConfig.img_dir + '/' + args.emojiName + '.png'*/file_path /**/);
                        }

                        emojiElement.setAttribute('title', ':' + args.emojiName + ':');
                    }

                    args.node.splitText(args.match.index);
                    args.node.nextSibling.nodeValue = args.node.nextSibling.nodeValue.substr(args.match[0].length, args.node.nextSibling.nodeValue.length);
                    emojiElement.appendChild(args.node.splitText(args.match.index));
                    args.node.parentNode.insertBefore(emojiElement, args.node.nextSibling);
                }

                /* Given an regex match, return the name of the matching emoji */
                function getEmojiNameForMatch(match) {
                    /* Special case for named emoji */
                    if (match[1] && match[2]) {
                        var named = match[2];
                        if (namedMatchHash[named]) {
                            return (/*named*/[named, file_name[named] ? file_name[named] : named] /**/
                            );
                        }
                        return;
                    }
                    for (var i = 3; i < match.length /* - 1*/; i++) {
                        if (match[i]) {
                            return emoticonsProcessed[i - 2] /*[1]*/;
                        }
                    }
                }

                function defaultReplacer(emoji, name) {
                    /*jshint validthis: true */
                    var elementType = this.config.tag_type || modeToElementTagType[this.config.mode];
                    if (elementType !== 'img') {
                        return "<" + elementType + " class='emoji emoji-" + name + "' title=':" + name + ":'></" + elementType + ">";
                    } else {
                        return "<img align='absmiddle' alt=':" + name + ":' class='emoji' src='" + this.config.img_dir + '/' + name + ".png' title=':" + name + ":' />";
                    }
                }

                function Validator() {
                    this.lastEmojiTerminatedAt = -1;
                }

                Validator.prototype = {
                    validate: function (match, index, input) {
                        var self = this;

                        /* Validator */
                        var emojiName = getEmojiNameForMatch(match);
                        if (!emojiName) {
                            return;
                        }

                        var m = match[0];
                        var length = m.length;
                        // var index = match.index;
                        // var input = match.input;

                        function success() {
                            self.lastEmojiTerminatedAt = length + index;
                            return emojiName;
                        }

                        /* At the beginning? */
                        if (index === 0) {
                            return success();
                        }

                        /* At the end? */
                        if (input.length === m.length + index) {
                            return success();
                        }

                        var hasEmojiBefore = this.lastEmojiTerminatedAt === index;
                        if (hasEmojiBefore) {
                            return success();
                        }

                        /* Has a whitespace before? */
                        if (isWhitespace(input.charAt(index - 1))) {
                            return success();
                        }

                        var hasWhitespaceAfter = isWhitespace(input.charAt(m.length + index));
                        /* Has a whitespace after? */
                        if (hasWhitespaceAfter && hasEmojiBefore) {
                            return success();
                        }

                        return;
                    }
                };

                function emojifyString(htmlString, replacer) {
                    if (!htmlString) {
                        return htmlString;
                    }
                    if (!replacer) {
                        replacer = defaultReplacer;
                    }

                    emoticonsProcessed = initEmoticonsProcessed();
                    emojiMegaRe = initMegaRe();

                    var validator = new Validator();

                    return htmlString.replace(emojiMegaRe, function () {
                        var matches = Array.prototype.slice.call(arguments, 0, -2);
                        var index = arguments[arguments.length - 2];
                        var input = arguments[arguments.length - 1];
                        var emojiName = validator.validate(matches, index, input);
                        if (emojiName /**/ && emojiName[0] /**/) {
                                return replacer.apply({
                                    config: defaultConfig
                                }, [arguments[0], emojiName /**/[0] /**/]);
                            }
                        /* Did not validate, return the original value */
                        return arguments[0];
                    });
                }
                function run(el, replacer) {

                    // Check if an element was not passed.
                    // This will only work in the browser
                    if (typeof el === 'undefined') {
                        // Check if an element was configured. If not, default to the body.
                        if (defaultConfig.only_crawl_id) {
                            el = document.getElementById(defaultConfig.only_crawl_id);
                        } else {
                            el = document.body;
                        }
                    }

                    // Get the window object from the passed element.
                    var doc = el.ownerDocument,
                        win = doc.defaultView || doc.parentWindow;

                    var treeTraverse = function (parent, cb) {
                        var child;

                        if (parent.hasChildNodes()) {
                            child = parent.firstChild;
                            while (child) {
                                if (cb(child)) {
                                    treeTraverse(child, cb);
                                }
                                child = child.nextSibling;
                            }
                        }
                    };

                    var matchAndInsertEmoji = function (node) {
                        var match;
                        var matches = [];
                        var validator = new Validator();

                        while ((match = emojiMegaRe.exec(node.data)) !== null) {
                            if (validator.validate(match, match.index, match.input)) {
                                matches.push(match);
                            }
                        }

                        for (var i = matches.length; i-- > 0;) {
                            /* Replace the text with the emoji */
                            var emojiName = getEmojiNameForMatch(matches[i]);
                            insertEmojicon({
                                node: node,
                                match: matches[i],
                                emojiName: emojiName /**/[0] /**/
                                , emojiPath: emojiName /**/[1] /**/
                                , replacer: replacer,
                                win: win
                            });
                        }
                    };

                    emoticonsProcessed = initEmoticonsProcessed();
                    emojiMegaRe = initMegaRe();

                    var nodes = [];

                    var elementsBlacklist = new RegExp(defaultConfig.blacklist.elements.join('|'), 'i'),
                        classesBlacklist = new RegExp(defaultConfig.blacklist.classes.join('|'), 'i');

                    if (typeof win.document.createTreeWalker !== 'undefined') {
                        var nodeIterator = win.document.createTreeWalker(el, win.NodeFilter.SHOW_TEXT | win.NodeFilter.SHOW_ELEMENT, function (node) {
                            if (node.nodeType !== 1) {
                                /* Text Node? Good! */
                                return win.NodeFilter.FILTER_ACCEPT;
                            }

                            if (node.tagName.match(elementsBlacklist) || node.tagName === "svg" || node.className.match(classesBlacklist)) {
                                return win.NodeFilter.FILTER_REJECT;
                            }

                            return win.NodeFilter.FILTER_SKIP;
                        }, false);

                        var node;

                        while ((node = nodeIterator.nextNode()) !== null) {
                            nodes.push(node);
                        }
                    } else {
                        treeTraverse(el, function (node) {
                            if (typeof node.tagName !== 'undefined' && node.tagName.match(elementsBlacklist) || typeof node.className !== 'undefined' && node.className.match(classesBlacklist)) {
                                return false;
                            }
                            if (node.nodeType === 1) {
                                return true;
                            }

                            nodes.push(node);
                            return true;
                        });
                    }

                    nodes.forEach(matchAndInsertEmoji);
                }

                return {
                    // Sane defaults
                    defaultConfig: defaultConfig,
                    emojiNames: namedEmoji,
                    setConfig: function (newConfig) {
                        Object.keys(defaultConfig).forEach(function (f) {
                            if (f in newConfig) {
                                defaultConfig[f] = newConfig[f];
                            }
                        });
                    },

                    replace: emojifyString,

                    // Main method
                    run: run
                };
            }();

            return emojify;
        });
    })(this);

    return _retrieveGlobal();
});
$__System.registerDynamic("134", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("135", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    !function () {
      "use strict";
      function n(n, t) {
        if (!n) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return !t || "object" != typeof t && "function" != typeof t ? n : t;
      }function t(n, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);n.prototype = Object.create(t && t.prototype, { constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(n, t) : n.__proto__ = t);
      }function o(n, t) {
        if (!(n instanceof t)) throw new TypeError("Cannot call a class as a function");
      }!function (e) {
        function r(n) {
          n = n || {};for (var t = n.newLine || !1, o = n.ignoreTags || [], e = 0; e < o.length; e++) o[e] = o[e].toUpperCase();return { attributes: n.linkAttributes || null, defaultProtocol: n.defaultProtocol || "http", events: n.events || null, format: n.format || a, validate: n.validate || u, formatHref: n.formatHref || a, newLine: n.newLine || !1, nl2br: !!t || n.nl2br || !1, tagName: n.tagName || "a", target: n.target || c, linkClass: n.linkClass || "linkified", ignoreTags: o };
        }function i(n) {
          for (var t = arguments.length, o = Array(t > 1 ? t - 1 : 0), e = 1; t > e; e++) o[e - 1] = arguments[e];return "function" == typeof n ? n.apply(void 0, o) : n;
        }function s(n, t) {
          for (var o = 0; o < n.length; o++) if (n[o] == t) return !0;return !1;
        }function a(n) {
          return n;
        }function u(n) {
          return !0;
        }function c(n, t) {
          return "url" === t ? "_blank" : null;
        }function l(n) {
          return n instanceof g || n instanceof C;
        }function h(n, t, o, e) {
          for (var r = 0, i = n.length, s = t, a = [], u = void 0; i > r && (u = s.next(n[r]));) s = u, r++;if (r >= i) return [];for (; i - 1 > r;) u = new _(e), a.push(u), s.on(n[r], u), s = u, r++;return u = new _(o), a.push(u), s.on(n[i - 1], u), a;
        }var f = Object.freeze({ normalize: r, resolve: i, contains: s }),
            p = function () {
          function n(t) {
            o(this, n), this.v = t;
          }return n.prototype.toString = function () {
            return this.v + "";
          }, n;
        }(),
            g = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            m = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "@"));
          }return t(r, e), r;
        }(p),
            y = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, ":"));
          }return t(r, e), r;
        }(p),
            d = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "."));
          }return t(r, e), r;
        }(p),
            b = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            v = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            k = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "\n"));
          }return t(r, e), r;
        }(p),
            w = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            O = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "+"));
          }return t(r, e), r;
        }(p),
            L = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "#"));
          }return t(r, e), r;
        }(p),
            E = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            A = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "?"));
          }return t(r, e), r;
        }(p),
            S = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "/"));
          }return t(r, e), r;
        }(p),
            N = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            C = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            T = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r;
        }(p),
            j = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "{"));
          }return t(r, e), r;
        }(p),
            z = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "["));
          }return t(r, e), r;
        }(p),
            P = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "("));
          }return t(r, e), r;
        }(p),
            x = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "}"));
          }return t(r, e), r;
        }(p),
            R = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, "]"));
          }return t(r, e), r;
        }(p),
            U = function (e) {
          function r() {
            return o(this, r), n(this, e.call(this, ")"));
          }return t(r, e), r;
        }(p),
            B = { Base: p, DOMAIN: g, AT: m, COLON: y, DOT: d, PUNCTUATION: b, LOCALHOST: v, NL: k, NUM: w, PLUS: O, POUND: L, QUERY: A, PROTOCOL: E, SLASH: S, SYM: N, TLD: C, WS: T, OPENBRACE: j, OPENBRACKET: z, OPENPAREN: P, CLOSEBRACE: x, CLOSEBRACKET: R, CLOSEPAREN: U },
            D = function () {
          function n(t) {
            o(this, n), this.v = t, this.type = "token", this.isLink = !1;
          }return n.prototype.toString = function () {
            for (var n = [], t = 0; t < this.v.length; t++) n.push(this.v[t].toString());return n.join("");
          }, n.prototype.toHref = function () {
            return this.toString();
          }, n.prototype.toObject = function () {
            var n = arguments.length <= 0 || void 0 === arguments[0] ? "http" : arguments[0];return { type: this.type, value: this.toString(), href: this.toHref(n) };
          }, n;
        }(),
            H = function (e) {
          function r(t) {
            o(this, r);var i = n(this, e.call(this, t));return i.type = "email", i.isLink = !0, i;
          }return t(r, e), r.prototype.toHref = function () {
            return "mailto:" + this.toString();
          }, r;
        }(D),
            q = function (e) {
          function r(t) {
            o(this, r);var i = n(this, e.call(this, t));return i.type = "text", i;
          }return t(r, e), r;
        }(D),
            M = function (e) {
          function r(t) {
            o(this, r);var i = n(this, e.call(this, t));return i.type = "nl", i;
          }return t(r, e), r;
        }(D),
            I = function (e) {
          function r(t) {
            o(this, r);var i = n(this, e.call(this, t));return i.type = "url", i.isLink = !0, i;
          }return t(r, e), r.prototype.toHref = function () {
            for (var n = arguments.length <= 0 || void 0 === arguments[0] ? "http" : arguments[0], t = !1, o = !1, e = this.v, r = [], i = 0; e[i] instanceof E;) t = !0, r.push(e[i].toString().toLowerCase()), i++;for (; e[i] instanceof S;) o = !0, r.push(e[i].toString()), i++;for (; l(e[i]);) r.push(e[i].toString().toLowerCase()), i++;for (; i < e.length; i++) r.push(e[i].toString());return r = r.join(""), t || o || (r = n + "://" + r), r;
          }, r.prototype.hasProtocol = function () {
            return this.v[0] instanceof E;
          }, r;
        }(D),
            K = { Base: D, EMAIL: H, NL: M, TEXT: q, URL: I },
            Y = function () {
          function n(t) {
            o(this, n), this.j = [], this.T = t || null;
          }return n.prototype.on = function (n, t) {
            if (n instanceof Array) {
              for (var o = 0; o < n.length; o++) this.j.push([n[o], t]);return this;
            }return this.j.push([n, t]), this;
          }, n.prototype.next = function (n) {
            for (var t = 0; t < this.j.length; t++) {
              var o = this.j[t],
                  e = o[0],
                  r = o[1];if (this.test(n, e)) return r;
            }return !1;
          }, n.prototype.accepts = function () {
            return !!this.T;
          }, n.prototype.test = function (n, t) {
            return n === t;
          }, n.prototype.emit = function () {
            return this.T;
          }, n;
        }(),
            _ = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r.prototype.test = function (n, t) {
            return n === t || t instanceof RegExp && t.test(n);
          }, r;
        }(Y),
            Q = function (e) {
          function r() {
            return o(this, r), n(this, e.apply(this, arguments));
          }return t(r, e), r.prototype.test = function (n, t) {
            return n instanceof t;
          }, r;
        }(Y),
            W = "abogado|ac|academy|accountants|active|actor|ad|adult|ae|aero|af|ag|agency|ai|airforce|al|allfinanz|alsace|am|an|android|ao|aq|aquarelle|ar|archi|army|arpa|as|asia|associates|at|attorney|au|auction|audio|autos|aw|ax|axa|az|ba|band|bar|bargains|bayern|bb|bd|be|beer|berlin|best|bf|bg|bh|bi|bid|bike|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bmw|bn|bnpparibas|bo|boo|boutique|br|brussels|bs|bt|budapest|build|builders|business|buzz|bv|bw|by|bz|bzh|ca|cab|cal|camera|camp|cancerresearch|capetown|capital|caravan|cards|care|career|careers|casa|cash|cat|catering|cc|cd|center|ceo|cern|cf|cg|ch|channel|cheap|christmas|chrome|church|ci|citic|city|ck|cl|claims|cleaning|click|clinic|clothing|club|cm|cn|co|coach|codes|coffee|college|cologne|com|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|country|cr|credit|creditcard|cricket|crs|cruises|cu|cuisinella|cv|cw|cx|cy|cymru|cz|dad|dance|dating|day|de|deals|degree|delivery|democrat|dental|dentist|desi|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|domains|durban|dvag|dz|eat|ec|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|equipment|er|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|fail|farm|fashion|feedback|fi|finance|financial|firmdale|fish|fishing|fitness|fj|fk|flights|florist|flsmidth|fly|fm|fo|foo|forsale|foundation|fr|frl|frogans|fund|furniture|futbol|ga|gal|gallery|gb|gbiz|gd|ge|gent|gf|gg|gh|gi|gift|gifts|gives|gl|glass|gle|global|globo|gm|gmail|gmo|gmx|gn|google|gop|gov|gp|gq|gr|graphics|gratis|green|gripe|gs|gt|gu|guide|guitars|guru|gw|gy|hamburg|haus|healthcare|help|here|hiphop|hiv|hk|hm|hn|holdings|holiday|homes|horse|host|hosting|house|how|hr|ht|hu|ibm|id|ie|il|im|immo|immobilien|in|industries|info|ing|ink|institute|insure|int|international|investments|io|iq|ir|irish|is|it|je|jetzt|jm|jo|jobs|joburg|jp|juegos|kaufen|ke|kg|kh|ki|kim|kitchen|kiwi|km|kn|koeln|kp|kr|krd|kred|kw|ky|kz|la|lacaixa|land|latrobe|lawyer|lb|lc|lds|lease|legal|lgbt|li|life|lighting|limited|limo|link|lk|loans|local|london|lotto|lr|ls|lt|ltda|lu|luxe|luxury|lv|ly|ma|madrid|maison|management|mango|market|marketing|mc|md|me|media|meet|melbourne|meme|memorial|menu|mg|mh|miami|mil|mini|mk|ml|mm|mn|mo|mobi|moda|moe|monash|money|mormon|mortgage|moscow|motorcycles|mov|mp|mq|mr|ms|mt|mu|museum|mv|mw|mx|my|mz|na|nagoya|name|navy|nc|ne|net|network|neustar|new|nexus|nf|ng|ngo|nhk|ni|ninja|nl|no|np|nr|nra|nrw|nu|nyc|nz|okinawa|om|ong|onl|ooo|org|organic|otsuka|ovh|pa|paris|partners|parts|party|pe|pf|pg|ph|pharmacy|photo|photography|photos|physio|pics|pictures|pink|pizza|pk|pl|place|plumbing|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|properties|property|ps|pt|pub|pw|py|qa|qpon|quebec|re|realtor|recipes|red|rehab|reise|reisen|reit|ren|rentals|repair|report|republican|rest|restaurant|reviews|rich|rio|rip|ro|rocks|rodeo|rs|rsvp|ru|ruhr|rw|ryukyu|sa|saarland|sarl|sb|sc|sca|scb|schmidt|schule|science|scot|sd|se|services|sexy|sg|sh|shiksha|shoes|si|singles|sj|sk|sl|sm|sn|so|social|software|sohu|solar|solutions|soy|space|spiegel|sr|st|su|supplies|supply|support|surf|surgery|suzuki|sv|sx|sy|sydney|systems|sz|taipei|tatar|tattoo|tax|tc|td|technology|tel|tf|tg|th|tienda|tips|tirol|tj|tk|tl|tm|tn|to|today|tokyo|tools|top|town|toys|tp|tr|trade|training|travel|trust|tt|tui|tv|tw|tz|ua|ug|uk|university|uno|uol|us|uy|uz|va|vacations|vc|ve|vegas|ventures|versicherung|vet|vg|vi|viajes|villas|vision|vlaanderen|vn|vodka|vote|voting|voto|voyage|vu|wales|wang|watch|webcam|website|wed|wedding|wf|whoswho|wien|wiki|williamhill|wme|work|works|world|ws|wtc|wtf|xxx|xyz|yachts|yandex|ye|yoga|yokohama|youtube|yt|za|zip|zm|zone|zw".split("|"),
            X = /[0-9]/,
            Z = /[a-z0-9]/,
            F = ":",
            G = [],
            J = function (n) {
          return new _(n);
        },
            V = B.DOMAIN,
            $ = B.LOCALHOST,
            nn = B.NUM,
            tn = B.PROTOCOL,
            on = B.TLD,
            en = B.WS,
            rn = J(),
            sn = J(nn),
            an = J(V),
            un = J(),
            cn = J(en);rn.on("@", J(B.AT)).on(".", J(B.DOT)).on("+", J(B.PLUS)).on("#", J(B.POUND)).on("?", J(B.QUERY)).on("/", J(B.SLASH)).on(F, J(B.COLON)).on("{", J(B.OPENBRACE)).on("[", J(B.OPENBRACKET)).on("(", J(B.OPENPAREN)).on("}", J(B.CLOSEBRACE)).on("]", J(B.CLOSEBRACKET)).on(")", J(B.CLOSEPAREN)).on(/[,;!]/, J(B.PUNCTUATION)), rn.on(/\n/, J(B.NL)).on(/\s/, cn), cn.on(/[^\S\n]/, cn);for (var ln = 0; ln < W.length; ln++) {
          var hn = h(W[ln], rn, on, V);G.push.apply(G, hn);
        }var fn = h("file", rn, V, V),
            pn = h("ftp", rn, V, V),
            gn = h("http", rn, V, V);G.push.apply(G, fn), G.push.apply(G, pn), G.push.apply(G, gn);var mn = fn.pop(),
            yn = pn.pop(),
            dn = gn.pop(),
            bn = J(V),
            vn = J(tn);yn.on("s", bn).on(F, vn), dn.on("s", bn).on(F, vn), G.push(bn), mn.on(F, vn), bn.on(F, vn);var kn = h("localhost", rn, $, V);G.push.apply(G, kn), rn.on(X, sn), sn.on("-", un).on(X, sn).on(Z, an), an.on("-", un).on(Z, an);for (var wn = 0; wn < G.length; wn++) G[wn].on("-", un).on(Z, an);un.on("-", un).on(X, an).on(Z, an), rn.on(/./, J(B.SYM));var On = function (n) {
          for (var t = n.replace(/[A-Z]/g, function (n) {
            return n.toLowerCase();
          }), o = n.length, e = [], r = 0; o > r;) {
            for (var i = rn, s = null, a = null, u = 0, c = null, l = -1; o > r && (a = i.next(t[r]));) s = null, i = a, i.accepts() ? (l = 0, c = i) : l >= 0 && l++, u++, r++;if (!(0 > l)) {
              r -= l, u -= l;var h = c.emit();e.push(new h(n.substr(r - u, u)));
            }
          }return e;
        },
            Ln = rn,
            En = Object.freeze({ State: _, TOKENS: B, run: On, start: Ln }),
            An = function (n) {
          return new Q(n);
        },
            Sn = B.DOMAIN,
            Nn = B.AT,
            Cn = B.COLON,
            Tn = B.DOT,
            jn = B.PUNCTUATION,
            zn = B.LOCALHOST,
            Pn = B.NL,
            xn = B.NUM,
            Rn = B.PLUS,
            Un = B.POUND,
            Bn = B.PROTOCOL,
            Dn = B.QUERY,
            Hn = B.SLASH,
            qn = B.SYM,
            Mn = B.TLD,
            In = B.OPENBRACE,
            Kn = B.OPENBRACKET,
            Yn = B.OPENPAREN,
            _n = B.CLOSEBRACE,
            Qn = B.CLOSEBRACKET,
            Wn = B.CLOSEPAREN,
            Xn = K.EMAIL,
            Zn = K.NL,
            Fn = K.TEXT,
            Gn = K.URL,
            Jn = An(),
            Vn = An(),
            $n = An(),
            nt = An(),
            tt = An(),
            ot = An(),
            et = An(Gn),
            rt = An(),
            it = An(Gn),
            st = An(Gn),
            at = An(),
            ut = An(),
            ct = An(),
            lt = An(),
            ht = An(Gn),
            ft = An(Gn),
            pt = An(Gn),
            gt = An(),
            mt = An(),
            yt = An(),
            dt = An(),
            bt = An(),
            vt = An(Xn),
            kt = An(),
            wt = An(Xn),
            Ot = An(),
            Lt = An(),
            Et = An(),
            At = An(Zn);Jn.on(Pn, At).on(Bn, Vn).on(Hn, $n), Vn.on(Hn, $n), $n.on(Hn, nt), Jn.on(Mn, tt).on(Sn, tt).on(zn, et).on(xn, tt), nt.on(Mn, st).on(Sn, st).on(xn, st).on(zn, st), tt.on(Tn, ot), dt.on(Tn, bt), ot.on(Mn, et).on(Sn, tt).on(xn, tt).on(zn, tt), bt.on(Mn, vt).on(Sn, dt).on(xn, dt).on(zn, dt), et.on(Tn, ot), vt.on(Tn, bt), et.on(Cn, rt).on(Hn, st), rt.on(xn, it), it.on(Hn, st), vt.on(Cn, kt), kt.on(xn, wt);var St = [Sn, Nn, zn, xn, Rn, Un, Bn, Hn, Mn],
            Nt = [Cn, Tn, Dn, jn, _n, Qn, Wn, In, Kn, Yn, qn];st.on(In, ut).on(Kn, ct).on(Yn, lt), at.on(In, ut).on(Kn, ct).on(Yn, lt), ut.on(_n, st), ct.on(Qn, st), lt.on(Wn, st), ht.on(_n, st), ft.on(Qn, st), pt.on(Wn, st), gt.on(_n, st), mt.on(Qn, st), yt.on(Wn, st), ut.on(St, ht), ct.on(St, ft), lt.on(St, pt), ut.on(Nt, gt), ct.on(Nt, mt), lt.on(Nt, yt), ht.on(St, ht), ft.on(St, ft), pt.on(St, pt), ht.on(Nt, ht), ft.on(Nt, ft), pt.on(Nt, pt), gt.on(St, ht), mt.on(St, ft), yt.on(St, pt), gt.on(Nt, gt), mt.on(Nt, mt), yt.on(Nt, yt), st.on(St, st), at.on(St, st), st.on(Nt, at), at.on(Nt, at);var Ct = [Sn, xn, Rn, Un, Dn, qn, Mn];tt.on(Ct, Ot).on(Nn, Lt), et.on(Ct, Ot).on(Nn, Lt), ot.on(Ct, Ot), Ot.on(Ct, Ot).on(Nn, Lt).on(Tn, Et), Et.on(Ct, Ot), Lt.on(Mn, dt).on(Sn, dt).on(zn, vt);var Tt = function (n) {
          for (var t = n.length, o = 0, e = [], r = []; t > o;) {
            for (var i = Jn, s = null, a = null, u = 0, c = null, l = -1; t > o && !(s = i.next(n[o]));) r.push(n[o++]);for (; t > o && (a = s || i.next(n[o]));) s = null, i = a, i.accepts() ? (l = 0, c = i) : l >= 0 && l++, o++, u++;if (0 > l) for (var h = o - u; o > h; h++) r.push(n[h]);else {
              r.length > 0 && (e.push(new Fn(r)), r = []), o -= l, u -= l;var f = c.emit();e.push(new f(n.slice(o - u, o)));
            }
          }return r.length > 0 && e.push(new Fn(r)), e;
        },
            jt = K,
            zt = Jn,
            Pt = Object.freeze({ State: Q, TOKENS: jt, run: Tt, start: zt });Array.isArray || (Array.isArray = function (n) {
          return "[object Array]" === Object.prototype.toString.call(n);
        });var xt = function (n) {
          return Tt(On(n));
        },
            Rt = function (n) {
          for (var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1], o = xt(n), e = [], r = 0; r < o.length; r++) !o[r].isLink || t && o[r].type !== t || e.push(o[r].toObject());return e;
        },
            Ut = function (n) {
          var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1],
              o = xt(n);return 1 === o.length && o[0].isLink && (!t || o[0].type === t);
        };e.find = Rt, e.options = f, e.parser = Pt, e.scanner = En, e.test = Ut, e.tokenize = xt;
      }(window.linkify = window.linkify || {});
    }();
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("136", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    "use strict";
    !function (e, t) {
      var n = function (t) {
        function n(e, t, n) {
          var r = n[n.length - 1];e.replaceChild(r, t);for (var i = n.length - 2; i >= 0; i--) e.insertBefore(n[i], r), r = n[i];
        }function r(e, t, n) {
          for (var r = [], i = 0; i < e.length; i++) {
            var o = e[i],
                a = o.isLink && l.resolve(t.validate, o.toString(), o.type);if (o.isLink && a) {
              var s = o.toHref(t.defaultProtocol),
                  f = l.resolve(t.format, o.toString(), o.type),
                  v = l.resolve(t.formatHref, s, o.type),
                  u = l.resolve(t.attributes, s, o.type),
                  c = l.resolve(t.tagName, s, o.type),
                  d = l.resolve(t.linkClass, s, o.type),
                  p = l.resolve(t.target, s, o.type),
                  h = l.resolve(t.events, s, o.type),
                  m = n.createElement(c);if (m.setAttribute("href", v), m.setAttribute("class", d), p && m.setAttribute("target", p), u) for (var g in u) m.setAttribute(g, u[g]);if (h) for (var y in h) m.addEventListener ? m.addEventListener(y, h[y]) : m.attachEvent && m.attachEvent("on" + y, h[y]);m.appendChild(n.createTextNode(f)), r.push(m);
            } else "nl" === o.type && t.nl2br ? r.push(n.createElement("br")) : r.push(n.createTextNode(o.toString()));
          }return r;
        }function i(e, t, o) {
          if (!e || e.nodeType !== s) throw new Error("Cannot linkify " + e + " - Invalid DOM Node type");var v = t.ignoreTags;if ("A" === e.tagName || l.contains(v, e.tagName)) return e;for (var u = e.firstChild; u;) {
            switch (u.nodeType) {case s:
                i(u, t, o);break;case f:
                var c = u.nodeValue,
                    d = a(c),
                    p = r(d, t, o);n(e, u, p), u = p[p.length - 1];}u = u.nextSibling;
          }return e;
        }function o(t, n) {
          var r = arguments.length <= 2 || void 0 === arguments[2] ? null : arguments[2];try {
            r = r || e && e.document || global && global.document;
          } catch (o) {}if (!r) throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return n = l.normalize(n), i(t, n, r);
        }var a = t.tokenize,
            l = t.options,
            s = 1,
            f = 3;return o.helper = i, o.normalize = l.normalize, o;
      }(t);e.linkifyElement = n;
    }(window, linkify);
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("137", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {
    loadjs = function () {
      function n(n, e) {
        n = n.push ? n : [n];var t,
            r,
            o,
            i,
            c = [],
            u = n.length,
            a = u;for (t = function (n, t) {
          t.length && c.push(n), a--, a || e(c);
        }; u--;) r = n[u], o = f[r], o ? t(r, o) : (i = s[r] = s[r] || [], i.push(t));
      }function e(n, e) {
        if (n) {
          var t = s[n];if (f[n] = e, t) for (; t.length;) t[0](n, e), t.splice(0, 1);
        }
      }function t(n, e, t) {
        var r,
            o = document;/\.css$/.test(n) ? (r = o.createElement("link"), r.rel = "stylesheet", r.href = n) : (r = o.createElement("script"), r.src = n, r.async = void 0 === t ? !0 : t), r.onload = r.onerror = r.onbeforeload = function (t) {
          var o = t.type[0];r.sheet && !r.sheet.cssRules.length && (o = "e"), e(n, o, t.defaultPrevented);
        }, o.head.appendChild(r);
      }function r(n, e, r) {
        n = n.push ? n : [n];var o,
            i,
            c = n.length,
            f = c,
            s = [];for (o = function (n, t, r) {
          if ("e" == t && s.push(n), "b" == t) {
            if (!r) return;s.push(n);
          }c--, c || e(s);
        }, i = 0; f > i; i++) t(n[i], o, r);
      }function o(n, t, o) {
        var f, s;if (t && t.trim && (f = t), s = (f ? o : t) || {}, f) {
          if (f in c) throw new Error("LoadJS");c[f] = !0;
        }r(n, function (n) {
          n.length ? (s.fail || i)(n) : (s.success || i)(), e(f, n);
        }, s.async);
      }var i = function () {},
          c = {},
          f = {},
          s = {};return o.ready = function (e, t) {
        return n(e, function (n) {
          n.length ? (t.fail || i)(n) : (t.success || i)();
        }), o;
      }, o.done = function (n) {
        e(n, []);
      }, o;
    }();
  })(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("138", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("139", [], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  (function(global, factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
      define(function() {
        return new (factory(global, global.document))();
      });
    } else if (typeof module !== 'undefined' && module.exports) {
      module.exports = new (factory(global, global.document))();
    } else {
      global.Push = new (factory(global, global.document))();
    }
  })(typeof window !== 'undefined' ? window : this, function(w, d) {
    var Push = function() {
      var self = this,
          isUndefined = function(obj) {
            return obj === undefined;
          },
          isString = function(obj) {
            return String(obj) === obj;
          },
          isFunction = function(obj) {
            return obj && {}.toString.call(obj) === '[object Function]';
          },
          currentId = 0,
          incompatibilityErrorMessage = 'PushError: push.js is incompatible with browser.',
          hasPermission = false,
          notifications = {},
          lastWorkerPath = null,
          closeNotification = function(id) {
            var errored = false,
                notification = notifications[id];
            if (typeof notification !== 'undefined') {
              if (notification.close) {
                notification.close();
              } else if (notification.cancel) {
                notification.cancel();
              } else if (w.external && w.external.msIsSiteMode) {
                w.external.msSiteModeClearIconOverlay();
              } else {
                errored = true;
                throw new Error('Unable to close notification: unknown interface');
              }
              if (!errored) {
                return removeNotification(id);
              }
            }
            return false;
          },
          addNotification = function(notification) {
            var id = currentId;
            notifications[id] = notification;
            currentId++;
            return id;
          },
          removeNotification = function(id) {
            var dict = {},
                success = false,
                key;
            for (key in notifications) {
              if (notifications.hasOwnProperty(key)) {
                if (key != id) {
                  dict[key] = notifications[key];
                } else {
                  success = true;
                }
              }
            }
            notifications = dict;
            return success;
          },
          createCallback = function(title, options) {
            var notification,
                wrapper,
                id,
                onClose;
            options = options || {};
            self.lastWorkerPath = options.serviceWorker || 'sw.js';
            if (w.Notification) {
              try {
                notification = new w.Notification(title, {
                  icon: (isString(options.icon) || isUndefined(options.icon)) ? options.icon : options.icon.x32,
                  body: options.body,
                  tag: options.tag,
                  requireInteraction: options.requireInteraction
                });
              } catch (e) {
                if (w.navigator) {
                  w.navigator.serviceWorker.register(options.serviceWorker || 'sw.js');
                  w.navigator.serviceWorker.ready.then(function(registration) {
                    registration.showNotification(title, {
                      body: options.body,
                      vibrate: options.vibrate,
                      tag: options.tag,
                      requireInteraction: options.requireInteraction
                    });
                  });
                }
              }
            } else if (w.webkitNotifications) {
              notification = w.webkitNotifications.createNotification(options.icon, title, options.body);
              notification.show();
            } else if (navigator.mozNotification) {
              notification = navigator.mozNotification.createNotification(title, options.body, options.icon);
              notification.show();
            } else if (w.external && w.external.msIsSiteMode()) {
              w.external.msSiteModeClearIconOverlay();
              w.external.msSiteModeSetIconOverlay(((isString(options.icon) || isUndefined(options.icon)) ? options.icon : options.icon.x16), title);
              w.external.msSiteModeActivate();
              notification = {};
            } else {
              throw new Error('Unable to create notification: unknown interface');
            }
            id = addNotification(notification);
            wrapper = {
              get: function() {
                return notification;
              },
              close: function() {
                closeNotification(id);
              }
            };
            if (options.timeout) {
              setTimeout(function() {
                wrapper.close();
              }, options.timeout);
            }
            if (isFunction(options.onShow))
              notification.addEventListener('show', options.onShow);
            if (isFunction(options.onError))
              notification.addEventListener('error', options.onError);
            if (isFunction(options.onClick))
              notification.addEventListener('click', options.onClick);
            onClose = function() {
              removeNotification(id);
              if (isFunction(options.onClose)) {
                options.onClose.call(this);
              }
            };
            notification.addEventListener('close', onClose);
            notification.addEventListener('cancel', onClose);
            return wrapper;
          },
          Permission = {
            DEFAULT: 'default',
            GRANTED: 'granted',
            DENIED: 'denied'
          },
          Permissions = [Permission.GRANTED, Permission.DEFAULT, Permission.DENIED];
      self.Permission = Permission;
      self.Permission.request = function(onGranted, onDenied) {
        if (!self.isSupported) {
          throw new Error(incompatibilityErrorMessage);
        }
        callback = function(result) {
          switch (result) {
            case self.Permission.GRANTED:
              hasPermission = true;
              if (onGranted)
                onGranted();
              break;
            case self.Permission.DENIED:
              hasPermission = false;
              if (onDenied)
                onDenied();
              break;
          }
        };
        if (w.Notification && w.Notification.requestPermission) {
          Notification.requestPermission(callback);
        } else if (w.webkitNotifications && w.webkitNotifications.checkPermission) {
          w.webkitNotifications.requestPermission(callback);
        } else {
          throw new Error(incompatibilityErrorMessage);
        }
      };
      self.Permission.has = function() {
        return hasPermission;
      };
      self.Permission.get = function() {
        var permission;
        if (!self.isSupported) {
          throw new Error(incompatibilityErrorMessage);
        }
        if (w.Notification && w.Notification.permissionLevel) {
          permission = w.Notification.permissionLevel;
        } else if (w.webkitNotifications && w.webkitNotifications.checkPermission) {
          permission = Permissions[w.webkitNotifications.checkPermission()];
        } else if (w.Notification && w.Notification.permission) {
          permission = w.Notification.permission;
        } else if (navigator.mozNotification) {
          permission = Permissions.GRANTED;
        } else if (w.external && w.external.msIsSiteMode() !== undefined) {
          permission = w.external.msIsSiteMode() ? Permission.GRANTED : Permission.DEFAULT;
        } else {
          throw new Error(incompatibilityErrorMessage);
        }
        return permission;
      };
      self.isSupported = (function() {
        var isSupported = false;
        try {
          isSupported = !!(w.Notification || w.webkitNotifications || navigator.mozNotification || (w.external && w.external.msIsSiteMode() !== undefined));
        } catch (e) {}
        return isSupported;
      })();
      self.create = function(title, options) {
        if (!self.isSupported) {
          throw new Error(incompatibilityErrorMessage);
        }
        if (!isString(title)) {
          throw new Error('PushError: Title of notification must be a string');
        }
        if (!self.Permission.has()) {
          return new Promise(function(resolve, reject) {
            self.Permission.request(function() {
              try {
                resolve(createCallback(title, options));
              } catch (e) {
                reject(e);
              }
            }, function() {
              reject("Permission request declined");
            });
          });
        } else {
          return new Promise(function(resolve, reject) {
            try {
              resolve(createCallback(title, options));
            } catch (e) {
              reject(e);
            }
          });
        }
      };
      self.count = function() {
        var count = 0,
            key;
        for (key in notifications) {
          count++;
        }
        return count;
      }, self.__lastWorkerPath = function() {
        return self.lastWorkerPath;
      }, self.close = function(tag) {
        var key;
        for (key in notifications) {
          notification = notifications[key];
          if (notification.tag === tag) {
            return closeNotification(key);
          }
        }
      };
      self.clear = function() {
        var i,
            success = true;
        for (key in notifications) {
          var didClose = closeNotification(key);
          success = success && didClose;
        }
        return success;
      };
    };
    return Push;
  });
  return module.exports;
});

$__System.registerDynamic("13a", [], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  var saveAs = saveAs || (function(view) {
    "use strict";
    if (typeof view === "undefined" || typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
      return;
    }
    var doc = view.document,
        get_URL = function() {
          return view.URL || view.webkitURL || view;
        },
        save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a"),
        can_use_save_link = "download" in save_link,
        click = function(node) {
          var event = new MouseEvent("click");
          node.dispatchEvent(event);
        },
        is_safari = /constructor/i.test(view.HTMLElement),
        is_chrome_ios = /CriOS\/[\d]+/.test(navigator.userAgent),
        throw_outside = function(ex) {
          (view.setImmediate || view.setTimeout)(function() {
            throw ex;
          }, 0);
        },
        force_saveable_type = "application/octet-stream",
        arbitrary_revoke_timeout = 1000 * 40,
        revoke = function(file) {
          var revoker = function() {
            if (typeof file === "string") {
              get_URL().revokeObjectURL(file);
            } else {
              file.remove();
            }
          };
          setTimeout(revoker, arbitrary_revoke_timeout);
        },
        dispatch = function(filesaver, event_types, event) {
          event_types = [].concat(event_types);
          var i = event_types.length;
          while (i--) {
            var listener = filesaver["on" + event_types[i]];
            if (typeof listener === "function") {
              try {
                listener.call(filesaver, event || filesaver);
              } catch (ex) {
                throw_outside(ex);
              }
            }
          }
        },
        auto_bom = function(blob) {
          if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
            return new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});
          }
          return blob;
        },
        FileSaver = function(blob, name, no_auto_bom) {
          if (!no_auto_bom) {
            blob = auto_bom(blob);
          }
          var filesaver = this,
              type = blob.type,
              force = type === force_saveable_type,
              object_url,
              dispatch_all = function() {
                dispatch(filesaver, "writestart progress write writeend".split(" "));
              },
              fs_error = function() {
                if ((is_chrome_ios || (force && is_safari)) && view.FileReader) {
                  var reader = new FileReader();
                  reader.onloadend = function() {
                    var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');
                    var popup = view.open(url, '_blank');
                    if (!popup)
                      view.location.href = url;
                    url = undefined;
                    filesaver.readyState = filesaver.DONE;
                    dispatch_all();
                  };
                  reader.readAsDataURL(blob);
                  filesaver.readyState = filesaver.INIT;
                  return;
                }
                if (!object_url) {
                  object_url = get_URL().createObjectURL(blob);
                }
                if (force) {
                  view.location.href = object_url;
                } else {
                  var opened = view.open(object_url, "_blank");
                  if (!opened) {
                    view.location.href = object_url;
                  }
                }
                filesaver.readyState = filesaver.DONE;
                dispatch_all();
                revoke(object_url);
              };
          ;
          filesaver.readyState = filesaver.INIT;
          if (can_use_save_link) {
            object_url = get_URL().createObjectURL(blob);
            setTimeout(function() {
              save_link.href = object_url;
              save_link.download = name;
              click(save_link);
              dispatch_all();
              revoke(object_url);
              filesaver.readyState = filesaver.DONE;
            });
            return;
          }
          fs_error();
        },
        FS_proto = FileSaver.prototype,
        saveAs = function(blob, name, no_auto_bom) {
          return new FileSaver(blob, name || blob.name || "download", no_auto_bom);
        };
    ;
    if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
      return function(blob, name, no_auto_bom) {
        name = name || blob.name || "download";
        if (!no_auto_bom) {
          blob = auto_bom(blob);
        }
        return navigator.msSaveOrOpenBlob(blob, name);
      };
    }
    FS_proto.abort = function() {};
    FS_proto.readyState = FS_proto.INIT = 0;
    FS_proto.WRITING = 1;
    FS_proto.DONE = 2;
    FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;
    return saveAs;
  }(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content));
  if (typeof module !== "undefined" && module.exports) {
    module.exports.saveAs = saveAs;
  } else if ((typeof define !== "undefined" && define !== null) && (define.amd !== null)) {
    define([], function() {
      return saveAs;
    });
  }
  return module.exports;
});

$__System.registerDynamic("13b", [], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  !function(e, t) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? module.exports = t(e, document) : "function" == typeof define && define.amd ? define([], function() {
      return t(e, document);
    }) : e.plyr = t(e, document);
  }("undefined" != typeof window ? window : this, function(e, t) {
    "use strict";
    function n() {
      var e,
          n,
          r,
          a = navigator.userAgent,
          s = navigator.appName,
          o = "" + parseFloat(navigator.appVersion),
          i = parseInt(navigator.appVersion, 10),
          l = !1,
          u = !1,
          c = !1,
          d = !1;
      return -1 !== navigator.appVersion.indexOf("Windows NT") && -1 !== navigator.appVersion.indexOf("rv:11") ? (l = !0, s = "IE", o = "11") : -1 !== (n = a.indexOf("MSIE")) ? (l = !0, s = "IE", o = a.substring(n + 5)) : -1 !== (n = a.indexOf("Chrome")) ? (c = !0, s = "Chrome", o = a.substring(n + 7)) : -1 !== (n = a.indexOf("Safari")) ? (d = !0, s = "Safari", o = a.substring(n + 7), -1 !== (n = a.indexOf("Version")) && (o = a.substring(n + 8))) : -1 !== (n = a.indexOf("Firefox")) ? (u = !0, s = "Firefox", o = a.substring(n + 8)) : (e = a.lastIndexOf(" ") + 1) < (n = a.lastIndexOf("/")) && (s = a.substring(e, n), o = a.substring(n + 1), s.toLowerCase() === s.toUpperCase() && (s = navigator.appName)), -1 !== (r = o.indexOf(";")) && (o = o.substring(0, r)), -1 !== (r = o.indexOf(" ")) && (o = o.substring(0, r)), i = parseInt("" + o, 10), isNaN(i) && (o = "" + parseFloat(navigator.appVersion), i = parseInt(navigator.appVersion, 10)), {
        name: s,
        version: i,
        isIE: l,
        isFirefox: u,
        isChrome: c,
        isSafari: d,
        isIos: /(iPad|iPhone|iPod)/g.test(navigator.platform),
        isTouch: "ontouchstart" in t.documentElement
      };
    }
    function r(e, t) {
      var n = e.media;
      if ("video" === e.type)
        switch (t) {
          case "video/webm":
            return !(!n.canPlayType || !n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/, ""));
          case "video/mp4":
            return !(!n.canPlayType || !n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/, ""));
          case "video/ogg":
            return !(!n.canPlayType || !n.canPlayType('video/ogg; codecs="theora"').replace(/no/, ""));
        }
      else if ("audio" === e.type)
        switch (t) {
          case "audio/mpeg":
            return !(!n.canPlayType || !n.canPlayType("audio/mpeg;").replace(/no/, ""));
          case "audio/ogg":
            return !(!n.canPlayType || !n.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/, ""));
          case "audio/wav":
            return !(!n.canPlayType || !n.canPlayType('audio/wav; codecs="1"').replace(/no/, ""));
        }
      return !1;
    }
    function a(e) {
      if (!t.querySelectorAll('script[src="' + e + '"]').length) {
        var n = t.createElement("script");
        n.src = e;
        var r = t.getElementsByTagName("script")[0];
        r.parentNode.insertBefore(n, r);
      }
    }
    function s(e, t) {
      return Array.prototype.indexOf && -1 !== e.indexOf(t);
    }
    function o(e, t, n) {
      return e.replace(new RegExp(t.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g, "\\$1"), "g"), n);
    }
    function i(e, t) {
      e.length || (e = [e]);
      for (var n = e.length - 1; n >= 0; n--) {
        var r = n > 0 ? t.cloneNode(!0) : t,
            a = e[n],
            s = a.parentNode,
            o = a.nextSibling;
        return r.appendChild(a), o ? s.insertBefore(r, o) : s.appendChild(r), r;
      }
    }
    function l(e) {
      e && e.parentNode.removeChild(e);
    }
    function u(e, t) {
      e.insertBefore(t, e.firstChild);
    }
    function c(e, t) {
      for (var n in t)
        e.setAttribute(n, P["boolean"](t[n]) && t[n] ? "" : t[n]);
    }
    function d(e, n, r) {
      var a = t.createElement(e);
      c(a, r), u(n, a);
    }
    function p(e) {
      return e.replace(".", "");
    }
    function m(e, t, n) {
      if (e)
        if (e.classList)
          e.classList[n ? "add" : "remove"](t);
        else {
          var r = (" " + e.className + " ").replace(/\s+/g, " ").replace(" " + t + " ", "");
          e.className = r + (n ? " " + t : "");
        }
    }
    function f(e, t) {
      return e ? e.classList ? e.classList.contains(t) : new RegExp("(\\s|^)" + t + "(\\s|$)").test(e.className) : !1;
    }
    function y(e, n) {
      var r = Element.prototype,
          a = r.matches || r.webkitMatchesSelector || r.mozMatchesSelector || r.msMatchesSelector || function(e) {
            return -1 !== [].indexOf.call(t.querySelectorAll(e), this);
          };
      return a.call(e, n);
    }
    function b(e, t, n, r, a) {
      g(e, t, function(t) {
        n && n.apply(e, [t]), r.apply(e, [t]);
      }, a);
    }
    function v(e, t, n, r, a) {
      var s = t.split(" ");
      if (P["boolean"](a) || (a = !1), e instanceof NodeList)
        for (var o = 0; o < e.length; o++)
          e[o] instanceof Node && v(e[o], arguments[1], arguments[2], arguments[3]);
      else
        for (var i = 0; i < s.length; i++)
          e[r ? "addEventListener" : "removeEventListener"](s[i], n, a);
    }
    function g(e, t, n, r) {
      e && v(e, t, n, !0, r);
    }
    function h(e, t, n, r) {
      if (e && t) {
        P["boolean"](n) || (n = !1);
        var a = new CustomEvent(t, {
          bubbles: n,
          detail: r
        });
        e.dispatchEvent(a);
      }
    }
    function k(e, t) {
      return e ? (t = P["boolean"](t) ? t : !e.getAttribute("aria-pressed"), e.setAttribute("aria-pressed", t), t) : void 0;
    }
    function w(e, t) {
      return 0 === e || 0 === t || isNaN(e) || isNaN(t) ? 0 : (e / t * 100).toFixed(2);
    }
    function x() {
      var e = arguments;
      if (e.length) {
        if (1 === e.length)
          return e[0];
        for (var t = Array.prototype.shift.call(e),
            n = e.length,
            r = 0; n > r; r++) {
          var a = e[r];
          for (var s in a)
            a[s] && a[s].constructor && a[s].constructor === Object ? (t[s] = t[s] || {}, x(t[s], a[s])) : t[s] = a[s];
        }
        return t;
      }
    }
    function T() {
      var e = {
        supportsFullScreen: !1,
        isFullScreen: function() {
          return !1;
        },
        requestFullScreen: function() {},
        cancelFullScreen: function() {},
        fullScreenEventName: "",
        element: null,
        prefix: ""
      },
          n = "webkit o moz ms khtml".split(" ");
      if (P.undefined(t.cancelFullScreen))
        for (var r = 0,
            a = n.length; a > r; r++) {
          if (e.prefix = n[r], !P.undefined(t[e.prefix + "CancelFullScreen"])) {
            e.supportsFullScreen = !0;
            break;
          }
          if (!P.undefined(t.msExitFullscreen) && t.msFullscreenEnabled) {
            e.prefix = "ms", e.supportsFullScreen = !0;
            break;
          }
        }
      else
        e.supportsFullScreen = !0;
      return e.supportsFullScreen && (e.fullScreenEventName = "ms" === e.prefix ? "MSFullscreenChange" : e.prefix + "fullscreenchange", e.isFullScreen = function(e) {
        switch (P.undefined(e) && (e = t.body), this.prefix) {
          case "":
            return t.fullscreenElement === e;
          case "moz":
            return t.mozFullScreenElement === e;
          default:
            return t[this.prefix + "FullscreenElement"] === e;
        }
      }, e.requestFullScreen = function(e) {
        return P.undefined(e) && (e = t.body), "" === this.prefix ? e.requestFullScreen() : e[this.prefix + ("ms" === this.prefix ? "RequestFullscreen" : "RequestFullScreen")]();
      }, e.cancelFullScreen = function() {
        return "" === this.prefix ? t.cancelFullScreen() : t[this.prefix + ("ms" === this.prefix ? "ExitFullscreen" : "CancelFullScreen")]();
      }, e.element = function() {
        return "" === this.prefix ? t.fullscreenElement : t[this.prefix + "FullscreenElement"];
      }), e;
    }
    function S(v, S) {
      function C(e, t, n, r) {
        h(e, t, n, x({}, r, {plyr: We}));
      }
      function L(t, n) {
        S.debug && e.console && (n = Array.prototype.slice.call(n), P.string(S.logPrefix) && S.logPrefix.length && n.unshift(S.logPrefix), console[t].apply(console, n));
      }
      function O() {
        return {
          url: S.iconUrl,
          absolute: 0 === S.iconUrl.indexOf("http") || Ye.browser.isIE
        };
      }
      function j() {
        var e = [],
            t = O(),
            n = (t.absolute ? "" : t.url) + "#" + S.iconPrefix;
        return s(S.controls, "play-large") && e.push('<button type="button" data-plyr="play" class="plyr__play-large">', '<svg><use xlink:href="' + n + '-play" /></svg>', '<span class="plyr__sr-only">' + S.i18n.play + "</span>", "</button>"), e.push('<div class="plyr__controls">'), s(S.controls, "restart") && e.push('<button type="button" data-plyr="restart">', '<svg><use xlink:href="' + n + '-restart" /></svg>', '<span class="plyr__sr-only">' + S.i18n.restart + "</span>", "</button>"), s(S.controls, "rewind") && e.push('<button type="button" data-plyr="rewind">', '<svg><use xlink:href="' + n + '-rewind" /></svg>', '<span class="plyr__sr-only">' + S.i18n.rewind + "</span>", "</button>"), s(S.controls, "play") && e.push('<button type="button" data-plyr="play">', '<svg><use xlink:href="' + n + '-play" /></svg>', '<span class="plyr__sr-only">' + S.i18n.play + "</span>", "</button>", '<button type="button" data-plyr="pause">', '<svg><use xlink:href="' + n + '-pause" /></svg>', '<span class="plyr__sr-only">' + S.i18n.pause + "</span>", "</button>"), s(S.controls, "fast-forward") && e.push('<button type="button" data-plyr="fast-forward">', '<svg><use xlink:href="' + n + '-fast-forward" /></svg>', '<span class="plyr__sr-only">' + S.i18n.forward + "</span>", "</button>"), s(S.controls, "progress") && (e.push('<span class="plyr__progress">', '<label for="seek{id}" class="plyr__sr-only">Seek</label>', '<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">', '<progress class="plyr__progress--played" max="100" value="0" role="presentation"></progress>', '<progress class="plyr__progress--buffer" max="100" value="0">', "<span>0</span>% " + S.i18n.buffered, "</progress>"), S.tooltips.seek && e.push('<span class="plyr__tooltip">00:00</span>'), e.push("</span>")), s(S.controls, "current-time") && e.push('<span class="plyr__time">', '<span class="plyr__sr-only">' + S.i18n.currentTime + "</span>", '<span class="plyr__time--current">00:00</span>', "</span>"), s(S.controls, "duration") && e.push('<span class="plyr__time">', '<span class="plyr__sr-only">' + S.i18n.duration + "</span>", '<span class="plyr__time--duration">00:00</span>', "</span>"), s(S.controls, "mute") && e.push('<button type="button" data-plyr="mute">', '<svg class="icon--muted"><use xlink:href="' + n + '-muted" /></svg>', '<svg><use xlink:href="' + n + '-volume" /></svg>', '<span class="plyr__sr-only">' + S.i18n.toggleMute + "</span>", "</button>"), s(S.controls, "volume") && e.push('<span class="plyr__volume">', '<label for="volume{id}" class="plyr__sr-only">' + S.i18n.volume + "</label>", '<input id="volume{id}" class="plyr__volume--input" type="range" min="' + S.volumeMin + '" max="' + S.volumeMax + '" value="' + S.volume + '" data-plyr="volume">', '<progress class="plyr__volume--display" max="' + S.volumeMax + '" value="' + S.volumeMin + '" role="presentation"></progress>', "</span>"), s(S.controls, "captions") && e.push('<button type="button" data-plyr="captions">', '<svg class="icon--captions-on"><use xlink:href="' + n + '-captions-on" /></svg>', '<svg><use xlink:href="' + n + '-captions-off" /></svg>', '<span class="plyr__sr-only">' + S.i18n.toggleCaptions + "</span>", "</button>"), s(S.controls, "fullscreen") && e.push('<button type="button" data-plyr="fullscreen">', '<svg class="icon--exit-fullscreen"><use xlink:href="' + n + '-exit-fullscreen" /></svg>', '<svg><use xlink:href="' + n + '-enter-fullscreen" /></svg>', '<span class="plyr__sr-only">' + S.i18n.toggleFullscreen + "</span>", "</button>"), e.push("</div>"), e.join("");
      }
      function V() {
        if (Ye.supported.full && ("audio" !== Ye.type || S.fullscreen.allowAudio) && S.fullscreen.enabled) {
          var e = A.supportsFullScreen;
          e || S.fullscreen.fallback && !B() ? (Ue((e ? "Native" : "Fallback") + " fullscreen enabled"), m(Ye.container, S.classes.fullscreen.enabled, !0)) : Ue("Fullscreen not supported and fallback disabled"), Ye.buttons && Ye.buttons.fullscreen && k(Ye.buttons.fullscreen, !1), X();
        }
      }
      function q() {
        if ("video" === Ye.type) {
          Y(S.selectors.captions) || Ye.videoContainer.insertAdjacentHTML("afterbegin", '<div class="' + p(S.selectors.captions) + '"></div>'), Ye.usingTextTracks = !1, Ye.media.textTracks && (Ye.usingTextTracks = !0);
          for (var e,
              t = "",
              n = Ye.media.childNodes,
              r = 0; r < n.length; r++)
            "track" === n[r].nodeName.toLowerCase() && (e = n[r].kind, "captions" !== e && "subtitles" !== e || (t = n[r].getAttribute("src")));
          if (Ye.captionExists = !0, "" === t ? (Ye.captionExists = !1, Ue("No caption track found")) : Ue("Caption track found; URI: " + t), Ye.captionExists) {
            for (var a = Ye.media.textTracks,
                s = 0; s < a.length; s++)
              a[s].mode = "hidden";
            if (H(Ye), (Ye.browser.isIE && Ye.browser.version >= 10 || Ye.browser.isFirefox && Ye.browser.version >= 31) && (Ue("Detected browser with known TextTrack issues - using manual fallback"), Ye.usingTextTracks = !1), Ye.usingTextTracks) {
              Ue("TextTracks supported");
              for (var o = 0; o < a.length; o++) {
                var i = a[o];
                "captions" !== i.kind && "subtitles" !== i.kind || g(i, "cuechange", function() {
                  this.activeCues[0] && "text" in this.activeCues[0] ? R(this.activeCues[0].getCueAsHTML()) : R();
                });
              }
            } else if (Ue("TextTracks not supported so rendering captions manually"), Ye.currentCaption = "", Ye.captions = [], "" !== t) {
              var l = new XMLHttpRequest;
              l.onreadystatechange = function() {
                if (4 === l.readyState)
                  if (200 === l.status) {
                    var e,
                        t = [],
                        n = l.responseText;
                    t = n.split("\n\n");
                    for (var r = 0; r < t.length; r++) {
                      e = t[r], Ye.captions[r] = [];
                      var a = e.split("\n"),
                          s = 0;
                      -1 === a[s].indexOf(":") && (s = 1), Ye.captions[r] = [a[s], a[s + 1]];
                    }
                    Ye.captions.shift(), Ue("Successfully loaded the caption file via AJAX");
                  } else
                    Je(S.logPrefix + "There was a problem loading the caption file via AJAX");
              }, l.open("get", t, !0), l.send();
            }
          } else
            m(Ye.container, S.classes.captions.enabled);
        }
      }
      function R(e) {
        var n = Y(S.selectors.captions),
            r = t.createElement("span");
        n.innerHTML = "", P.undefined(e) && (e = ""), P.string(e) ? r.innerHTML = e.trim() : r.appendChild(e), n.appendChild(r);
        n.offsetHeight;
      }
      function D(e) {
        function t(e, t) {
          var n = [];
          n = e.split(" --> ");
          for (var r = 0; r < n.length; r++)
            n[r] = n[r].replace(/(\d+:\d+:\d+\.\d+).*/, "$1");
          return a(n[t]);
        }
        function n(e) {
          return t(e, 0);
        }
        function r(e) {
          return t(e, 1);
        }
        function a(e) {
          if (null === e || void 0 === e)
            return 0;
          var t,
              n = [],
              r = [];
          return n = e.split(","), r = n[0].split(":"), t = Math.floor(60 * r[0] * 60) + Math.floor(60 * r[1]) + Math.floor(r[2]);
        }
        if (!Ye.usingTextTracks && "video" === Ye.type && Ye.supported.full && (Ye.subcount = 0, e = P.number(e) ? e : Ye.media.currentTime, Ye.captions[Ye.subcount])) {
          for (; r(Ye.captions[Ye.subcount][0]) < e.toFixed(1); )
            if (Ye.subcount++, Ye.subcount > Ye.captions.length - 1) {
              Ye.subcount = Ye.captions.length - 1;
              break;
            }
          Ye.media.currentTime.toFixed(1) >= n(Ye.captions[Ye.subcount][0]) && Ye.media.currentTime.toFixed(1) <= r(Ye.captions[Ye.subcount][0]) ? (Ye.currentCaption = Ye.captions[Ye.subcount][1], R(Ye.currentCaption)) : R();
        }
      }
      function H() {
        if (Ye.buttons.captions) {
          m(Ye.container, S.classes.captions.enabled, !0);
          var e = Ye.storage.captionsEnabled;
          P["boolean"](e) || (e = S.captions.defaultActive), e && (m(Ye.container, S.classes.captions.active, !0), k(Ye.buttons.captions, !0));
        }
      }
      function W(e) {
        return Ye.container.querySelectorAll(e);
      }
      function Y(e) {
        return W(e)[0];
      }
      function B() {
        try {
          return e.self !== e.top;
        } catch (t) {
          return !0;
        }
      }
      function X() {
        function e(e) {
          9 === e.which && Ye.isFullscreen && (e.target !== r || e.shiftKey ? e.target === n && e.shiftKey && (e.preventDefault(), r.focus()) : (e.preventDefault(), n.focus()));
        }
        var t = W("input:not([disabled]), button:not([disabled])"),
            n = t[0],
            r = t[t.length - 1];
        g(Ye.container, "keydown", e);
      }
      function U(e, t) {
        if (P.string(t))
          d(e, Ye.media, {src: t});
        else if (t.constructor === Array)
          for (var n = t.length - 1; n >= 0; n--)
            d(e, Ye.media, t[n]);
      }
      function J() {
        if (S.loadSprite) {
          var e = O();
          e.absolute ? (Ue("AJAX loading absolute SVG sprite" + (Ye.browser.isIE ? " (due to IE)" : "")), _(e.url, "sprite-plyr")) : Ue("Sprite will be used as external resource directly");
        }
        var n = S.html;
        Ue("Injecting custom controls"), n || (n = j()), n = o(n, "{seektime}", S.seekTime), n = o(n, "{id}", Math.floor(1e4 * Math.random()));
        var r;
        if (P.string(S.selectors.controls.container) && (r = t.querySelector(S.selectors.controls.container)), P.htmlElement(r) || (r = Ye.container), r.insertAdjacentHTML("beforeend", n), S.tooltips.controls)
          for (var a = W([S.selectors.controls.wrapper, " ", S.selectors.labels, " .", S.classes.hidden].join("")),
              s = a.length - 1; s >= 0; s--) {
            var i = a[s];
            m(i, S.classes.hidden, !1), m(i, S.classes.tooltip, !0);
          }
      }
      function z() {
        try {
          return Ye.controls = Y(S.selectors.controls.wrapper), Ye.buttons = {}, Ye.buttons.seek = Y(S.selectors.buttons.seek), Ye.buttons.play = W(S.selectors.buttons.play), Ye.buttons.pause = Y(S.selectors.buttons.pause), Ye.buttons.restart = Y(S.selectors.buttons.restart), Ye.buttons.rewind = Y(S.selectors.buttons.rewind), Ye.buttons.forward = Y(S.selectors.buttons.forward), Ye.buttons.fullscreen = Y(S.selectors.buttons.fullscreen), Ye.buttons.mute = Y(S.selectors.buttons.mute), Ye.buttons.captions = Y(S.selectors.buttons.captions), Ye.progress = {}, Ye.progress.container = Y(S.selectors.progress.container), Ye.progress.buffer = {}, Ye.progress.buffer.bar = Y(S.selectors.progress.buffer), Ye.progress.buffer.text = Ye.progress.buffer.bar && Ye.progress.buffer.bar.getElementsByTagName("span")[0], Ye.progress.played = Y(S.selectors.progress.played), Ye.progress.tooltip = Ye.progress.container && Ye.progress.container.querySelector("." + S.classes.tooltip), Ye.volume = {}, Ye.volume.input = Y(S.selectors.volume.input), Ye.volume.display = Y(S.selectors.volume.display), Ye.duration = Y(S.selectors.duration), Ye.currentTime = Y(S.selectors.currentTime), Ye.seekTime = W(S.selectors.seekTime), !0;
        } catch (e) {
          return Je("It looks like there is a problem with your controls HTML"), G(!0), !1;
        }
      }
      function $() {
        m(Ye.container, S.selectors.container.replace(".", ""), Ye.supported.full);
      }
      function G(e) {
        e && s(S.types.html5, Ye.type) ? Ye.media.setAttribute("controls", "") : Ye.media.removeAttribute("controls");
      }
      function K(e) {
        var t = S.i18n.play;
        if (P.string(S.title) && S.title.length && (t += ", " + S.title, Ye.container.setAttribute("aria-label", S.title)), Ye.supported.full && Ye.buttons.play)
          for (var n = Ye.buttons.play.length - 1; n >= 0; n--)
            Ye.buttons.play[n].setAttribute("aria-label", t);
        P.htmlElement(e) && e.setAttribute("title", S.i18n.frameTitle.replace("{title}", S.title));
      }
      function Q() {
        var t = null;
        Ye.storage = {}, M.supported && S.storage.enabled && (e.localStorage.removeItem("plyr-volume"), t = e.localStorage.getItem(S.storage.key), t && (/^\d+(\.\d+)?$/.test(t) ? Z({volume: parseFloat(t)}) : Ye.storage = JSON.parse(t)));
      }
      function Z(t) {
        M.supported && S.storage.enabled && (x(Ye.storage, t), e.localStorage.setItem(S.storage.key, JSON.stringify(Ye.storage)));
      }
      function ee() {
        if (!Ye.media)
          return void Je("No media element found!");
        if (Ye.supported.full && (m(Ye.container, S.classes.type.replace("{0}", Ye.type), !0), s(S.types.embed, Ye.type) && m(Ye.container, S.classes.type.replace("{0}", "video"), !0), m(Ye.container, S.classes.stopped, S.autoplay), m(Ye.ontainer, S.classes.isIos, Ye.browser.isIos), m(Ye.container, S.classes.isTouch, Ye.browser.isTouch), "video" === Ye.type)) {
          var e = t.createElement("div");
          e.setAttribute("class", S.classes.videoWrapper), i(Ye.media, e), Ye.videoContainer = e;
        }
        s(S.types.embed, Ye.type) && te();
      }
      function te() {
        for (var n = t.createElement("div"),
            r = Ye.embedId,
            s = Ye.type + "-" + Math.floor(1e4 * Math.random()),
            o = W('[id^="' + Ye.type + '-"]'),
            i = o.length - 1; i >= 0; i--)
          l(o[i]);
        if (m(Ye.media, S.classes.videoWrapper, !0), m(Ye.media, S.classes.embedWrapper, !0), "youtube" === Ye.type)
          Ye.media.appendChild(n), n.setAttribute("id", s), P.object(e.YT) ? re(r, n) : (a(S.urls.youtube.api), e.onYouTubeReadyCallbacks = e.onYouTubeReadyCallbacks || [], e.onYouTubeReadyCallbacks.push(function() {
            re(r, n);
          }), e.onYouTubeIframeAPIReady = function() {
            e.onYouTubeReadyCallbacks.forEach(function(e) {
              e();
            });
          });
        else if ("vimeo" === Ye.type)
          if (Ye.supported.full ? Ye.media.appendChild(n) : n = Ye.media, n.setAttribute("id", s), P.object(e.Vimeo))
            ae(r, n);
          else {
            a(S.urls.vimeo.api);
            var u = e.setInterval(function() {
              P.object(e.Vimeo) && (e.clearInterval(u), ae(r, n));
            }, 50);
          }
        else if ("soundcloud" === Ye.type) {
          var d = t.createElement("iframe");
          d.loaded = !1, g(d, "load", function() {
            d.loaded = !0;
          }), c(d, {
            src: "https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/" + r,
            id: s
          }), n.appendChild(d), Ye.media.appendChild(n), e.SC || a(S.urls.soundcloud.api);
          var p = e.setInterval(function() {
            e.SC && d.loaded && (e.clearInterval(p), se.call(d));
          }, 50);
        }
      }
      function ne() {
        Ye.supported.full && (De(), He()), K(Y("iframe"));
      }
      function re(t, n) {
        Ye.embed = new e.YT.Player(n.id, {
          videoId: t,
          playerVars: {
            autoplay: S.autoplay ? 1 : 0,
            controls: Ye.supported.full ? 0 : 1,
            rel: 0,
            showinfo: 0,
            iv_load_policy: 3,
            cc_load_policy: S.captions.defaultActive ? 1 : 0,
            cc_lang_pref: "en",
            wmode: "transparent",
            modestbranding: 1,
            disablekb: 1,
            origin: "*"
          },
          events: {
            onError: function(e) {
              C(Ye.container, "error", !0, {
                code: e.data,
                embed: e.target
              });
            },
            onReady: function(t) {
              var n = t.target;
              Ye.media.play = function() {
                n.playVideo(), Ye.media.paused = !1;
              }, Ye.media.pause = function() {
                n.pauseVideo(), Ye.media.paused = !0;
              }, Ye.media.stop = function() {
                n.stopVideo(), Ye.media.paused = !0;
              }, Ye.media.duration = n.getDuration(), Ye.media.paused = !0, Ye.media.currentTime = 0, Ye.media.muted = n.isMuted(), S.title = n.getVideoData().title, Ye.supported.full && Ye.media.querySelector("iframe").setAttribute("tabindex", "-1"), ne(), C(Ye.media, "timeupdate"), C(Ye.media, "durationchange"), e.clearInterval(Be.buffering), Be.buffering = e.setInterval(function() {
                Ye.media.buffered = n.getVideoLoadedFraction(), (null === Ye.media.lastBuffered || Ye.media.lastBuffered < Ye.media.buffered) && C(Ye.media, "progress"), Ye.media.lastBuffered = Ye.media.buffered, 1 === Ye.media.buffered && (e.clearInterval(Be.buffering), C(Ye.media, "canplaythrough"));
              }, 200);
            },
            onStateChange: function(t) {
              var n = t.target;
              switch (e.clearInterval(Be.playing), t.data) {
                case 0:
                  Ye.media.paused = !0, C(Ye.media, "ended");
                  break;
                case 1:
                  Ye.media.paused = !1, Ye.media.seeking = !1, C(Ye.media, "play"), C(Ye.media, "playing"), Be.playing = e.setInterval(function() {
                    Ye.media.currentTime = n.getCurrentTime(), C(Ye.media, "timeupdate");
                  }, 100);
                  break;
                case 2:
                  Ye.media.paused = !0, C(Ye.media, "pause");
              }
              C(Ye.container, "statechange", !1, {code: t.data});
            }
          }
        });
      }
      function ae(t, n) {
        Ye.embed = new e.Vimeo.Player(n, {
          id: parseInt(t),
          loop: S.loop,
          autoplay: S.autoplay,
          byline: !1,
          portrait: !1,
          title: !1
        }), Ye.media.play = function() {
          Ye.embed.play(), Ye.media.paused = !1;
        }, Ye.media.pause = function() {
          Ye.embed.pause(), Ye.media.paused = !0;
        }, Ye.media.stop = function() {
          Ye.embed.stop(), Ye.media.paused = !0;
        }, Ye.media.paused = !0, Ye.media.currentTime = 0, ne(), Ye.embed.getCurrentTime().then(function(e) {
          Ye.media.currentTime = e, C(Ye.media, "timeupdate");
        }), Ye.embed.getDuration().then(function(e) {
          Ye.media.duration = e, C(Ye.media, "durationchange");
        }), Ye.embed.on("loaded", function() {
          P.htmlElement(Ye.embed.element) && Ye.supported.full && Ye.embed.element.setAttribute("tabindex", "-1");
        }), Ye.embed.on("play", function() {
          Ye.media.paused = !1, C(Ye.media, "play"), C(Ye.media, "playing");
        }), Ye.embed.on("pause", function() {
          Ye.media.paused = !0, C(Ye.media, "pause");
        }), Ye.embed.on("timeupdate", function(e) {
          Ye.media.seeking = !1, Ye.media.currentTime = e.seconds, C(Ye.media, "timeupdate");
        }), Ye.embed.on("progress", function(e) {
          Ye.media.buffered = e.percent, C(Ye.media, "progress"), 1 === parseInt(e.percent) && C(Ye.media, "canplaythrough");
        }), Ye.embed.on("ended", function() {
          Ye.media.paused = !0, C(Ye.media, "ended");
        });
      }
      function se() {
        Ye.embed = e.SC.Widget(this), Ye.embed.bind(e.SC.Widget.Events.READY, function() {
          Ye.media.play = function() {
            Ye.embed.play(), Ye.media.paused = !1;
          }, Ye.media.pause = function() {
            Ye.embed.pause(), Ye.media.paused = !0;
          }, Ye.media.stop = function() {
            Ye.embed.seekTo(0), Ye.embed.pause(), Ye.media.paused = !0;
          }, Ye.media.paused = !0, Ye.media.currentTime = 0, Ye.embed.getDuration(function(e) {
            Ye.media.duration = e / 1e3, ne();
          }), Ye.embed.getPosition(function(e) {
            Ye.media.currentTime = e, C(Ye.media, "timeupdate");
          }), Ye.embed.bind(e.SC.Widget.Events.PLAY, function() {
            Ye.media.paused = !1, C(Ye.media, "play"), C(Ye.media, "playing");
          }), Ye.embed.bind(e.SC.Widget.Events.PAUSE, function() {
            Ye.media.paused = !0, C(Ye.media, "pause");
          }), Ye.embed.bind(e.SC.Widget.Events.PLAY_PROGRESS, function(e) {
            Ye.media.seeking = !1, Ye.media.currentTime = e.currentPosition / 1e3, C(Ye.media, "timeupdate");
          }), Ye.embed.bind(e.SC.Widget.Events.LOAD_PROGRESS, function(e) {
            Ye.media.buffered = e.loadProgress, C(Ye.media, "progress"), 1 === parseInt(e.loadProgress) && C(Ye.media, "canplaythrough");
          }), Ye.embed.bind(e.SC.Widget.Events.FINISH, function() {
            Ye.media.paused = !0, C(Ye.media, "ended");
          });
        });
      }
      function oe() {
        "play" in Ye.media && Ye.media.play();
      }
      function ie() {
        "pause" in Ye.media && Ye.media.pause();
      }
      function le(e) {
        return P["boolean"](e) || (e = Ye.media.paused), e ? oe() : ie(), e;
      }
      function ue(e) {
        P.number(e) || (e = S.seekTime), de(Ye.media.currentTime - e);
      }
      function ce(e) {
        P.number(e) || (e = S.seekTime), de(Ye.media.currentTime + e);
      }
      function de(e) {
        var t = 0,
            n = Ye.media.paused,
            r = pe();
        P.number(e) ? t = e : P.object(e) && s(["input", "change"], e.type) && (t = e.target.value / e.target.max * r), 0 > t ? t = 0 : t > r && (t = r), Ae(t);
        try {
          Ye.media.currentTime = t.toFixed(4);
        } catch (a) {}
        if (s(S.types.embed, Ye.type)) {
          switch (Ye.type) {
            case "youtube":
              Ye.embed.seekTo(t);
              break;
            case "vimeo":
              Ye.embed.setCurrentTime(t.toFixed(0));
              break;
            case "soundcloud":
              Ye.embed.seekTo(1e3 * t);
          }
          n && ie(), C(Ye.media, "timeupdate"), Ye.media.seeking = !0;
        }
        Ue("Seeking to " + Ye.media.currentTime + " seconds"), D(t);
      }
      function pe() {
        var e = parseInt(S.duration),
            t = 0;
        return null === Ye.media.duration || isNaN(Ye.media.duration) || (t = Ye.media.duration), isNaN(e) ? t : e;
      }
      function me() {
        m(Ye.container, S.classes.playing, !Ye.media.paused), m(Ye.container, S.classes.stopped, Ye.media.paused), Ne(Ye.media.paused);
      }
      function fe() {
        I = {
          x: e.pageXOffset || 0,
          y: e.pageYOffset || 0
        };
      }
      function ye() {
        e.scrollTo(I.x, I.y);
      }
      function be(e) {
        var n = A.supportsFullScreen;
        if (n) {
          if (!e || e.type !== A.fullScreenEventName)
            return A.isFullScreen(Ye.container) ? A.cancelFullScreen() : (fe(), A.requestFullScreen(Ye.container)), void(Ye.isFullscreen = A.isFullScreen(Ye.container));
          Ye.isFullscreen = A.isFullScreen(Ye.container);
        } else
          Ye.isFullscreen = !Ye.isFullscreen, t.body.style.overflow = Ye.isFullscreen ? "hidden" : "";
        m(Ye.container, S.classes.fullscreen.active, Ye.isFullscreen), X(Ye.isFullscreen), Ye.buttons && Ye.buttons.fullscreen && k(Ye.buttons.fullscreen, Ye.isFullscreen), C(Ye.container, Ye.isFullscreen ? "enterfullscreen" : "exitfullscreen", !0), !Ye.isFullscreen && n && ye();
      }
      function ve(e) {
        if (P["boolean"](e) || (e = !Ye.media.muted), k(Ye.buttons.mute, e), Ye.media.muted = e, 0 === Ye.media.volume && ge(S.volume), s(S.types.embed, Ye.type)) {
          switch (Ye.type) {
            case "youtube":
              Ye.embed[Ye.media.muted ? "mute" : "unMute"]();
              break;
            case "vimeo":
            case "soundcloud":
              Ye.embed.setVolume(Ye.media.muted ? 0 : parseFloat(S.volume / S.volumeMax));
          }
          C(Ye.media, "volumechange");
        }
      }
      function ge(e) {
        var t = S.volumeMax,
            n = S.volumeMin;
        if (P.undefined(e) && (e = Ye.storage.volume), (null === e || isNaN(e)) && (e = S.volume), e > t && (e = t), n > e && (e = n), Ye.media.volume = parseFloat(e / t), Ye.volume.display && (Ye.volume.display.value = e), s(S.types.embed, Ye.type)) {
          switch (Ye.type) {
            case "youtube":
              Ye.embed.setVolume(100 * Ye.media.volume);
              break;
            case "vimeo":
            case "soundcloud":
              Ye.embed.setVolume(Ye.media.volume);
          }
          C(Ye.media, "volumechange");
        }
        0 === e ? Ye.media.muted = !0 : Ye.media.muted && e > 0 && ve();
      }
      function he(e) {
        var t = Ye.media.muted ? 0 : Ye.media.volume * S.volumeMax;
        P.number(e) || (e = S.volumeStep), ge(t + e);
      }
      function ke(e) {
        var t = Ye.media.muted ? 0 : Ye.media.volume * S.volumeMax;
        P.number(e) || (e = S.volumeStep), ge(t - e);
      }
      function we() {
        var e = Ye.media.muted ? 0 : Ye.media.volume * S.volumeMax;
        Ye.supported.full && (Ye.volume.input && (Ye.volume.input.value = e), Ye.volume.display && (Ye.volume.display.value = e)), Z({volume: e}), m(Ye.container, S.classes.muted, 0 === e), Ye.supported.full && Ye.buttons.mute && k(Ye.buttons.mute, 0 === e);
      }
      function xe(e) {
        Ye.supported.full && Ye.buttons.captions && (P["boolean"](e) || (e = -1 === Ye.container.className.indexOf(S.classes.captions.active)), Ye.captionsEnabled = e, k(Ye.buttons.captions, Ye.captionsEnabled), m(Ye.container, S.classes.captions.active, Ye.captionsEnabled), C(Ye.container, Ye.captionsEnabled ? "captionsenabled" : "captionsdisabled", !0), Z({captionsEnabled: Ye.captionsEnabled}));
      }
      function Te(e) {
        var t = "waiting" === e.type;
        clearTimeout(Be.loading), Be.loading = setTimeout(function() {
          m(Ye.container, S.classes.loading, t), Ne(t);
        }, t ? 250 : 0);
      }
      function Se(e) {
        if (Ye.supported.full) {
          var t = Ye.progress.played,
              n = 0,
              r = pe();
          if (e)
            switch (e.type) {
              case "timeupdate":
              case "seeking":
                if (Ye.controls.pressed)
                  return;
                n = w(Ye.media.currentTime, r), "timeupdate" === e.type && Ye.buttons.seek && (Ye.buttons.seek.value = n);
                break;
              case "playing":
              case "progress":
                t = Ye.progress.buffer, n = function() {
                  var e = Ye.media.buffered;
                  return e && e.length ? w(e.end(0), r) : P.number(e) ? 100 * e : 0;
                }();
            }
          _e(t, n);
        }
      }
      function _e(e, t) {
        if (Ye.supported.full) {
          if (P.undefined(t) && (t = 0), P.undefined(e)) {
            if (!Ye.progress || !Ye.progress.buffer)
              return;
            e = Ye.progress.buffer;
          }
          P.htmlElement(e) ? e.value = t : e && (e.bar && (e.bar.value = t), e.text && (e.text.innerHTML = t));
        }
      }
      function Ee(e, t) {
        if (t) {
          isNaN(e) && (e = 0), Ye.secs = parseInt(e % 60), Ye.mins = parseInt(e / 60 % 60), Ye.hours = parseInt(e / 60 / 60 % 60);
          var n = parseInt(pe() / 60 / 60 % 60) > 0;
          Ye.secs = ("0" + Ye.secs).slice(-2), Ye.mins = ("0" + Ye.mins).slice(-2), t.innerHTML = (n ? Ye.hours + ":" : "") + Ye.mins + ":" + Ye.secs;
        }
      }
      function Ce() {
        if (Ye.supported.full) {
          var e = pe() || 0;
          !Ye.duration && S.displayDuration && Ye.media.paused && Ee(e, Ye.currentTime), Ye.duration && Ee(e, Ye.duration), Ie();
        }
      }
      function Fe(e) {
        Ee(Ye.media.currentTime, Ye.currentTime), e && "timeupdate" === e.type && Ye.media.seeking || Se(e);
      }
      function Ae(e) {
        P.number(e) || (e = 0);
        var t = pe(),
            n = w(e, t);
        Ye.progress && Ye.progress.played && (Ye.progress.played.value = n), Ye.buttons && Ye.buttons.seek && (Ye.buttons.seek.value = n);
      }
      function Ie(e) {
        var t = pe();
        if (S.tooltips.seek && Ye.progress.container && 0 !== t) {
          var n = Ye.progress.container.getBoundingClientRect(),
              r = 0,
              a = S.classes.tooltip + "--visible";
          if (e)
            r = 100 / n.width * (e.pageX - n.left);
          else {
            if (!f(Ye.progress.tooltip, a))
              return;
            r = Ye.progress.tooltip.style.left.replace("%", "");
          }
          0 > r ? r = 0 : r > 100 && (r = 100), Ee(t / 100 * r, Ye.progress.tooltip), Ye.progress.tooltip.style.left = r + "%", e && s(["mouseenter", "mouseleave"], e.type) && m(Ye.progress.tooltip, a, "mouseenter" === e.type);
        }
      }
      function Ne(t) {
        if (S.hideControls && "audio" !== Ye.type) {
          var n = 0,
              r = !1,
              a = t,
              o = f(Ye.container, S.classes.loading);
          if (P["boolean"](t) || (t && t.type ? (r = "enterfullscreen" === t.type, a = s(["mousemove", "touchstart", "mouseenter", "focus"], t.type), s(["mousemove", "touchmove"], t.type) && (n = 2e3), "focus" === t.type && (n = 3e3)) : a = f(Ye.container, S.classes.hideControls)), e.clearTimeout(Be.hover), a || Ye.media.paused || o) {
            if (m(Ye.container, S.classes.hideControls, !1), Ye.media.paused || o)
              return;
            Ye.browser.isTouch && (n = 3e3);
          }
          a && Ye.media.paused || (Be.hover = e.setTimeout(function() {
            (!Ye.controls.pressed && !Ye.controls.hover || r) && m(Ye.container, S.classes.hideControls, !0);
          }, n));
        }
      }
      function Pe(e) {
        if (!P.undefined(e))
          return void Me(e);
        var t;
        switch (Ye.type) {
          case "youtube":
            t = Ye.embed.getVideoUrl();
            break;
          case "vimeo":
            Ye.embed.getVideoUrl.then(function(e) {
              t = e;
            });
            break;
          case "soundcloud":
            Ye.embed.getCurrentSound(function(e) {
              t = e.permalink_url;
            });
            break;
          default:
            t = Ye.media.currentSrc;
        }
        return t || "";
      }
      function Me(e) {
        function n() {
          if (Ye.embed = null, l(Ye.media), "video" === Ye.type && Ye.videoContainer && l(Ye.videoContainer), Ye.container && Ye.container.removeAttribute("class"), "type" in e && (Ye.type = e.type, "video" === Ye.type)) {
            var n = e.sources[0];
            "type" in n && s(S.types.embed, n.type) && (Ye.type = n.type);
          }
          switch (Ye.supported = E(Ye.type), Ye.type) {
            case "video":
              Ye.media = t.createElement("video");
              break;
            case "audio":
              Ye.media = t.createElement("audio");
              break;
            case "youtube":
            case "vimeo":
            case "soundcloud":
              Ye.media = t.createElement("div"), Ye.embedId = e.sources[0].src;
          }
          u(Ye.container, Ye.media), P["boolean"](e.autoplay) && (S.autoplay = e.autoplay), s(S.types.html5, Ye.type) && (S.crossorigin && Ye.media.setAttribute("crossorigin", ""), S.autoplay && Ye.media.setAttribute("autoplay", ""), "poster" in e && Ye.media.setAttribute("poster", e.poster), S.loop && Ye.media.setAttribute("loop", "")), m(Ye.container, S.classes.fullscreen.active, Ye.isFullscreen), m(Ye.container, S.classes.captions.active, Ye.captionsEnabled), $(), s(S.types.html5, Ye.type) && U("source", e.sources), ee(), s(S.types.html5, Ye.type) && ("tracks" in e && U("track", e.tracks), Ye.media.load()), (s(S.types.html5, Ye.type) || s(S.types.embed, Ye.type) && !Ye.supported.full) && (De(), He()), S.title = e.title, K();
        }
        return P.object(e) && "sources" in e && e.sources.length ? (m(Ye.container, S.classes.ready, !1), ie(), Ae(), _e(), Ve(), void qe(n, !1)) : void Je("Invalid source format");
      }
      function Le(e) {
        "video" === Ye.type && Ye.media.setAttribute("poster", e);
      }
      function Oe() {
        function n() {
          var e = le(),
              t = Ye.buttons[e ? "play" : "pause"],
              n = Ye.buttons[e ? "pause" : "play"];
          if (n = n && n.length > 1 ? n[n.length - 1] : n[0]) {
            var r = f(t, S.classes.tabFocus);
            setTimeout(function() {
              n.focus(), r && (m(t, S.classes.tabFocus, !1), m(n, S.classes.tabFocus, !0));
            }, 100);
          }
        }
        function r() {
          var e = t.activeElement;
          return e = e && e !== t.body ? t.querySelector(":focus") : null;
        }
        function a(e) {
          return e.keyCode ? e.keyCode : e.which;
        }
        function o(e) {
          for (var t in Ye.buttons) {
            var n = Ye.buttons[t];
            if (P.nodeList(n))
              for (var r = 0; r < n.length; r++)
                m(n[r], S.classes.tabFocus, n[r] === e);
            else
              m(n, S.classes.tabFocus, n === e);
          }
        }
        function i(e) {
          function t() {
            var e = Ye.media.duration;
            P.number(e) && de(e / 10 * (n - 48));
          }
          var n = a(e),
              r = "keydown" === e.type,
              o = r && n === u;
          if (P.number(n))
            if (r) {
              var i = [48, 49, 50, 51, 52, 53, 54, 56, 57, 32, 75, 38, 40, 77, 39, 37, 70, 67];
              switch (s(i, n) && (e.preventDefault(), e.stopPropagation()), n) {
                case 48:
                case 49:
                case 50:
                case 51:
                case 52:
                case 53:
                case 54:
                case 55:
                case 56:
                case 57:
                  o || t();
                  break;
                case 32:
                case 75:
                  o || le();
                  break;
                case 38:
                  he();
                  break;
                case 40:
                  ke();
                  break;
                case 77:
                  o || ve();
                  break;
                case 39:
                  ce();
                  break;
                case 37:
                  ue();
                  break;
                case 70:
                  be();
                  break;
                case 67:
                  o || xe();
              }
              !A.supportsFullScreen && Ye.isFullscreen && 27 === n && be(), u = n;
            } else
              u = null;
        }
        var l = Ye.browser.isIE ? "change" : "input";
        if (S.keyboardShorcuts.focused) {
          var u = null;
          S.keyboardShorcuts.global && g(e, "keydown keyup", function(e) {
            var t = a(e),
                n = r(),
                o = [48, 49, 50, 51, 52, 53, 54, 56, 57, 75, 77, 70, 67],
                l = F().length;
            1 !== l || !s(o, t) || P.htmlElement(n) && y(n, S.selectors.editable) || i(e);
          }), g(Ye.container, "keydown keyup", i);
        }
        g(e, "keyup", function(e) {
          var t = a(e),
              n = r();
          9 === t && o(n);
        }), g(t.body, "click", function() {
          m(Y("." + S.classes.tabFocus), S.classes.tabFocus, !1);
        });
        for (var c in Ye.buttons) {
          var d = Ye.buttons[c];
          g(d, "blur", function() {
            m(d, "tab-focus", !1);
          });
        }
        b(Ye.buttons.play, "click", S.listeners.play, n), b(Ye.buttons.pause, "click", S.listeners.pause, n), b(Ye.buttons.restart, "click", S.listeners.restart, de), b(Ye.buttons.rewind, "click", S.listeners.rewind, ue), b(Ye.buttons.forward, "click", S.listeners.forward, ce), b(Ye.buttons.seek, l, S.listeners.seek, de), b(Ye.volume.input, l, S.listeners.volume, function() {
          ge(Ye.volume.input.value);
        }), b(Ye.buttons.mute, "click", S.listeners.mute, ve), b(Ye.buttons.fullscreen, "click", S.listeners.fullscreen, be), A.supportsFullScreen && g(t, A.fullScreenEventName, be), g(Ye.buttons.captions, "click", xe), g(Ye.progress.container, "mouseenter mouseleave mousemove", Ie), S.hideControls && (g(Ye.container, "mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen", Ne), g(Ye.controls, "mouseenter mouseleave", function(e) {
          Ye.controls.hover = "mouseenter" === e.type;
        }), g(Ye.controls, "mousedown mouseup touchstart touchend touchcancel", function(e) {
          Ye.controls.pressed = s(["mousedown", "touchstart"], e.type);
        }), g(Ye.controls, "focus blur", Ne, !0)), g(Ye.volume.input, "wheel", function(e) {
          e.preventDefault();
          var t = e.webkitDirectionInvertedFromDevice,
              n = S.volumeStep / 5;
          (e.deltaY < 0 || e.deltaX > 0) && (t ? ke(n) : he(n)), (e.deltaY > 0 || e.deltaX < 0) && (t ? he(n) : ke(n));
        });
      }
      function je() {
        if (g(Ye.media, "timeupdate seeking", Fe), g(Ye.media, "timeupdate", D), g(Ye.media, "durationchange loadedmetadata", Ce), g(Ye.media, "ended", function() {
          "video" === Ye.type && S.showPosterOnEnd && ("video" === Ye.type && R(), de(), Ye.media.load());
        }), g(Ye.media, "progress playing", Se), g(Ye.media, "volumechange", we), g(Ye.media, "play pause ended", me), g(Ye.media, "waiting canplay seeked", Te), S.clickToPlay && "audio" !== Ye.type) {
          var e = Y("." + S.classes.videoWrapper);
          if (!e)
            return;
          e.style.cursor = "pointer", g(e, "click", function() {
            S.hideControls && Ye.browser.isTouch && !Ye.media.paused || (Ye.media.paused ? oe() : Ye.media.ended ? (de(), oe()) : ie());
          });
        }
        S.disableContextMenu && g(Ye.media, "contextmenu", function(e) {
          e.preventDefault();
        }), g(Ye.media, S.events.concat(["keyup", "keydown"]).join(" "), function(e) {
          C(Ye.container, e.type, !0);
        });
      }
      function Ve() {
        if (s(S.types.html5, Ye.type)) {
          for (var e = Ye.media.querySelectorAll("source"),
              t = 0; t < e.length; t++)
            l(e[t]);
          Ye.media.setAttribute("src", "https://cdn.selz.com/plyr/blank.mp4"), Ye.media.load(), Ue("Cancelled network requests");
        }
      }
      function qe(t, n) {
        function r() {
          P["boolean"](n) || (n = !0), P["function"](t) && t.call(Xe), n && (Ye.init = !1, Ye.container.parentNode.replaceChild(Xe, Ye.container), C(Xe, "destroyed", !0));
        }
        if (!Ye.init)
          return null;
        switch (Ye.type) {
          case "youtube":
            e.clearInterval(Be.buffering), e.clearInterval(Be.playing), Ye.embed.destroy(), r();
            break;
          case "vimeo":
            Ye.embed.unload().then(r), e.setTimeout(r, 200);
            break;
          case "video":
          case "audio":
            G(!0), r();
        }
      }
      function Re() {
        if (Ye.init)
          return null;
        if (A = T(), Ye.browser = n(), P.htmlElement(Ye.media)) {
          Q();
          var e = v.tagName.toLowerCase();
          "div" === e ? (Ye.type = v.getAttribute("data-type"), Ye.embedId = v.getAttribute("data-video-id"), v.removeAttribute("data-type"), v.removeAttribute("data-video-id")) : (Ye.type = e, S.crossorigin = null !== v.getAttribute("crossorigin"), S.autoplay = S.autoplay || null !== v.getAttribute("autoplay"), S.loop = S.loop || null !== v.getAttribute("loop")), Ye.supported = E(Ye.type), Ye.supported.basic && (Ye.container = i(v, t.createElement("div")), Ye.container.setAttribute("tabindex", 0), $(), Ue("" + Ye.browser.name + " " + Ye.browser.version), ee(), (s(S.types.html5, Ye.type) || s(S.types.embed, Ye.type) && !Ye.supported.full) && (De(), He(), K()), Ye.init = !0);
        }
      }
      function De() {
        if (!Ye.supported.full)
          return Je("Basic support only", Ye.type), l(Y(S.selectors.controls.wrapper)), l(Y(S.selectors.buttons.play)), void G(!0);
        var e = !W(S.selectors.controls.wrapper).length;
        e && J(), z() && (e && Oe(), je(), G(), V(), q(), ge(), we(), Fe(), me());
      }
      function He() {
        e.setTimeout(function() {
          C(Ye.media, "ready");
        }, 0), m(Ye.media, N.classes.setup, !0), m(Ye.container, S.classes.ready, !0), Ye.media.plyr = We, S.autoplay && oe();
      }
      var We,
          Ye = this,
          Be = {};
      Ye.media = v;
      var Xe = v.cloneNode(!0),
          Ue = function() {
            L("log", arguments);
          },
          Je = function() {
            L("warn", arguments);
          };
      return Ue("Config", S), We = {
        getOriginal: function() {
          return Xe;
        },
        getContainer: function() {
          return Ye.container;
        },
        getEmbed: function() {
          return Ye.embed;
        },
        getMedia: function() {
          return Ye.media;
        },
        getType: function() {
          return Ye.type;
        },
        getDuration: pe,
        getCurrentTime: function() {
          return Ye.media.currentTime;
        },
        getVolume: function() {
          return Ye.media.volume;
        },
        isMuted: function() {
          return Ye.media.muted;
        },
        isReady: function() {
          return f(Ye.container, S.classes.ready);
        },
        isLoading: function() {
          return f(Ye.container, S.classes.loading);
        },
        on: function(e, t) {
          g(Ye.container, e, t);
        },
        play: oe,
        pause: ie,
        stop: function() {
          ie(), de();
        },
        restart: de,
        rewind: ue,
        forward: ce,
        seek: de,
        source: Pe,
        poster: Le,
        setVolume: ge,
        togglePlay: le,
        toggleMute: ve,
        toggleCaptions: xe,
        toggleFullscreen: be,
        toggleControls: Ne,
        isFullscreen: function() {
          return Ye.isFullscreen || !1;
        },
        support: function(e) {
          return r(Ye, e);
        },
        destroy: qe
      }, Re(), Ye.init ? We : null;
    }
    function _(e, n) {
      var r = new XMLHttpRequest;
      if (!P.string(n) || !P.htmlElement(t.querySelector("#" + n))) {
        var a = t.createElement("div");
        a.setAttribute("hidden", ""), P.string(n) && a.setAttribute("id", n), t.body.insertBefore(a, t.body.childNodes[0]), "withCredentials" in r && (r.open("GET", e, !0), r.onload = function() {
          a.innerHTML = r.responseText;
        }, r.send());
      }
    }
    function E(e) {
      var r,
          a,
          s = n(),
          o = s.isIE && s.version <= 9,
          i = s.isIos,
          l = /iPhone|iPod/i.test(navigator.userAgent),
          u = !!t.createElement("audio").canPlayType,
          c = !!t.createElement("video").canPlayType;
      switch (e) {
        case "video":
          r = c, a = r && !o && !l;
          break;
        case "audio":
          r = u, a = r && !o;
          break;
        case "vimeo":
        case "youtube":
        case "soundcloud":
          r = !0, a = !o && !i;
          break;
        default:
          r = u && c, a = r && !o;
      }
      return {
        basic: r,
        full: a
      };
    }
    function C(e, n) {
      function r(e, t) {
        f(t, N.classes.hook) || a.push({
          target: e,
          media: t
        });
      }
      var a = [],
          s = [],
          o = [N.selectors.html5, N.selectors.embed].join(",");
      if (P.string(e) ? e = t.querySelectorAll(e) : P.htmlElement(e) ? e = [e] : P.nodeList(e) || P.array(e) || P.string(e) || (P.undefined(n) && P.object(e) && (n = e), e = t.querySelectorAll(o)), P.nodeList(e) && (e = Array.prototype.slice.call(e)), !E().basic || !e.length)
        return !1;
      for (var i = 0; i < e.length; i++) {
        var l = e[i],
            u = l.querySelectorAll(o);
        if (u.length)
          for (var c = 0; c < u.length; c++)
            r(l, u[c]);
        else
          y(l, o) && r(l, l);
      }
      return a.forEach(function(e) {
        var t = e.target,
            r = e.media,
            a = !1;
        r === t && (a = !0);
        var o = {};
        try {
          o = JSON.parse(t.getAttribute("data-plyr"));
        } catch (i) {}
        var l = x({}, N, n, o);
        if (!l.enabled)
          return null;
        var u = new S(r, l);
        if (P.object(u)) {
          if (l.debug) {
            var c = l.events.concat(["setup", "statechange", "enterfullscreen", "exitfullscreen", "captionsenabled", "captionsdisabled"]);
            g(u.getContainer(), c.join(" "), function(e) {
              console.log([l.logPrefix, "event:", e.type].join(" "), e.detail.plyr);
            });
          }
          h(u.getContainer(), "setup", !0, {plyr: u}), s.push(u);
        }
      }), s;
    }
    function F(e) {
      if (P.string(e) ? e = t.querySelector(e) : P.undefined(e) && (e = t.body), P.htmlElement(e)) {
        var n = e.querySelectorAll("." + N.classes.setup),
            r = [];
        return Array.prototype.slice.call(n).forEach(function(e) {
          P.object(e.plyr) && r.push(e.plyr);
        }), r;
      }
      return [];
    }
    var A,
        I = {
          x: 0,
          y: 0
        },
        N = {
          enabled: !0,
          debug: !1,
          autoplay: !1,
          loop: !1,
          seekTime: 10,
          volume: 10,
          volumeMin: 0,
          volumeMax: 10,
          volumeStep: 1,
          duration: null,
          displayDuration: !0,
          loadSprite: !0,
          iconPrefix: "plyr",
          iconUrl: "https://cdn.plyr.io/2.0.6/plyr.svg",
          clickToPlay: !0,
          hideControls: !0,
          showPosterOnEnd: !1,
          disableContextMenu: !0,
          keyboardShorcuts: {
            focused: !0,
            global: !1
          },
          tooltips: {
            controls: !1,
            seek: !0
          },
          selectors: {
            html5: "video, audio",
            embed: "[data-type]",
            editable: "input, textarea, select, [contenteditable]",
            container: ".plyr",
            controls: {
              container: null,
              wrapper: ".plyr__controls"
            },
            labels: "[data-plyr]",
            buttons: {
              seek: '[data-plyr="seek"]',
              play: '[data-plyr="play"]',
              pause: '[data-plyr="pause"]',
              restart: '[data-plyr="restart"]',
              rewind: '[data-plyr="rewind"]',
              forward: '[data-plyr="fast-forward"]',
              mute: '[data-plyr="mute"]',
              captions: '[data-plyr="captions"]',
              fullscreen: '[data-plyr="fullscreen"]'
            },
            volume: {
              input: '[data-plyr="volume"]',
              display: ".plyr__volume--display"
            },
            progress: {
              container: ".plyr__progress",
              buffer: ".plyr__progress--buffer",
              played: ".plyr__progress--played"
            },
            captions: ".plyr__captions",
            currentTime: ".plyr__time--current",
            duration: ".plyr__time--duration"
          },
          classes: {
            setup: "plyr--setup",
            ready: "plyr--ready",
            videoWrapper: "plyr__video-wrapper",
            embedWrapper: "plyr__video-embed",
            type: "plyr--{0}",
            stopped: "plyr--stopped",
            playing: "plyr--playing",
            muted: "plyr--muted",
            loading: "plyr--loading",
            hover: "plyr--hover",
            tooltip: "plyr__tooltip",
            hidden: "plyr__sr-only",
            hideControls: "plyr--hide-controls",
            isIos: "plyr--is-ios",
            isTouch: "plyr--is-touch",
            captions: {
              enabled: "plyr--captions-enabled",
              active: "plyr--captions-active"
            },
            fullscreen: {
              enabled: "plyr--fullscreen-enabled",
              active: "plyr--fullscreen-active"
            },
            tabFocus: "tab-focus"
          },
          captions: {defaultActive: !1},
          fullscreen: {
            enabled: !0,
            fallback: !0,
            allowAudio: !1
          },
          storage: {
            enabled: !0,
            key: "plyr"
          },
          controls: ["play-large", "play", "progress", "current-time", "mute", "volume", "captions", "fullscreen"],
          i18n: {
            restart: "Restart",
            rewind: "Rewind {seektime} secs",
            play: "Play",
            pause: "Pause",
            forward: "Forward {seektime} secs",
            played: "played",
            buffered: "buffered",
            currentTime: "Current time",
            duration: "Duration",
            volume: "Volume",
            toggleMute: "Toggle Mute",
            toggleCaptions: "Toggle Captions",
            toggleFullscreen: "Toggle Fullscreen",
            frameTitle: "Player for {title}"
          },
          types: {
            embed: ["youtube", "vimeo", "soundcloud"],
            html5: ["video", "audio"]
          },
          urls: {
            vimeo: {api: "https://player.vimeo.com/api/player.js"},
            youtube: {api: "https://www.youtube.com/iframe_api"},
            soundcloud: {api: "https://w.soundcloud.com/player/api.js"}
          },
          listeners: {
            seek: null,
            play: null,
            pause: null,
            restart: null,
            rewind: null,
            forward: null,
            mute: null,
            volume: null,
            captions: null,
            fullscreen: null
          },
          events: ["ready", "ended", "progress", "stalled", "playing", "waiting", "canplay", "canplaythrough", "loadstart", "loadeddata", "loadedmetadata", "timeupdate", "volumechange", "play", "pause", "error", "seeking", "emptied"],
          logPrefix: "[Plyr]"
        },
        P = {
          object: function(e) {
            return null !== e && "object" == typeof e;
          },
          array: function(e) {
            return null !== e && "object" == typeof e && e.constructor === Array;
          },
          number: function(e) {
            return null !== e && ("number" == typeof e && !isNaN(e - 0) || "object" == typeof e && e.constructor === Number);
          },
          string: function(e) {
            return null !== e && ("string" == typeof e || "object" == typeof e && e.constructor === String);
          },
          "boolean": function(e) {
            return null !== e && "boolean" == typeof e;
          },
          nodeList: function(e) {
            return null !== e && e instanceof NodeList;
          },
          htmlElement: function(e) {
            return null !== e && e instanceof HTMLElement;
          },
          "function": function(e) {
            return null !== e && "function" == typeof e;
          },
          undefined: function(e) {
            return null !== e && "undefined" == typeof e;
          }
        },
        M = {supported: function() {
            if (!("localStorage" in e))
              return !1;
            try {
              e.localStorage.setItem("___test", "OK");
              var t = e.localStorage.getItem("___test");
              return e.localStorage.removeItem("___test"), "OK" === t;
            } catch (n) {
              return !1;
            }
            return !1;
          }()};
    return {
      setup: C,
      supported: E,
      loadSprite: _,
      get: F
    };
  }), function() {
    function e(e, t) {
      t = t || {
        bubbles: !1,
        cancelable: !1,
        detail: void 0
      };
      var n = document.createEvent("CustomEvent");
      return n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), n;
    }
    "function" != typeof window.CustomEvent && (e.prototype = window.Event.prototype, window.CustomEvent = e);
  }();
  return module.exports;
});

$__System.registerDynamic("13c", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = $__System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
$__System.registerDynamic("13d", ["2", "126", "127", "128", "129", "12a", "12b", "12c", "12d", "12e", "12f", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "13a", "13b", "13c"], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  var path = $__require('2');
  $__require('126');
  ClientIO = $__require('127');
  ClientAPI = $__require('128');
  Client = $__require('129');
  $__require('12a');
  $__require('12b');
  $__require('12c');
  $__require('12d');
  $__require('12e');
  $__require('12f');
  $__require('130');
  $__require('131');
  $__require('132');
  $__require('133');
  $__require('134');
  $__require('135');
  $__require('136');
  var loadjs = $__require('137');
  loadjs(['/assets/lib/quill/quill.min.js', '/assets/lib/quill/quill.snow.css'], function() {});
  $__require('138');
  Push = $__require('139');
  FileSaver = $__require('13a');
  plyr = $__require('13b');
  $__require('13c');
  emojify.setConfig({
    emojify_tag_type: 'div',
    only_crawl_id: null,
    img_dir: '/assets/images/emoji',
    ignored_tags: {
      'SCRIPT': 1,
      'TEXTAREA': 1,
      'A': 1,
      'PRE': 1,
      'CODE': 1
    }
  });
  return module.exports;
});

$__System.register('13e', ['13f', '140', '141'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var config_1, utils_1, uuid_1;
    return {
        setters: [function (config_1_1) {
            config_1 = config_1_1;
        }, function (utils_1_1) {
            utils_1 = utils_1_1;
        }, function (uuid_1_1) {
            uuid_1 = uuid_1_1;
        }],
        execute: function () {
            exports_1("config", config_1.default);
            exports_1("utils", utils_1.default);
            exports_1("uuid", uuid_1.default);
        }
    };
});
$__System.register("142", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<loading-indicator>\n    <div class=\"outer-container\">\n        <img class=\"inner-item\" src=\"/assets/images/loading.svg\">\n    </div>\n    <style>\n        .outer-container {\n            position: absolute;\n            top: calc(50% - 19px);\n            left: calc(50% - 19px);;\n        }\n        \n        .inner-item {\n            width: 38px;\n            height: 38px;\n            display: inline-block;\n        }\n    </style>\n</loading-indicator>");
        }
    };
});
$__System.register('143', ['144', '142'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, loading_indicator_html_text_1;
    var LoadingIndicator;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (loading_indicator_html_text_1_1) {
            loading_indicator_html_text_1 = loading_indicator_html_text_1_1;
        }],
        execute: function () {
            LoadingIndicator = function (_super) {
                __extends(LoadingIndicator, _super);
                function LoadingIndicator() {
                    _super.apply(this, arguments);
                }
                LoadingIndicator = __decorate([riot_ts_1.template(loading_indicator_html_text_1.default)], LoadingIndicator);
                return LoadingIndicator;
            }(riot_ts_1.Element);
            exports_1("default", LoadingIndicator);
        }
    };
});
$__System.register("145", ["143"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var loading_indicator_1;
    return {
        setters: [function (loading_indicator_1_1) {
            loading_indicator_1 = loading_indicator_1_1;
        }],
        execute: function () {
            exports_1("LoadingIndicator", loading_indicator_1.default);
        }
    };
});
$__System.register("146", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<login-form>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Log in to your account</legend>\n                    <div class=\"uk-form-row\">\n                        <div class=\"uk-form-icon uk-width-1-1\">\n                            <i class=\"uk-icon-user\"></i>\n                            <input class=\"login-form-email uk-width-1-1\" type=\"email\" placeholder=\"Email address\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row\">\n                        <div class=\"uk-form-icon uk-width-1-1\">\n                            <i class=\"uk-icon-lock\"></i>\n                            <input class=\"login-form-password uk-width-1-1\" type=\"password\" placeholder=\"Password\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onSignUpButtonClick}}\">Sign Up</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onLoginButtonClick}}\">Login</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal {\n            background-color: transparent;\n        }\n        \n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</login-form>");
        }
    };
});
$__System.register('147', ['144', '148', '146'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, login_html_text_1;
    var bus, Login;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (login_html_text_1_1) {
            login_html_text_1 = login_html_text_1_1;
        }],
        execute: function () {
            bus = all_1.default.EventService.singleton().cat('components').cat('accounts');
            Login = function (_super) {
                __extends(Login, _super);
                function Login() {
                    _super.call(this);
                }
                Login.prototype.showDialog = function () {
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                };
                Login.prototype.hideDialog = function () {
                    if (this.modal) {
                        this.modal.hide();
                    }
                };
                Login.prototype.onLoginButtonClick = function (event) {
                    var _this = this;
                    event.preventDefault();
                    event.stopPropagation();
                    var emailField = this.root.querySelector('.login-form-email');
                    var passwordField = this.root.querySelector('.login-form-password');
                    all_1.default.users.tools.signIn(emailField.value, passwordField.value).then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                        } else {
                            _this.hideDialog();
                            //debugger;
                            all_1.default.store.dispatch(all_1.default.users.actions.loginSuccess(resp.re.user));
                            all_1.default.users.bus.emit('LoginSuccess', resp.re.user);
                            localStorage.setItem('access_token', resp.re.idToken);
                        }
                    });
                    all_1.default.store.dispatch(all_1.default.users.actions.login(emailField.value, passwordField.value, function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                        } else {
                            _this.hideDialog();
                        }
                    }));
                };
                Login.prototype.onSignUpButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    //this.hideDialog();
                    bus.emit('SwitchToSignUpForm');
                };
                Login = __decorate([riot_ts_1.template(login_html_text_1.default)], Login);
                return Login;
            }(riot_ts_1.Element);
            exports_1("default", Login);
        }
    };
});
$__System.register("149", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<signup-form>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Sign up and experience Seen Chat today</legend>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-it\">Username</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"text\" class=\"uk-width-1-1 login-form-username\" placeholder=\"Username\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-it\">Email</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"text\" class=\"uk-width-1-1 login-form-email\" placeholder=\"Email\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-ip\">Password</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"password\" class=\"uk-width-1-1 login-form-password\" placeholder=\"Password\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onLoginButtonClick}}\">Back to Login</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onCreateAccountButtonClick}}\">CREATE FREE ACCOUNT</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal {\n            background-color: transparent;\n        }\n        \n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</signup-form>");
        }
    };
});
$__System.register('14a', ['144', '14b', '148', '14c', '149'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, all_1, actions_1, signup_html_text_1;
    var bus, SignUp;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (actions_1_1) {
            actions_1 = actions_1_1;
        }, function (signup_html_text_1_1) {
            signup_html_text_1 = signup_html_text_1_1;
        }],
        execute: function () {
            bus = all_1.default.EventService.singleton().cat('components').cat('accounts');
            SignUp = function (_super) {
                __extends(SignUp, _super);
                function SignUp() {
                    _super.call(this);
                }
                SignUp.prototype.showDialog = function () {
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                };
                SignUp.prototype.hideDialog = function () {
                    if (this.modal) {
                        this.modal.hide();
                    }
                };
                SignUp.prototype.onCreateAccountButtonClick = function (event) {
                    var _this = this;
                    event.preventDefault();
                    event.stopPropagation();
                    var usernameField = this.root.querySelector('.login-form-username');
                    var emailField = this.root.querySelector('.login-form-email');
                    var passwordField = this.root.querySelector('.login-form-password');
                    var name = usernameField.value;
                    var email = emailField.value;
                    var password = passwordField.value;
                    all_1.default.users.tools.signUp(name, email, password).then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                        } else {
                            bus.emit('SwitchToLoginForm');
                        }
                    });
                    store_1.default.dispatch(actions_1.default.signup(usernameField.value, emailField.value, passwordField.value, function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                        } else {
                            _this.hideDialog();
                        }
                    }));
                };
                SignUp.prototype.onLoginButtonClick = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    //this.hideDialog();
                    bus.emit('SwitchToLoginForm');
                };
                SignUp = __decorate([riot_ts_1.template(signup_html_text_1.default)], SignUp);
                return SignUp;
            }(riot_ts_1.Element);
            exports_1("default", SignUp);
        }
    };
});
$__System.register("14d", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<landing-page>\n    <login-form></login-form>\n    <signup-form></signup-form>\n    \n    <style scoped>\n        .account-manager-dialog {\n            width: 500px;\n            height: 400px;\n        }\n    </style>\n</landing-page>");
        }
    };
});
$__System.register('14e', ['144', '148', '14d'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, landing_page_html_text_1;
    var bus, LandingPage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (landing_page_html_text_1_1) {
            landing_page_html_text_1 = landing_page_html_text_1_1;
        }],
        execute: function () {
            bus = all_1.default.EventService.singleton().cat('components').cat('accounts');
            LandingPage = function (_super) {
                __extends(LandingPage, _super);
                function LandingPage() {
                    _super.apply(this, arguments);
                }
                LandingPage.prototype.mounted = function () {
                    var _this = this;
                    if (all_1.default.store.getState().userData.user != null) {
                        return;
                    }
                    var token = localStorage.getItem('access_token');
                    if (token) {
                        var autoLoginModel = UIkit.modal.blockUI('Auto loggin, please wait...');
                        autoLoginModel.show();
                        all_1.default.users.tools.autoLogin(token).then(function (resp) {
                            autoLoginModel.hide();
                            if (resp.err) {
                                _this.setupManual();
                            } else {
                                all_1.default.store.dispatch(all_1.default.users.actions.loginSuccess(resp.re.user));
                                all_1.default.users.bus.emit('LoginSuccess', resp.re.user);
                            }
                        });
                    } else {
                        this.setupManual();
                    }
                };
                LandingPage.prototype.setupManual = function () {
                    var _this = this;
                    bus.on('SwitchToSignUpForm', function () {
                        var tag = _this.tags['signup-form'];
                        tag.showDialog();
                    }).on('SwitchToLoginForm', function () {
                        var tag = _this.tags['login-form'];
                        tag.showDialog();
                    });
                    bus.emit('SwitchToLoginForm');
                };
                LandingPage = __decorate([riot_ts_1.template(landing_page_html_text_1.default)], LandingPage);
                return LandingPage;
            }(riot_ts_1.Element);
            exports_1("default", LandingPage);
        }
    };
});
$__System.register("14f", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<account-update-profile>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Update Profile</legend>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-it\">Username</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"text\" class=\"uk-width-1-1 account-username\" placeholder=\"Username\" value=\"{{user.name}}\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-it\">Avatar Url</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"text\" class=\"uk-width-1-1 account-avatar\" placeholder=\"Avatar url\" value=\"{{user.avatarUrl}}\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-ip\">Profile Url</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"text\" class=\"uk-width-1-1 account-profile\" placeholder=\"Profile url\" value=\"{{user.profileUrl}}\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onCancelButtonClick}}\">Cancel</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onOKButtonClick}}\">OK</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal {\n            background-color: transparent;\n        }\n        \n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</account-update-profile>");
        }
    };
});
$__System.register('150', ['144', '148', '14f'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, update_profile_html_text_1;
    var UpdateProfile;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (update_profile_html_text_1_1) {
            update_profile_html_text_1 = update_profile_html_text_1_1;
        }],
        execute: function () {
            UpdateProfile = function (_super) {
                __extends(UpdateProfile, _super);
                function UpdateProfile() {
                    _super.apply(this, arguments);
                }
                UpdateProfile.prototype.hideDialog = function () {
                    if (this.modal) this.modal.hide();
                };
                UpdateProfile.prototype.showDialog = function () {
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                };
                UpdateProfile.prototype.onCancelButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.hideDialog();
                };
                UpdateProfile.prototype.onOKButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    var userNameField = this.root.querySelector('.account-username');
                    var avatarField = this.root.querySelector('.account-avatar');
                    var profileField = this.root.querySelector('.account-profile');
                    var name = userNameField.value;
                    var avatarUrl = avatarField.value;
                    var profileUrl = profileField.value;
                    all_1.default.users.tools.updateProfile({ name: name, avatarUrl: avatarUrl, profileUrl: profileUrl }).then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                        } else {
                            all_1.default.store.dispatch(all_1.default.users.actions.updateProfile({ name: name, avatarUrl: avatarUrl, profileUrl: profileUrl }));
                            _this.hideDialog();
                        }
                    });
                };
                UpdateProfile = __decorate([riot_ts_1.template(update_profile_html_text_1.default)], UpdateProfile);
                return UpdateProfile;
            }(riot_ts_1.Element);
            exports_1("default", UpdateProfile);
        }
    };
});
$__System.register("151", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<account-add-friend>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Add Friend</legend>\n                    <div class=\"uk-form-row\">\n                        <label class=\"uk-form-label\" for=\"form-s-it\">Please enter your friend email</label>\n                        <div class=\"uk-form-controls\">\n                            <input type=\"email\" class=\"uk-width-1-1 add-friend-email\" placeholder=\"Email address\">\n                        </div>\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onCancelButtonClick}}\">Cancel</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onOKButtonClick}}\">OK</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal {\n            background-color: transparent;\n        }\n        \n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</account-add-friend>");
        }
    };
});
$__System.register('152', ['144', '148', '151'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, add_friend_html_text_1;
    var AddFriend;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (add_friend_html_text_1_1) {
            add_friend_html_text_1 = add_friend_html_text_1_1;
        }],
        execute: function () {
            AddFriend = function (_super) {
                __extends(AddFriend, _super);
                function AddFriend() {
                    _super.apply(this, arguments);
                }
                AddFriend.prototype.hideDialog = function () {
                    if (this.modal) this.modal.hide();
                };
                AddFriend.prototype.showDialog = function () {
                    this.resetValues();
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                };
                AddFriend.prototype.resetValues = function () {
                    var emailField = this.root.querySelector('.add-friend-email');
                    emailField.value = '';
                };
                AddFriend.prototype.onCancelButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.hideDialog();
                };
                AddFriend.prototype.onOKButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    var emailField = this.root.querySelector('.add-friend-email');
                    var email = emailField.value;
                    all_1.default.contacts.tools.addPartner(email).then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                        } else {
                            all_1.default.store.dispatch(all_1.default.users.actions.addFriend(email));
                            _this.hideDialog();
                        }
                    });
                };
                AddFriend = __decorate([riot_ts_1.template(add_friend_html_text_1.default)], AddFriend);
                return AddFriend;
            }(riot_ts_1.Element);
            exports_1("default", AddFriend);
        }
    };
});
$__System.register('153', ['147', '14a', '14e', '150', '152'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var login_1, signup_1, landing_page_1, update_profile_1, add_friend_1;
    return {
        setters: [function (login_1_1) {
            login_1 = login_1_1;
        }, function (signup_1_1) {
            signup_1 = signup_1_1;
        }, function (landing_page_1_1) {
            landing_page_1 = landing_page_1_1;
        }, function (update_profile_1_1) {
            update_profile_1 = update_profile_1_1;
        }, function (add_friend_1_1) {
            add_friend_1 = add_friend_1_1;
        }],
        execute: function () {
            exports_1("Login", login_1.default);
            exports_1("SignUp", signup_1.default);
            exports_1("LandingPage", landing_page_1.default);
            exports_1("UpdateProfile", update_profile_1.default);
            exports_1("AddFriend", add_friend_1.default);
        }
    };
});
$__System.register("154", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<action-toolbar>\n    <ul class=\"uk-subnav\">\n        <li class=\"uk-form-file\">\n            <a href=\"\"><i class=\"{{uk-icon-picture-o: true, uk-icon-small: opts.itemSize == 'small'}}\"></i></a>\n            <input type=\"file\" onchange=\"{{onSelectFiles}}\" multiple>\n        </li>\n        <li data-uk-dropdown=\"{delay: 500, mode: 'click'}\">\n            <a href=\"\" onclick=\"{{onEmoticonButtonClick}}\"><i class=\"{{uk-icon-smile-o: true, uk-icon-small: opts.itemSize == 'small'}}\"></i></a>\n            <div class=\"uk-dropdown uk-dropdown-small\">\n                <emoticon-tab name=\"emoticon-tab\" conv_id=\"{{this.conv_id}}\" select-emoticon=\"{{onSelectEmoticon}}\"></emoticon-tab>\n            </div>\n        </li>\n    </ul>\n\n    <style scoped>\n        .uk-dropdown {\n            border-radius: 3px;\n            border: 1px solid #ddd;\n            -webkit-box-shadow: -2px 2px 10px 0px rgba(0, 0, 0, 0.75);\n            -moz-box-shadow: -2px 2px 10px 0px rgba(0, 0, 0, 0.75);\n            box-shadow: -2px 2px 10px 0px rgba(0, 0, 0, 0.75);\n        }\n\n        .uk-subnav > li{\n            padding: 0px;\n            margin-left: 10px;\n        }\n    </style>\n</action-toolbar>");
        }
    };
});
$__System.register('155', ['144', '156', '14b', '157', '158', '154'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, types_1, store_1, messageTools, messageActions, action_toolbar_html_text_1;
    var ActionToolbar;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (action_toolbar_html_text_1_1) {
            action_toolbar_html_text_1 = action_toolbar_html_text_1_1;
        }],
        execute: function () {
            ActionToolbar = function (_super) {
                __extends(ActionToolbar, _super);
                function ActionToolbar(opts) {
                    _super.call(this);
                    this.conv_id = opts.conv_id;
                    this.emoticonTab = this.tags['emoticon-tab'];
                    this.emoticonTab.selectEmoticon = this.onSelectEmoticon.bind(this);
                }
                ActionToolbar.prototype.onEmoticonButtonClick = function (e) {
                    e.preventDefault();
                    //e.stopPropagation();
                };
                ActionToolbar.prototype.onSelectFiles = function (e) {
                    var target = e.target;
                    var createMsgs = [];
                    for (var i = 0; i < target.files.length; i++) {
                        var file = target.files[i];
                        var ext = file.name.split('.').pop() || '';
                        var create;
                        if (types_1.FILE_TYPES.typeOf(ext, 'image')) {
                            create = messageTools.PhotoMessage.create;
                        } else if (types_1.FILE_TYPES.typeOf(ext, 'video')) {
                            create = messageTools.VideoMessage.create;
                        } else if (types_1.FILE_TYPES.typeOf(ext, 'audio')) {
                            create = messageTools.AudioMessage.create;
                        } else {
                            create = messageTools.FileMessage.create;
                        }
                        var createMsg = create(this.conv_id, file);
                        createMsgs.push(createMsg);
                    }
                    Promise.all(createMsgs).then(function (msgs) {
                        msgs.forEach(function (m) {
                            store_1.default.dispatch(messageActions.startSendingMessage(m));
                        });
                    });
                    //clear files
                    jQuery(target).val('');
                };
                ActionToolbar.prototype.onSelectEmoticon = function (emojicon) {
                    if (this.selectEmoticon) {
                        this.selectEmoticon(emojicon);
                    }
                };
                ActionToolbar = __decorate([riot_ts_1.template(action_toolbar_html_text_1.default)], ActionToolbar);
                return ActionToolbar;
            }(riot_ts_1.Element);
            exports_1("default", ActionToolbar);
        }
    };
});
$__System.register("159", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<chatbox>\n    <div class=\"chatbox-container-outmost\">\n        <div class=\"{{chatbox-container: true, chatbox-container--open: true, chatbox--active: opts.chatbox.isActive}}\" show=\"{{!opts.chatbox.isMinimized}}\">\n            <div class=\"chatbox-header\">\n                <nav class=\"uk-navbar\">\n                    <ul class=\"uk-navbar-nav uk-margin-small-left\">\n                        <li>\n                            <div class=\"{{chatbox-header--status: true, online: conv.is_online, offline: !conv.is_online}}\">&nbsp;</div>\n                        </li>\n                        <li class=\"uk-navbar-content uk-text-truncate\">\n                            <span title=\"{{getTitle()}}\">{{getTitle()}}</span>\n                        </li>\n                    </ul>\n                    <div class=\"uk-navbar-flip\">\n                        <ul class=\"uk-navbar-nav\">\n                            <li>\n                                <a onclick=\"{{onAddMembersButtonClick}}\"><span class=\"uk-icon-user-plus\"></span></a>\n                            </li>\n                            <li class=\"uk-parent\" data-uk-dropdown=\"{mode:'click'}\">\n                                <a><i class=\"uk-icon-caret-down\"></i></a>\n                                <div class=\"uk-dropdown uk-dropdown-navbar uk-dropdown-bottom chatbox-header--more-actions\">\n                                    <ul class=\"uk-nav uk-nav-navbar\">\n                                        <li><a onclick=\"{{editTitleActionItemClick}}\">Edit Conversation Name</a></li>\n                                        <li><a>Edit Participants</a></li>\n                                        <li class=\"uk-nav-divider\"></li>\n                                        <li><a href=\"#\">See Full Conversation</a></li>\n                                    </ul>\n                                </div>\n                            </li>\n                            <li>\n                                <a onclick=\"{{onMinimizeButtonClick}}\">\n                                    <i class=\"uk-icon-chevron-down\"></i>\n                                </a>\n                            </li>\n                            <li>\n                                <a onclick=\"{{closeWindow}}\"><span class=\"uk-icon-remove\" id=\"icon-close\"></span></a>\n                            </li>\n                        </ul>\n                    </div>\n                </nav>\n            </div>\n            <div class=\"chatbox-body\">\n                <ul class=\"uk-switcher chatbox-body-switcher\">\n                    <li class=\"uk-active\">\n                        <message-box conv_id=\"{{opts.chatbox.conv_id}}\"></message-box>\n                        <div class=\"new-msg-alert uk-badge uk-badge-danger uk-float-left new-msg-indicator\" if=\"{{this.hasNewMessage && !isScrolledToBottom}}\"\n                            onclick=\"{{onNewMsgAlertClick}}\">\n                            <span>Scroll down to see new message</span>\n                        </div>\n                    </li>\n                    <li>\n                        <member-list conv_id={{opts.chatbox.conv_id}}/>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"chatbox-footer\">\n                <post-message name=\"post-message\" conv_id=\"{{opts.chatbox.conv_id}}\" />\n                <action-toolbar name=\"action-toolbar\" conv_id=\"{{opts.chatbox.conv_id}}\" select-emoticon=\"{{onSelectEmoticon}}\" />\n            </div>\n        </div>\n        <div class=\"chatbox-container chatbox-container--minimized\" show=\"{{opts.chatbox.isMinimized}}\">\n            <div class=\"chatbox-header\" onclick=\"{{toggleWindow}}\">\n                <div class=\"uk-badge uk-badge-danger uk-float-left new-msg-indicator\" if=\"{{this.chatbox.hasNewMessage}}\">new</div>\n                <div class=\"{{uk-margin-small-left: true, chatbox-header--status: true, online: conv.is_online, offline: !conv.is_online}}\"></div>\n                <div class=\"chatbox-header--title\">\n                    {{conv.title}}\n                </div>\n                <div class=\"chatbox-header--close\">\n                    <a onclick=\"{{closeWindow}}\"><span class=\"uk-icon-remove\" id=\"icon-close\"></span></a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div>\n        <conversation-update-title-dialog/>\n        <conversation-add-members-dialog/>\n    </div>\n    <style scoped>\n        .chatbox-container--open {\n            position: absolute;\n            width: 300px;\n            height: 420px;\n            position: relative;\n            z-index: 9999;\n            bottom: 420px;\n            box-sizing: border-box;\n            font-size: 12px;\n        }\n        \n        .chatbox-container--minimized {\n            position: absolute;\n            width: 250px;\n            height: 32px;\n            position: relative;\n            z-index: 9999;\n            bottom: 32px;\n            box-sizing: border-box;\n        }\n        \n        .chatbox-header--title {\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            line-height: 1;\n            max-width: 140px;\n            overflow: hidden;\n        }\n        \n        .chatbox-container--minimized .chatbox-header--title {\n            max-width: 180px;\n        }\n        \n        .chatbox-container--minimized .chatbox-header {\n            background-color: #fff !important;\n            color: #555 !important;\n            border: 1px solid #ddd !important;\n            display: flex;\n        }\n        \n        .chatbox-container--minimized .new-msg-indicator,\n        .chatbox-container--minimized .chatbox-header--title {\n            position: static;\n            float: left;\n            margin-left: 5px;\n        }\n        \n        .chatbox-container--minimized .new-msg-indicator {\n            margin-top: 10px;\n        }\n        \n        .chatbox-container--minimized .chatbox-header--title {\n            margin-top: 2px;\n        }\n        \n        .chatbox-container--minimized .chatbox-header--close a:hover {\n            color: #555;\n        }\n        \n        .chatbox-header {\n            position: absolute;\n            height: 32px;\n            background: #7f8990;\n            color: #191919;\n            top: 0px;\n            left: 0px;\n            right: 0px;\n            border-top-left-radius: 3px;\n            border-top-right-radius: 3px;\n            /*border: 1px solid #696a6b;*/\n            border-bottom: 1px solid #ddd;\n        }\n        \n        .chatbox--active .chatbox-header {\n            background-color: #0e76bc;\n            color: #fff;\n            /*box-shadow: 0 1px 1px 0 rgba(0, 0, 0, .20);\n            border: 1px solid #29487d;*/\n        }\n        \n        .chatbox-header--avatar img {\n            border-radius: 50%;\n            min-width: 32px;\n            max-width: 32px;\n            width: 32px;\n            height: 32px;\n        }\n        \n        .chatbox-header--group-avatar {\n            color: green;\n            border: 1px solid black;\n            border-radius: 50% 50%;\n            background: white;\n            padding: 3px;\n        }\n        \n        .chatbox-header--status {\n            width: 8px;\n            height: 8px;\n            vertical-align: middle;\n            text-align: center;\n            display: inline-block;\n            border: 1px solid black;\n            border-radius: 50%;\n            background-color: #88e241;\n            margin-top: auto;\n            margin-bottom: auto;\n        }\n        \n        .chatbox-header--status.online {\n            background-color: #88e241;\n        }\n        \n        .chatbox-header--status.offline {\n            background-color: #ccc;\n        }\n        \n        .chatbox-header--title {\n            position: absolute;\n            left: 52px;\n            right: 60px;\n            top: 0px;\n            bottom: 0px;\n            vertical-align: middle;\n            font-weight: bold;\n            padding-top: 6px;\n        }\n        \n        .chatbox-header--title span {}\n        \n        .chatbox-header--title a {\n            text-decoration: none;\n            cursor: pointer;\n            color: #fff;\n        }\n        \n        .chatbox-header--title a:hover {\n            text-decoration: underline;\n        }\n        \n        .chatbox-header--add-member-action {\n            right: 20px;\n        }\n        \n        .chatbox-header--close {\n            right: 0px;\n        }\n        \n        .chatbox-header--close,\n        .chatbox-header--add-member-action {\n            position: absolute;\n            width: 20px;\n            top: 0px;\n            bottom: 0px;\n            display: inline-block;\n            vertical-align: middle;\n            margin-top: 2px;\n        }\n        \n        .chatbox-header--close a,\n        .chatbox-header--add-member-action a {\n            color: #e3e9f5;\n        }\n        \n        .chatbox-header--close a:hover,\n        .chatbox-header--add-member-action a: hover {\n            color: #fff;\n        }\n        \n        .chatbox-body {\n            position: absolute;\n            top: 33px;\n            bottom: 55px;\n            left: 0px;\n            right: 0px;\n            background-color: #fff;\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n            padding: 8px;\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n        \n        audio.message-content--preview,\n        video.message-content--preview,\n        img.message-content--preview {\n            max-width: 200px;\n            max-height: 250px;\n        }\n        \n        .chatbox-footer {\n            position: absolute;\n            bottom: 0px;\n            left: 0px;\n            right: 0px;\n            height: 55px;\n            border: 1px solid #ddd;\n            background-color: #fff;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n        \n        .badboy {\n            width: 0;\n            height: 0;\n            clear: both;\n        }\n        \n        .new-msg-alert {\n            position: absolute;\n            left: 0px;\n            right: 0px;\n            bottom: 0px;\n            padding: 4px;\n            opacity: 0.8;\n            margin: 0px;\n            font-size: 9px;\n            cursor: pointer;\n        }\n        \n        .uk-navbar-nav > li {\n            line-height: 30px;\n            color: #fff;\n        }\n        \n        .chatbox-header .uk-navbar {\n            border-top-left-radius: 4px;\n            border-top-right-radius: 4px;\n            border: 1px solid #0e76bc;\n            background: #3498db;\n        }\n        \n        .chatbox-header .uk-navbar-content {\n            padding: 0px;\n            height: 30px;\n            line-height: 30px;\n            max-width: 140px;\n        }\n        \n        .uk-navbar-nav > li > a {\n            height: 30px;\n            line-height: 30px;\n            color: #f5f5f5;\n            padding: 0 10px;\n        }\n        \n        .uk-navbar-nav > li > a:hover,\n        .uk-navbar-nav > li > a:focus,\n        .uk-navbar-nav > li.uk-open > a {\n            color: #555;\n        }\n\n        .chatbox-header--more-actions{\n            box-shadow: 0 1px 4px rgba(0, 0, 0, .3);\n        }\n    </style>\n</chatbox>");
        }
    };
});
$__System.register('15a', ['144', '148', '156', '15b', '159'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, types_1, utils, chatbox_html_text_1;
    var store, ChatBox;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (utils_1) {
            utils = utils_1;
        }, function (chatbox_html_text_1_1) {
            chatbox_html_text_1 = chatbox_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ChatBox = function (_super) {
                __extends(ChatBox, _super);
                function ChatBox(opts) {
                    var _this = this;
                    _super.call(this);
                    this.chatbox = null;
                    this.isScrolledToBottom = false;
                    this.hasNewMessage = false;
                    this.avatarURL = null;
                    this.profileURL = null;
                    this.conv = null;
                    this.actionToolbar = this.tags['action-toolbar'];
                    if (this.actionToolbar) {
                        this.actionToolbar.selectEmoticon = this.onSelectEmoticon.bind(this);
                    }
                    this.chatbox = opts.chatbox;
                    this.conv = store.getState().conversationData.conversations.find(function (c) {
                        return c.id == _this.chatbox.conv_id;
                    });
                    this.onMemberListClosed = this.onMemberListClosed.bind(this);
                    this.onUpdateTitle = this.onUpdateTitle.bind(this);
                }
                ChatBox.prototype.onSelectEmoticon = function (emojicon) {
                    var postMsg = this.tags['post-message'];
                    if (postMsg.onSelectEmoticon) {
                        postMsg.onSelectEmoticon(emojicon);
                    }
                };
                ChatBox.prototype.onMinimizeButtonClick = function (e) {
                    store.dispatch(all_1.default.chatboxes.actions.minimize(this.chatbox.conv_id));
                };
                ChatBox.prototype.toggleWindow = function (event) {
                    var _this = this;
                    event.preventDefault();
                    event.stopPropagation();
                    if (this.chatbox.isMinimized && this.chatbox.hasNewMessage) {
                        this.hasNewMessage = true;
                    }
                    store.dispatch(all_1.default.chatboxes.actions.toggleWindow(this.chatbox.conv_id));
                    var found = store.getState().chatboxData.chatboxes.find(function (c) {
                        return c.conv_id == _this.chatbox.conv_id;
                    });
                    if (found && !found.isMinimized) {
                        this.loadHistoryForFirstTime();
                        this.update();
                    }
                };
                ;
                ChatBox.prototype.getMessageBox = function () {
                    return this.tags['message-box'];
                };
                ChatBox.prototype.setEditorFocus = function () {
                    var _this = this;
                    setTimeout(function () {
                        var el = _this.root.querySelector('.text-msg-input');
                        jQuery(el).focus();
                    }, 1000);
                };
                ;
                ChatBox.prototype.closeWindow = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    store.dispatch(all_1.default.chatboxes.actions.remove(this.chatbox.conv_id));
                };
                ;
                ChatBox.prototype.mounted = function () {
                    var _this = this;
                    if (!this.chatbox.isMinimized) {
                        setTimeout(function () {
                            var container = _this.root.querySelector('.chatbox-container');
                            if (_this.isVisible(container)) {
                                _this.loadHistoryForFirstTime();
                            } else {
                                store.dispatch(all_1.default.chatboxes.actions.minimize(_this.chatbox.conv_id));
                            }
                        }, 1000);
                    }
                    var bodySwicherEl = this.root.querySelector('.chatbox-body-switcher');
                    this.bodySwitcher = UIkit.switcher(jQuery(bodySwicherEl));
                    var msgBox = this.tags['message-box'];
                    msgBox.on('onScrollToBottomValueChanged', this.onScrollToBottomValueChanged.bind(this));
                    msgBox.on('onNewMessageReceived', this.onNewMessageReceived.bind(this));
                    var clickDelegate = $.proxy(this.onChatBoxClick, this);
                    $(this.root).on('click focusin', clickDelegate);
                    //store.subscribe(this.onApplicationStateChanged.bind(this));
                    all_1.default.chatboxes.bus.on(types_1.CHATBOXES.SET_ACTIVE, function (id) {
                        if (id == _this.chatbox.conv_id) {
                            _this.setEditorFocus();
                        }
                    });
                    all_1.default.members.bus.on(types_1.MEMBERS.CLOSE_FORM, this.onMemberListClosed);
                    all_1.default.conversations.bus.on(types_1.CONVERSATIONS.UPDATE_TITLE, this.onUpdateTitle);
                };
                ChatBox.prototype.unmounted = function () {
                    var msgBox = this.tags['message-box'];
                    if (msgBox) {
                        msgBox.off('onScrollToBottomValueChanged');
                        msgBox.off('onNewMessageReceived');
                    }
                    var $ = jQuery;
                    $(this.root).off('click focusin', this.onChatBoxClick);
                    all_1.default.members.bus.off(types_1.MEMBERS.CLOSE_FORM, this.onMemberListClosed);
                    all_1.default.chatboxes.bus.off(types_1.CHATBOXES.SET_ACTIVE);
                    all_1.default.conversations.bus.off(types_1.CONVERSATIONS.UPDATE_TITLE, this.onUpdateTitle);
                };
                ChatBox.prototype.onUpdateTitle = function () {
                    var _this = this;
                    this.conv = store.getState().conversationData.conversations.find(function (c) {
                        return c.id == _this.chatbox.conv_id;
                    });
                    this.update();
                };
                // updated(){
                //     if(this.chatbox.isActive) {
                //         var el = this.root.querySelector('.text-msg-input');
                //         if(document.activeElement != el){
                //             this.setEditorFocus();
                //         }
                //     }
                // }
                ChatBox.prototype.isVisible = function (element) {
                    var $ = jQuery;
                    var $win = $(window);
                    var $el = $(element);
                    var viewport = {
                        top: $win.scrollTop(),
                        left: $win.scrollLeft(),
                        right: null,
                        bottom: null
                    };
                    viewport.right = viewport.left + $win.width();
                    viewport.bottom = viewport.top + $win.height();
                    var bounds = $el.offset();
                    bounds.right = bounds.left + $el.outerWidth();
                    bounds.bottom = bounds.top + $el.outerHeight();
                    var visible = !(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom);
                    return visible;
                };
                ChatBox.prototype.loadHistoryForFirstTime = function () {
                    var msgBox = this.tags['message-box'];
                    if (!msgBox.isLoadedAtFirstTime) {
                        msgBox.loadAtFirstTime();
                    }
                };
                ChatBox.prototype.onChatBoxClick = function (e) {
                    if (!this.chatbox.isActive) {
                        store.dispatch(all_1.default.chatboxes.actions.setActive(this.chatbox.conv_id));
                    }
                };
                ChatBox.prototype.onScrollToBottomValueChanged = function (value) {
                    if (this.chatbox.isMinimized) return;
                    this.isScrolledToBottom = value;
                    if (this.isScrolledToBottom) {
                        this.hasNewMessage = false;
                        store.dispatch(all_1.default.chatboxes.actions.markAsRead(this.chatbox.conv_id));
                    }
                };
                ChatBox.prototype.onNewMessageReceived = function () {
                    this.hasNewMessage = true;
                    this.update();
                };
                ChatBox.prototype.onNewMsgAlertClick = function () {
                    var msgBox = this.tags['message-box'];
                    if (msgBox) msgBox.scrollToBottom();
                };
                ChatBox.prototype.onAddMembersButtonClick = function (e) {
                    //e.preventDefault();
                    //e.stopPropagation();
                    //this.bodySwitcher.show(1);
                    this.addMembersActionItemClick(e);
                };
                ChatBox.prototype.onMemberListClosed = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.bodySwitcher.show(0);
                };
                ChatBox.prototype.editTitleActionItemClick = function (e) {
                    var tag = this.tags['conversation-update-title-dialog'];
                    tag.showDialog(this.conv);
                };
                ChatBox.prototype.addMembersActionItemClick = function (e) {
                    var tag = this.tags['conversation-add-members-dialog'];
                    tag.showDialog(this.conv);
                };
                ChatBox.prototype.getAvatar = function () {
                    var partner = all_1.default.conversations.tools.getPartner(this.conv);
                    return utils.getAvatarUrl(partner.userId);
                };
                ChatBox.prototype.getTitle = function () {
                    return this.conv.title;
                };
                ChatBox.prototype.getProfile = function () {
                    var partner = all_1.default.conversations.tools.getPartner(this.conv);
                    return utils.getProfileUrl(partner.userId);
                };
                ChatBox = __decorate([riot_ts_1.template(chatbox_html_text_1.default)], ChatBox);
                return ChatBox;
            }(riot_ts_1.Element);
            exports_1("ChatBox", ChatBox);
        }
    };
});
$__System.register("15c", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<chatbox-dropdown>\n    <!-- This is the container enabling the JavaScript -->\n    <div class=\"uk-button-dropdown\" data-uk-dropdown>\n\n        <!-- This is the button toggling the dropdown -->\n        <button class=\"uk-icon-button\">\n            <i class=\"uk-icon-comments\"></i>\n        </button>\n\n        <!-- This is the dropdown -->\n        <div class=\"uk-dropdown uk-dropdown-small chatbox-dropdown uk-panel\">\n            <ul class=\"name-list-container uk-list uk-list-space\">\n                <li class=\"list-item\" each=\"{{chatbox in opts.chatboxes}}\" onclick=\"{{onChatBoxItemClick}}\">\n                    <a href=\"#\">{{getChatBoxTitle(chatbox)}}</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <style scoped>\n        .chatbox-dropdown{\n            border: 1px solid #0e76bc;\n            width: 200px;\n            height: 305px;\n            padding-left: 0px !important;\n            padding-right: 0px;\n            padding-top: 0px;\n            font: 400 14px/20px \"Helvetica Neue\", Helvetica, Arial, sans-serif !important;\n        }\n\n        .name-list-container{\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            right: 0px;\n            bottom: 0px;\n            overflow-y: auto;\n            overflow-x: none;\n            padding: 8px;\n        }\n\n        .list-item{\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            line-height: 1;\n            max-width: 180px;\n            overflow: hidden;\n        }\n\n        button{\n            background-color: #0e76bc !important;\n            color: #fff !important;\n            border: 1px solid #e5e5e5 !important;\n        }\n\n        button:hover{\n            color: #fff !important;\n            background-color: #0e76bc !important;\n            border: 1px solid #e7ff03 !important;\n        }\n    </style>\n</chatbox-dropdown>");
        }
    };
});
$__System.register('15d', ['144', '14b', '15e', '15c'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, chatboxActions, chatbox_dropdown_html_text_1;
    var ChatBoxDropDown;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (chatboxActions_1) {
            chatboxActions = chatboxActions_1;
        }, function (chatbox_dropdown_html_text_1_1) {
            chatbox_dropdown_html_text_1 = chatbox_dropdown_html_text_1_1;
        }],
        execute: function () {
            ChatBoxDropDown = function (_super) {
                __extends(ChatBoxDropDown, _super);
                function ChatBoxDropDown() {
                    _super.call(this);
                }
                ChatBoxDropDown.prototype.onChatBoxItemClick = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    var chatbox = event.item.chatbox;
                    store_1.default.dispatch(chatboxActions.setActiveAndMoveToTop(chatbox.id));
                };
                ChatBoxDropDown.prototype.getChatBoxTitle = function (chatbox) {
                    var conv = store_1.default.getState().conversationData.conversations.find(function (c) {
                        return c.id == chatbox.conv_id;
                    });
                    return conv.title;
                };
                ChatBoxDropDown = __decorate([riot_ts_1.template(chatbox_dropdown_html_text_1.default)], ChatBoxDropDown);
                return ChatBoxDropDown;
            }(riot_ts_1.Element);
            exports_1("ChatBoxDropDown", ChatBoxDropDown);
        }
    };
});
$__System.register("15f", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<chatbox-manager>\n    <div>\n        <chatbox-dropdown class=\"chatbox-dropdown\" chatboxes=\"{{this.chatboxes}}\" show=\"{{this.chatboxes.length > 4}}\"/>\n        <ul class=\"uk-grid uk-container-center uk-flex-row-reverse chatbox-container\">\n            <li class=\"chatbox-item\" each=\"{{chatbox in this.chatboxes}}\" chatbox=\"{{chatbox}}\" riot-tag=\"chatbox\"/>\n        </ul>\n    </div>\n    <style scoped>\n        :scope > div{\n            position: fixed;\n            right: 260px;\n            height: 1px;\n            left: 0px;\n            bottom: 0px;\n            z-index: 101;\n            font: 400 14px/20px \"Helvetica Neue\", Helvetica, Arial, sans-serif !important;\n        }\n\n        .chatbox-item,\n        .chatbox-dropdown{\n            padding-left: 20px !important;\n            float: left;\n        }\n\n        .chatbox-dropdown > div{\n            z-index: 99999;\n            bottom: 40px;\n        }\n    </style>\n</chatbox-manager>");
        }
    };
});
$__System.register('160', ['144', '148', '156', '15f'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, types_1, chatbox_manager_html_text_1;
    var store, ChatBoxManager;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (chatbox_manager_html_text_1_1) {
            chatbox_manager_html_text_1 = chatbox_manager_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ChatBoxManager = function (_super) {
                __extends(ChatBoxManager, _super);
                function ChatBoxManager(opts) {
                    _super.call(this);
                    this.firstTime = true;
                    this.chatboxes = [];
                    this.dropdownChatboxes = [];
                    this.onApplicationStateChanged = this.onApplicationStateChanged.bind(this);
                    this.onMessage = this.onMessage.bind(this);
                    this.onGroupConversationCreated = this.onGroupConversationCreated.bind(this);
                }
                ChatBoxManager.prototype.onApplicationStateChanged = function () {
                    var _this = this;
                    this.updateChatBoxes().then(function () {
                        _this.update();
                        //this.saveCurrentState();
                    });
                };
                ChatBoxManager.prototype.updateChatBoxes = function () {
                    var _this = this;
                    return new Promise(function (resolve) {
                        _this.isChatRoomVisible().then(function (visible) {
                            if (visible) {
                                if (_this.chatboxes.length) {
                                    store.dispatch(all_1.default.chatboxes.actions.removeAll());
                                }
                                _this.chatboxes = [];
                            } else {
                                _this.chatboxes = store.getState().chatboxData.chatboxes.sort(function (a, b) {
                                    if (a.last_action_time == b.last_action_time) {
                                        return 0;
                                    }
                                    return a.last_action_time < b.last_action_time ? 1 : -1;
                                });
                            }
                            resolve();
                        });
                    });
                };
                ChatBoxManager.prototype.isChatRoomVisible = function () {
                    return new Promise(function (resolve) {
                        var $chatRoom = all_1.default.chatboxes.bus.cat('chat-room');
                        $chatRoom.emit('is-visible').then(function (results) {
                            var visible = results && results.length ? results[0] : false;
                            resolve(visible);
                        });
                    });
                };
                ChatBoxManager.prototype.mounted = function () {
                    var _this = this;
                    //this.reloadCurrentState();//load states from localstorage if had
                    this.updateChatBoxes().then(function () {
                        _this.update();
                    });
                    //store.subscribe(this.onApplicationStateChanged.bind(this));
                    all_1.default.contacts.bus.on(types_1.CONTACTS.SELECT_CONTACT, function (contact) {
                        var conv = all_1.default.conversations.tools.findOne(contact.userId);
                        if (conv) _this.openChatBox(conv, true);else {
                            all_1.default.conversations.tools.createOne(contact).then(function (conv) {
                                var cons = store.getState().conversationData.conversations.concat([conv]);
                                store.dispatch(all_1.default.conversations.actions.conversationsLoaded(cons));
                                _this.openChatBox(conv, true);
                            });
                        }
                    });
                    all_1.default.chatboxes.bus.on(types_1.CHATBOXES.ON_CHANGE, this.onApplicationStateChanged);
                    all_1.default.conversations.bus.on(types_1.CONVERSATIONS.CREATE_GROUP, this.onGroupConversationCreated).on(types_1.CONVERSATIONS.ADD_MEMBERS, this.onApplicationStateChanged);
                    all_1.default.LotusService.singleton().on('Message.onMessage', this.onMessage);
                };
                ChatBoxManager.prototype.unmounted = function () {
                    all_1.default.chatboxes.bus.off(types_1.CHATBOXES.ON_CHANGE, this.onApplicationStateChanged);
                    all_1.default.conversations.bus.off(types_1.CONVERSATIONS.CREATE_GROUP, this.onGroupConversationCreated).off(types_1.CONVERSATIONS.ADD_MEMBERS, this.onApplicationStateChanged);
                    all_1.default.LotusService.singleton().off('Message.onMessage', this.onMessage);
                };
                ChatBoxManager.prototype.onGroupConversationCreated = function (conv) {
                    this.openChatBox(conv, true);
                };
                ChatBoxManager.prototype.onMessage = function (resp) {
                    var _this = this;
                    if (resp.err) {
                        console.error(resp.err);
                    } else {
                        var msg = all_1.default.messages.tools.getMessageFromResponse(resp.re.message);
                        //create conversation if it doesn't exist yet
                        var conv = store.getState().conversationData.conversations.find(function (c) {
                            return c.id == msg.conv_id;
                        });
                        if (conv) this.openChatBox(conv);else {
                            all_1.default.conversations.tools.getById(msg.conv_id).then(function (conv) {
                                var cons = store.getState().conversationData.conversations.concat([conv]);
                                store.dispatch(all_1.default.conversations.actions.conversationsLoaded(cons));
                                _this.openChatBox(conv);
                            });
                        }
                    }
                };
                ChatBoxManager.prototype.openChatBox = function (conv, active) {
                    if (active === void 0) {
                        active = false;
                    }
                    var chatbox = all_1.default.chatboxes.tools.findOne(conv.id);
                    if (!chatbox) {
                        chatbox = all_1.default.chatboxes.tools.createOne(conv.id);
                        store.dispatch(all_1.default.chatboxes.actions.add(chatbox));
                    }
                    if (active) {
                        store.dispatch(all_1.default.chatboxes.actions.setActive(conv.id));
                    } else {
                        this.onApplicationStateChanged();
                    }
                };
                ChatBoxManager = __decorate([riot_ts_1.template(chatbox_manager_html_text_1.default)], ChatBoxManager);
                return ChatBoxManager;
            }(riot_ts_1.Element);
            exports_1("default", ChatBoxManager);
        }
    };
});
$__System.register("161", ["144"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1;
    var CreatedTime;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }],
        execute: function () {
            CreatedTime = function (_super) {
                __extends(CreatedTime, _super);
                function CreatedTime(opts) {
                    _super.call(this);
                    this.date = new Date(opts.time).toLocaleDateString();
                    this.root.innerHTML = this.date;
                }
                CreatedTime = __decorate([riot_ts_1.template('<created-time></created-time>')], CreatedTime);
                return CreatedTime;
            }(riot_ts_1.Element);
            exports_1("default", CreatedTime);
        }
    };
});
$__System.register('162', [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var unseen, people, nature, objects, places, symbols, defaultCats, curSearchText, curSearchText_LowerCase, instance;
    function handler(item) {
        return (':' + item.name + ':').indexOf(curSearchText_LowerCase) != -1;
    }
    function applyFilter(text) {
        curSearchText = text;
        curSearchText_LowerCase = text.toLowerCase();
        return {
            Unseen: unseen.filter(handler),
            People: people.filter(handler)
        };
    }
    return {
        setters: [],
        execute: function () {
            /* Begin - nlttoan added for Unseen emotion icons */
            unseen = [
            /* Overlapped names & shortcuts */
            { "name": "smile", "emoji": "/assets/images/emoji/unseen/smile_uns_pxart_64x64.png" }, { "name": "grinning", "emoji": "/assets/images/emoji/unseen/grin_uns_pxart_64x64.png" }, { "name": "stuck_out_tongue_winking_eye", "emoji": "/assets/images/emoji/unseen/tongue-out_uns_pxart_64x64.png" }, { "name": "kissing_heart", "emoji": "/assets/images/emoji/unseen/kiss_uns_pxart_64x64.png" }, { "name": "open_mouth", "emoji": "/assets/images/emoji/unseen/surprise_uns_pxart_64x64.png" }, { "name": "wink", "emoji": "/assets/images/emoji/unseen/winking_uns_pxart_64x64.png" }, { "name": "rage", "emoji": "/assets/images/emoji/unseen/angry_uns_pxart_64x64.png" }, { "name": "frowning", "emoji": "/assets/images/emoji/unseen/sad_uns_pxart_64x64.png" }, { "name": "flushed", "emoji": "/assets/images/emoji/unseen/speechless_uns_pxart_64x64.png" },
            /* Overlapped names */
            { "name": "coffee", "emoji": "/assets/images/emoji/unseen/coffee_uns_pxart_64x64.png" }, { "name": "clap", "emoji": "/assets/images/emoji/unseen/applause_uns_pxart_64x64.png" }, { "name": "rose", "emoji": "/assets/images/emoji/unseen/rose_uns_pxart_64x64.png" },
            /* Overlapped names for Unseen shorcuts */
            { "name": "confused", "emoji": "/assets/images/emoji/unseen/confused_uns_pxart_64x64.png" }, { "name": "cry", "emoji": "/assets/images/emoji/unseen/cry_uns_pxart_64x64.png" },
            /* From Unseen only, old names for shorcuts */
            { "name": "cry_loudy", "emoji": "/assets/images/emoji/unseen/cry-loudly_uns_pxart_64x64.png" }, { "name": "rofl", "emoji": "/assets/images/emoji/unseen/laugh_uns_pxart_64x64.png" },
            //{ "name": "laugh", "emoji": "/assets/images/emoji/unseen/laugh_uns_pxart_64x64.png" }, //'=))'
            { "name": "cool", "emoji": "/assets/images/emoji/unseen/cool_uns_pxart_64x64.png" }, { "name": "nerd", "emoji": "/assets/images/emoji/unseen/nerd_uns_pxart_64x64.png" },
            /* From Unseen only, new names for shorcuts */
            { "name": "sleep", "emoji": "/assets/images/emoji/unseen/sleep_uns_pxart_64x64.png" }, { "name": "love_struck", "emoji": "/assets/images/emoji/unseen/love-struck_uns_pxart_64x64.png" }, { "name": "dont_tell", "emoji": "/assets/images/emoji/unseen/dont-tell-anyone_uns_pxart_64x64.png" }, { "name": "batting_eyelashes", "emoji": "/assets/images/emoji/unseen/batting-eyelashes_uns_pxart_64x64.png" }, { "name": "worry", "emoji": "/assets/images/emoji/unseen/wondering_uns_pxart_64x64.png" }, { "name": "no_talking", "emoji": "/assets/images/emoji/unseen/no-talking_uns_pxart_64x64.png" }, { "name": "call_me", "emoji": "/assets/images/emoji/unseen/callme_uns_pxart_64x64.png" }, { "name": "waiting", "emoji": "/assets/images/emoji/unseen/waiting_uns_pxart_64x64.png" },
            /* From Unseen only, without shorcuts */
            { "name": "angle", "emoji": "/assets/images/emoji/unseen/angel_uns_pxart_64x64.png" }, { "name": "beating_heart", "emoji": "/assets/images/emoji/unseen/beating-heart_uns_pxart_64x64.png" }, { "name": "happy", "emoji": "/assets/images/emoji/unseen/happy_uns_pxart_64x64.png" }, { "name": "victory", "emoji": "/assets/images/emoji/unseen/hi_uns_pxart_64x64.png" }, { "name": "hug", "emoji": "/assets/images/emoji/unseen/hug_uns_pxart_64x64.png" }, { "name": "goodbye", "emoji": "/assets/images/emoji/unseen/goodbye_uns_pxart_64x64.png" }, { "name": "listen_headphone", "emoji": "/assets/images/emoji/unseen/listening-with-headphone_uns_pxart_64x64.png" }, { "name": "nodding", "emoji": "/assets/images/emoji/unseen/nodding_uns_pxart_64x64.png" }, { "name": "head_shake", "emoji": "/assets/images/emoji/unseen/shaking_uns_pxart_64x64.png" }, { "name": "hand_shake", "emoji": "/assets/images/emoji/unseen/shaking-hand_uns_pxart_64x64.png" }, { "name": "party", "emoji": "/assets/images/emoji/unseen/party_uns_pxart_64x64.png" }, { "name": "whew", "emoji": "/assets/images/emoji/unseen/whew_uns_pxart_64x64.png" }, { "name": "yawn", "emoji": "/assets/images/emoji/unseen/yawn_uns_pxart_64x64.png" }, { "name": "sun", "emoji": "/assets/images/emoji/unseen/sun_uns_pxart_64x64.png" }, { "name": "giggle", "emoji": "/assets/images/emoji/unseen/giggle_uns_pxart_64x64.png" }, { "name": "thumbs_up", "emoji": "/assets/images/emoji/unseen/thump-up_uns_pxart_64x64.png" }, { "name": "thumbs_down", "emoji": "/assets/images/emoji/unseen/thump-down_uns_pxart_64x64.png" }, { "name": "blushing", "emoji": "/assets/images/emoji/unseen/blushing_uns_pxart_64x64.png" }, { "name": "bowing_man", "emoji": "/assets/images/emoji/unseen/bowing_man_uns_pxart_64x64.png" }, { "name": "bowing_woman", "emoji": "/assets/images/emoji/unseen/bowing_woman_uns_pxart_64x64.png" }, { "name": "heshi", "emoji": "/assets/images/emoji/unseen/heshi_uns_pxart_64x64.png" }, { "name": "flower", "emoji": "/assets/images/emoji/unseen/flower_uns_pxart_64x64.png" }, { "name": "birthday_cake", "emoji": "/assets/images/emoji/unseen/cake_uns_pxart_64x64.png" }, { "name": "flag", "emoji": "/assets/images/emoji/unseen/flag_uns_pxart_64x64.png" }, { "name": "lotus", "emoji": "/assets/images/emoji/unseen/lotus_uns_pxart_64x64.png" }, { "name": "fzn", "emoji": "/assets/images/emoji/unseen/fzn_uns_pxart_64x64.png" }, { "name": "meditation", "emoji": "/assets/images/emoji/unseen/meditation_uns_pxart_64x64.png" }, { "name": "kowtow", "emoji": "/assets/images/emoji/unseen/bowl_uns_pxart_64x64.png" }, { "name": "firework", "emoji": "/assets/images/emoji/unseen/firework_uns_pxart_64x64.png" }];
            /* End */
            people = [{ "name": "bowtie", "emoji": "/assets/images/emoji/bowtie.png" }, { "name": "simple_smile", "emoji": "/assets/images/emoji/simple_smile.png" }, { "name": "laughing", "emoji": "/assets/images/emoji/laughing.png" }, { "name": "blush", "emoji": "/assets/images/emoji/blush.png" }, { "name": "smiley", "emoji": "/assets/images/emoji/smiley.png" }, { "name": "relaxed", "emoji": "/assets/images/emoji/relaxed.png" }, { "name": "smirk", "emoji": "/assets/images/emoji/smirk.png" }, { "name": "heart_eyes", "emoji": "/assets/images/emoji/heart_eyes.png" }, { "name": "kissing_closed_eyes", "emoji": "/assets/images/emoji/kissing_closed_eyes.png" }, { "name": "relieved", "emoji": "/assets/images/emoji/relieved.png" }, { "name": "satisfied", "emoji": "/assets/images/emoji/satisfied.png" }, { "name": "grin", "emoji": "/assets/images/emoji/grin.png" }, { "name": "stuck_out_tongue_closed_eyes", "emoji": "/assets/images/emoji/stuck_out_tongue_closed_eyes.png" }, { "name": "kissing", "emoji": "/assets/images/emoji/kissing.png" }, { "name": "kissing_smiling_eyes", "emoji": "/assets/images/emoji/kissing_smiling_eyes.png" }, { "name": "stuck_out_tongue", "emoji": "/assets/images/emoji/stuck_out_tongue.png" }, { "name": "sleeping", "emoji": "/assets/images/emoji/sleeping.png" }, { "name": "worried", "emoji": "/assets/images/emoji/worried.png" }, { "name": "anguished", "emoji": "/assets/images/emoji/anguished.png" }, { "name": "grimacing", "emoji": "/assets/images/emoji/grimacing.png" }, { "name": "hushed", "emoji": "/assets/images/emoji/hushed.png" }, { "name": "expressionless", "emoji": "/assets/images/emoji/expressionless.png" }, { "name": "unamused", "emoji": "/assets/images/emoji/unamused.png" }, { "name": "sweat_smile", "emoji": "/assets/images/emoji/sweat_smile.png" }, { "name": "sweat", "emoji": "/assets/images/emoji/sweat.png" }, { "name": "disappointed_relieved", "emoji": "/assets/images/emoji/disappointed_relieved.png" }, { "name": "weary", "emoji": "/assets/images/emoji/weary.png" }, { "name": "pensive", "emoji": "/assets/images/emoji/pensive.png" }, { "name": "disappointed", "emoji": "/assets/images/emoji/disappointed.png" }, { "name": "confounded", "emoji": "/assets/images/emoji/confounded.png" }, { "name": "fearful", "emoji": "/assets/images/emoji/fearful.png" }, { "name": "cold_sweat", "emoji": "/assets/images/emoji/cold_sweat.png" }, { "name": "persevere", "emoji": "/assets/images/emoji/persevere.png" }, { "name": "sob", "emoji": "/assets/images/emoji/sob.png" }, { "name": "joy", "emoji": "/assets/images/emoji/joy.png" }, { "name": "astonished", "emoji": "/assets/images/emoji/astonished.png" }, { "name": "scream", "emoji": "/assets/images/emoji/scream.png" }, { "name": "neckbeard", "emoji": "/assets/images/emoji/neckbeard.png" }, { "name": "tired_face", "emoji": "/assets/images/emoji/tired_face.png" }, { "name": "angry", "emoji": "/assets/images/emoji/angry.png" }, { "name": "triumph", "emoji": "/assets/images/emoji/triumph.png" }, { "name": "sleepy", "emoji": "/assets/images/emoji/sleepy.png" }, { "name": "yum", "emoji": "/assets/images/emoji/yum.png" }, { "name": "mask", "emoji": "/assets/images/emoji/mask.png" }, { "name": "sunglasses", "emoji": "/assets/images/emoji/sunglasses.png" }, { "name": "dizzy_face", "emoji": "/assets/images/emoji/dizzy_face.png" }, { "name": "imp", "emoji": "/assets/images/emoji/imp.png" }, { "name": "smiling_imp", "emoji": "/assets/images/emoji/smiling_imp.png" }, { "name": "neutral_face", "emoji": "/assets/images/emoji/neutral_face.png" }, { "name": "no_mouth", "emoji": "/assets/images/emoji/no_mouth.png" }, { "name": "innocent", "emoji": "/assets/images/emoji/innocent.png" }, { "name": "alien", "emoji": "/assets/images/emoji/alien.png" }, { "name": "yellow_heart", "emoji": "/assets/images/emoji/yellow_heart.png" }, { "name": "blue_heart", "emoji": "/assets/images/emoji/blue_heart.png" }, { "name": "purple_heart", "emoji": "/assets/images/emoji/purple_heart.png" }, { "name": "heart", "emoji": "/assets/images/emoji/heart.png" }, { "name": "green_heart", "emoji": "/assets/images/emoji/green_heart.png" }, { "name": "broken_heart", "emoji": "/assets/images/emoji/broken_heart.png" }, { "name": "heartbeat", "emoji": "/assets/images/emoji/heartbeat.png" }, { "name": "heartpulse", "emoji": "/assets/images/emoji/heartpulse.png" }, { "name": "two_hearts", "emoji": "/assets/images/emoji/two_hearts.png" }, { "name": "revolving_hearts", "emoji": "/assets/images/emoji/revolving_hearts.png" }, { "name": "cupid", "emoji": "/assets/images/emoji/cupid.png" }, { "name": "sparkling_heart", "emoji": "/assets/images/emoji/sparkling_heart.png" }, { "name": "sparkles", "emoji": "/assets/images/emoji/sparkles.png" }, { "name": "star", "emoji": "/assets/images/emoji/star.png" }, { "name": "star2", "emoji": "/assets/images/emoji/star2.png" }, { "name": "dizzy", "emoji": "/assets/images/emoji/dizzy.png" }, { "name": "boom", "emoji": "/assets/images/emoji/boom.png" }, { "name": "collision", "emoji": "/assets/images/emoji/collision.png" }, { "name": "anger", "emoji": "/assets/images/emoji/anger.png" }, { "name": "exclamation", "emoji": "/assets/images/emoji/exclamation.png" }, { "name": "question", "emoji": "/assets/images/emoji/question.png" }, { "name": "grey_exclamation", "emoji": "/assets/images/emoji/grey_exclamation.png" }, { "name": "grey_question", "emoji": "/assets/images/emoji/grey_question.png" }, { "name": "zzz", "emoji": "/assets/images/emoji/zzz.png" }, { "name": "dash", "emoji": "/assets/images/emoji/dash.png" }, { "name": "sweat_drops", "emoji": "/assets/images/emoji/sweat_drops.png" }, { "name": "notes", "emoji": "/assets/images/emoji/notes.png" }, { "name": "musical_note", "emoji": "/assets/images/emoji/musical_note.png" }, { "name": "fire", "emoji": "/assets/images/emoji/fire.png" }, { "name": "hankey", "emoji": "/assets/images/emoji/hankey.png" }, { "name": "poop", "emoji": "/assets/images/emoji/poop.png" }, { "name": "shit", "emoji": "/assets/images/emoji/shit.png" }, { "name": "+1", "emoji": "/assets/images/emoji/plus1.png" }, { "name": "thumbsup", "emoji": "/assets/images/emoji/thumbsup.png" }, { "name": "-1", "emoji": "/assets/images/emoji/-1.png" }, { "name": "thumbsdown", "emoji": "/assets/images/emoji/thumbsdown.png" }, { "name": "ok_hand", "emoji": "/assets/images/emoji/ok_hand.png" }, { "name": "punch", "emoji": "/assets/images/emoji/punch.png" }, { "name": "facepunch", "emoji": "/assets/images/emoji/facepunch.png" }, { "name": "fist", "emoji": "/assets/images/emoji/fist.png" }, { "name": "v", "emoji": "/assets/images/emoji/v.png" }, { "name": "wave", "emoji": "/assets/images/emoji/wave.png" }, { "name": "hand", "emoji": "/assets/images/emoji/hand.png" }, { "name": "raised_hand", "emoji": "/assets/images/emoji/raised_hand.png" }, { "name": "open_hands", "emoji": "/assets/images/emoji/open_hands.png" }, { "name": "point_up", "emoji": "/assets/images/emoji/point_up.png" }, { "name": "point_down", "emoji": "/assets/images/emoji/point_down.png" }, { "name": "point_left", "emoji": "/assets/images/emoji/point_left.png" }, { "name": "point_right", "emoji": "/assets/images/emoji/point_right.png" }, { "name": "raised_hands", "emoji": "/assets/images/emoji/raised_hands.png" }, { "name": "pray", "emoji": "/assets/images/emoji/pray.png" }, { "name": "point_up_2", "emoji": "/assets/images/emoji/point_up_2.png" }, { "name": "muscle", "emoji": "/assets/images/emoji/muscle.png" }, { "name": "metal", "emoji": "/assets/images/emoji/metal.png" }, { "name": "fu", "emoji": "/assets/images/emoji/fu.png" }, { "name": "runner", "emoji": "/assets/images/emoji/runner.png" }, { "name": "running", "emoji": "/assets/images/emoji/running.png" }, { "name": "couple", "emoji": "/assets/images/emoji/couple.png" }, { "name": "family", "emoji": "/assets/images/emoji/family.png" }, { "name": "two_men_holding_hands", "emoji": "/assets/images/emoji/two_men_holding_hands.png" }, { "name": "two_women_holding_hands", "emoji": "/assets/images/emoji/two_women_holding_hands.png" }, { "name": "dancer", "emoji": "/assets/images/emoji/dancer.png" }, { "name": "dancers", "emoji": "/assets/images/emoji/dancers.png" }, { "name": "ok_woman", "emoji": "/assets/images/emoji/ok_woman.png" }, { "name": "no_good", "emoji": "/assets/images/emoji/no_good.png" }, { "name": "information_desk_person", "emoji": "/assets/images/emoji/information_desk_person.png" }, { "name": "raising_hand", "emoji": "/assets/images/emoji/raising_hand.png" }, { "name": "bride_with_veil", "emoji": "/assets/images/emoji/bride_with_veil.png" }, { "name": "person_with_pouting_face", "emoji": "/assets/images/emoji/person_with_pouting_face.png" }, { "name": "person_frowning", "emoji": "/assets/images/emoji/person_frowning.png" }, { "name": "bow", "emoji": "/assets/images/emoji/bow.png" }, { "name": "couplekiss", "emoji": "/assets/images/emoji/couplekiss.png" }, { "name": "couple_with_heart", "emoji": "/assets/images/emoji/couple_with_heart.png" }, { "name": "massage", "emoji": "/assets/images/emoji/massage.png" }, { "name": "haircut", "emoji": "/assets/images/emoji/haircut.png" }, { "name": "nail_care", "emoji": "/assets/images/emoji/nail_care.png" }, { "name": "boy", "emoji": "/assets/images/emoji/boy.png" }, { "name": "girl", "emoji": "/assets/images/emoji/girl.png" }, { "name": "woman", "emoji": "/assets/images/emoji/woman.png" }, { "name": "man", "emoji": "/assets/images/emoji/man.png" }, { "name": "baby", "emoji": "/assets/images/emoji/baby.png" }, { "name": "older_woman", "emoji": "/assets/images/emoji/older_woman.png" }, { "name": "older_man", "emoji": "/assets/images/emoji/older_man.png" }, { "name": "person_with_blond_hair", "emoji": "/assets/images/emoji/person_with_blond_hair.png" }, { "name": "man_with_gua_pi_mao", "emoji": "/assets/images/emoji/man_with_gua_pi_mao.png" }, { "name": "man_with_turban", "emoji": "/assets/images/emoji/man_with_turban.png" }, { "name": "construction_worker", "emoji": "/assets/images/emoji/construction_worker.png" }, { "name": "cop", "emoji": "/assets/images/emoji/cop.png" }, { "name": "angel", "emoji": "/assets/images/emoji/angel.png" }, { "name": "princess", "emoji": "/assets/images/emoji/princess.png" }, { "name": "smiley_cat", "emoji": "/assets/images/emoji/smiley_cat.png" }, { "name": "smile_cat", "emoji": "/assets/images/emoji/smile_cat.png" }, { "name": "heart_eyes_cat", "emoji": "/assets/images/emoji/heart_eyes_cat.png" }, { "name": "kissing_cat", "emoji": "/assets/images/emoji/kissing_cat.png" }, { "name": "smirk_cat", "emoji": "/assets/images/emoji/smirk_cat.png" }, { "name": "scream_cat", "emoji": "/assets/images/emoji/scream_cat.png" }, { "name": "crying_cat_face", "emoji": "/assets/images/emoji/crying_cat_face.png" }, { "name": "joy_cat", "emoji": "/assets/images/emoji/joy_cat.png" }, { "name": "pouting_cat", "emoji": "/assets/images/emoji/pouting_cat.png" }, { "name": "japanese_ogre", "emoji": "/assets/images/emoji/japanese_ogre.png" }, { "name": "japanese_goblin", "emoji": "/assets/images/emoji/japanese_goblin.png" }, { "name": "see_no_evil", "emoji": "/assets/images/emoji/see_no_evil.png" }, { "name": "hear_no_evil", "emoji": "/assets/images/emoji/hear_no_evil.png" }, { "name": "speak_no_evil", "emoji": "/assets/images/emoji/speak_no_evil.png" }, { "name": "guardsman", "emoji": "/assets/images/emoji/guardsman.png" }, { "name": "skull", "emoji": "/assets/images/emoji/skull.png" }, { "name": "feet", "emoji": "/assets/images/emoji/feet.png" }, { "name": "lips", "emoji": "/assets/images/emoji/lips.png" }, { "name": "kiss", "emoji": "/assets/images/emoji/kiss.png" }, { "name": "droplet", "emoji": "/assets/images/emoji/droplet.png" }, { "name": "ear", "emoji": "/assets/images/emoji/ear.png" }, { "name": "eyes", "emoji": "/assets/images/emoji/eyes.png" }, { "name": "nose", "emoji": "/assets/images/emoji/nose.png" }, { "name": "tongue", "emoji": "/assets/images/emoji/tongue.png" }, { "name": "love_letter", "emoji": "/assets/images/emoji/love_letter.png" }, { "name": "bust_in_silhouette", "emoji": "/assets/images/emoji/bust_in_silhouette.png" }, { "name": "busts_in_silhouette", "emoji": "/assets/images/emoji/busts_in_silhouette.png" }, { "name": "speech_balloon", "emoji": "/assets/images/emoji/speech_balloon.png" }, { "name": "thought_balloon", "emoji": "/assets/images/emoji/thought_balloon.png" }, { "name": "feelsgood", "emoji": "/assets/images/emoji/feelsgood.png" }, { "name": "finnadie", "emoji": "/assets/images/emoji/finnadie.png" }, { "name": "goberserk", "emoji": "/assets/images/emoji/goberserk.png" }, { "name": "godmode", "emoji": "/assets/images/emoji/godmode.png" }, { "name": "hurtrealbad", "emoji": "/assets/images/emoji/hurtrealbad.png" }, { "name": "rage1", "emoji": "/assets/images/emoji/rage1.png" }, { "name": "rage2", "emoji": "/assets/images/emoji/rage2.png" }, { "name": "rage3", "emoji": "/assets/images/emoji/rage3.png" }, { "name": "rage4", "emoji": "/assets/images/emoji/rage4.png" }, { "name": "suspect", "emoji": "/assets/images/emoji/suspect.png" }, { "name": "trollface", "emoji": "/assets/images/emoji/trollface.png" }];
            nature = [{ "name": "sunny", "emoji": "/assets/images/emoji/sunny.png" }, { "name": "umbrella", "emoji": "/assets/images/emoji/umbrella.png" }, { "name": "cloud", "emoji": "/assets/images/emoji/cloud.png" }, { "name": "snowflake", "emoji": "/assets/images/emoji/snowflake.png" }, { "name": "snowman", "emoji": "/assets/images/emoji/snowman.png" }, { "name": "zap", "emoji": "/assets/images/emoji/zap.png" }, { "name": "cyclone", "emoji": "/assets/images/emoji/cyclone.png" }, { "name": "foggy", "emoji": "/assets/images/emoji/foggy.png" }, { "name": "ocean", "emoji": "/assets/images/emoji/ocean.png" }, { "name": "cat", "emoji": "/assets/images/emoji/cat.png" }, { "name": "dog", "emoji": "/assets/images/emoji/dog.png" }, { "name": "mouse", "emoji": "/assets/images/emoji/mouse.png" }, { "name": "hamster", "emoji": "/assets/images/emoji/hamster.png" }, { "name": "rabbit", "emoji": "/assets/images/emoji/rabbit.png" }, { "name": "wolf", "emoji": "/assets/images/emoji/wolf.png" }, { "name": "frog", "emoji": "/assets/images/emoji/frog.png" }, { "name": "tiger", "emoji": "/assets/images/emoji/tiger.png" }, { "name": "koala", "emoji": "/assets/images/emoji/koala.png" }, { "name": "bear", "emoji": "/assets/images/emoji/bear.png" }, { "name": "pig", "emoji": "/assets/images/emoji/pig.png" }, { "name": "pig_nose", "emoji": "/assets/images/emoji/pig_nose.png" }, { "name": "cow", "emoji": "/assets/images/emoji/cow.png" }, { "name": "boar", "emoji": "/assets/images/emoji/boar.png" }, { "name": "monkey_face", "emoji": "/assets/images/emoji/monkey_face.png" }, { "name": "monkey", "emoji": "/assets/images/emoji/monkey.png" }, { "name": "horse", "emoji": "/assets/images/emoji/horse.png" }, { "name": "racehorse", "emoji": "/assets/images/emoji/racehorse.png" }, { "name": "camel", "emoji": "/assets/images/emoji/camel.png" }, { "name": "sheep", "emoji": "/assets/images/emoji/sheep.png" }, { "name": "elephant", "emoji": "/assets/images/emoji/elephant.png" }, { "name": "panda_face", "emoji": "/assets/images/emoji/panda_face.png" }, { "name": "snake", "emoji": "/assets/images/emoji/snake.png" }, { "name": "bird", "emoji": "/assets/images/emoji/bird.png" }, { "name": "baby_chick", "emoji": "/assets/images/emoji/baby_chick.png" }, { "name": "hatched_chick", "emoji": "/assets/images/emoji/hatched_chick.png" }, { "name": "hatching_chick", "emoji": "/assets/images/emoji/hatching_chick.png" }, { "name": "chicken", "emoji": "/assets/images/emoji/chicken.png" }, { "name": "penguin", "emoji": "/assets/images/emoji/penguin.png" }, { "name": "turtle", "emoji": "/assets/images/emoji/turtle.png" }, { "name": "bug", "emoji": "/assets/images/emoji/bug.png" }, { "name": "honeybee", "emoji": "/assets/images/emoji/honeybee.png" }, { "name": "ant", "emoji": "/assets/images/emoji/ant.png" }, { "name": "beetle", "emoji": "/assets/images/emoji/beetle.png" }, { "name": "snail", "emoji": "/assets/images/emoji/snail.png" }, { "name": "octopus", "emoji": "/assets/images/emoji/octopus.png" }, { "name": "tropical_fish", "emoji": "/assets/images/emoji/tropical_fish.png" }, { "name": "fish", "emoji": "/assets/images/emoji/fish.png" }, { "name": "whale", "emoji": "/assets/images/emoji/whale.png" }, { "name": "whale2", "emoji": "/assets/images/emoji/whale2.png" }, { "name": "dolphin", "emoji": "/assets/images/emoji/dolphin.png" }, { "name": "cow2", "emoji": "/assets/images/emoji/cow2.png" }, { "name": "ram", "emoji": "/assets/images/emoji/ram.png" }, { "name": "rat", "emoji": "/assets/images/emoji/rat.png" }, { "name": "water_buffalo", "emoji": "/assets/images/emoji/water_buffalo.png" }, { "name": "tiger2", "emoji": "/assets/images/emoji/tiger2.png" }, { "name": "rabbit2", "emoji": "/assets/images/emoji/rabbit2.png" }, { "name": "dragon", "emoji": "/assets/images/emoji/dragon.png" }, { "name": "goat", "emoji": "/assets/images/emoji/goat.png" }, { "name": "rooster", "emoji": "/assets/images/emoji/rooster.png" }, { "name": "dog2", "emoji": "/assets/images/emoji/dog2.png" }, { "name": "pig2", "emoji": "/assets/images/emoji/pig2.png" }, { "name": "mouse2", "emoji": "/assets/images/emoji/mouse2.png" }, { "name": "ox", "emoji": "/assets/images/emoji/ox.png" }, { "name": "dragon_face", "emoji": "/assets/images/emoji/dragon_face.png" }, { "name": "blowfish", "emoji": "/assets/images/emoji/blowfish.png" }, { "name": "crocodile", "emoji": "/assets/images/emoji/crocodile.png" }, { "name": "dromedary_camel", "emoji": "/assets/images/emoji/dromedary_camel.png" }, { "name": "leopard", "emoji": "/assets/images/emoji/leopard.png" }, { "name": "cat2", "emoji": "/assets/images/emoji/cat2.png" }, { "name": "poodle", "emoji": "/assets/images/emoji/poodle.png" }, { "name": "paw_prints", "emoji": "/assets/images/emoji/paw_prints.png" }, { "name": "bouquet", "emoji": "/assets/images/emoji/bouquet.png" }, { "name": "cherry_blossom", "emoji": "/assets/images/emoji/cherry_blossom.png" }, { "name": "tulip", "emoji": "/assets/images/emoji/tulip.png" }, { "name": "four_leaf_clover", "emoji": "/assets/images/emoji/four_leaf_clover.png" }, { "name": "sunflower", "emoji": "/assets/images/emoji/sunflower.png" }, { "name": "hibiscus", "emoji": "/assets/images/emoji/hibiscus.png" }, { "name": "maple_leaf", "emoji": "/assets/images/emoji/maple_leaf.png" }, { "name": "leaves", "emoji": "/assets/images/emoji/leaves.png" }, { "name": "fallen_leaf", "emoji": "/assets/images/emoji/fallen_leaf.png" }, { "name": "herb", "emoji": "/assets/images/emoji/herb.png" }, { "name": "mushroom", "emoji": "/assets/images/emoji/mushroom.png" }, { "name": "cactus", "emoji": "/assets/images/emoji/cactus.png" }, { "name": "palm_tree", "emoji": "/assets/images/emoji/palm_tree.png" }, { "name": "evergreen_tree", "emoji": "/assets/images/emoji/evergreen_tree.png" }, { "name": "deciduous_tree", "emoji": "/assets/images/emoji/deciduous_tree.png" }, { "name": "chestnut", "emoji": "/assets/images/emoji/chestnut.png" }, { "name": "seedling", "emoji": "/assets/images/emoji/seedling.png" }, { "name": "blossom", "emoji": "/assets/images/emoji/blossom.png" }, { "name": "ear_of_rice", "emoji": "/assets/images/emoji/ear_of_rice.png" }, { "name": "shell", "emoji": "/assets/images/emoji/shell.png" }, { "name": "globe_with_meridians", "emoji": "/assets/images/emoji/globe_with_meridians.png" }, { "name": "sun_with_face", "emoji": "/assets/images/emoji/sun_with_face.png" }, { "name": "full_moon_with_face", "emoji": "/assets/images/emoji/full_moon_with_face.png" }, { "name": "new_moon_with_face", "emoji": "/assets/images/emoji/new_moon_with_face.png" }, { "name": "new_moon", "emoji": "/assets/images/emoji/new_moon.png" }, { "name": "waxing_crescent_moon", "emoji": "/assets/images/emoji/waxing_crescent_moon.png" }, { "name": "first_quarter_moon", "emoji": "/assets/images/emoji/first_quarter_moon.png" }, { "name": "waxing_gibbous_moon", "emoji": "/assets/images/emoji/waxing_gibbous_moon.png" }, { "name": "full_moon", "emoji": "/assets/images/emoji/full_moon.png" }, { "name": "waning_gibbous_moon", "emoji": "/assets/images/emoji/waning_gibbous_moon.png" }, { "name": "last_quarter_moon", "emoji": "/assets/images/emoji/last_quarter_moon.png" }, { "name": "waning_crescent_moon", "emoji": "/assets/images/emoji/waning_crescent_moon.png" }, { "name": "last_quarter_moon_with_face", "emoji": "/assets/images/emoji/last_quarter_moon_with_face.png" }, { "name": "first_quarter_moon_with_face", "emoji": "/assets/images/emoji/first_quarter_moon_with_face.png" }, { "name": "crescent_moon", "emoji": "/assets/images/emoji/crescent_moon.png" }, { "name": "earth_africa", "emoji": "/assets/images/emoji/earth_africa.png" }, { "name": "earth_americas", "emoji": "/assets/images/emoji/earth_americas.png" }, { "name": "earth_asia", "emoji": "/assets/images/emoji/earth_asia.png" }, { "name": "volcano", "emoji": "/assets/images/emoji/volcano.png" }, { "name": "milky_way", "emoji": "/assets/images/emoji/milky_way.png" }, { "name": "partly_sunny", "emoji": "/assets/images/emoji/partly_sunny.png" }, { "name": "octocat", "emoji": "/assets/images/emoji/octocat.png" }, { "name": "squirrel", "emoji": "/assets/images/emoji/squirrel.png" }];
            objects = [{ "name": "bamboo", "emoji": "/assets/images/emoji/bamboo.png" }, { "name": "gift_heart", "emoji": "/assets/images/emoji/gift_heart.png" }, { "name": "dolls", "emoji": "/assets/images/emoji/dolls.png" }, { "name": "school_satchel", "emoji": "/assets/images/emoji/school_satchel.png" }, { "name": "mortar_board", "emoji": "/assets/images/emoji/mortar_board.png" }, { "name": "flags", "emoji": "/assets/images/emoji/flags.png" }, { "name": "fireworks", "emoji": "/assets/images/emoji/fireworks.png" }, { "name": "sparkler", "emoji": "/assets/images/emoji/sparkler.png" }, { "name": "wind_chime", "emoji": "/assets/images/emoji/wind_chime.png" }, { "name": "rice_scene", "emoji": "/assets/images/emoji/rice_scene.png" }, { "name": "jack_o_lantern", "emoji": "/assets/images/emoji/jack_o_lantern.png" }, { "name": "ghost", "emoji": "/assets/images/emoji/ghost.png" }, { "name": "santa", "emoji": "/assets/images/emoji/santa.png" }, { "name": "christmas_tree", "emoji": "/assets/images/emoji/christmas_tree.png" }, { "name": "gift", "emoji": "/assets/images/emoji/gift.png" }, { "name": "bell", "emoji": "/assets/images/emoji/bell.png" }, { "name": "no_bell", "emoji": "/assets/images/emoji/no_bell.png" }, { "name": "tanabata_tree", "emoji": "/assets/images/emoji/tanabata_tree.png" }, { "name": "tada", "emoji": "/assets/images/emoji/tada.png" }, { "name": "confetti_ball", "emoji": "/assets/images/emoji/confetti_ball.png" }, { "name": "balloon", "emoji": "/assets/images/emoji/balloon.png" }, { "name": "crystal_ball", "emoji": "/assets/images/emoji/crystal_ball.png" }, { "name": "cd", "emoji": "/assets/images/emoji/cd.png" }, { "name": "dvd", "emoji": "/assets/images/emoji/dvd.png" }, { "name": "floppy_disk", "emoji": "/assets/images/emoji/floppy_disk.png" }, { "name": "camera", "emoji": "/assets/images/emoji/camera.png" }, { "name": "video_camera", "emoji": "/assets/images/emoji/video_camera.png" }, { "name": "movie_camera", "emoji": "/assets/images/emoji/movie_camera.png" }, { "name": "computer", "emoji": "/assets/images/emoji/computer.png" }, { "name": "tv", "emoji": "/assets/images/emoji/tv.png" }, { "name": "iphone", "emoji": "/assets/images/emoji/iphone.png" }, { "name": "phone", "emoji": "/assets/images/emoji/phone.png" }, { "name": "telephone", "emoji": "/assets/images/emoji/telephone.png" }, { "name": "telephone_receiver", "emoji": "/assets/images/emoji/telephone_receiver.png" }, { "name": "pager", "emoji": "/assets/images/emoji/pager.png" }, { "name": "fax", "emoji": "/assets/images/emoji/fax.png" }, { "name": "minidisc", "emoji": "/assets/images/emoji/minidisc.png" }, { "name": "vhs", "emoji": "/assets/images/emoji/vhs.png" }, { "name": "sound", "emoji": "/assets/images/emoji/sound.png" }, { "name": "speaker", "emoji": "/assets/images/emoji/speaker.png" }, { "name": "mute", "emoji": "/assets/images/emoji/mute.png" }, { "name": "loudspeaker", "emoji": "/assets/images/emoji/loudspeaker.png" }, { "name": "mega", "emoji": "/assets/images/emoji/mega.png" }, { "name": "hourglass", "emoji": "/assets/images/emoji/hourglass.png" }, { "name": "hourglass_flowing_sand", "emoji": "/assets/images/emoji/hourglass_flowing_sand.png" }, { "name": "alarm_clock", "emoji": "/assets/images/emoji/alarm_clock.png" }, { "name": "watch", "emoji": "/assets/images/emoji/watch.png" }, { "name": "radio", "emoji": "/assets/images/emoji/radio.png" }, { "name": "satellite", "emoji": "/assets/images/emoji/satellite.png" }, { "name": "loop", "emoji": "/assets/images/emoji/loop.png" }, { "name": "mag", "emoji": "/assets/images/emoji/mag.png" }, { "name": "mag_right", "emoji": "/assets/images/emoji/mag_right.png" }, { "name": "unlock", "emoji": "/assets/images/emoji/unlock.png" }, { "name": "lock", "emoji": "/assets/images/emoji/lock.png" }, { "name": "lock_with_ink_pen", "emoji": "/assets/images/emoji/lock_with_ink_pen.png" }, { "name": "closed_lock_with_key", "emoji": "/assets/images/emoji/closed_lock_with_key.png" }, { "name": "key", "emoji": "/assets/images/emoji/key.png" }, { "name": "bulb", "emoji": "/assets/images/emoji/bulb.png" }, { "name": "flashlight", "emoji": "/assets/images/emoji/flashlight.png" }, { "name": "high_brightness", "emoji": "/assets/images/emoji/high_brightness.png" }, { "name": "low_brightness", "emoji": "/assets/images/emoji/low_brightness.png" }, { "name": "electric_plug", "emoji": "/assets/images/emoji/electric_plug.png" }, { "name": "battery", "emoji": "/assets/images/emoji/battery.png" }, { "name": "calling", "emoji": "/assets/images/emoji/calling.png" }, { "name": "email", "emoji": "/assets/images/emoji/email.png" }, { "name": "mailbox", "emoji": "/assets/images/emoji/mailbox.png" }, { "name": "postbox", "emoji": "/assets/images/emoji/postbox.png" }, { "name": "bath", "emoji": "/assets/images/emoji/bath.png" }, { "name": "bathtub", "emoji": "/assets/images/emoji/bathtub.png" }, { "name": "shower", "emoji": "/assets/images/emoji/shower.png" }, { "name": "toilet", "emoji": "/assets/images/emoji/toilet.png" }, { "name": "wrench", "emoji": "/assets/images/emoji/wrench.png" }, { "name": "nut_and_bolt", "emoji": "/assets/images/emoji/nut_and_bolt.png" }, { "name": "hammer", "emoji": "/assets/images/emoji/hammer.png" }, { "name": "seat", "emoji": "/assets/images/emoji/seat.png" }, { "name": "moneybag", "emoji": "/assets/images/emoji/moneybag.png" }, { "name": "yen", "emoji": "/assets/images/emoji/yen.png" }, { "name": "dollar", "emoji": "/assets/images/emoji/dollar.png" }, { "name": "pound", "emoji": "/assets/images/emoji/pound.png" }, { "name": "euro", "emoji": "/assets/images/emoji/euro.png" }, { "name": "credit_card", "emoji": "/assets/images/emoji/credit_card.png" }, { "name": "money_with_wings", "emoji": "/assets/images/emoji/money_with_wings.png" }, { "name": "e-mail", "emoji": "/assets/images/emoji/e-mail.png" }, { "name": "inbox_tray", "emoji": "/assets/images/emoji/inbox_tray.png" }, { "name": "outbox_tray", "emoji": "/assets/images/emoji/outbox_tray.png" }, { "name": "envelope", "emoji": "/assets/images/emoji/envelope.png" }, { "name": "incoming_envelope", "emoji": "/assets/images/emoji/incoming_envelope.png" }, { "name": "postal_horn", "emoji": "/assets/images/emoji/postal_horn.png" }, { "name": "mailbox_closed", "emoji": "/assets/images/emoji/mailbox_closed.png" }, { "name": "mailbox_with_mail", "emoji": "/assets/images/emoji/mailbox_with_mail.png" }, { "name": "mailbox_with_no_mail", "emoji": "/assets/images/emoji/mailbox_with_no_mail.png" }, { "name": "package", "emoji": "/assets/images/emoji/package.png" }, { "name": "door", "emoji": "/assets/images/emoji/door.png" }, { "name": "smoking", "emoji": "/assets/images/emoji/smoking.png" }, { "name": "bomb", "emoji": "/assets/images/emoji/bomb.png" }, { "name": "gun", "emoji": "/assets/images/emoji/gun.png" }, { "name": "hocho", "emoji": "/assets/images/emoji/hocho.png" }, { "name": "pill", "emoji": "/assets/images/emoji/pill.png" }, { "name": "syringe", "emoji": "/assets/images/emoji/syringe.png" }, { "name": "page_facing_up", "emoji": "/assets/images/emoji/page_facing_up.png" }, { "name": "page_with_curl", "emoji": "/assets/images/emoji/page_with_curl.png" }, { "name": "bookmark_tabs", "emoji": "/assets/images/emoji/bookmark_tabs.png" }, { "name": "bar_chart", "emoji": "/assets/images/emoji/bar_chart.png" }, { "name": "chart_with_upwards_trend", "emoji": "/assets/images/emoji/chart_with_upwards_trend.png" }, { "name": "chart_with_downwards_trend", "emoji": "/assets/images/emoji/chart_with_downwards_trend.png" }, { "name": "scroll", "emoji": "/assets/images/emoji/scroll.png" }, { "name": "clipboard", "emoji": "/assets/images/emoji/clipboard.png" }, { "name": "calendar", "emoji": "/assets/images/emoji/calendar.png" }, { "name": "date", "emoji": "/assets/images/emoji/date.png" }, { "name": "card_index", "emoji": "/assets/images/emoji/card_index.png" }, { "name": "file_folder", "emoji": "/assets/images/emoji/file_folder.png" }, { "name": "open_file_folder", "emoji": "/assets/images/emoji/open_file_folder.png" }, { "name": "scissors", "emoji": "/assets/images/emoji/scissors.png" }, { "name": "pushpin", "emoji": "/assets/images/emoji/pushpin.png" }, { "name": "paperclip", "emoji": "/assets/images/emoji/paperclip.png" }, { "name": "black_nib", "emoji": "/assets/images/emoji/black_nib.png" }, { "name": "pencil2", "emoji": "/assets/images/emoji/pencil2.png" }, { "name": "straight_ruler", "emoji": "/assets/images/emoji/straight_ruler.png" }, { "name": "triangular_ruler", "emoji": "/assets/images/emoji/triangular_ruler.png" }, { "name": "closed_book", "emoji": "/assets/images/emoji/closed_book.png" }, { "name": "green_book", "emoji": "/assets/images/emoji/green_book.png" }, { "name": "blue_book", "emoji": "/assets/images/emoji/blue_book.png" }, { "name": "orange_book", "emoji": "/assets/images/emoji/orange_book.png" }, { "name": "notebook", "emoji": "/assets/images/emoji/notebook.png" }, { "name": "notebook_with_decorative_cover", "emoji": "/assets/images/emoji/notebook_with_decorative_cover.png" }, { "name": "ledger", "emoji": "/assets/images/emoji/ledger.png" }, { "name": "books", "emoji": "/assets/images/emoji/books.png" }, { "name": "bookmark", "emoji": "/assets/images/emoji/bookmark.png" }, { "name": "name_badge", "emoji": "/assets/images/emoji/name_badge.png" }, { "name": "microscope", "emoji": "/assets/images/emoji/microscope.png" }, { "name": "telescope", "emoji": "/assets/images/emoji/telescope.png" }, { "name": "newspaper", "emoji": "/assets/images/emoji/newspaper.png" }, { "name": "football", "emoji": "/assets/images/emoji/football.png" }, { "name": "basketball", "emoji": "/assets/images/emoji/basketball.png" }, { "name": "soccer", "emoji": "/assets/images/emoji/soccer.png" }, { "name": "baseball", "emoji": "/assets/images/emoji/baseball.png" }, { "name": "tennis", "emoji": "/assets/images/emoji/tennis.png" }, { "name": "8ball", "emoji": "/assets/images/emoji/8ball.png" }, { "name": "rugby_football", "emoji": "/assets/images/emoji/rugby_football.png" }, { "name": "bowling", "emoji": "/assets/images/emoji/bowling.png" }, { "name": "golf", "emoji": "/assets/images/emoji/golf.png" }, { "name": "mountain_bicyclist", "emoji": "/assets/images/emoji/mountain_bicyclist.png" }, { "name": "bicyclist", "emoji": "/assets/images/emoji/bicyclist.png" }, { "name": "horse_racing", "emoji": "/assets/images/emoji/horse_racing.png" }, { "name": "snowboarder", "emoji": "/assets/images/emoji/snowboarder.png" }, { "name": "swimmer", "emoji": "/assets/images/emoji/swimmer.png" }, { "name": "surfer", "emoji": "/assets/images/emoji/surfer.png" }, { "name": "ski", "emoji": "/assets/images/emoji/ski.png" }, { "name": "spades", "emoji": "/assets/images/emoji/spades.png" }, { "name": "hearts", "emoji": "/assets/images/emoji/hearts.png" }, { "name": "clubs", "emoji": "/assets/images/emoji/clubs.png" }, { "name": "diamonds", "emoji": "/assets/images/emoji/diamonds.png" }, { "name": "gem", "emoji": "/assets/images/emoji/gem.png" }, { "name": "ring", "emoji": "/assets/images/emoji/ring.png" }, { "name": "trophy", "emoji": "/assets/images/emoji/trophy.png" }, { "name": "musical_score", "emoji": "/assets/images/emoji/musical_score.png" }, { "name": "musical_keyboard", "emoji": "/assets/images/emoji/musical_keyboard.png" }, { "name": "violin", "emoji": "/assets/images/emoji/violin.png" }, { "name": "space_invader", "emoji": "/assets/images/emoji/space_invader.png" }, { "name": "video_game", "emoji": "/assets/images/emoji/video_game.png" }, { "name": "black_joker", "emoji": "/assets/images/emoji/black_joker.png" }, { "name": "flower_playing_cards", "emoji": "/assets/images/emoji/flower_playing_cards.png" }, { "name": "game_die", "emoji": "/assets/images/emoji/game_die.png" }, { "name": "dart", "emoji": "/assets/images/emoji/dart.png" }, { "name": "mahjong", "emoji": "/assets/images/emoji/mahjong.png" }, { "name": "clapper", "emoji": "/assets/images/emoji/clapper.png" }, { "name": "memo", "emoji": "/assets/images/emoji/memo.png" }, { "name": "pencil", "emoji": "/assets/images/emoji/pencil.png" }, { "name": "book", "emoji": "/assets/images/emoji/book.png" }, { "name": "art", "emoji": "/assets/images/emoji/art.png" }, { "name": "microphone", "emoji": "/assets/images/emoji/microphone.png" }, { "name": "headphones", "emoji": "/assets/images/emoji/headphones.png" }, { "name": "trumpet", "emoji": "/assets/images/emoji/trumpet.png" }, { "name": "saxophone", "emoji": "/assets/images/emoji/saxophone.png" }, { "name": "guitar", "emoji": "/assets/images/emoji/guitar.png" }, { "name": "shoe", "emoji": "/assets/images/emoji/shoe.png" }, { "name": "sandal", "emoji": "/assets/images/emoji/sandal.png" }, { "name": "high_heel", "emoji": "/assets/images/emoji/high_heel.png" }, { "name": "lipstick", "emoji": "/assets/images/emoji/lipstick.png" }, { "name": "boot", "emoji": "/assets/images/emoji/boot.png" }, { "name": "shirt", "emoji": "/assets/images/emoji/shirt.png" }, { "name": "tshirt", "emoji": "/assets/images/emoji/tshirt.png" }, { "name": "necktie", "emoji": "/assets/images/emoji/necktie.png" }, { "name": "womans_clothes", "emoji": "/assets/images/emoji/womans_clothes.png" }, { "name": "dress", "emoji": "/assets/images/emoji/dress.png" }, { "name": "running_shirt_with_sash", "emoji": "/assets/images/emoji/running_shirt_with_sash.png" }, { "name": "jeans", "emoji": "/assets/images/emoji/jeans.png" }, { "name": "kimono", "emoji": "/assets/images/emoji/kimono.png" }, { "name": "bikini", "emoji": "/assets/images/emoji/bikini.png" }, { "name": "ribbon", "emoji": "/assets/images/emoji/ribbon.png" }, { "name": "tophat", "emoji": "/assets/images/emoji/tophat.png" }, { "name": "crown", "emoji": "/assets/images/emoji/crown.png" }, { "name": "womans_hat", "emoji": "/assets/images/emoji/womans_hat.png" }, { "name": "mans_shoe", "emoji": "/assets/images/emoji/mans_shoe.png" }, { "name": "closed_umbrella", "emoji": "/assets/images/emoji/closed_umbrella.png" }, { "name": "briefcase", "emoji": "/assets/images/emoji/briefcase.png" }, { "name": "handbag", "emoji": "/assets/images/emoji/handbag.png" }, { "name": "pouch", "emoji": "/assets/images/emoji/pouch.png" }, { "name": "purse", "emoji": "/assets/images/emoji/purse.png" }, { "name": "eyeglasses", "emoji": "/assets/images/emoji/eyeglasses.png" }, { "name": "fishing_pole_and_fish", "emoji": "/assets/images/emoji/fishing_pole_and_fish.png" }, { "name": "tea", "emoji": "/assets/images/emoji/tea.png" }, { "name": "sake", "emoji": "/assets/images/emoji/sake.png" }, { "name": "baby_bottle", "emoji": "/assets/images/emoji/baby_bottle.png" }, { "name": "beer", "emoji": "/assets/images/emoji/beer.png" }, { "name": "beers", "emoji": "/assets/images/emoji/beers.png" }, { "name": "cocktail", "emoji": "/assets/images/emoji/cocktail.png" }, { "name": "tropical_drink", "emoji": "/assets/images/emoji/tropical_drink.png" }, { "name": "wine_glass", "emoji": "/assets/images/emoji/wine_glass.png" }, { "name": "fork_and_knife", "emoji": "/assets/images/emoji/fork_and_knife.png" }, { "name": "pizza", "emoji": "/assets/images/emoji/pizza.png" }, { "name": "hamburger", "emoji": "/assets/images/emoji/hamburger.png" }, { "name": "fries", "emoji": "/assets/images/emoji/fries.png" }, { "name": "poultry_leg", "emoji": "/assets/images/emoji/poultry_leg.png" }, { "name": "meat_on_bone", "emoji": "/assets/images/emoji/meat_on_bone.png" }, { "name": "spaghetti", "emoji": "/assets/images/emoji/spaghetti.png" }, { "name": "curry", "emoji": "/assets/images/emoji/curry.png" }, { "name": "fried_shrimp", "emoji": "/assets/images/emoji/fried_shrimp.png" }, { "name": "bento", "emoji": "/assets/images/emoji/bento.png" }, { "name": "sushi", "emoji": "/assets/images/emoji/sushi.png" }, { "name": "fish_cake", "emoji": "/assets/images/emoji/fish_cake.png" }, { "name": "rice_ball", "emoji": "/assets/images/emoji/rice_ball.png" }, { "name": "rice_cracker", "emoji": "/assets/images/emoji/rice_cracker.png" }, { "name": "rice", "emoji": "/assets/images/emoji/rice.png" }, { "name": "ramen", "emoji": "/assets/images/emoji/ramen.png" }, { "name": "stew", "emoji": "/assets/images/emoji/stew.png" }, { "name": "oden", "emoji": "/assets/images/emoji/oden.png" }, { "name": "dango", "emoji": "/assets/images/emoji/dango.png" }, { "name": "egg", "emoji": "/assets/images/emoji/egg.png" }, { "name": "bread", "emoji": "/assets/images/emoji/bread.png" }, { "name": "doughnut", "emoji": "/assets/images/emoji/doughnut.png" }, { "name": "custard", "emoji": "/assets/images/emoji/custard.png" }, { "name": "icecream", "emoji": "/assets/images/emoji/icecream.png" }, { "name": "ice_cream", "emoji": "/assets/images/emoji/ice_cream.png" }, { "name": "shaved_ice", "emoji": "/assets/images/emoji/shaved_ice.png" }, { "name": "birthday", "emoji": "/assets/images/emoji/birthday.png" }, { "name": "cake", "emoji": "/assets/images/emoji/cake.png" }, { "name": "cookie", "emoji": "/assets/images/emoji/cookie.png" }, { "name": "chocolate_bar", "emoji": "/assets/images/emoji/chocolate_bar.png" }, { "name": "candy", "emoji": "/assets/images/emoji/candy.png" }, { "name": "lollipop", "emoji": "/assets/images/emoji/lollipop.png" }, { "name": "honey_pot", "emoji": "/assets/images/emoji/honey_pot.png" }, { "name": "apple", "emoji": "/assets/images/emoji/apple.png" }, { "name": "green_apple", "emoji": "/assets/images/emoji/green_apple.png" }, { "name": "tangerine", "emoji": "/assets/images/emoji/tangerine.png" }, { "name": "lemon", "emoji": "/assets/images/emoji/lemon.png" }, { "name": "cherries", "emoji": "/assets/images/emoji/cherries.png" }, { "name": "grapes", "emoji": "/assets/images/emoji/grapes.png" }, { "name": "watermelon", "emoji": "/assets/images/emoji/watermelon.png" }, { "name": "strawberry", "emoji": "/assets/images/emoji/strawberry.png" }, { "name": "peach", "emoji": "/assets/images/emoji/peach.png" }, { "name": "melon", "emoji": "/assets/images/emoji/melon.png" }, { "name": "banana", "emoji": "/assets/images/emoji/banana.png" }, { "name": "pear", "emoji": "/assets/images/emoji/pear.png" }, { "name": "pineapple", "emoji": "/assets/images/emoji/pineapple.png" }, { "name": "sweet_potato", "emoji": "/assets/images/emoji/sweet_potato.png" }, { "name": "eggplant", "emoji": "/assets/images/emoji/eggplant.png" }, { "name": "tomato", "emoji": "/assets/images/emoji/tomato.png" }, { "name": "corn", "emoji": "/assets/images/emoji/corn.png" }];
            places = [{ "name": "house", "emoji": "/assets/images/emoji/house.png" }, { "name": "house_with_garden", "emoji": "/assets/images/emoji/house_with_garden.png" }, { "name": "school", "emoji": "/assets/images/emoji/school.png" }, { "name": "office", "emoji": "/assets/images/emoji/office.png" }, { "name": "post_office", "emoji": "/assets/images/emoji/post_office.png" }, { "name": "hospital", "emoji": "/assets/images/emoji/hospital.png" }, { "name": "bank", "emoji": "/assets/images/emoji/bank.png" }, { "name": "convenience_store", "emoji": "/assets/images/emoji/convenience_store.png" }, { "name": "love_hotel", "emoji": "/assets/images/emoji/love_hotel.png" }, { "name": "hotel", "emoji": "/assets/images/emoji/hotel.png" }, { "name": "wedding", "emoji": "/assets/images/emoji/wedding.png" }, { "name": "church", "emoji": "/assets/images/emoji/church.png" }, { "name": "department_store", "emoji": "/assets/images/emoji/department_store.png" }, { "name": "european_post_office", "emoji": "/assets/images/emoji/european_post_office.png" }, { "name": "city_sunrise", "emoji": "/assets/images/emoji/city_sunrise.png" }, { "name": "city_sunset", "emoji": "/assets/images/emoji/city_sunset.png" }, { "name": "japanese_castle", "emoji": "/assets/images/emoji/japanese_castle.png" }, { "name": "european_castle", "emoji": "/assets/images/emoji/european_castle.png" }, { "name": "tent", "emoji": "/assets/images/emoji/tent.png" }, { "name": "factory", "emoji": "/assets/images/emoji/factory.png" }, { "name": "tokyo_tower", "emoji": "/assets/images/emoji/tokyo_tower.png" }, { "name": "japan", "emoji": "/assets/images/emoji/japan.png" }, { "name": "mount_fuji", "emoji": "/assets/images/emoji/mount_fuji.png" }, { "name": "sunrise_over_mountains", "emoji": "/assets/images/emoji/sunrise_over_mountains.png" }, { "name": "sunrise", "emoji": "/assets/images/emoji/sunrise.png" }, { "name": "stars", "emoji": "/assets/images/emoji/stars.png" }, { "name": "statue_of_liberty", "emoji": "/assets/images/emoji/statue_of_liberty.png" }, { "name": "bridge_at_night", "emoji": "/assets/images/emoji/bridge_at_night.png" }, { "name": "carousel_horse", "emoji": "/assets/images/emoji/carousel_horse.png" }, { "name": "rainbow", "emoji": "/assets/images/emoji/rainbow.png" }, { "name": "ferris_wheel", "emoji": "/assets/images/emoji/ferris_wheel.png" }, { "name": "fountain", "emoji": "/assets/images/emoji/fountain.png" }, { "name": "roller_coaster", "emoji": "/assets/images/emoji/roller_coaster.png" }, { "name": "ship", "emoji": "/assets/images/emoji/ship.png" }, { "name": "speedboat", "emoji": "/assets/images/emoji/speedboat.png" }, { "name": "boat", "emoji": "/assets/images/emoji/boat.png" }, { "name": "sailboat", "emoji": "/assets/images/emoji/sailboat.png" }, { "name": "rowboat", "emoji": "/assets/images/emoji/rowboat.png" }, { "name": "anchor", "emoji": "/assets/images/emoji/anchor.png" }, { "name": "rocket", "emoji": "/assets/images/emoji/rocket.png" }, { "name": "airplane", "emoji": "/assets/images/emoji/airplane.png" }, { "name": "helicopter", "emoji": "/assets/images/emoji/helicopter.png" }, { "name": "steam_locomotive", "emoji": "/assets/images/emoji/steam_locomotive.png" }, { "name": "tram", "emoji": "/assets/images/emoji/tram.png" }, { "name": "mountain_railway", "emoji": "/assets/images/emoji/mountain_railway.png" }, { "name": "bike", "emoji": "/assets/images/emoji/bike.png" }, { "name": "aerial_tramway", "emoji": "/assets/images/emoji/aerial_tramway.png" }, { "name": "suspension_railway", "emoji": "/assets/images/emoji/suspension_railway.png" }, { "name": "mountain_cableway", "emoji": "/assets/images/emoji/mountain_cableway.png" }, { "name": "tractor", "emoji": "/assets/images/emoji/tractor.png" }, { "name": "blue_car", "emoji": "/assets/images/emoji/blue_car.png" }, { "name": "oncoming_automobile", "emoji": "/assets/images/emoji/oncoming_automobile.png" }, { "name": "car", "emoji": "/assets/images/emoji/car.png" }, { "name": "red_car", "emoji": "/assets/images/emoji/red_car.png" }, { "name": "taxi", "emoji": "/assets/images/emoji/taxi.png" }, { "name": "oncoming_taxi", "emoji": "/assets/images/emoji/oncoming_taxi.png" }, { "name": "articulated_lorry", "emoji": "/assets/images/emoji/articulated_lorry.png" }, { "name": "bus", "emoji": "/assets/images/emoji/bus.png" }, { "name": "oncoming_bus", "emoji": "/assets/images/emoji/oncoming_bus.png" }, { "name": "rotating_light", "emoji": "/assets/images/emoji/rotating_light.png" }, { "name": "police_car", "emoji": "/assets/images/emoji/police_car.png" }, { "name": "oncoming_police_car", "emoji": "/assets/images/emoji/oncoming_police_car.png" }, { "name": "fire_engine", "emoji": "/assets/images/emoji/fire_engine.png" }, { "name": "ambulance", "emoji": "/assets/images/emoji/ambulance.png" }, { "name": "minibus", "emoji": "/assets/images/emoji/minibus.png" }, { "name": "truck", "emoji": "/assets/images/emoji/truck.png" }, { "name": "train", "emoji": "/assets/images/emoji/train.png" }, { "name": "station", "emoji": "/assets/images/emoji/station.png" }, { "name": "train2", "emoji": "/assets/images/emoji/train2.png" }, { "name": "bullettrain_front", "emoji": "/assets/images/emoji/bullettrain_front.png" }, { "name": "bullettrain_side", "emoji": "/assets/images/emoji/bullettrain_side.png" }, { "name": "light_rail", "emoji": "/assets/images/emoji/light_rail.png" }, { "name": "monorail", "emoji": "/assets/images/emoji/monorail.png" }, { "name": "railway_car", "emoji": "/assets/images/emoji/railway_car.png" }, { "name": "trolleybus", "emoji": "/assets/images/emoji/trolleybus.png" }, { "name": "ticket", "emoji": "/assets/images/emoji/ticket.png" }, { "name": "fuelpump", "emoji": "/assets/images/emoji/fuelpump.png" }, { "name": "vertical_traffic_light", "emoji": "/assets/images/emoji/vertical_traffic_light.png" }, { "name": "traffic_light", "emoji": "/assets/images/emoji/traffic_light.png" }, { "name": "warning", "emoji": "/assets/images/emoji/warning.png" }, { "name": "construction", "emoji": "/assets/images/emoji/construction.png" }, { "name": "beginner", "emoji": "/assets/images/emoji/beginner.png" }, { "name": "atm", "emoji": "/assets/images/emoji/atm.png" }, { "name": "slot_machine", "emoji": "/assets/images/emoji/slot_machine.png" }, { "name": "busstop", "emoji": "/assets/images/emoji/busstop.png" }, { "name": "barber", "emoji": "/assets/images/emoji/barber.png" }, { "name": "hotsprings", "emoji": "/assets/images/emoji/hotsprings.png" }, { "name": "checkered_flag", "emoji": "/assets/images/emoji/checkered_flag.png" }, { "name": "crossed_flags", "emoji": "/assets/images/emoji/crossed_flags.png" }, { "name": "izakaya_lantern", "emoji": "/assets/images/emoji/izakaya_lantern.png" }, { "name": "moyai", "emoji": "/assets/images/emoji/moyai.png" }, { "name": "circus_tent", "emoji": "/assets/images/emoji/circus_tent.png" }, { "name": "performing_arts", "emoji": "/assets/images/emoji/performing_arts.png" }, { "name": "round_pushpin", "emoji": "/assets/images/emoji/round_pushpin.png" }, { "name": "triangular_flag_on_post", "emoji": "/assets/images/emoji/triangular_flag_on_post.png" }, { "name": "jp", "emoji": "/assets/images/emoji/jp.png" }, { "name": "kr", "emoji": "/assets/images/emoji/kr.png" }, { "name": "cn", "emoji": "/assets/images/emoji/cn.png" }, { "name": "us", "emoji": "/assets/images/emoji/us.png" }, { "name": "fr", "emoji": "/assets/images/emoji/fr.png" }, { "name": "es", "emoji": "/assets/images/emoji/es.png" }, { "name": "it", "emoji": "/assets/images/emoji/it.png" }, { "name": "ru", "emoji": "/assets/images/emoji/ru.png" }, { "name": "gb", "emoji": "/assets/images/emoji/gb.png" }, { "name": "uk", "emoji": "/assets/images/emoji/uk.png" }, { "name": "de", "emoji": "/assets/images/emoji/de.png" }];
            symbols = [{ "name": "one", "emoji": "/assets/images/emoji/one.png" }, { "name": "two", "emoji": "/assets/images/emoji/two.png" }, { "name": "three", "emoji": "/assets/images/emoji/three.png" }, { "name": "four", "emoji": "/assets/images/emoji/four.png" }, { "name": "five", "emoji": "/assets/images/emoji/five.png" }, { "name": "six", "emoji": "/assets/images/emoji/six.png" }, { "name": "seven", "emoji": "/assets/images/emoji/seven.png" }, { "name": "eight", "emoji": "/assets/images/emoji/eight.png" }, { "name": "nine", "emoji": "/assets/images/emoji/nine.png" }, { "name": "keycap_ten", "emoji": "/assets/images/emoji/keycap_ten.png" }, { "name": "1234", "emoji": "/assets/images/emoji/1234.png" }, { "name": "zero", "emoji": "/assets/images/emoji/zero.png" }, { "name": "hash", "emoji": "/assets/images/emoji/hash.png" }, { "name": "symbols", "emoji": "/assets/images/emoji/symbols.png" }, { "name": "arrow_backward", "emoji": "/assets/images/emoji/arrow_backward.png" }, { "name": "arrow_down", "emoji": "/assets/images/emoji/arrow_down.png" }, { "name": "arrow_forward", "emoji": "/assets/images/emoji/arrow_forward.png" }, { "name": "arrow_left", "emoji": "/assets/images/emoji/arrow_left.png" }, { "name": "capital_abcd", "emoji": "/assets/images/emoji/capital_abcd.png" }, { "name": "abcd", "emoji": "/assets/images/emoji/abcd.png" }, { "name": "abc", "emoji": "/assets/images/emoji/abc.png" }, { "name": "arrow_lower_left", "emoji": "/assets/images/emoji/arrow_lower_left.png" }, { "name": "arrow_lower_right", "emoji": "/assets/images/emoji/arrow_lower_right.png" }, { "name": "arrow_right", "emoji": "/assets/images/emoji/arrow_right.png" }, { "name": "arrow_up", "emoji": "/assets/images/emoji/arrow_up.png" }, { "name": "arrow_upper_left", "emoji": "/assets/images/emoji/arrow_upper_left.png" }, { "name": "arrow_upper_right", "emoji": "/assets/images/emoji/arrow_upper_right.png" }, { "name": "arrow_double_down", "emoji": "/assets/images/emoji/arrow_double_down.png" }, { "name": "arrow_double_up", "emoji": "/assets/images/emoji/arrow_double_up.png" }, { "name": "arrow_down_small", "emoji": "/assets/images/emoji/arrow_down_small.png" }, { "name": "arrow_heading_down", "emoji": "/assets/images/emoji/arrow_heading_down.png" }, { "name": "arrow_heading_up", "emoji": "/assets/images/emoji/arrow_heading_up.png" }, { "name": "leftwards_arrow_with_hook", "emoji": "/assets/images/emoji/leftwards_arrow_with_hook.png" }, { "name": "arrow_right_hook", "emoji": "/assets/images/emoji/arrow_right_hook.png" }, { "name": "left_right_arrow", "emoji": "/assets/images/emoji/left_right_arrow.png" }, { "name": "arrow_up_down", "emoji": "/assets/images/emoji/arrow_up_down.png" }, { "name": "arrow_up_small", "emoji": "/assets/images/emoji/arrow_up_small.png" }, { "name": "arrows_clockwise", "emoji": "/assets/images/emoji/arrows_clockwise.png" }, { "name": "arrows_counterclockwise", "emoji": "/assets/images/emoji/arrows_counterclockwise.png" }, { "name": "rewind", "emoji": "/assets/images/emoji/rewind.png" }, { "name": "fast_forward", "emoji": "/assets/images/emoji/fast_forward.png" }, { "name": "information_source", "emoji": "/assets/images/emoji/information_source.png" }, { "name": "ok", "emoji": "/assets/images/emoji/ok.png" }, { "name": "twisted_rightwards_arrows", "emoji": "/assets/images/emoji/twisted_rightwards_arrows.png" }, { "name": "repeat", "emoji": "/assets/images/emoji/repeat.png" }, { "name": "repeat_one", "emoji": "/assets/images/emoji/repeat_one.png" }, { "name": "new", "emoji": "/assets/images/emoji/new.png" }, { "name": "top", "emoji": "/assets/images/emoji/top.png" }, { "name": "up", "emoji": "/assets/images/emoji/up.png" }, { "name": "cool", "emoji": "/assets/images/emoji/cool.png" }, { "name": "free", "emoji": "/assets/images/emoji/free.png" }, { "name": "ng", "emoji": "/assets/images/emoji/ng.png" }, { "name": "cinema", "emoji": "/assets/images/emoji/cinema.png" }, { "name": "koko", "emoji": "/assets/images/emoji/koko.png" }, { "name": "signal_strength", "emoji": "/assets/images/emoji/signal_strength.png" }, { "name": "u5272", "emoji": "/assets/images/emoji/u5272.png" }, { "name": "u5408", "emoji": "/assets/images/emoji/u5408.png" }, { "name": "u55b6", "emoji": "/assets/images/emoji/u55b6.png" }, { "name": "u6307", "emoji": "/assets/images/emoji/u6307.png" }, { "name": "u6708", "emoji": "/assets/images/emoji/u6708.png" }, { "name": "u6709", "emoji": "/assets/images/emoji/u6709.png" }, { "name": "u6e80", "emoji": "/assets/images/emoji/u6e80.png" }, { "name": "u7121", "emoji": "/assets/images/emoji/u7121.png" }, { "name": "u7533", "emoji": "/assets/images/emoji/u7533.png" }, { "name": "u7a7a", "emoji": "/assets/images/emoji/u7a7a.png" }, { "name": "u7981", "emoji": "/assets/images/emoji/u7981.png" }, { "name": "sa", "emoji": "/assets/images/emoji/sa.png" }, { "name": "restroom", "emoji": "/assets/images/emoji/restroom.png" }, { "name": "mens", "emoji": "/assets/images/emoji/mens.png" }, { "name": "womens", "emoji": "/assets/images/emoji/womens.png" }, { "name": "baby_symbol", "emoji": "/assets/images/emoji/baby_symbol.png" }, { "name": "no_smoking", "emoji": "/assets/images/emoji/no_smoking.png" }, { "name": "parking", "emoji": "/assets/images/emoji/parking.png" }, { "name": "wheelchair", "emoji": "/assets/images/emoji/wheelchair.png" }, { "name": "metro", "emoji": "/assets/images/emoji/metro.png" }, { "name": "baggage_claim", "emoji": "/assets/images/emoji/baggage_claim.png" }, { "name": "accept", "emoji": "/assets/images/emoji/accept.png" }, { "name": "wc", "emoji": "/assets/images/emoji/wc.png" }, { "name": "potable_water", "emoji": "/assets/images/emoji/potable_water.png" }, { "name": "put_litter_in_its_place", "emoji": "/assets/images/emoji/put_litter_in_its_place.png" }, { "name": "secret", "emoji": "/assets/images/emoji/secret.png" }, { "name": "congratulations", "emoji": "/assets/images/emoji/congratulations.png" }, { "name": "m", "emoji": "/assets/images/emoji/m.png" }, { "name": "passport_control", "emoji": "/assets/images/emoji/passport_control.png" }, { "name": "left_luggage", "emoji": "/assets/images/emoji/left_luggage.png" }, { "name": "customs", "emoji": "/assets/images/emoji/customs.png" }, { "name": "ideograph_advantage", "emoji": "/assets/images/emoji/ideograph_advantage.png" }, { "name": "cl", "emoji": "/assets/images/emoji/cl.png" }, { "name": "sos", "emoji": "/assets/images/emoji/sos.png" }, { "name": "id", "emoji": "/assets/images/emoji/id.png" }, { "name": "no_entry_sign", "emoji": "/assets/images/emoji/no_entry_sign.png" }, { "name": "underage", "emoji": "/assets/images/emoji/underage.png" }, { "name": "no_mobile_phones", "emoji": "/assets/images/emoji/no_mobile_phones.png" }, { "name": "do_not_litter", "emoji": "/assets/images/emoji/do_not_litter.png" }, { "name": "non-potable_water", "emoji": "/assets/images/emoji/non-potable_water.png" }, { "name": "no_bicycles", "emoji": "/assets/images/emoji/no_bicycles.png" }, { "name": "no_pedestrians", "emoji": "/assets/images/emoji/no_pedestrians.png" }, { "name": "children_crossing", "emoji": "/assets/images/emoji/children_crossing.png" }, { "name": "no_entry", "emoji": "/assets/images/emoji/no_entry.png" }, { "name": "eight_spoked_asterisk", "emoji": "/assets/images/emoji/eight_spoked_asterisk.png" }, { "name": "sparkle", "emoji": "/assets/images/emoji/sparkle.png" }, { "name": "eight_pointed_black_star", "emoji": "/assets/images/emoji/eight_pointed_black_star.png" }, { "name": "heart_decoration", "emoji": "/assets/images/emoji/heart_decoration.png" }, { "name": "vs", "emoji": "/assets/images/emoji/vs.png" }, { "name": "vibration_mode", "emoji": "/assets/images/emoji/vibration_mode.png" }, { "name": "mobile_phone_off", "emoji": "/assets/images/emoji/mobile_phone_off.png" }, { "name": "chart", "emoji": "/assets/images/emoji/chart.png" }, { "name": "currency_exchange", "emoji": "/assets/images/emoji/currency_exchange.png" }, { "name": "aries", "emoji": "/assets/images/emoji/aries.png" }, { "name": "taurus", "emoji": "/assets/images/emoji/taurus.png" }, { "name": "gemini", "emoji": "/assets/images/emoji/gemini.png" }, { "name": "cancer", "emoji": "/assets/images/emoji/cancer.png" }, { "name": "leo", "emoji": "/assets/images/emoji/leo.png" }, { "name": "virgo", "emoji": "/assets/images/emoji/virgo.png" }, { "name": "libra", "emoji": "/assets/images/emoji/libra.png" }, { "name": "scorpius", "emoji": "/assets/images/emoji/scorpius.png" }, { "name": "sagittarius", "emoji": "/assets/images/emoji/sagittarius.png" }, { "name": "capricorn", "emoji": "/assets/images/emoji/capricorn.png" }, { "name": "aquarius", "emoji": "/assets/images/emoji/aquarius.png" }, { "name": "pisces", "emoji": "/assets/images/emoji/pisces.png" }, { "name": "ophiuchus", "emoji": "/assets/images/emoji/ophiuchus.png" }, { "name": "six_pointed_star", "emoji": "/assets/images/emoji/six_pointed_star.png" }, { "name": "negative_squared_cross_mark", "emoji": "/assets/images/emoji/negative_squared_cross_mark.png" }, { "name": "a", "emoji": "/assets/images/emoji/a.png" }, { "name": "b", "emoji": "/assets/images/emoji/b.png" }, { "name": "ab", "emoji": "/assets/images/emoji/ab.png" }, { "name": "o2", "emoji": "/assets/images/emoji/o2.png" }, { "name": "diamond_shape_with_a_dot_inside", "emoji": "/assets/images/emoji/diamond_shape_with_a_dot_inside.png" }, { "name": "recycle", "emoji": "/assets/images/emoji/recycle.png" }, { "name": "end", "emoji": "/assets/images/emoji/end.png" }, { "name": "back", "emoji": "/assets/images/emoji/back.png" }, { "name": "on", "emoji": "/assets/images/emoji/on.png" }, { "name": "soon", "emoji": "/assets/images/emoji/soon.png" }, { "name": "clock1", "emoji": "/assets/images/emoji/clock1.png" }, { "name": "clock130", "emoji": "/assets/images/emoji/clock130.png" }, { "name": "clock10", "emoji": "/assets/images/emoji/clock10.png" }, { "name": "clock1030", "emoji": "/assets/images/emoji/clock1030.png" }, { "name": "clock11", "emoji": "/assets/images/emoji/clock11.png" }, { "name": "clock1130", "emoji": "/assets/images/emoji/clock1130.png" }, { "name": "clock12", "emoji": "/assets/images/emoji/clock12.png" }, { "name": "clock1230", "emoji": "/assets/images/emoji/clock1230.png" }, { "name": "clock2", "emoji": "/assets/images/emoji/clock2.png" }, { "name": "clock230", "emoji": "/assets/images/emoji/clock230.png" }, { "name": "clock3", "emoji": "/assets/images/emoji/clock3.png" }, { "name": "clock330", "emoji": "/assets/images/emoji/clock330.png" }, { "name": "clock4", "emoji": "/assets/images/emoji/clock4.png" }, { "name": "clock430", "emoji": "/assets/images/emoji/clock430.png" }, { "name": "clock5", "emoji": "/assets/images/emoji/clock5.png" }, { "name": "clock530", "emoji": "/assets/images/emoji/clock530.png" }, { "name": "clock6", "emoji": "/assets/images/emoji/clock6.png" }, { "name": "clock630", "emoji": "/assets/images/emoji/clock630.png" }, { "name": "clock7", "emoji": "/assets/images/emoji/clock7.png" }, { "name": "clock730", "emoji": "/assets/images/emoji/clock730.png" }, { "name": "clock8", "emoji": "/assets/images/emoji/clock8.png" }, { "name": "clock830", "emoji": "/assets/images/emoji/clock830.png" }, { "name": "clock9", "emoji": "/assets/images/emoji/clock9.png" }, { "name": "clock930", "emoji": "/assets/images/emoji/clock930.png" }, { "name": "heavy_dollar_sign", "emoji": "/assets/images/emoji/heavy_dollar_sign.png" }, { "name": "copyright", "emoji": "/assets/images/emoji/copyright.png" }, { "name": "registered", "emoji": "/assets/images/emoji/registered.png" }, { "name": "tm", "emoji": "/assets/images/emoji/tm.png" }, { "name": "x", "emoji": "/assets/images/emoji/x.png" }, { "name": "heavy_exclamation_mark", "emoji": "/assets/images/emoji/heavy_exclamation_mark.png" }, { "name": "bangbang", "emoji": "/assets/images/emoji/bangbang.png" }, { "name": "interrobang", "emoji": "/assets/images/emoji/interrobang.png" }, { "name": "o", "emoji": "/assets/images/emoji/o.png" }, { "name": "heavy_multiplication_x", "emoji": "/assets/images/emoji/heavy_multiplication_x.png" }, { "name": "heavy_plus_sign", "emoji": "/assets/images/emoji/heavy_plus_sign.png" }, { "name": "heavy_minus_sign", "emoji": "/assets/images/emoji/heavy_minus_sign.png" }, { "name": "heavy_division_sign", "emoji": "/assets/images/emoji/heavy_division_sign.png" }, { "name": "white_flower", "emoji": "/assets/images/emoji/white_flower.png" }, { "name": "100", "emoji": "/assets/images/emoji/100.png" }, { "name": "heavy_check_mark", "emoji": "/assets/images/emoji/heavy_check_mark.png" }, { "name": "ballot_box_with_check", "emoji": "/assets/images/emoji/ballot_box_with_check.png" }, { "name": "radio_button", "emoji": "/assets/images/emoji/radio_button.png" }, { "name": "link", "emoji": "/assets/images/emoji/link.png" }, { "name": "curly_loop", "emoji": "/assets/images/emoji/curly_loop.png" }, { "name": "wavy_dash", "emoji": "/assets/images/emoji/wavy_dash.png" }, { "name": "part_alternation_mark", "emoji": "/assets/images/emoji/part_alternation_mark.png" }, { "name": "trident", "emoji": "/assets/images/emoji/trident.png" }, { "name": "black_small_square", "emoji": "/assets/images/emoji/black_small_square.png" }, { "name": "white_small_square", "emoji": "/assets/images/emoji/white_small_square.png" }, { "name": "black_medium_small_square", "emoji": "/assets/images/emoji/black_medium_small_square.png" }, { "name": "white_medium_small_square", "emoji": "/assets/images/emoji/white_medium_small_square.png" }, { "name": "black_medium_square", "emoji": "/assets/images/emoji/black_medium_square.png" }, { "name": "white_medium_square", "emoji": "/assets/images/emoji/white_medium_square.png" }, { "name": "black_large_square", "emoji": "/assets/images/emoji/black_square.png" }, { "name": "white_large_square", "emoji": "/assets/images/emoji/white_large_square.png" }, { "name": "white_check_mark", "emoji": "/assets/images/emoji/white_check_mark.png" }, { "name": "black_square_button", "emoji": "/assets/images/emoji/black_square_button.png" }, { "name": "white_square_button", "emoji": "/assets/images/emoji/white_square_button.png" }, { "name": "black_circle", "emoji": "/assets/images/emoji/black_circle.png" }, { "name": "white_circle", "emoji": "/assets/images/emoji/white_circle.png" }, { "name": "red_circle", "emoji": "/assets/images/emoji/red_circle.png" }, { "name": "large_blue_circle", "emoji": "/assets/images/emoji/large_blue_circle.png" }, { "name": "large_blue_diamond", "emoji": "/assets/images/emoji/large_blue_diamond.png" }, { "name": "large_orange_diamond", "emoji": "/assets/images/emoji/large_orange_diamond.png" }, { "name": "small_blue_diamond", "emoji": "/assets/images/emoji/small_blue_diamond.png" }, { "name": "small_orange_diamond", "emoji": "/assets/images/emoji/small_orange_diamond.png" }, { "name": "small_red_triangle", "emoji": "/assets/images/emoji/small_red_triangle.png" }, { "name": "small_red_triangle_down", "emoji": "/assets/images/emoji/small_red_triangle_down.png" }, { "name": "shipit", "emoji": "/assets/images/emoji/shipit.png" }];
            defaultCats = {
                Unseen: unseen,
                People: people
            };
            curSearchText = '';
            curSearchText_LowerCase = '';
            instance = {
                cats: defaultCats,
                filterText: curSearchText,
                applyFilter: function (text) {
                    if (text == null || text == '') {
                        this.cats = defaultCats;
                    } else {
                        this.cats = applyFilter(text);
                    }
                    return this.cats;
                },
                resetFilter: function () {
                    curSearchText = '';
                    curSearchText_LowerCase = '';
                }
            };
            exports_1("default", instance);
        }
    };
});
$__System.register("163", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<emoticon-tab>\n    <div class=\"emoticon-tab-container\">\n        <article class=\"uk-comment\">\n            <header class=\"uk-comment-header\">\n                <ul class=\"uk-comment-meta uk-subnav uk-subnav-line\">\n                    <li each=\"{{name, value in emojiconData}}\"><a href=\"\" cat=\"{{name}}\" onclick=\"{{switchTab}}\">{{name}}</a></li>\n                </ul>\n            </header>\n            <div class=\"uk-comment-body\">\n                <div class=\"uk-switcher emoticon-tab-switcher\">\n                    <div each=\"{{name, value in emojiconData}}\">\n                        <ul class=\"og-grid\">\n                            <li each=\"{{emojicon in value}}\">\n                                <div class=\"ripple\" data-ripple-color=\"#89669b\">\n                                    <img src=\"{{emojicon.emoji}}\" onclick=\"{{insertEmojicon}}\" class=\"emoji\" title=\"{{':' + emojicon.name + ':'}}\">\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"uk-form\">\n                    <div class=\"uk-form-icon\">\n                        <i class=\"uk-icon-search\"></i>\n                        <input class=\"search-emoticon\" type=\"text\" onkeyup=\"{{onKeyupSearchInput}}\">\n                    </div>\n                </div>\n            </div>\n        </article>\n    </div>\n    <style scoped>\n        .emoticon-tab-container {\n            width: 250px;\n            height: 230px;\n            overflow: hidden;\n            font-size: 12px;\n        }\n\n        .uk-comment{\n            padding: 0px !important;\n            background-color: transparent !important;\n        }\n        \n        .uk-subnav {\n            margin: 0px;\n        }\n\n        .uk-comment{ \n            padding: 0px !important; \n            background-color: transparent !important; \n        } \n        \n        .uk-comment-body {}\n        \n        .uk-switcher {\n            width: 100%;\n            background-color: #fff;\n            border: 1px solid #ddd;\n            margin-bottom: 10px;\n        }\n        \n        .uk-form .search-emoticon {\n            width: 150px !important;\n            height: 22px !important;\n            outline: none !important;\n            background-color: #fff;\n            border: 1px solid #aaa !important;\n        }\n        \n        .uk-switcher > div {\n            height: 150px;\n            overflow: auto;\n        }\n        \n        .og-grid {\n            list-style: none;\n            /*padding: 20px 0;*/\n            margin: 0 auto;\n            padding-left: 0px;\n            text-align: center;\n            width: 100%;\n        }\n        \n        .og-grid li {\n            display: inline-block;\n            /*margin: 2px;*/\n            vertical-align: top;\n            /*border: 1px solid #e5e5e5;*/\n            cursor: pointer;\n            padding: 5px;\n            float: left;\n        }\n        \n        .og-grid li:hover {\n            background-color: #e5e5e5;\n        }\n        \n        .og-grid li img {\n            border: none;\n            outline: none;\n            display: block;\n            position: relative;\n            color: #555;\n            text-decoration: none;\n            height: 24px;\n            width: 24px;\n        }\n    </style>\n</emoticon-tab>");
        }
    };
});
$__System.register('164', ['144', '162', '163'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, emoticons_1, emoticon_tab_html_text_1;
    var EmoticonTab;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (emoticons_1_1) {
            emoticons_1 = emoticons_1_1;
        }, function (emoticon_tab_html_text_1_1) {
            emoticon_tab_html_text_1 = emoticon_tab_html_text_1_1;
        }],
        execute: function () {
            EmoticonTab = function (_super) {
                __extends(EmoticonTab, _super);
                function EmoticonTab(opts) {
                    _super.call(this);
                    this.conv_id = opts.conv_id;
                    this.emojiconData = emoticons_1.default.cats;
                }
                EmoticonTab.prototype.mounted = function () {
                    var emoticonTab = this.root.querySelector('.emoticon-tab-switcher');
                    this.emoticonTabSwitcher = UIkit.switcher(jQuery(emoticonTab));
                    this.doSwitchTab(0);
                };
                EmoticonTab.prototype.switchTab = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    var target = e.target;
                    var cat = (target.getAttribute('cat') || '').toLowerCase();
                    var cats = ['unseen', 'people', 'nature', 'objects', 'places', 'symbols'];
                    var index = cats.indexOf(cat);
                    if (index == -1) return;
                    var newTab = target.parentNode;
                    if (this.lastTab && this.lastTab != newTab) {}
                    this.doSwitchTab(index);
                };
                EmoticonTab.prototype.doSwitchTab = function (index) {
                    if (this.emoticonTabSwitcher) {
                        this.emoticonTabSwitcher.show(index);
                    }
                };
                EmoticonTab.prototype.onKeyupSearchInput = function (e) {
                    var input = e.target;
                    var filterText = input.value.trim();
                    this.emojiconData = emoticons_1.default.applyFilter(filterText);
                    this.update();
                };
                EmoticonTab.prototype.insertEmojicon = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    var item = e.item;
                    var target = e.target;
                    if (target.tagName == "IMG") {
                        target = target.parentNode;
                    }
                    if (this.selectEmoticon) {
                        this.selectEmoticon(item.emojicon);
                    }
                    this.makeRippleEffect(e, target);
                };
                EmoticonTab.prototype.makeRippleEffect = function (event, el) {
                    el.classList.add('uk-animation-scale');
                    window.setTimeout(function () {
                        el.classList.remove('uk-animation-scale');
                    }, 500);
                };
                EmoticonTab = __decorate([riot_ts_1.template(emoticon_tab_html_text_1.default)], EmoticonTab);
                return EmoticonTab;
            }(riot_ts_1.Element);
            exports_1("default", EmoticonTab);
        }
    };
});
$__System.register("165", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<message-box>\n    <div class=\"message-box-container\" onscroll=\"{{onMessageBoxContainerScroll}}\">\n        <div class=\"chat\">\n            <loading-indicator show=\"{{conv.isLoadingMessages}}\"></loading-indicator>\n            <div class=\"load-more-history\"><button onclick=\"{{loadMoreHistory}}\">More History</button></div>\n            <virtual each=\"{{msg in this.messages}}\">\n                <div class=\"created-time uk-margin-small\" if=\"{{isInNewDate(msg)}}\">\n                    <created-time time=\"{{msg.created_time}}\" />\n                </div>\n\n                <div class=\"message uk-margin-small-bottom\" if=\"{{isPartner(msg.sender_id)}}\">\n                    <img class=\"avatar\" src=\"{{avatarUrl(msg.sender_id)}}\" title=\"{{displayName(msg.sender_id)}}\" />\n                    <div class=\"message-content\">\n                        <p class=\"trix-content uk-padding-bottom-remove\">\n                            <msg-content conv_id=\"{{parent.conv.id}}\" message_id=\"{{msg.message_id}}\" />\n                        </p>\n                        <div class=\"uk-clearfix\" />\n                        <msg-time time=\"{{msg.created_time}}\" class=\"uk-float-left\"></msg-time>\n                    </div>\n                </div>\n                <div class=\"message me uk-margin-small-bottom\" if=\"{{isOwner(msg.sender_id)}}\">\n                    <img class=\"avatar\" src=\"{{avatarUrl(msg.sender_id)}}\" title=\"{{displayName(msg.sender_id)}}\" />\n                    <div class=\"message-content\">\n                        <p class=\"trix-content\">\n                            <msg-content conv_id=\"{{parent.conv.id}}\" message_id=\"{{msg.message_id}}\" />\n                        </p>\n                        <div class=\"uk-clearfix\" />\n                        <msg-time  time=\"{{msg.created_time}}\" class=\"uk-float-right\"></msg-time>\n                        <div class=\"uk-float-right uk-margin-small-bottom uk-margin-small-right\" style=\"clear: right;\" if=\"{{msg.status != '' && isOwner(msg.sender_id)}}\">\n                            <div class=\"uk-badge msg-sending\" if=\"{{msg.status=='sending'}}\">sending...</div>\n                            <div class=\"uk-badge uk-badge-danger msg-failed\" if=\"{{msg.status=='failed'}}\">Message not delivered.</div>\n                        </div>\n                    </div>\n                </div>\n            </virtual>\n        </div>\n    </div>\n\n    <style scoped>\n        :scope,\n        .message-box-container {\n            position: absolute;\n            top: 0px;\n            bottom: 0px;\n            left: 0px;\n            right: 0px;\n            background-color: #f5f5f5;\n            padding: 8px;\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n        \n        .load-more-history {\n            border: 0;\n            background-color: transparent;\n            clear: both;\n            margin-bottom: 12px;\n            outline: 0;\n        }\n        \n        .load-more-history button {\n            border: none;\n            border-bottom: 1px solid #e5e5e5;\n            width: 100%;\n            box-shadow: none;\n            text-overflow: ellipsis;\n            cursor: pointer;\n            text-decoration: none;\n            overflow: hidden;\n            background-color: transparent;\n            outline: 0;\n            color: #aaa;\n            font-size: 9pt;\n        }\n        \n        .created-time {\n            text-align: center;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            color: #aaa;\n            font-size: 9pt;\n            margin-bottom: 10px;\n        }\n        \n        .chat {\n            display: block;\n            width: 100%;\n            height: 100%;\n        }\n        \n        .chat .message {\n            display: flex;\n            margin: 10px 0 0 10px;\n            min-height: 30px;\n            height: auto;\n            text-align: left;\n        }\n        \n        .chat .message.me img.avatar {\n            order: 2;\n            margin: 0 0 0 3px;\n        }\n        \n        .chat .message.me .message-content {\n            order: 1;\n            padding: 0 8px 0 0;\n        }\n        \n        .chat .message.me .trix-content {\n            float: right;\n        }\n        \n        .chat .message.me .message-content:before {\n            position: relative;\n            float: right;\n            content: '';\n            margin: 7px -8px 0 0;\n            width: 0;\n            height: 0;\n            border-style: solid;\n            border-width: 8px 0 8px 8px;\n            border-color: transparent transparent transparent #fff;\n        }\n        \n        .chat .message img.avatar {\n            display: block;\n            order: 1;\n            margin: 0 10px 0 0;\n            height: 30px;\n            width: 30px;\n            border-radius: 50%;\n            box-sizing: border-box;\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n        }\n        \n        .chat .message .message-content {\n            display: block;\n            flex: 1;\n            order: 2;\n        }\n        \n        .chat .message .trix-content {\n            display: inline-block;\n            margin: 0;\n            width: auto;\n            padding: 8px 10px 8px 10px;\n            background: #fff;\n            word-wrap: break-word;\n            border-radius: 3px;\n            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n        }\n        \n        .chat .message .message-content:before {\n            position: relative;\n            float: left;\n            content: '';\n            margin: 7px 0 0 -8px;\n            width: 0;\n            height: 0;\n            border-style: solid;\n            border-width: 8px 8px 8px 0;\n            border-color: transparent #fff transparent transparent;\n        }\n        \n        .emoji {\n            margin-bottom: 0px !important;\n        }\n    </style>\n</message-box>");
        }
    };
});
$__System.register('166', ['144', '148', '156', '15b', '165'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, types_1, utils, message_box_html_text_1;
    var store, MessageBox;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (utils_1) {
            utils = utils_1;
        }, function (message_box_html_text_1_1) {
            message_box_html_text_1 = message_box_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            MessageBox = function (_super) {
                __extends(MessageBox, _super);
                function MessageBox(opts) {
                    _super.call(this);
                    this.dates = [];
                    this.needUpdateScroll = false;
                    this._isScrolledToBottom = null;
                    this.hasNewMsg = false;
                    this.isLoadedAtFirstTime = false;
                    this.conv = null;
                    this.messages = [];
                    var state = store.getState();
                    var conv_id = opts.conv_id;
                    this.conv = state.conversationData.conversations.find(function (c) {
                        return c.id == conv_id;
                    });
                    this.onNewMessageInserted = this.onNewMessageInserted.bind(this);
                    this.onStartSendingMessage = this.onStartSendingMessage.bind(this);
                    this.onLoadMessages = this.onLoadMessages.bind(this);
                }
                MessageBox.prototype.isOwner = function (user_id) {
                    return store.getState().userData.user.userId == user_id;
                };
                MessageBox.prototype.isPartner = function (user_id) {
                    return !this.isOwner(user_id);
                };
                MessageBox.prototype.onNewMessageInserted = function (msg) {
                    if (this._isScrolledToBottom === false) {
                        this.hasNewMsg = true;
                        this.onNewMessageReceived();
                    } else {
                        this.needUpdateScroll = true;
                    }
                    this.onLoadMessages();
                };
                MessageBox.prototype.onStartSendingMessage = function () {
                    this.needUpdateScroll = true;
                    this.onLoadMessages();
                };
                MessageBox.prototype.onLoadMessages = function () {
                    if (this.conv) {
                        var state = store.getState();
                        this.messages = state.messageData[this.conv.id] || [];
                        this.update();
                    }
                };
                MessageBox.prototype.isInNewDate = function (msg) {
                    var date = msg.created_time.toDateString();
                    var lastDate = this.dates.length > 0 ? this.dates[this.dates.length - 1] : null;
                    var result = date != lastDate;
                    this.dates.push(date);
                    return result;
                };
                MessageBox.prototype.scrollToBottom = function () {
                    var view = this.root.querySelector('.message-box-container');
                    if (view) {
                        jQuery(view).animate({ scrollTop: view.scrollHeight });
                    }
                };
                ;
                MessageBox.prototype.loadMoreHistory = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    if (this.conv) {
                        store.dispatch(all_1.default.messages.actions.loadMore(this.conv.id, false));
                    }
                };
                ;
                MessageBox.prototype.mounted = function () {
                    //store.subscribe(this.onApplicationStateChanged.bind(this));
                    var conv_id = this.opts.conv_id;
                    if (this.conv) conv_id = this.conv.id;
                    if (conv_id) {
                        var bus = all_1.default.conversations.bus.cat(conv_id);
                        bus.on(types_1.MESSAGES.INSERT_MESSAGE, this.onNewMessageInserted).on(types_1.MESSAGES.START_SEND_MESSAGE, this.onStartSendingMessage).on(types_1.MESSAGES.SEND_MESSAGE_SUCCESS, this.onLoadMessages).on(types_1.MESSAGES.SEND_MESSAGE_FAILED, this.onLoadMessages).on(types_1.MESSAGES.LOAD_MORE_MESSAGES_SUCCESS, this.onLoadMessages);
                    }
                };
                MessageBox.prototype.unmounted = function () {
                    var conv_id = this.opts.conv_id;
                    if (this.conv) conv_id = this.conv.id;
                    if (conv_id) {
                        var bus = all_1.default.conversations.bus.cat(conv_id);
                        bus.off(types_1.MESSAGES.INSERT_MESSAGE, this.onNewMessageInserted).off(types_1.MESSAGES.START_SEND_MESSAGE, this.onStartSendingMessage).off(types_1.MESSAGES.SEND_MESSAGE_SUCCESS, this.onLoadMessages).off(types_1.MESSAGES.SEND_MESSAGE_FAILED, this.onLoadMessages).off(types_1.MESSAGES.LOAD_MORE_MESSAGES_SUCCESS, this.onLoadMessages);
                    }
                };
                MessageBox.prototype.updated = function () {
                    if (this.needUpdateScroll) {
                        this.needUpdateScroll = false;
                        this.scrollToBottom();
                    }
                    this.checkScrollingToBottom();
                };
                MessageBox.prototype.loadAtFirstTime = function () {
                    var _this = this;
                    if (!this.isLoadedAtFirstTime && this.conv) {
                        this.isLoadedAtFirstTime = true;
                        var state = store.getState();
                        this.messages = state.messageData[this.conv.id] || [];
                        if (this.messages.length) {
                            this.needUpdateScroll = true;
                            this.update();
                        } else {
                            store.dispatch(all_1.default.messages.actions.loadMore(this.conv.id, true, function () {
                                _this.needUpdateScroll = true;
                                _this.scrollToBottom();
                            }));
                        }
                    }
                };
                MessageBox.prototype.onMessageBoxContainerScroll = function (e) {
                    this.checkScrollingToBottom();
                };
                MessageBox.prototype.checkScrollingToBottom = function () {
                    var target = this.root.querySelector('.message-box-container');
                    var maxScrollTop = Math.max(0, target.scrollHeight - target.clientHeight);
                    var value = target.scrollTop >= maxScrollTop;
                    if (this._isScrolledToBottom != value) {
                        this._isScrolledToBottom = value;
                        this.onScrollToBottomValueChanged(value);
                    }
                };
                MessageBox.prototype.isScrolledToBottom = function () {
                    var target = this.root.querySelector('.message-box-container');
                    var maxScrollTop = Math.max(0, target.scrollHeight - target.clientHeight);
                    var value = target.scrollTop >= maxScrollTop;
                    return value;
                };
                MessageBox.prototype.onScrollToBottomValueChanged = function (value) {
                    this.trigger('onScrollToBottomValueChanged', value);
                };
                MessageBox.prototype.onNewMessageReceived = function () {
                    this.trigger('onNewMessageReceived');
                };
                MessageBox.prototype.avatarUrl = function (userId) {
                    return utils.getAvatarUrl(userId);
                };
                MessageBox.prototype.displayName = function (userId) {
                    return utils.getDisplayName(userId);
                };
                MessageBox = __decorate([riot_ts_1.template(message_box_html_text_1.default)], MessageBox);
                return MessageBox;
            }(riot_ts_1.Element);
            exports_1("default", MessageBox);
        }
    };
});
$__System.register("167", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<msg-time>\n    <div>{{this.time}}</div>\n    <style scoped>\n        :scope > div{\n            font-size: 0.7rem;\n            color: rgba(0,0,0,.35);\n            margin-top: 3px;\n            /*margin-left: 10px;*/\n            cursor: default;\n            text-align: left;\n            width: 100%;\n        }\n    </style>\n</msg-time>");
        }
    };
});
$__System.register('168', ['144', '169', '167'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, moment_1, msg_time_html_text_1;
    var MsgTime;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (moment_1_1) {
            moment_1 = moment_1_1;
        }, function (msg_time_html_text_1_1) {
            msg_time_html_text_1 = msg_time_html_text_1_1;
        }],
        execute: function () {
            MsgTime = function (_super) {
                __extends(MsgTime, _super);
                function MsgTime(opts) {
                    _super.call(this);
                    this.time = null;
                    this.time = moment_1.default(opts.time).format('LT');
                }
                MsgTime = __decorate([riot_ts_1.template(msg_time_html_text_1.default)], MsgTime);
                return MsgTime;
            }(riot_ts_1.Element);
            exports_1("default", MsgTime);
        }
    };
});
$__System.register("16a", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<post-message>\n    <input type=\"text\" class=\"text-msg-input\" placeholder=\"Chat with {{this.conv.contact.display_name}}...\" onkeyup=\"{{onInputMessageKeyUp}}\">\n\n    <style scoped>\n        .text-msg-input {\n            display: block;\n            width: 100%;\n            height: 30px;\n            font-size: 12px;\n            line-height: 1.42857143;\n            color: #555;\n            background-color: #fff;\n            background-image: none;\n            border: none;\n            outline: none;\n        }\n    </style>\n</post-message>");
        }
    };
});
$__System.register('16b', ['144', '14b', '158', '16a'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, messageActions, post_message_html_text_1;
    var PostMessage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (post_message_html_text_1_1) {
            post_message_html_text_1 = post_message_html_text_1_1;
        }],
        execute: function () {
            PostMessage = function (_super) {
                __extends(PostMessage, _super);
                function PostMessage(opts) {
                    _super.call(this);
                    this.MAX_HEIGHT = 400;
                    this.isPressEnterToSend = true;
                    this.conv_id = opts.conv_id;
                    this.conv = store_1.default.getState().conversationData.conversations.filter(function (c) {
                        return c.id == opts.conv_id;
                    })[0];
                }
                PostMessage.prototype.onSelectEmoticon = function (emojicon) {
                    var $ = jQuery;
                    var input = this.root.querySelector('input');
                    var $input = jQuery(input);
                    var cursorPos = input.selectionStart;
                    var v = input.value;
                    var textBefore = v.substring(0, cursorPos);
                    var textAfter = v.substring(cursorPos, v.length);
                    var data = ':' + emojicon.name + ':';
                    $input.val(textBefore + data + textAfter);
                    input.selectionStart = input.selectionEnd = cursorPos + data.length;
                    $input.focus();
                };
                PostMessage.prototype.onInputMessageKeyUp = function (event) {
                    if (event.keyCode == 13 || event.which == 13) {
                        event.preventDefault();
                        event.stopPropagation();
                        var input = event.target;
                        var content = jQuery.trim(input.value);
                        if (content == '') return;
                        store_1.default.dispatch(messageActions.sendTextMessage(this.conv_id, content));
                        input.value = '';
                    }
                };
                PostMessage = __decorate([riot_ts_1.template(post_message_html_text_1.default)], PostMessage);
                return PostMessage;
            }(riot_ts_1.Element);
            exports_1("default", PostMessage);
        }
    };
});
$__System.register('16c', ['155', '15a', '15d', '160', '161', '164', '166', '168', '16b'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var action_toolbar_1, chatbox_1, chatbox_dropdown_1, chatbox_manager_1, created_time_1, emoticon_tab_1, message_box_1, msg_time_1, post_message_1;
    return {
        setters: [function (action_toolbar_1_1) {
            action_toolbar_1 = action_toolbar_1_1;
        }, function (chatbox_1_1) {
            chatbox_1 = chatbox_1_1;
        }, function (chatbox_dropdown_1_1) {
            chatbox_dropdown_1 = chatbox_dropdown_1_1;
        }, function (chatbox_manager_1_1) {
            chatbox_manager_1 = chatbox_manager_1_1;
        }, function (created_time_1_1) {
            created_time_1 = created_time_1_1;
        }, function (emoticon_tab_1_1) {
            emoticon_tab_1 = emoticon_tab_1_1;
        }, function (message_box_1_1) {
            message_box_1 = message_box_1_1;
        }, function (msg_time_1_1) {
            msg_time_1 = msg_time_1_1;
        }, function (post_message_1_1) {
            post_message_1 = post_message_1_1;
        }],
        execute: function () {
            exports_1("ActionToolbar", action_toolbar_1.default);
            exports_1("ChatBox", chatbox_1.default);
            exports_1("ChatBoxDropDown", chatbox_dropdown_1.default);
            exports_1("ChatBoxManager", chatbox_manager_1.default);
            exports_1("CreatedTime", created_time_1.default);
            exports_1("EmoticonTab", emoticon_tab_1.default);
            exports_1("MessageBox", message_box_1.default);
            exports_1("MsgTime", msg_time_1.default);
            exports_1("PostMesssage", post_message_1.default);
        }
    };
});
$__System.register("16d", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<contact-header>\n    <div onclick=\"{{onHeaderClicked}}\">\n        <div class=\"nofuser\">\n            <span class=\"online\"></span>\n            <span class=\"name\">Online ({{this.onlineContacts.length}})</span>\n        </div>\n    </div>\n\n    <style scoped>\n        :scope > div {\n            height: 29px;\n            width: 100%;\n            box-sizing: border-box;\n        }\n        \n        .nofuser {\n            margin-left: 5px;\n            position: absolute;\n            vertical-align: middle;\n            left: 0px;\n            right: auto;\n        }\n        \n        .online {\n            background-color: #88e241;\n            border-radius: 50%;\n            width: 10px;\n            height: 10px;\n            margin-top: auto;\n            margin-bottom: auto;\n            margin-right: 5px;\n            margin-left: 5px;\n            display: inline-block;\n        }\n        \n        .name {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            max-width: 120px;\n            line-height: 1;\n            font-weight: 700;\n        }\n    </style>\n</contact-header>");
        }
    };
});
$__System.register('16e', ['144', '148', '16d'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, contact_header_html_text_1;
    var ContactHeader;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (contact_header_html_text_1_1) {
            contact_header_html_text_1 = contact_header_html_text_1_1;
        }],
        execute: function () {
            ContactHeader = function (_super) {
                __extends(ContactHeader, _super);
                function ContactHeader() {
                    _super.apply(this, arguments);
                    this.onlineContacts = [];
                }
                ContactHeader.prototype.mounted = function () {
                    all_1.default.store.subscribe(this.onApplicationStateChanged.bind(this));
                };
                ContactHeader.prototype.onApplicationStateChanged = function () {
                    var contacts = this.opts.contacts || [];
                    this.onlineContacts = contacts.filter(function (c) {
                        return c.is_online;
                    });
                    this.update();
                };
                ContactHeader.prototype.onHeaderClicked = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    all_1.default.store.dispatch(all_1.default.contacts.actions.toggleWindow());
                };
                ContactHeader = __decorate([riot_ts_1.template(contact_header_html_text_1.default)], ContactHeader);
                return ContactHeader;
            }(riot_ts_1.Element);
            exports_1("ContactHeader", ContactHeader);
        }
    };
});
$__System.register("16f", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<contact-body>\n    <div>\n        <ul class=\"scroll-chatList uk-list uk-list-line\">\n            <li class=\"_frd\" each=\"{{contact in this.opts.contacts}}\" onclick=\"{{click}}\">\n                <a href=\"\" class=\"_itemFrd\">\n                    <div class=\"item avatar size35px\">\n                        <img src=\"{{avatar(contact.avatarUrl)}}\" class=\"avatar-img\" width=\"100%\">\n                        <span class=\"{{nk_offline: !contact.is_online, nk_online: contact.is_online}}\"></span>\n                    </div>\n                    <div class=\"lr-name\">{{contact.name}}</div>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <style scoped>\n      :scope > div {\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n      }\n    </style>\n</contact-body>");
        }
    };
});
$__System.register('170', ['144', '148', '156', '15b', '16f'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, types_1, utils, contact_body_html_text_1;
    var ContactBody;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (utils_1) {
            utils = utils_1;
        }, function (contact_body_html_text_1_1) {
            contact_body_html_text_1 = contact_body_html_text_1_1;
        }],
        execute: function () {
            ContactBody = function (_super) {
                __extends(ContactBody, _super);
                function ContactBody() {
                    _super.apply(this, arguments);
                    this.contacts = [];
                }
                ContactBody.prototype.mounted = function () {
                    this.contacts = this.opts.contacts;
                };
                ContactBody.prototype.click = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    var contact = event.item.contact;
                    all_1.default.contacts.bus.emit(types_1.CONTACTS.SELECT_CONTACT, contact);
                };
                ContactBody.prototype.avatar = function (url) {
                    return utils.resolveUrl(url);
                };
                ContactBody = __decorate([riot_ts_1.template(contact_body_html_text_1.default)], ContactBody);
                return ContactBody;
            }(riot_ts_1.Element);
            exports_1("ContactBody", ContactBody);
        }
    };
});
$__System.register("171", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<contact-footer>\n    <div class=\"search-panel\">\n        <div class=\"input-search\">\n            <span class=\"uk-icon-search\"></span>\n            <input type=\"text\" class=\"form-control\" name=\"search_contact_input\" placeholder=\"Search\" onkeyup=\"{{keyup}}\"/>\n        </div>\n    </div>\n    <style scoped>\n        .search-panel {\n            height: 30px;\n            width: 100%;\n            background: #fff;\n            display: block;\n        }\n        \n        .search-panel span.glyphicon.glyphicon-search {\n            position: absolute;\n        }\n        \n        .search-panel input {\n            height: 28px;\n            border-radius: 0;\n            border: none;\n            padding-left: 25px;\n            width: 100%;\n            box-shadow: none;\n            outline: none;\n            border-bottom: none;\n            width: 100%;\n            margin: 0px;\n            box-sizing: border-box;\n        }\n        \n        .search-panel .input-search {\n            position: relative;\n        }\n        \n        .search-panel .input-search span {\n            position: absolute;\n            left: 6px;\n        }\n        \n        .search-panel a {\n            margin-right: 5px;\n        }\n        \n        .search-panel span {\n            margin-top: 8px;\n            color: #444;\n        }\n    </style>\n</contact-footer>");
        }
    };
});
$__System.register('172', ['144', '148', '171'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, contact_footer_html_text_1;
    var FriendListSearch;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (contact_footer_html_text_1_1) {
            contact_footer_html_text_1 = contact_footer_html_text_1_1;
        }],
        execute: function () {
            FriendListSearch = function (_super) {
                __extends(FriendListSearch, _super);
                function FriendListSearch() {
                    _super.apply(this, arguments);
                }
                FriendListSearch.prototype.keyup = function (event) {
                    var text = event.target.value;
                    all_1.default.store.dispatch(all_1.default.contacts.actions.setFilter(text));
                };
                FriendListSearch = __decorate([riot_ts_1.template(contact_footer_html_text_1.default)], FriendListSearch);
                return FriendListSearch;
            }(riot_ts_1.Element);
            exports_1("FriendListSearch", FriendListSearch);
        }
    };
});
$__System.register("173", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<contact-panel>\n    <div class=\"{{contact-panel: true, contact-panel-minimized: this.state.contactData.isMinimized}}\">\n        <div class=\"contact-panel listChatF\">\n            <loading-indicator show=\"{{this.state.contactData.isFetching}}\" />\n            <contact-header contacts=\"{{this.visibleContacts}}\" class=\"contact-header\"/>\n            <contact-body contacts=\"{{this.visibleContacts}}\" class=\"contact-body\"/>\n            <contact-footer class=\"contact-footer\"/>\n        </div>\n    </div>\n\n    <style scoped>\n        .contact-panel{\n            position: fixed;\n            top: 44px;\n            bottom: 0px;\n            width: 252px;\n            right: 1px;\n            background-color: #ececec;\n            font: 400 14px/20px \"Helvetica Neue\", Helvetica, Arial, sans-serif !important;\n            border: none;\n            outline: none;\n            z-index: 100;\n        }\n        \n        .contact-body {\n            position: absolute;\n            top: 0px;\n            bottom: 30px;\n            left: 0px;\n            right: 0px;\n            border: 1px solid #aaa;\n        }\n        \n        .contact-footer {\n            position: absolute;\n            bottom: 0px;\n            left: 0px;\n            right: 0px;\n            border: 1px solid #aaa;\n            border-top: 1px solid rgba(0, 0, 0, .10);\n        }\n        \n        .contact-header {\n            position: absolute;\n            height: 29px;\n            left: 0px;\n            right: 0px;\n            font-weight: bold;\n            cursor: pointer;\n            background-color: #3498db;\n            color: #FFF;\n            font-size: 12px;\n            border-bottom: none;\n            line-height: 29px;\n        }\n        \n        @media (min-width: 1200px) {\n            .contact-panel{\n                top: 44px;\n            }\n            .contact-header {\n                display: hidden;\n            }\n        }\n        \n        @media (max-width: 1200px) {\n            .contact-panel{\n                top: initial;\n                height: 400px;\n            }\n            .contact-body {\n                top: 30px;\n            }\n            .contact-header {\n                display: block;\n                border-top-left-radius: 3px;\n                border-top-right-radius: 3px;\n                border: 1px solid #29487d;\n                border-bottom: 1px solid rgba(0, 0, 0, .10);\n                height: 29px;\n            }\n            .contact-panel.contact-panel-minimized {\n                top: auto;\n                bottom: 0px;\n                height: 30px;\n            }\n            .contact-panel.contact-panel-minimized .contact-header {\n                color: #555;\n                background-color: #f6f7f9;\n                border: 1px solid rgba(29, 49, 91, .3);\n            }\n            .contact-panel.contact-panel-minimized .contact-footer {\n                display: none !important;\n            }\n            .contact-panel.contact-panel-minimized .contact-body {\n                display: none !important;\n            }\n        }\n    </style>\n</contact-panel>");
        }
    };
});
$__System.register('174', ['144', '175', '156', '148', '173'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, decko_1, types_1, all_1, contact_panel_html_text_1;
    var store, ContactPanel;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (decko_1_1) {
            decko_1 = decko_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (contact_panel_html_text_1_1) {
            contact_panel_html_text_1 = contact_panel_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ContactPanel = function (_super) {
                __extends(ContactPanel, _super);
                function ContactPanel(opts) {
                    _super.call(this);
                    this.state = null;
                    this.visibleContacts = [];
                    this.onApplicationStateChanged = this.onApplicationStateChanged.bind(this);
                    all_1.default.contacts.bus.on('ContactsLoaded', this.onApplicationStateChanged);
                }
                ContactPanel.prototype.onApplicationStateChanged = function () {
                    this.saveCurrentState();
                    this.state = store.getState();
                    this.visibleContacts = this.getVisibleContacts(this.state);
                    this.update();
                };
                ContactPanel.prototype.getVisibleContacts = function (state) {
                    var data = state.contactData;
                    var contacts = data.contacts.map(function (c) {
                        return c;
                    });
                    var filter = (data.filter || '').toLowerCase();
                    if (filter == '') {
                        return contacts.slice(0, 200);
                    }
                    contacts = contacts.filter(function (c) {
                        return (c.name || '').toLowerCase().indexOf(filter) != -1;
                    });
                    return contacts;
                };
                ContactPanel.prototype.mounted = function () {
                    this.reloadCurrentState();
                    all_1.default.contacts.tools.getContacts().then(function (resp) {
                        if (!resp.err) {
                            store.dispatch(all_1.default.contacts.actions.contactsLoaded(resp.re.partners));
                        } else {
                            console.error(resp.err);
                        }
                    });
                    all_1.default.users.bus.on(types_1.USERS.ADD_FRIEND, this.onUserAddFriend);
                };
                ContactPanel.prototype.unmounted = function () {
                    all_1.default.contacts.bus.off('ContactsLoaded', this.onApplicationStateChanged);
                    all_1.default.users.bus.off(types_1.USERS.ADD_FRIEND, this.onUserAddFriend);
                };
                ContactPanel.prototype.onUserAddFriend = function (email) {
                    all_1.default.contacts.tools.getContacts().then(function (resp) {
                        if (!resp.err) {
                            store.dispatch(all_1.default.contacts.actions.contactsLoaded(resp.re.partners));
                        } else {
                            console.error(resp.err);
                        }
                    });
                };
                ContactPanel.prototype.saveCurrentState = function () {
                    var state = store.getState();
                    var isMinimized = state.contactData.isMinimized;
                    localStorage.setItem('seen-messenger.contact-panel.state', JSON.stringify({ isMinimized: isMinimized }));
                };
                ContactPanel.prototype.reloadCurrentState = function () {
                    var data = localStorage.getItem('seen-messenger.contact-panel.state');
                    if (data) {
                        var contactData = { isMinimized: false };
                        try {
                            contactData = JSON.parse(data);
                        } catch (err) {
                            console.error(err);
                            localStorage.setItem('seen-messenger.contact-panel.state', JSON.stringify(contactData));
                        }
                        store.dispatch(all_1.default.contacts.actions.toggleWindow(contactData.isMinimized));
                        return true;
                    }
                    return false;
                };
                __decorate([decko_1.bind], ContactPanel.prototype, "onUserAddFriend", null);
                ContactPanel = __decorate([riot_ts_1.template(contact_panel_html_text_1.default)], ContactPanel);
                return ContactPanel;
            }(riot_ts_1.Element);
            exports_1("default", ContactPanel);
        }
    };
});
$__System.register('176', ['16e', '170', '172', '174'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [function (_1) {}, function (_2) {}, function (_3) {}, function (_4) {}],
        execute: function () {}
    };
});
$__System.register('177', ['178', '179', '17a', '17b', '17c'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [function (_1) {}, function (_2) {}, function (_3) {}, function (_4) {}, function (_5) {}],
        execute: function () {}
    };
});
$__System.register("17d", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<msg-content>\n    <div>\n        <div class=\"msg-content-main ql-editor\"></div>\n    </div>\n    \n    <style scoped>\n        .msg-content-main{\n            word-wrap: break-word;\n            padding: 0px;\n        }\n\n        .msg-content-main a{\n            word-break: break-all;\n        }\n    </style>\n</msg-content>");
        }
    };
});
$__System.register('17e', ['144', '156', '14b', '177', '17d'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, types_1, store_1, msg_content_html_text_1;
    var MsgContent;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (_1) {}, function (msg_content_html_text_1_1) {
            msg_content_html_text_1 = msg_content_html_text_1_1;
        }],
        execute: function () {
            MsgContent = function (_super) {
                __extends(MsgContent, _super);
                function MsgContent(opts) {
                    _super.call(this);
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    var state = store_1.default.getState();
                    this.msg = state.messageData[conv_id].filter(function (m) {
                        return m.message_id == message_id;
                    })[0];
                    var sender_id = this.msg.sender_id;
                    var contact = state.userData.user.userId == sender_id ? state.userData.user : state.contactData.contacts.find(function (c) {
                        return c.userId == sender_id;
                    });
                    if (contact) this.title = contact.name || contact.email;
                }
                MsgContent.prototype.mounted = function () {
                    var fmsg = this.msg;
                    var mainEl = this.root.querySelector('.msg-content-main');
                    var tagName = 'text-message';
                    switch (this.msg.message_type) {
                        case types_1.MESSAGE_TYPE.TEXT:
                            tagName = 'text-message';
                            break;
                        case types_1.MESSAGE_TYPE.FILE:
                        case types_1.MESSAGE_TYPE.PHOTO_FILE:
                        case types_1.MESSAGE_TYPE.VIDEO_FILE:
                        case types_1.MESSAGE_TYPE.AUDIO_FILE:
                            var ext = fmsg.content.name.split('.').pop() || '';
                            if (types_1.FILE_TYPES.typeOf(ext, 'image')) {
                                tagName = 'photo-message';
                            } else if (types_1.FILE_TYPES.typeOf(ext, 'video')) {
                                tagName = 'video-message';
                            } else if (types_1.FILE_TYPES.typeOf(ext, 'audio')) {
                                tagName = 'audio-message';
                            } else {
                                tagName = 'file-message';
                            }
                            break;
                    }
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    riot_ts_1.riot.mount(mainEl, tagName, { conv_id: conv_id, message_id: message_id });
                };
                MsgContent = __decorate([riot_ts_1.template(msg_content_html_text_1.default)], MsgContent);
                return MsgContent;
            }(riot_ts_1.Element);
            exports_1("default", MsgContent);
        }
    };
});
$__System.register("17f", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<text-message>\n</text-message>");
        }
    };
});
$__System.register('178', ['144', '14b', '17f'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, text_message_html_text_1;
    var TextMessage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (text_message_html_text_1_1) {
            text_message_html_text_1 = text_message_html_text_1_1;
        }],
        execute: function () {
            TextMessage = function (_super) {
                __extends(TextMessage, _super);
                function TextMessage() {
                    _super.apply(this, arguments);
                }
                TextMessage.prototype.mounted = function () {
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    var state = store_1.default.getState();
                    var msg = state.messageData[conv_id].filter(function (m) {
                        return m.message_id == message_id;
                    })[0];
                    var html = msg.content;
                    var tmp = jQuery('<div/>').html(html)[0];
                    linkifyElement(tmp);
                    emojify.run(tmp);
                    html = jQuery(tmp).html();
                    this.root.innerHTML = html;
                    this.update();
                };
                TextMessage = __decorate([riot_ts_1.template(text_message_html_text_1.default)], TextMessage);
                return TextMessage;
            }(riot_ts_1.Element);
            exports_1("default", TextMessage);
        }
    };
});
$__System.register("180", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<file-message>\n    <div class=\"message-content-container\">\n        <div class=\"uk-flex uk-flex-middle\">\n            <i class=\"uk-icon-large uk-margin-right {{previewURL}}\"></i>\n            <div>\n                <div class=\"message-content--title\">{{name}}</div>\n                <ul class=\"uk-comment-meta uk-subnav\">\n                    <li class=\"uk-margin-small-left uk-disabled\"><a href=\"#\">size: {{size}}</a></li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{uploading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{downloading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left\" show=\"{{!downloading && token}}\">\n                        <a onclick=\"{{onDownloadButtonClick}}\">\n                            <i class=\"uk-icon-cloud-download uk-icon-small\"></i>\n                        </a>\n                    </li>\n                    <!--<li class=\"uk-margin-small-left\" show=\"{uploading || downloading}\">\n                        <a onclick=\"{onCancelButtonClick}\">\n                            <i class=\"uk-icon-remove uk-icon-small\"></i>\n                        </a>\n                    </li>-->\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <style scoped>\n        .message-content-container {\n            /*min-width: 250px;*/\n        }\n        \n        .message-content--preview {\n            float: left;\n            width: 50px;\n            height: 50px;\n            display: flex;\n        }\n        \n        .message-content--image i {\n            margin: auto;\n            text-align: center;\n            vertical-align: middle;\n        }\n\n        .message-content--title{\n            word-break: break-all;\n        }\n    </style>\n</file-message>");
        }
    };
});
$__System.register('179', ['144', '156', '14b', '157', '158', '180'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, types_1, store_1, messageTools, messageActions, file_message_html_text_1;
    var FileMessage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (file_message_html_text_1_1) {
            file_message_html_text_1 = file_message_html_text_1_1;
        }],
        execute: function () {
            FileMessage = function (_super) {
                __extends(FileMessage, _super);
                function FileMessage(opts) {
                    _super.call(this);
                    this.fMsg = null;
                    this.previewURL = 'uk-icon-file-o';
                    this.progress = '0%';
                    this.done = false;
                    this.token = null;
                    this.uploading = false;
                    this.downloading = false;
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    var state = store_1.default.getState();
                    var msg = state.messageData[conv_id].filter(function (m) {
                        return m.message_id == message_id;
                    })[0];
                    this.fMsg = msg;
                    var content = this.fMsg.content;
                    this.name = content.name;
                    this.size = this.formatBytes(content.size);
                    this.token = content.token;
                    this.loadPreview();
                }
                FileMessage.prototype.loadPreview = function () {
                    var type = this.name.split('.').pop() || '';
                    if (type) type = type.toLowerCase();
                    var icon = 'uk-icon-file-o';
                    if (types_1.FILE_TYPES.typeOf(type, 'pdf')) {
                        icon = 'uk-icon-file-pdf-o';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'doc')) {
                        icon = 'uk-icon-file-word-o';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'excel')) {
                        icon = 'uk-icon-file-excel-o';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'audio')) {
                        icon = 'uk-icon-file-sound-o';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'video')) {
                        icon = 'uk-icon-file-video-o';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'zip')) {
                        icon = 'uk-icon-file-zip-o';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'text')) {
                        icon = 'uk-icon-file-text';
                    } else if (types_1.FILE_TYPES.typeOf(type, 'image')) {
                        icon = 'uk-icon-file-image-o';
                    }
                    this.previewURL = icon;
                };
                FileMessage.prototype.mounted = function () {
                    var _this = this;
                    if (!this.fMsg.content.token && this.fMsg.content.file) {
                        var file = this.fMsg.content.file;
                        this.onStartUploading();
                        messageTools.FileMessage.upload(file, function (progress) {
                            _this.onProgressChange(progress);
                        }, function (resp) {
                            if (!_this.fMsg.content.token) {
                                _this.fMsg.content.token = resp.token;
                                store_1.default.dispatch(messageActions.sendFileMessage(_this.fMsg));
                            }
                            _this.onDone();
                        });
                    }
                };
                FileMessage.prototype.onStartUploading = function () {
                    this.progress = '0%';
                    this.uploading = true;
                    this.downloading = false;
                    this.update();
                };
                FileMessage.prototype.onStartDownloading = function () {
                    this.progress = '0%';
                    this.downloading = true;
                    this.uploading = false;
                    this.update();
                };
                FileMessage.prototype.onProgressChange = function (value) {
                    this.progress = value + '%';
                    this.update();
                };
                FileMessage.prototype.onDone = function () {
                    this.progress = '0%';
                    this.done = true;
                    this.uploading = false;
                    this.downloading = false;
                    this.token = this.fMsg.content.token;
                    this.update();
                };
                FileMessage.prototype.onDownloadButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    this.done = false;
                    this.downloading = true;
                    this.onStartDownloading();
                    messageTools.FileMessage.download(this.fMsg.content.token, function (val) {
                        _this.onProgressChange(val);
                    }, function (result) {
                        _this.onDone();
                        FileSaver.saveAs(result.blob, _this.fMsg.content.name);
                    });
                    this.update();
                };
                FileMessage.prototype.formatBytes = function (bytes) {
                    var i = Math.floor(Math.log(bytes) / Math.log(1024));
                    return !bytes && '0 Bytes' || (bytes / Math.pow(1024, i)).toFixed(2) + " " + ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];
                };
                FileMessage = __decorate([riot_ts_1.template(file_message_html_text_1.default)], FileMessage);
                return FileMessage;
            }(riot_ts_1.Element);
            exports_1("default", FileMessage);
        }
    };
});
$__System.register("181", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<photo-message>\n    <div class=\"message-content-container\">\n        <div class=\"{{uk-flex: !previewURL, uk-flex-middle: !previewURL}}\">\n            <div if=\"{{previewURL}}\">\n                <a href=\"{{previewURL}}\" data-uk-lightbox data-lightbox-type=\"image\" title=\"{{name}}\">\n                    <img class=\"message-content--preview\" src=\"{{previewURL}}\" width=\"auto\" height=\"auto\" alt=\"{{name}}\">\n                </a>\n            </div>\n            <i class=\"uk-icon-small uk-margin-right uk-icon-file-image-o\" if=\"{{!previewURL }}\"></i>\n            <div>\n                <div class=\"message-content--title\">{{name}}</div>\n                <ul class=\"uk-comment-meta uk-subnav\">\n                    <li class=\"uk-margin-small-left uk-disabled\"><a href=\"#\">size: {{size}}</a></li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{uploading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{downloading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"{{uk-margin-small-left:true, uk-disabled: downloading}}\" show=\"{{!blob && !downloading}}\">\n                        <a onclick=\"{{onPreviewButtonClick}}\">\n                            <i class=\"uk-icon-play-circle-o uk-icon-small\"></i>\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left\" show=\"{{!downloading && token}}\">\n                        <a onclick=\"{{onDownloadButtonClick}}\">\n                            <i class=\"uk-icon-cloud-download uk-icon-small\"></i>\n                        </a>\n                    </li>\n                    <!--<li class=\"uk-margin-small-left\" show=\"{{uploading || downloading}}\">\n                        <a onclick=\"{{onCancelButtonClick}}\">\n                            <i class=\"uk-icon-remove uk-icon-small\"></i>\n                        </a>\n                    </li>-->\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <style scoped>\n        .message-content-container {\n            /*min-width: 250px;*/\n        }\n        \n        .message-content--preview {\n            max-width: 300px;\n            max-height: 300px;\n            margin: 0;\n            top: 50%;\n            left: 50%;\n            margin-right: -50%;\n            transform: translate(-50%, 0%);\n            position: relative;\n        }\n        \n        .message-content--title {\n            word-break: break-all;\n        }\n    </style>\n</photo-message>");
        }
    };
});
$__System.register('17a', ['144', '14b', '157', '158', '181'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, messageTools, messageActions, photo_message_html_text_1;
    var PhotoMessage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (photo_message_html_text_1_1) {
            photo_message_html_text_1 = photo_message_html_text_1_1;
        }],
        execute: function () {
            PhotoMessage = function (_super) {
                __extends(PhotoMessage, _super);
                function PhotoMessage(opts) {
                    _super.call(this);
                    this.fMsg = null;
                    this.progress = '0%';
                    this.done = false;
                    this.token = null;
                    this.uploading = false;
                    this.downloading = false;
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    var state = store_1.default.getState();
                    var msg = state.messageData[conv_id].filter(function (m) {
                        return m.message_id == message_id;
                    })[0];
                    this.fMsg = msg;
                    var content = this.fMsg.content;
                    this.name = content.name;
                    this.size = this.formatBytes(content.size);
                    this.token = content.token;
                    if (!this.fMsg.content.url && this.fMsg.content.file) {
                        this.fMsg.content.url = URL.createObjectURL(this.fMsg.content.file);
                    }
                    this.previewURL = this.fMsg.content.url;
                    this.blob = this.fMsg.content.file;
                }
                PhotoMessage.prototype.mounted = function () {
                    if (!this.fMsg.content.token && this.fMsg.content.file) {
                        this.startUploadPhoto();
                    }
                };
                PhotoMessage.prototype.onStartUploading = function () {
                    this.progress = '0%';
                    this.uploading = true;
                    this.downloading = false;
                    this.update();
                };
                PhotoMessage.prototype.onStartDownloading = function () {
                    this.progress = '0%';
                    this.downloading = true;
                    this.uploading = false;
                    this.update();
                };
                PhotoMessage.prototype.onProgressChange = function (value) {
                    this.progress = value + '%';
                    this.update();
                };
                PhotoMessage.prototype.onDone = function () {
                    this.progress = '0%';
                    this.done = true;
                    this.uploading = false;
                    this.downloading = false;
                    this.token = this.fMsg.content.token;
                    this.previewURL = this.fMsg.content.url;
                    this.update();
                };
                PhotoMessage.prototype.startDownloadPhoto = function () {
                    var _this = this;
                    return new Promise(function (resolve) {
                        _this.onStartDownloading();
                        messageTools.FileMessage.download(_this.fMsg.content.token, function (val) {
                            _this.onProgressChange(val);
                        }, function (result) {
                            _this.blob = result.blob;
                            _this.fMsg.content.url = URL.createObjectURL(_this.blob);
                            _this.onDone();
                            resolve();
                        });
                    });
                };
                PhotoMessage.prototype.startUploadPhoto = function () {
                    var _this = this;
                    var file = this.fMsg.content.file;
                    this.onStartUploading();
                    messageTools.FileMessage.upload(file, function (progress) {
                        _this.onProgressChange(progress);
                    }, function (resp) {
                        if (!_this.fMsg.content.token) {
                            _this.fMsg.content.token = resp.token;
                            store_1.default.dispatch(messageActions.sendFileMessage(_this.fMsg));
                        }
                        _this.onDone();
                    });
                };
                PhotoMessage.prototype.onDownloadButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    if (!this.blob) {
                        this.startDownloadPhoto().then(function () {
                            if (_this.blob) {
                                FileSaver.saveAs(_this.blob, _this.fMsg.content.name);
                            }
                        });
                    } else {
                        FileSaver.saveAs(this.blob, this.fMsg.content.name);
                    }
                };
                PhotoMessage.prototype.onPreviewButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    this.startDownloadPhoto().then(function () {
                        if (_this.previewURL) {
                            var el = _this.root.querySelector('a[data-uk-lightbox]');
                            if (el) {
                                var lightbox = UIkit.lightbox(jQuery(el));
                                lightbox.show();
                            }
                        }
                    });
                };
                PhotoMessage.prototype.formatBytes = function (bytes) {
                    var i = Math.floor(Math.log(bytes) / Math.log(1024));
                    return !bytes && '0 Bytes' || (bytes / Math.pow(1024, i)).toFixed(2) + " " + ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];
                };
                PhotoMessage = __decorate([riot_ts_1.template(photo_message_html_text_1.default)], PhotoMessage);
                return PhotoMessage;
            }(riot_ts_1.Element);
            exports_1("default", PhotoMessage);
        }
    };
});
$__System.register("182", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<audio-message>\n    <div class=\"message-content-container\">\n        <div class=\"{{uk-flex: !previewURL, uk-flex-middle: !previewURL}}\">\n            <div if=\"{{previewURL}}\">\n                <audio class=\"message-content--preview\" src=\"{{previewURL}}\" width=\"auto\" height=\"auto\" alt=\"{{name}}\" controls>\n                    <source src=\"{{previewURL}}\" type=\"{{type}}\">\n                </audio>\n            </div>\n            <i class=\"uk-icon-small uk-margin-right uk-icon-file-sound-o\" if=\"{{!previewURL}}\"></i>\n            <div>\n                <div class=\"message-content--title\">{{name}}</div>\n                <ul class=\"uk-comment-meta uk-subnav\">\n                    <li class=\"uk-margin-small-left uk-disabled\"><a href=\"#\">size: {{size}}</a></li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{uploading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{downloading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"{{uk-margin-small-left:true, uk-disabled: downloading}}\" show=\"{{!blob && !downloading}}\">\n                        <a onclick=\"{{onPreviewButtonClick}}\">\n                            <i class=\"uk-icon-play-circle-o uk-icon-small\"></i>\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left\" show=\"{{!downloading && token}}\">\n                        <a onclick=\"{{onDownloadButtonClick}}\">\n                            <i class=\"uk-icon-cloud-download uk-icon-small\"></i>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <style scoped>\n        .message-content-container {\n            /*min-width: 250px;*/\n        }\n\n        .message-content--preview{\n            max-width: 300px;\n            height: 40px;\n        }\n\n        .message-content--title{\n            word-break: break-all;\n        }\n    </style>\n</audio-message>");
        }
    };
});
$__System.register('17b', ['144', '14b', '157', '158', '182'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, messageTools, messageActions, audio_message_html_text_1;
    var AudioMessage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (audio_message_html_text_1_1) {
            audio_message_html_text_1 = audio_message_html_text_1_1;
        }],
        execute: function () {
            AudioMessage = function (_super) {
                __extends(AudioMessage, _super);
                function AudioMessage(opts) {
                    _super.call(this);
                    this.fMsg = null;
                    this.progress = '0%';
                    this.done = false;
                    this.token = null;
                    this.uploading = false;
                    this.downloading = false;
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    var state = store_1.default.getState();
                    var msg = state.messageData[conv_id].filter(function (m) {
                        return m.message_id == message_id;
                    })[0];
                    this.fMsg = msg;
                    var content = this.fMsg.content;
                    this.name = content.name;
                    this.size = this.formatBytes(content.size);
                    this.token = content.token;
                    if (this.fMsg.content.file && !this.fMsg.content.url) {
                        this.fMsg.content.url = URL.createObjectURL(this.fMsg.content.file);
                    }
                    this.previewURL = this.fMsg.content.url;
                    this.type = content.type;
                    this.blob = this.fMsg.content.file;
                }
                AudioMessage.prototype.mounted = function () {
                    if (!this.fMsg.content.token && this.fMsg.content.file) {
                        this.startUploadAudio();
                    }
                    this.initPlayer(false);
                };
                AudioMessage.prototype.onStartUploading = function () {
                    this.progress = '0%';
                    this.uploading = true;
                    this.downloading = false;
                    this.update();
                };
                AudioMessage.prototype.onStartDownloading = function () {
                    this.progress = '0%';
                    this.downloading = true;
                    this.uploading = false;
                    this.update();
                };
                AudioMessage.prototype.onProgressChange = function (value) {
                    this.progress = value + '%';
                    this.update();
                };
                AudioMessage.prototype.onDone = function () {
                    this.progress = '0%';
                    this.done = true;
                    this.uploading = false;
                    this.downloading = false;
                    this.token = this.fMsg.content.token;
                    this.previewURL = this.fMsg.content.url;
                    this.update();
                };
                AudioMessage.prototype.startDownloadAudio = function () {
                    var _this = this;
                    return new Promise(function (resolve) {
                        _this.onStartDownloading();
                        messageTools.FileMessage.download(_this.fMsg.content.token, function (val) {
                            _this.onProgressChange(val);
                        }, function (result) {
                            _this.blob = result.blob;
                            _this.fMsg.content.url = result.url ? result.url : URL.createObjectURL(_this.blob);
                            _this.onDone();
                            resolve();
                        });
                    });
                };
                AudioMessage.prototype.startUploadAudio = function () {
                    var _this = this;
                    var file = this.fMsg.content.file;
                    this.onStartUploading();
                    messageTools.FileMessage.upload(file, function (progress) {
                        _this.onProgressChange(progress);
                    }, function (resp) {
                        if (!_this.fMsg.content.token) {
                            _this.fMsg.content.token = resp.token;
                            store_1.default.dispatch(messageActions.sendFileMessage(_this.fMsg));
                        }
                        _this.onDone();
                    });
                };
                AudioMessage.prototype.onPreviewButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    this.startDownloadAudio().then(function () {
                        _this.initPlayer(true);
                    });
                };
                AudioMessage.prototype.initPlayer = function (autoPlay) {
                    var el = this.root.querySelector('audio');
                    if (el) {
                        var player = plyr.get(el);
                        if (!player || !player.length) {
                            player = plyr.setup(el)[0];
                            if (autoPlay && player && player.play) {
                                player.play();
                            }
                        }
                    }
                };
                AudioMessage.prototype.onDownloadButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    if (!this.blob) {
                        this.startDownloadAudio().then(function () {
                            if (_this.blob) {
                                _this.initPlayer(false);
                                FileSaver.saveAs(_this.blob, _this.fMsg.content.name);
                            }
                        });
                    } else {
                        FileSaver.saveAs(this.blob, this.fMsg.content.name);
                    }
                };
                AudioMessage.prototype.formatBytes = function (bytes) {
                    var i = Math.floor(Math.log(bytes) / Math.log(1024));
                    return !bytes && '0 Bytes' || (bytes / Math.pow(1024, i)).toFixed(2) + " " + ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];
                };
                AudioMessage = __decorate([riot_ts_1.template(audio_message_html_text_1.default)], AudioMessage);
                return AudioMessage;
            }(riot_ts_1.Element);
            exports_1("default", AudioMessage);
        }
    };
});
$__System.register("183", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<video-message>\n    <div class=\"message-content-container\">\n        <div class=\"{{uk-flex: !previewURL, uk-flex-middle: !previewURL}}\">\n            <div if=\"{{previewURL}}\">\n                <video class=\"message-content--preview\" src=\"{{previewURL}}\" width=\"auto\" height=\"auto\" alt=\"{{name}}\" controls>\n                    <source src=\"{{previewURL}}\" type=\"{{type}}\">\n                </video>\n            </div>\n            <i class=\"uk-icon-small uk-margin-right uk-icon-file-video-o\" if=\"{{!previewURL}}\"></i>\n            <div>\n                <div class=\"message-content--title\">{{name}}</div>\n                <ul class=\"uk-comment-meta uk-subnav\">\n                    <li class=\"uk-margin-small-left uk-disabled\"><a href=\"#\">size: {{size}}</a></li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{uploading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left uk-disabled\" show=\"{{downloading}}\">\n                        <a href=\"#\">\n                            <i class=\"uk-icon-refresh uk-icon-spin uk-margin-small-right\"></i>{{progress}}\n                        </a>\n                    </li>\n                    <li class=\"{{uk-margin-small-left:true, uk-disabled: downloading}}\" show=\"{{!blob && !downloading}}\">\n                        <a onclick=\"{{onPreviewButtonClick}}\">\n                            <i class=\"uk-icon-play-circle-o uk-icon-small\"></i>\n                        </a>\n                    </li>\n                    <li class=\"uk-margin-small-left\" show=\"{{!downloading && token}}\">\n                        <a onclick=\"{{onDownloadButtonClick}}\">\n                            <i class=\"uk-icon-cloud-download uk-icon-small\"></i>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <style scoped>\n        .message-content-container {\n            /*min-width: 250px;*/\n        }\n\n        .message-content--preview{\n            max-width: 300px;\n            max-height: 300px;\n        }\n\n        .message-content--title{\n            word-break: break-all;\n        }\n    </style>\n</video-message>");
        }
    };
});
$__System.register('17c', ['144', '14b', '157', '158', '183'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, store_1, messageTools, messageActions, video_message_html_text_1;
    var VideoMessage;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (video_message_html_text_1_1) {
            video_message_html_text_1 = video_message_html_text_1_1;
        }],
        execute: function () {
            VideoMessage = function (_super) {
                __extends(VideoMessage, _super);
                function VideoMessage(opts) {
                    _super.call(this);
                    this.fMsg = null;
                    this.progress = '0%';
                    this.done = false;
                    this.token = null;
                    this.uploading = false;
                    this.downloading = false;
                    var conv_id = this.opts.conv_id;
                    var message_id = this.opts.message_id;
                    var state = store_1.default.getState();
                    var msg = state.messageData[conv_id].filter(function (m) {
                        return m.message_id == message_id;
                    })[0];
                    this.fMsg = msg;
                    var content = this.fMsg.content;
                    this.name = content.name;
                    this.size = this.formatBytes(content.size);
                    this.token = content.token;
                    if (this.fMsg.content.file && !this.fMsg.content.url) {
                        this.fMsg.content.url = URL.createObjectURL(this.fMsg.content.file);
                    }
                    this.previewURL = this.fMsg.content.url;
                    this.type = content.type;
                    this.blob = this.fMsg.content.file;
                }
                VideoMessage.prototype.mounted = function () {
                    if (!this.fMsg.content.token && this.fMsg.content.file) {
                        this.startUploadVideo();
                    }
                    this.initPlayer(false);
                };
                VideoMessage.prototype.onStartUploading = function () {
                    this.progress = '0%';
                    this.uploading = true;
                    this.downloading = false;
                    this.update();
                };
                VideoMessage.prototype.onStartDownloading = function () {
                    this.progress = '0%';
                    this.downloading = true;
                    this.uploading = false;
                    this.update();
                };
                VideoMessage.prototype.onProgressChange = function (value) {
                    this.progress = value + '%';
                    this.update();
                };
                VideoMessage.prototype.onDone = function () {
                    this.progress = '0%';
                    this.done = true;
                    this.uploading = false;
                    this.downloading = false;
                    this.token = this.fMsg.content.token;
                    this.previewURL = this.fMsg.content.url;
                    this.update();
                };
                VideoMessage.prototype.startDownloadMediaFile = function () {
                    var _this = this;
                    return new Promise(function (resolve) {
                        _this.onStartDownloading();
                        messageTools.FileMessage.download(_this.fMsg.content.token, function (val) {
                            _this.onProgressChange(val);
                        }, function (result) {
                            _this.blob = result.blob;
                            _this.fMsg.content.url = result.url ? result.url : URL.createObjectURL(_this.blob);
                            _this.onDone();
                            resolve();
                        });
                    });
                };
                VideoMessage.prototype.startUploadVideo = function () {
                    var _this = this;
                    var file = this.fMsg.content.file;
                    this.onStartUploading();
                    messageTools.FileMessage.upload(file, function (progress) {
                        _this.onProgressChange(progress);
                    }, function (resp) {
                        if (!_this.fMsg.content.token) {
                            _this.fMsg.content.token = resp.token;
                            store_1.default.dispatch(messageActions.sendFileMessage(_this.fMsg));
                        }
                        _this.onDone();
                    });
                };
                VideoMessage.prototype.onPreviewButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    this.startDownloadMediaFile().then(function () {
                        _this.initPlayer(true);
                    });
                };
                VideoMessage.prototype.initPlayer = function (autoPlay) {
                    var el = this.root.querySelector('video');
                    if (el) {
                        var player = plyr.get(el);
                        if (!player || !player.length) {
                            player = plyr.setup(el)[0];
                            if (autoPlay && player && player.play) {
                                player.play();
                            }
                        }
                    }
                };
                VideoMessage.prototype.onDownloadButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    if (!this.blob) {
                        this.startDownloadMediaFile().then(function () {
                            if (_this.blob) {
                                _this.initPlayer(false);
                                FileSaver.saveAs(_this.blob, _this.fMsg.content.name);
                            }
                        });
                    } else {
                        FileSaver.saveAs(this.blob, this.fMsg.content.name);
                    }
                };
                VideoMessage.prototype.formatBytes = function (bytes) {
                    var i = Math.floor(Math.log(bytes) / Math.log(1024));
                    return !bytes && '0 Bytes' || (bytes / Math.pow(1024, i)).toFixed(2) + " " + ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];
                };
                VideoMessage = __decorate([riot_ts_1.template(video_message_html_text_1.default)], VideoMessage);
                return VideoMessage;
            }(riot_ts_1.Element);
            exports_1("default", VideoMessage);
        }
    };
});
$__System.register('184', ['17e', '178', '179', '17a', '17b', '17c'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var msg_content_1, text_message_1, file_message_1, photo_message_1, audio_message_1, video_message_1;
    return {
        setters: [function (msg_content_1_1) {
            msg_content_1 = msg_content_1_1;
        }, function (text_message_1_1) {
            text_message_1 = text_message_1_1;
        }, function (file_message_1_1) {
            file_message_1 = file_message_1_1;
        }, function (photo_message_1_1) {
            photo_message_1 = photo_message_1_1;
        }, function (audio_message_1_1) {
            audio_message_1 = audio_message_1_1;
        }, function (video_message_1_1) {
            video_message_1 = video_message_1_1;
        }],
        execute: function () {
            exports_1("MsgContent", msg_content_1.default);
            exports_1("TextMessage", text_message_1.default);
            exports_1("FileMessage", file_message_1.default);
            exports_1("PhotoMessage", photo_message_1.default);
            exports_1("AudioMessage", audio_message_1.default);
            exports_1("VideoMessage", video_message_1.default);
        }
    };
});
$__System.register("185", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<member-list>\n    <div class=\"member-list-container\">\n    <div style=\"position: absolute; top: 0px; left: 0px; right: 0px;\">\n        <ul class=\"uk-subnav uk-subnav-line\">\n            <li><a onclick=\"{{onCloseFormButtonClick}}\">Close</a></li>\n            <li data-uk-dropdown=\"{mode:'click'}\">\n                <a href=\"#\">Add members <i class=\"uk-icon-caret-down\"></i></a>\n                <!-- This is the dropdown -->\n                <div class=\"uk-dropdown uk-dropdown-bottom contacts-dropdown-modal\">\n                    <ul class=\"uk-nav uk-nav-dropdown\">\n                        <li>\n                            <div class=\"uk-form-icon uk-margin-left\">\n                                <i class=\"uk-icon-search\"></i>\n                                <input type=\"text\" placeholder=\"Search\" onkeyup=\"{{onSearchKeyup}}\">\n                            </div>\n                        </li>\n                        <li if=\"{{contacts.length == 0}}\" class=\"uk-disabled\">\n                            <div class=\"uk-form uk-margin-left\">\n                                <label>The list is empty.</label>\n                            </div>\n                        </li>\n                        <li each=\"{{contact in contacts}}\">\n                            <a onclick=\"{{onAddMemberButtonClick}}\">{{contact.name}}</a>\n                        </li>\n                    </ul>\n                </div>\n            </li>\n        </ul>\n    </div>\n    <div style=\"position: absolute; top: 35px;left:0px; width: 0px;\">\n        <p>Members</p>\n    </div>\n    <div style=\"position: absolute; top: 50px; bottom: 0px; left: 0px; right: 0px;\">\n        <ul class=\"uk-nav\">\n            <li each=\"{{member in this.members}}\" class=\"group-member-item\">\n                <a href=\"#\">\n                    <img width=\"35px\" height=\"35px\" src=\"https://getuikit.com/docs/images/placeholder_200x100.svg\" alt=\"\">                    {{member.name}}\n                </a>\n            </li>\n        </ul>\n    </div>\n    </div>\n    <style scoped>\n        .member-list-container{\n            position: absolute;\n            left: 10px;\n            top: 10px;\n            right: 10px;\n            bottom: 10px;\n        }\n        .group-member-item {}\n        \n        .contacts-dropdown-modal {\n            box-shadow: 0 1px 4px rgba(0, 0, 0, .3);\n        }\n    </style>\n</member-list>");
        }
    };
});
$__System.register('186', ['144', '156', '148', '185'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, types_1, all_1, member_list_html_text_1;
    var store, MemberList;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (member_list_html_text_1_1) {
            member_list_html_text_1 = member_list_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            MemberList = function (_super) {
                __extends(MemberList, _super);
                function MemberList(opts) {
                    _super.call(this);
                    this.filterText = '';
                    var conv_id = opts.conv_id;
                    this.conv = store.getState().conversationData.conversations.find(function (c) {
                        return c.id == conv_id;
                    });
                    this.onMembersLoaded = this.onMembersLoaded.bind(this);
                }
                MemberList.prototype.loadMembers = function () {
                    var _this = this;
                    all_1.default.members.tools.getMembers(this.conv.id).then(function (resp) {
                        if (resp.err) {
                            console.error(resp.err);
                        } else {
                            var ids = resp.re.members.map(function (m) {
                                return m.userId;
                            });
                            store.dispatch(all_1.default.members.actions.membersLoaded(_this.conv.id, ids));
                        }
                    });
                };
                MemberList.prototype.mounted = function () {
                    all_1.default.members.bus.on(types_1.MEMBERS.MEMBERS_LOADED, this.onMembersLoaded).on(types_1.MEMBERS.ADD_MEMBERS, this.onMembersLoaded);
                    this.loadMembers();
                };
                MemberList.prototype.unmounted = function () {
                    all_1.default.members.bus.off(types_1.MEMBERS.MEMBERS_LOADED, this.onMembersLoaded).off(types_1.MEMBERS.ADD_MEMBERS, this.onMembersLoaded);
                };
                MemberList.prototype.onMembersLoaded = function () {
                    var memberIds = store.getState().memberData[this.conv.id];
                    this.members = store.getState().contactData.contacts.filter(function (c) {
                        return memberIds.indexOf(c.userId) != -1;
                    });
                    this.contacts = this.getContacts();
                    this.update();
                };
                MemberList.prototype.getContacts = function () {
                    var members = this.members;
                    var filter = jQuery.trim(this.filterText).toLowerCase();
                    var contacts = store.getState().contactData.contacts.filter(function (c) {
                        var found = members.find(function (m) {
                            return m.email == c.email;
                        });
                        return !found;
                    });
                    if (filter != '') {
                        contacts = contacts.filter(function (c) {
                            return c.name.toLowerCase().indexOf(filter) != -1;
                        });
                    }
                    return contacts;
                };
                MemberList.prototype.onAddMemberButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    //e.stopPropagation();
                    var contact = e.item.contact;
                    all_1.default.members.tools.addMembers(this.conv.id, contact.userId).then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(resp.err);
                        } else {
                            store.dispatch(all_1.default.members.actions.addMembers(_this.conv.id, contact.userId));
                        }
                    });
                };
                MemberList.prototype.onSearchKeyup = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.filterText = e.target.value;
                    this.contacts = this.getContacts();
                    this.update();
                };
                MemberList.prototype.onCloseFormButtonClick = function (e) {
                    all_1.default.members.bus.emit(types_1.MEMBERS.CLOSE_FORM, e);
                };
                MemberList = __decorate([riot_ts_1.template(member_list_html_text_1.default)], MemberList);
                return MemberList;
            }(riot_ts_1.Element);
            exports_1("default", MemberList);
        }
    };
});
$__System.register("187", ["186"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [function (_1) {}],
        execute: function () {}
    };
});
$__System.register("188", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-update-title-dialog>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Conversation Name</legend>\n                    <div class=\"uk-form-row\">\n                        <input type=\"text\" class=\"conversation-name-input-field uk-width-1-1\" value=\"{{conv.title}}\">\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onCancelButtonClick}}\">Cancel</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onOKButtonClick}}\">OK</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal{\n            background-color: transparent;\n        }\n\n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</conversation-update-title-dialog>");
        }
    };
});
$__System.register('189', ['144', '148', '188'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, update_title_dialog_html_text_1;
    var UpdateTitleDialog;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (update_title_dialog_html_text_1_1) {
            update_title_dialog_html_text_1 = update_title_dialog_html_text_1_1;
        }],
        execute: function () {
            UpdateTitleDialog = function (_super) {
                __extends(UpdateTitleDialog, _super);
                function UpdateTitleDialog() {
                    _super.apply(this, arguments);
                }
                UpdateTitleDialog.prototype.showDialog = function (conv) {
                    var _this = this;
                    this.conv = conv;
                    this.update();
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                    setTimeout(function () {
                        var input = _this.root.querySelector('.conversation-name-input-field');
                        jQuery(input).focus();
                    }, 1000);
                };
                UpdateTitleDialog.prototype.onCancelButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.modal.hide();
                };
                UpdateTitleDialog.prototype.onOKButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    var conv_id = this.conv.id;
                    var input = this.root.querySelector('.conversation-name-input-field');
                    var val = jQuery.trim(input.value);
                    if (val != '' && val != this.conv.title) {
                        all_1.default.conversations.tools.updateTitle(conv_id, val).then(function (resp) {
                            if (resp.err) console.error(resp.err);else {
                                all_1.default.store.dispatch(all_1.default.conversations.actions.updateTitle(conv_id, val));
                                _this.modal.hide();
                            }
                        });
                    } else {
                        this.modal.hide();
                    }
                };
                UpdateTitleDialog = __decorate([riot_ts_1.template(update_title_dialog_html_text_1.default)], UpdateTitleDialog);
                return UpdateTitleDialog;
            }(riot_ts_1.Element);
            exports_1("default", UpdateTitleDialog);
        }
    };
});
$__System.register("18a", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-add-members-dialog>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Members in conversation</legend>\n                    <div class=\"uk-form-row\">\n                        <virtual each=\"{{member in this.members}}\">\n                            <div class=\"uk-badge\">{{member.name}}</div>\n                        </virtual>\n                    </div>\n                </fieldset>\n                <fieldset>\n                    <legend>Add members to conversation</legend>\n                    <div class=\"uk-form-row\">\n                        <table class=\"uk-table uk-table-hover\">\n                            <colgroup>\n                                <col width=\"300\">\n                                <col width=\"\">\n                            </colgroup>\n                            <tbody>\n                                <tr each=\"{{contact in this.contacts}}\" onclick=\"{{onSelectContactItem}}\">\n                                    <td>{{contact.name}}</td>\n                                    <td>\n                                        <i class=\"{{uk-icon-square-o: !contact.selected, uk-icon-check-square-o: contact.selected}}\"></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </fieldset>\n                <fieldset>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onCancelButtonClick}}\">Cancel</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onOKButtonClick}}\">OK</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal {\n            background-color: transparent;\n        }\n        \n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</conversation-add-members-dialog>");
        }
    };
});
$__System.register('18b', ['144', '148', '18a'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, add_members_dialog_html_text_1;
    var store, AddMembersDialog;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (add_members_dialog_html_text_1_1) {
            add_members_dialog_html_text_1 = add_members_dialog_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            AddMembersDialog = function (_super) {
                __extends(AddMembersDialog, _super);
                function AddMembersDialog(opts) {
                    _super.call(this);
                    this.members = [];
                    this.contacts = [];
                    this.errorMessage = "";
                }
                AddMembersDialog.prototype.mounted = function () {
                    //store.subscribe(this.onApplicationStateChanged.bind(this));
                };
                AddMembersDialog.prototype.showDialog = function (conv) {
                    this.conv = conv;
                    var contactStore = store.getState().contactData.contacts;
                    var members = [];
                    conv.members.forEach(function (m) {
                        var contact = contactStore.find(function (c) {
                            return c.userId == m.userId;
                        });
                        if (contact) {
                            members.push({ userId: m.userId, name: contact.name, selected: true });
                        }
                    });
                    var contacts = [];
                    contactStore.forEach(function (c) {
                        var found = members.find(function (m) {
                            return m.userId == c.userId;
                        });
                        if (!found) {
                            contacts.push({ userId: c.userId, name: c.name, selected: false });
                        }
                    });
                    this.members = members;
                    this.contacts = contacts;
                    this.update();
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                };
                AddMembersDialog.prototype.onApplicationStateChanged = function () {
                    this.updateContactList();
                    this.update();
                };
                AddMembersDialog.prototype.updateContactList = function () {
                    var state = store.getState();
                    var contacts = this.contacts;
                    var members = this.members;
                    //Add new contacts
                    state.contactData.contacts.forEach(function (c) {
                        var found = contacts.find(function (cc) {
                            return cc.userId == c.userId;
                        });
                        if (!found) {
                            contacts.push({
                                userId: c.userId,
                                name: c.name,
                                selected: false
                            });
                        }
                    });
                    //Update selected contacts
                    contacts.forEach(function (c) {
                        var found = members.find(function (m) {
                            return m.userId == c.userId;
                        });
                        c.selected = found ? true : false;
                    });
                };
                AddMembersDialog.prototype.onSelectContactItem = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    var contacts = this.contacts;
                    var members = this.members;
                    var contact = e.item.contact;
                    contact.selected = !contact.selected;
                    var found = contacts.find(function (c) {
                        return c.userId == contact.userId;
                    });
                    contacts.forEach(function (c) {
                        var found = members.find(function (m) {
                            return m.userId == c.userId;
                        });
                        if (!found) {
                            if (c.selected) members.push(c);
                        } else {
                            if (!c.selected) {
                                var idx = members.indexOf(found);
                                members.splice(idx, 1);
                            }
                        }
                    });
                    this.update();
                };
                AddMembersDialog.prototype.onCancelButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.closeNewGroupDialog();
                };
                AddMembersDialog.prototype.onOKButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    this.hideError();
                    if (this.members.length == 0) {
                        this.showError('Please select at least one member.');
                        return;
                    }
                    var ids = this.members.map(function (m) {
                        return m.userId;
                    });
                    if (this.conv.type == 1) {
                        (_a = all_1.default.conversations.tools).addMembers.apply(_a, [this.conv.id].concat(ids)).then(function (resp) {
                            if (resp.err) {
                                UIkit.modal.alert(resp.err);
                            } else {
                                store.dispatch((_a = all_1.default.conversations.actions).addMembers.apply(_a, [_this.conv.id].concat(ids)));
                                _this.closeNewGroupDialog();
                            }
                            var _a;
                        });
                    } else {
                        var names = this.members.map(function (m) {
                            return m.name;
                        });
                        var ids = this.members.map(function (m) {
                            return m.userId;
                        });
                        names.unshift(store.getState().userData.user.name);
                        var title = names.join(', ');
                        (_b = all_1.default.conversations.tools).createGroup.apply(_b, [title].concat(ids)).then(function (conv) {
                            store.dispatch(all_1.default.conversations.actions.createGroup(conv));
                            _this.closeNewGroupDialog();
                        });
                    }
                    var _a, _b;
                };
                AddMembersDialog.prototype.showError = function (msg) {
                    this.errorMessage = msg;
                    this.update();
                };
                AddMembersDialog.prototype.hideError = function () {
                    this.errorMessage = "";
                    this.update();
                };
                AddMembersDialog.prototype.closeNewGroupDialog = function () {
                    this.modal.hide();
                };
                AddMembersDialog.prototype.onPreventClosingDialog = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                };
                AddMembersDialog = __decorate([riot_ts_1.template(add_members_dialog_html_text_1.default)], AddMembersDialog);
                return AddMembersDialog;
            }(riot_ts_1.Element);
            exports_1("default", AddMembersDialog);
        }
    };
});
$__System.register("18c", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-delete-conversation-dialog>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Delete This Entire Conversation?</legend>\n                    <div class=\"uk-form-row\">\n                        <p>\n                            Once you delete your copy of this conversation, it cannot be undone.\n                        </p>\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onCancelButtonClick}}\">Cancel</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onOKButtonClick}}\">OK</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal{\n            background-color: transparent;\n        }\n\n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</conversation-delete-conversation-dialog>");
        }
    };
});
$__System.register('18d', ['144', '148', '18c'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, delete_conversation_dialog_html_text_1;
    var LeaveConversationDialog;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (delete_conversation_dialog_html_text_1_1) {
            delete_conversation_dialog_html_text_1 = delete_conversation_dialog_html_text_1_1;
        }],
        execute: function () {
            LeaveConversationDialog = function (_super) {
                __extends(LeaveConversationDialog, _super);
                function LeaveConversationDialog() {
                    _super.apply(this, arguments);
                }
                LeaveConversationDialog.prototype.showDialog = function (conv) {
                    var _this = this;
                    this.conv = conv;
                    this.update();
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                    setTimeout(function () {
                        var input = _this.root.querySelector('.conversation-name-input-field');
                        jQuery(input).focus();
                    }, 1000);
                };
                LeaveConversationDialog.prototype.onCancelButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.modal.hide();
                };
                LeaveConversationDialog.prototype.onOKButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    all_1.default.conversations.tools.deleteConversation(this.conv.id).then(function (resp) {
                        if (resp.err) console.error(resp.err);else {
                            var cons = all_1.default.store.getState().conversationData.conversations;
                            cons = cons.filter(function (c) {
                                return c.id != _this.conv.id;
                            });
                            all_1.default.store.dispatch(all_1.default.conversations.actions.conversationsLoaded(cons));
                            _this.modal.hide();
                        }
                    });
                };
                LeaveConversationDialog = __decorate([riot_ts_1.template(delete_conversation_dialog_html_text_1.default)], LeaveConversationDialog);
                return LeaveConversationDialog;
            }(riot_ts_1.Element);
            exports_1("default", LeaveConversationDialog);
        }
    };
});
$__System.register("18e", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-leave-conversation-dialog>\n    <div class=\"uk-modal\">\n        <div class=\"uk-modal-dialog\">\n            <form class=\"uk-form\">\n                <fieldset>\n                    <legend>Leave Conversation?</legend>\n                    <div class=\"uk-form-row\">\n                        <p>\n                            You will stop receiving messages from this conversation and people will see that you left.\n                        </p>\n                    </div>\n                    <div class=\"uk-form-row dialog-footer\">\n                        <button class=\"uk-button uk-button-danger\" onclick=\"{{onCancelButtonClick}}\">Cancel</button>\n                        <button class=\"uk-button uk-button-primary\" onclick=\"{{onOKButtonClick}}\">OK</button>\n                    </div>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n\n    <style scoped>\n        .uk-modal{\n            background-color: transparent;\n        }\n\n        .uk-modal-dialog {\n            width: 400px;\n            border: 1px solid rgba(0, 0, 0, .45);\n            border-bottom: 1px solid #666;\n        }\n        \n        .dialog-footer {\n            background-color: #f2f2f2;\n            border-top: 1px solid #ccc;\n            text-align: right;\n            margin-left: -20px;\n            margin-right: -20px;\n            margin-bottom: -20px;\n            margin-top: 20px;\n            padding: 5px;\n        }\n    </style>\n</conversation-leave-conversation-dialog>");
        }
    };
});
$__System.register('18f', ['144', '148', '18e'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, leave_conversation_dialog_html_text_1;
    var LeaveConversationDialog;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (leave_conversation_dialog_html_text_1_1) {
            leave_conversation_dialog_html_text_1 = leave_conversation_dialog_html_text_1_1;
        }],
        execute: function () {
            LeaveConversationDialog = function (_super) {
                __extends(LeaveConversationDialog, _super);
                function LeaveConversationDialog() {
                    _super.apply(this, arguments);
                }
                LeaveConversationDialog.prototype.showDialog = function (conv) {
                    var _this = this;
                    this.conv = conv;
                    this.update();
                    var el = this.root.querySelector('.uk-modal');
                    this.modal = UIkit.modal(jQuery(el));
                    this.modal.show();
                    setTimeout(function () {
                        var input = _this.root.querySelector('.conversation-name-input-field');
                        jQuery(input).focus();
                    }, 1000);
                };
                LeaveConversationDialog.prototype.onCancelButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.modal.hide();
                };
                LeaveConversationDialog.prototype.onOKButtonClick = function (e) {
                    var _this = this;
                    e.preventDefault();
                    e.stopPropagation();
                    all_1.default.conversations.tools.leaveConversation(this.conv.id).then(function (resp) {
                        if (resp.err) console.error(resp.err);else {
                            var cons = all_1.default.store.getState().conversationData.conversations;
                            cons = cons.filter(function (c) {
                                return c.id != _this.conv.id;
                            });
                            all_1.default.store.dispatch(all_1.default.conversations.actions.conversationsLoaded(cons));
                            _this.modal.hide();
                        }
                    });
                };
                LeaveConversationDialog = __decorate([riot_ts_1.template(leave_conversation_dialog_html_text_1.default)], LeaveConversationDialog);
                return LeaveConversationDialog;
            }(riot_ts_1.Element);
            exports_1("default", LeaveConversationDialog);
        }
    };
});
$__System.register("190", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-actions>\n    <ul class=\"uk-navbar-nav\">\n        <li>\n            <a onclick=\"{{onAddMembersButtonClick}}\"><span class=\"uk-icon-user-plus\"></span></a>\n        </li>\n        <li class=\"uk-parent\" data-uk-dropdown=\"{mode:'click'}\">\n            <a><i class=\"uk-icon-caret-down\"></i></a>\n            <div class=\"uk-dropdown uk-dropdown-navbar uk-dropdown-bottom chatbox-header--more-actions\">\n                <ul class=\"uk-nav uk-nav-navbar\">\n                    <li onclick=\"{{onEditTitleActionItemClick}}\"><a>Edit Conversation Name</a></li>\n                    <li><a>Edit Participants</a></li>\n                    <li class=\"uk-nav-divider\"></li>\n                    <li if=\"{{isOwner()}}\" onclick=\"{{onDeleteConversationActionItemClick}}\"><a>Delete Conversation</a></li>\n                    <li if=\"{{!isOwner()}}\" onclick=\"{{onLeaveConversationActionItemClick}}\"><a>Leave Conversation</a></li>\n                </ul>\n            </div>\n        </li>\n    </ul>\n    <div style=\"width:1px;height:0px;\">\n        <conversation-update-title-dialog/>\n        <conversation-add-members-dialog/>\n        <conversation-delete-conversation-dialog/>\n        <conversation-leave-conversation-dialog/>\n    </div>\n</conversation-actions>");
        }
    };
});
$__System.register('191', ['144', '156', '148', '190'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, types_1, all_1, conversation_actions_html_text_1;
    var ConversationActions;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (conversation_actions_html_text_1_1) {
            conversation_actions_html_text_1 = conversation_actions_html_text_1_1;
        }],
        execute: function () {
            ConversationActions = function (_super) {
                __extends(ConversationActions, _super);
                function ConversationActions(opts) {
                    _super.call(this);
                    var conv_id = opts.conv_id;
                    this.conv = all_1.default.store.getState().conversationData.conversations.find(function (c) {
                        return c.id == conv_id;
                    });
                }
                ConversationActions.prototype.isOwner = function () {
                    return this.conv.memberType == types_1.MEMBER_TYPE.OWNER;
                };
                ConversationActions.prototype.onAddMembersButtonClick = function (e) {
                    var tag = this.tags['conversation-add-members-dialog'];
                    tag.showDialog(this.conv);
                };
                ConversationActions.prototype.onDeleteConversationActionItemClick = function (e) {
                    var tag = this.tags['conversation-delete-conversation-dialog'];
                    tag.showDialog(this.conv);
                };
                ConversationActions.prototype.onLeaveConversationActionItemClick = function (e) {
                    var tag = this.tags['conversation-leave-conversation-dialog'];
                    tag.showDialog(this.conv);
                };
                ConversationActions.prototype.onEditTitleActionItemClick = function (e) {
                    var tag = this.tags['conversation-update-title-dialog'];
                    tag.showDialog(this.conv);
                };
                ConversationActions = __decorate([riot_ts_1.template(conversation_actions_html_text_1.default)], ConversationActions);
                return ConversationActions;
            }(riot_ts_1.Element);
            exports_1("default", ConversationActions);
        }
    };
});
$__System.register('192', ['189', '18b', '18d', '18f', '191'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var update_title_dialog_1, add_members_dialog_1, delete_conversation_dialog_1, leave_conversation_dialog_1, conversation_actions_1;
    return {
        setters: [function (update_title_dialog_1_1) {
            update_title_dialog_1 = update_title_dialog_1_1;
        }, function (add_members_dialog_1_1) {
            add_members_dialog_1 = add_members_dialog_1_1;
        }, function (delete_conversation_dialog_1_1) {
            delete_conversation_dialog_1 = delete_conversation_dialog_1_1;
        }, function (leave_conversation_dialog_1_1) {
            leave_conversation_dialog_1 = leave_conversation_dialog_1_1;
        }, function (conversation_actions_1_1) {
            conversation_actions_1 = conversation_actions_1_1;
        }],
        execute: function () {
            exports_1("UpdateTitleDialog", update_title_dialog_1.default);
            exports_1("AddMembersDialog", add_members_dialog_1.default);
            exports_1("DeleteConversationDialog", delete_conversation_dialog_1.default);
            exports_1("LeaveConversationDialog", leave_conversation_dialog_1.default);
            exports_1("ConversationActions", conversation_actions_1.default);
        }
    };
});
(function() {
var define = $__System.amdDefine;
;
(function(global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define("169", [], factory) : global.moment = factory();
}(this, function() {
  'use strict';
  var hookCallback;
  function utils_hooks__hooks() {
    return hookCallback.apply(null, arguments);
  }
  function setHookCallback(callback) {
    hookCallback = callback;
  }
  function isArray(input) {
    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
  }
  function isObject(input) {
    return Object.prototype.toString.call(input) === '[object Object]';
  }
  function isObjectEmpty(obj) {
    var k;
    for (k in obj) {
      return false;
    }
    return true;
  }
  function isDate(input) {
    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
  }
  function map(arr, fn) {
    var res = [],
        i;
    for (i = 0; i < arr.length; ++i) {
      res.push(fn(arr[i], i));
    }
    return res;
  }
  function hasOwnProp(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b);
  }
  function extend(a, b) {
    for (var i in b) {
      if (hasOwnProp(b, i)) {
        a[i] = b[i];
      }
    }
    if (hasOwnProp(b, 'toString')) {
      a.toString = b.toString;
    }
    if (hasOwnProp(b, 'valueOf')) {
      a.valueOf = b.valueOf;
    }
    return a;
  }
  function create_utc__createUTC(input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, true).utc();
  }
  function defaultParsingFlags() {
    return {
      empty: false,
      unusedTokens: [],
      unusedInput: [],
      overflow: -2,
      charsLeftOver: 0,
      nullInput: false,
      invalidMonth: null,
      invalidFormat: false,
      userInvalidated: false,
      iso: false,
      parsedDateParts: [],
      meridiem: null
    };
  }
  function getParsingFlags(m) {
    if (m._pf == null) {
      m._pf = defaultParsingFlags();
    }
    return m._pf;
  }
  var some;
  if (Array.prototype.some) {
    some = Array.prototype.some;
  } else {
    some = function(fun) {
      var t = Object(this);
      var len = t.length >>> 0;
      for (var i = 0; i < len; i++) {
        if (i in t && fun.call(this, t[i], i, t)) {
          return true;
        }
      }
      return false;
    };
  }
  function valid__isValid(m) {
    if (m._isValid == null) {
      var flags = getParsingFlags(m);
      var parsedParts = some.call(flags.parsedDateParts, function(i) {
        return i != null;
      });
      m._isValid = !isNaN(m._d.getTime()) && flags.overflow < 0 && !flags.empty && !flags.invalidMonth && !flags.invalidWeekday && !flags.nullInput && !flags.invalidFormat && !flags.userInvalidated && (!flags.meridiem || (flags.meridiem && parsedParts));
      if (m._strict) {
        m._isValid = m._isValid && flags.charsLeftOver === 0 && flags.unusedTokens.length === 0 && flags.bigHour === undefined;
      }
    }
    return m._isValid;
  }
  function valid__createInvalid(flags) {
    var m = create_utc__createUTC(NaN);
    if (flags != null) {
      extend(getParsingFlags(m), flags);
    } else {
      getParsingFlags(m).userInvalidated = true;
    }
    return m;
  }
  function isUndefined(input) {
    return input === void 0;
  }
  var momentProperties = utils_hooks__hooks.momentProperties = [];
  function copyConfig(to, from) {
    var i,
        prop,
        val;
    if (!isUndefined(from._isAMomentObject)) {
      to._isAMomentObject = from._isAMomentObject;
    }
    if (!isUndefined(from._i)) {
      to._i = from._i;
    }
    if (!isUndefined(from._f)) {
      to._f = from._f;
    }
    if (!isUndefined(from._l)) {
      to._l = from._l;
    }
    if (!isUndefined(from._strict)) {
      to._strict = from._strict;
    }
    if (!isUndefined(from._tzm)) {
      to._tzm = from._tzm;
    }
    if (!isUndefined(from._isUTC)) {
      to._isUTC = from._isUTC;
    }
    if (!isUndefined(from._offset)) {
      to._offset = from._offset;
    }
    if (!isUndefined(from._pf)) {
      to._pf = getParsingFlags(from);
    }
    if (!isUndefined(from._locale)) {
      to._locale = from._locale;
    }
    if (momentProperties.length > 0) {
      for (i in momentProperties) {
        prop = momentProperties[i];
        val = from[prop];
        if (!isUndefined(val)) {
          to[prop] = val;
        }
      }
    }
    return to;
  }
  var updateInProgress = false;
  function Moment(config) {
    copyConfig(this, config);
    this._d = new Date(config._d != null ? config._d.getTime() : NaN);
    if (updateInProgress === false) {
      updateInProgress = true;
      utils_hooks__hooks.updateOffset(this);
      updateInProgress = false;
    }
  }
  function isMoment(obj) {
    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
  }
  function absFloor(number) {
    if (number < 0) {
      return Math.ceil(number) || 0;
    } else {
      return Math.floor(number);
    }
  }
  function toInt(argumentForCoercion) {
    var coercedNumber = +argumentForCoercion,
        value = 0;
    if (coercedNumber !== 0 && isFinite(coercedNumber)) {
      value = absFloor(coercedNumber);
    }
    return value;
  }
  function compareArrays(array1, array2, dontConvert) {
    var len = Math.min(array1.length, array2.length),
        lengthDiff = Math.abs(array1.length - array2.length),
        diffs = 0,
        i;
    for (i = 0; i < len; i++) {
      if ((dontConvert && array1[i] !== array2[i]) || (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
        diffs++;
      }
    }
    return diffs + lengthDiff;
  }
  function warn(msg) {
    if (utils_hooks__hooks.suppressDeprecationWarnings === false && (typeof console !== 'undefined') && console.warn) {
      console.warn('Deprecation warning: ' + msg);
    }
  }
  function deprecate(msg, fn) {
    var firstTime = true;
    return extend(function() {
      if (utils_hooks__hooks.deprecationHandler != null) {
        utils_hooks__hooks.deprecationHandler(null, msg);
      }
      if (firstTime) {
        warn(msg + '\nArguments: ' + Array.prototype.slice.call(arguments).join(', ') + '\n' + (new Error()).stack);
        firstTime = false;
      }
      return fn.apply(this, arguments);
    }, fn);
  }
  var deprecations = {};
  function deprecateSimple(name, msg) {
    if (utils_hooks__hooks.deprecationHandler != null) {
      utils_hooks__hooks.deprecationHandler(name, msg);
    }
    if (!deprecations[name]) {
      warn(msg);
      deprecations[name] = true;
    }
  }
  utils_hooks__hooks.suppressDeprecationWarnings = false;
  utils_hooks__hooks.deprecationHandler = null;
  function isFunction(input) {
    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
  }
  function locale_set__set(config) {
    var prop,
        i;
    for (i in config) {
      prop = config[i];
      if (isFunction(prop)) {
        this[i] = prop;
      } else {
        this['_' + i] = prop;
      }
    }
    this._config = config;
    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
  }
  function mergeConfigs(parentConfig, childConfig) {
    var res = extend({}, parentConfig),
        prop;
    for (prop in childConfig) {
      if (hasOwnProp(childConfig, prop)) {
        if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
          res[prop] = {};
          extend(res[prop], parentConfig[prop]);
          extend(res[prop], childConfig[prop]);
        } else if (childConfig[prop] != null) {
          res[prop] = childConfig[prop];
        } else {
          delete res[prop];
        }
      }
    }
    for (prop in parentConfig) {
      if (hasOwnProp(parentConfig, prop) && !hasOwnProp(childConfig, prop) && isObject(parentConfig[prop])) {
        res[prop] = extend({}, res[prop]);
      }
    }
    return res;
  }
  function Locale(config) {
    if (config != null) {
      this.set(config);
    }
  }
  var keys;
  if (Object.keys) {
    keys = Object.keys;
  } else {
    keys = function(obj) {
      var i,
          res = [];
      for (i in obj) {
        if (hasOwnProp(obj, i)) {
          res.push(i);
        }
      }
      return res;
    };
  }
  var defaultCalendar = {
    sameDay: '[Today at] LT',
    nextDay: '[Tomorrow at] LT',
    nextWeek: 'dddd [at] LT',
    lastDay: '[Yesterday at] LT',
    lastWeek: '[Last] dddd [at] LT',
    sameElse: 'L'
  };
  function locale_calendar__calendar(key, mom, now) {
    var output = this._calendar[key] || this._calendar['sameElse'];
    return isFunction(output) ? output.call(mom, now) : output;
  }
  var defaultLongDateFormat = {
    LTS: 'h:mm:ss A',
    LT: 'h:mm A',
    L: 'MM/DD/YYYY',
    LL: 'MMMM D, YYYY',
    LLL: 'MMMM D, YYYY h:mm A',
    LLLL: 'dddd, MMMM D, YYYY h:mm A'
  };
  function longDateFormat(key) {
    var format = this._longDateFormat[key],
        formatUpper = this._longDateFormat[key.toUpperCase()];
    if (format || !formatUpper) {
      return format;
    }
    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function(val) {
      return val.slice(1);
    });
    return this._longDateFormat[key];
  }
  var defaultInvalidDate = 'Invalid date';
  function invalidDate() {
    return this._invalidDate;
  }
  var defaultOrdinal = '%d';
  var defaultOrdinalParse = /\d{1,2}/;
  function ordinal(number) {
    return this._ordinal.replace('%d', number);
  }
  var defaultRelativeTime = {
    future: 'in %s',
    past: '%s ago',
    s: 'a few seconds',
    m: 'a minute',
    mm: '%d minutes',
    h: 'an hour',
    hh: '%d hours',
    d: 'a day',
    dd: '%d days',
    M: 'a month',
    MM: '%d months',
    y: 'a year',
    yy: '%d years'
  };
  function relative__relativeTime(number, withoutSuffix, string, isFuture) {
    var output = this._relativeTime[string];
    return (isFunction(output)) ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);
  }
  function pastFuture(diff, output) {
    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
    return isFunction(format) ? format(output) : format.replace(/%s/i, output);
  }
  var aliases = {};
  function addUnitAlias(unit, shorthand) {
    var lowerCase = unit.toLowerCase();
    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
  }
  function normalizeUnits(units) {
    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
  }
  function normalizeObjectUnits(inputObject) {
    var normalizedInput = {},
        normalizedProp,
        prop;
    for (prop in inputObject) {
      if (hasOwnProp(inputObject, prop)) {
        normalizedProp = normalizeUnits(prop);
        if (normalizedProp) {
          normalizedInput[normalizedProp] = inputObject[prop];
        }
      }
    }
    return normalizedInput;
  }
  var priorities = {};
  function addUnitPriority(unit, priority) {
    priorities[unit] = priority;
  }
  function getPrioritizedUnits(unitsObj) {
    var units = [];
    for (var u in unitsObj) {
      units.push({
        unit: u,
        priority: priorities[u]
      });
    }
    units.sort(function(a, b) {
      return a.priority - b.priority;
    });
    return units;
  }
  function makeGetSet(unit, keepTime) {
    return function(value) {
      if (value != null) {
        get_set__set(this, unit, value);
        utils_hooks__hooks.updateOffset(this, keepTime);
        return this;
      } else {
        return get_set__get(this, unit);
      }
    };
  }
  function get_set__get(mom, unit) {
    return mom.isValid() ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
  }
  function get_set__set(mom, unit, value) {
    if (mom.isValid()) {
      mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }
  }
  function stringGet(units) {
    units = normalizeUnits(units);
    if (isFunction(this[units])) {
      return this[units]();
    }
    return this;
  }
  function stringSet(units, value) {
    if (typeof units === 'object') {
      units = normalizeObjectUnits(units);
      var prioritized = getPrioritizedUnits(units);
      for (var i = 0; i < prioritized.length; i++) {
        this[prioritized[i].unit](units[prioritized[i].unit]);
      }
    } else {
      units = normalizeUnits(units);
      if (isFunction(this[units])) {
        return this[units](value);
      }
    }
    return this;
  }
  function zeroFill(number, targetLength, forceSign) {
    var absNumber = '' + Math.abs(number),
        zerosToFill = targetLength - absNumber.length,
        sign = number >= 0;
    return (sign ? (forceSign ? '+' : '') : '-') + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
  }
  var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;
  var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;
  var formatFunctions = {};
  var formatTokenFunctions = {};
  function addFormatToken(token, padded, ordinal, callback) {
    var func = callback;
    if (typeof callback === 'string') {
      func = function() {
        return this[callback]();
      };
    }
    if (token) {
      formatTokenFunctions[token] = func;
    }
    if (padded) {
      formatTokenFunctions[padded[0]] = function() {
        return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
      };
    }
    if (ordinal) {
      formatTokenFunctions[ordinal] = function() {
        return this.localeData().ordinal(func.apply(this, arguments), token);
      };
    }
  }
  function removeFormattingTokens(input) {
    if (input.match(/\[[\s\S]/)) {
      return input.replace(/^\[|\]$/g, '');
    }
    return input.replace(/\\/g, '');
  }
  function makeFormatFunction(format) {
    var array = format.match(formattingTokens),
        i,
        length;
    for (i = 0, length = array.length; i < length; i++) {
      if (formatTokenFunctions[array[i]]) {
        array[i] = formatTokenFunctions[array[i]];
      } else {
        array[i] = removeFormattingTokens(array[i]);
      }
    }
    return function(mom) {
      var output = '',
          i;
      for (i = 0; i < length; i++) {
        output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
      }
      return output;
    };
  }
  function formatMoment(m, format) {
    if (!m.isValid()) {
      return m.localeData().invalidDate();
    }
    format = expandFormat(format, m.localeData());
    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);
    return formatFunctions[format](m);
  }
  function expandFormat(format, locale) {
    var i = 5;
    function replaceLongDateFormatTokens(input) {
      return locale.longDateFormat(input) || input;
    }
    localFormattingTokens.lastIndex = 0;
    while (i >= 0 && localFormattingTokens.test(format)) {
      format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
      localFormattingTokens.lastIndex = 0;
      i -= 1;
    }
    return format;
  }
  var match1 = /\d/;
  var match2 = /\d\d/;
  var match3 = /\d{3}/;
  var match4 = /\d{4}/;
  var match6 = /[+-]?\d{6}/;
  var match1to2 = /\d\d?/;
  var match3to4 = /\d\d\d\d?/;
  var match5to6 = /\d\d\d\d\d\d?/;
  var match1to3 = /\d{1,3}/;
  var match1to4 = /\d{1,4}/;
  var match1to6 = /[+-]?\d{1,6}/;
  var matchUnsigned = /\d+/;
  var matchSigned = /[+-]?\d+/;
  var matchOffset = /Z|[+-]\d\d:?\d\d/gi;
  var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi;
  var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/;
  var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;
  var regexes = {};
  function addRegexToken(token, regex, strictRegex) {
    regexes[token] = isFunction(regex) ? regex : function(isStrict, localeData) {
      return (isStrict && strictRegex) ? strictRegex : regex;
    };
  }
  function getParseRegexForToken(token, config) {
    if (!hasOwnProp(regexes, token)) {
      return new RegExp(unescapeFormat(token));
    }
    return regexes[token](config._strict, config._locale);
  }
  function unescapeFormat(s) {
    return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(matched, p1, p2, p3, p4) {
      return p1 || p2 || p3 || p4;
    }));
  }
  function regexEscape(s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
  }
  var tokens = {};
  function addParseToken(token, callback) {
    var i,
        func = callback;
    if (typeof token === 'string') {
      token = [token];
    }
    if (typeof callback === 'number') {
      func = function(input, array) {
        array[callback] = toInt(input);
      };
    }
    for (i = 0; i < token.length; i++) {
      tokens[token[i]] = func;
    }
  }
  function addWeekParseToken(token, callback) {
    addParseToken(token, function(input, array, config, token) {
      config._w = config._w || {};
      callback(input, config._w, config, token);
    });
  }
  function addTimeToArrayFromToken(token, input, config) {
    if (input != null && hasOwnProp(tokens, token)) {
      tokens[token](input, config._a, config, token);
    }
  }
  var YEAR = 0;
  var MONTH = 1;
  var DATE = 2;
  var HOUR = 3;
  var MINUTE = 4;
  var SECOND = 5;
  var MILLISECOND = 6;
  var WEEK = 7;
  var WEEKDAY = 8;
  var indexOf;
  if (Array.prototype.indexOf) {
    indexOf = Array.prototype.indexOf;
  } else {
    indexOf = function(o) {
      var i;
      for (i = 0; i < this.length; ++i) {
        if (this[i] === o) {
          return i;
        }
      }
      return -1;
    };
  }
  function daysInMonth(year, month) {
    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
  }
  addFormatToken('M', ['MM', 2], 'Mo', function() {
    return this.month() + 1;
  });
  addFormatToken('MMM', 0, 0, function(format) {
    return this.localeData().monthsShort(this, format);
  });
  addFormatToken('MMMM', 0, 0, function(format) {
    return this.localeData().months(this, format);
  });
  addUnitAlias('month', 'M');
  addUnitPriority('month', 8);
  addRegexToken('M', match1to2);
  addRegexToken('MM', match1to2, match2);
  addRegexToken('MMM', function(isStrict, locale) {
    return locale.monthsShortRegex(isStrict);
  });
  addRegexToken('MMMM', function(isStrict, locale) {
    return locale.monthsRegex(isStrict);
  });
  addParseToken(['M', 'MM'], function(input, array) {
    array[MONTH] = toInt(input) - 1;
  });
  addParseToken(['MMM', 'MMMM'], function(input, array, config, token) {
    var month = config._locale.monthsParse(input, token, config._strict);
    if (month != null) {
      array[MONTH] = month;
    } else {
      getParsingFlags(config).invalidMonth = input;
    }
  });
  var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;
  var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
  function localeMonths(m, format) {
    return isArray(this._months) ? this._months[m.month()] : this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
  }
  var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
  function localeMonthsShort(m, format) {
    return isArray(this._monthsShort) ? this._monthsShort[m.month()] : this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
  }
  function units_month__handleStrictParse(monthName, format, strict) {
    var i,
        ii,
        mom,
        llc = monthName.toLocaleLowerCase();
    if (!this._monthsParse) {
      this._monthsParse = [];
      this._longMonthsParse = [];
      this._shortMonthsParse = [];
      for (i = 0; i < 12; ++i) {
        mom = create_utc__createUTC([2000, i]);
        this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
        this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
      }
    }
    if (strict) {
      if (format === 'MMM') {
        ii = indexOf.call(this._shortMonthsParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._longMonthsParse, llc);
        return ii !== -1 ? ii : null;
      }
    } else {
      if (format === 'MMM') {
        ii = indexOf.call(this._shortMonthsParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._longMonthsParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._longMonthsParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._shortMonthsParse, llc);
        return ii !== -1 ? ii : null;
      }
    }
  }
  function localeMonthsParse(monthName, format, strict) {
    var i,
        mom,
        regex;
    if (this._monthsParseExact) {
      return units_month__handleStrictParse.call(this, monthName, format, strict);
    }
    if (!this._monthsParse) {
      this._monthsParse = [];
      this._longMonthsParse = [];
      this._shortMonthsParse = [];
    }
    for (i = 0; i < 12; i++) {
      mom = create_utc__createUTC([2000, i]);
      if (strict && !this._longMonthsParse[i]) {
        this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
        this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
      }
      if (!strict && !this._monthsParse[i]) {
        regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
        this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
      }
      if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
        return i;
      } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
        return i;
      } else if (!strict && this._monthsParse[i].test(monthName)) {
        return i;
      }
    }
  }
  function setMonth(mom, value) {
    var dayOfMonth;
    if (!mom.isValid()) {
      return mom;
    }
    if (typeof value === 'string') {
      if (/^\d+$/.test(value)) {
        value = toInt(value);
      } else {
        value = mom.localeData().monthsParse(value);
        if (typeof value !== 'number') {
          return mom;
        }
      }
    }
    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
    return mom;
  }
  function getSetMonth(value) {
    if (value != null) {
      setMonth(this, value);
      utils_hooks__hooks.updateOffset(this, true);
      return this;
    } else {
      return get_set__get(this, 'Month');
    }
  }
  function getDaysInMonth() {
    return daysInMonth(this.year(), this.month());
  }
  var defaultMonthsShortRegex = matchWord;
  function monthsShortRegex(isStrict) {
    if (this._monthsParseExact) {
      if (!hasOwnProp(this, '_monthsRegex')) {
        computeMonthsParse.call(this);
      }
      if (isStrict) {
        return this._monthsShortStrictRegex;
      } else {
        return this._monthsShortRegex;
      }
    } else {
      if (!hasOwnProp(this, '_monthsShortRegex')) {
        this._monthsShortRegex = defaultMonthsShortRegex;
      }
      return this._monthsShortStrictRegex && isStrict ? this._monthsShortStrictRegex : this._monthsShortRegex;
    }
  }
  var defaultMonthsRegex = matchWord;
  function monthsRegex(isStrict) {
    if (this._monthsParseExact) {
      if (!hasOwnProp(this, '_monthsRegex')) {
        computeMonthsParse.call(this);
      }
      if (isStrict) {
        return this._monthsStrictRegex;
      } else {
        return this._monthsRegex;
      }
    } else {
      if (!hasOwnProp(this, '_monthsRegex')) {
        this._monthsRegex = defaultMonthsRegex;
      }
      return this._monthsStrictRegex && isStrict ? this._monthsStrictRegex : this._monthsRegex;
    }
  }
  function computeMonthsParse() {
    function cmpLenRev(a, b) {
      return b.length - a.length;
    }
    var shortPieces = [],
        longPieces = [],
        mixedPieces = [],
        i,
        mom;
    for (i = 0; i < 12; i++) {
      mom = create_utc__createUTC([2000, i]);
      shortPieces.push(this.monthsShort(mom, ''));
      longPieces.push(this.months(mom, ''));
      mixedPieces.push(this.months(mom, ''));
      mixedPieces.push(this.monthsShort(mom, ''));
    }
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 12; i++) {
      shortPieces[i] = regexEscape(shortPieces[i]);
      longPieces[i] = regexEscape(longPieces[i]);
    }
    for (i = 0; i < 24; i++) {
      mixedPieces[i] = regexEscape(mixedPieces[i]);
    }
    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._monthsShortRegex = this._monthsRegex;
    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
  }
  addFormatToken('Y', 0, 0, function() {
    var y = this.year();
    return y <= 9999 ? '' + y : '+' + y;
  });
  addFormatToken(0, ['YY', 2], 0, function() {
    return this.year() % 100;
  });
  addFormatToken(0, ['YYYY', 4], 0, 'year');
  addFormatToken(0, ['YYYYY', 5], 0, 'year');
  addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');
  addUnitAlias('year', 'y');
  addUnitPriority('year', 1);
  addRegexToken('Y', matchSigned);
  addRegexToken('YY', match1to2, match2);
  addRegexToken('YYYY', match1to4, match4);
  addRegexToken('YYYYY', match1to6, match6);
  addRegexToken('YYYYYY', match1to6, match6);
  addParseToken(['YYYYY', 'YYYYYY'], YEAR);
  addParseToken('YYYY', function(input, array) {
    array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);
  });
  addParseToken('YY', function(input, array) {
    array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);
  });
  addParseToken('Y', function(input, array) {
    array[YEAR] = parseInt(input, 10);
  });
  function daysInYear(year) {
    return isLeapYear(year) ? 366 : 365;
  }
  function isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
  }
  utils_hooks__hooks.parseTwoDigitYear = function(input) {
    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
  };
  var getSetYear = makeGetSet('FullYear', true);
  function getIsLeapYear() {
    return isLeapYear(this.year());
  }
  function createDate(y, m, d, h, M, s, ms) {
    var date = new Date(y, m, d, h, M, s, ms);
    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
      date.setFullYear(y);
    }
    return date;
  }
  function createUTCDate(y) {
    var date = new Date(Date.UTC.apply(null, arguments));
    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
      date.setUTCFullYear(y);
    }
    return date;
  }
  function firstWeekOffset(year, dow, doy) {
    var fwd = 7 + dow - doy,
        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;
    return -fwdlw + fwd - 1;
  }
  function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
    var localWeekday = (7 + weekday - dow) % 7,
        weekOffset = firstWeekOffset(year, dow, doy),
        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
        resYear,
        resDayOfYear;
    if (dayOfYear <= 0) {
      resYear = year - 1;
      resDayOfYear = daysInYear(resYear) + dayOfYear;
    } else if (dayOfYear > daysInYear(year)) {
      resYear = year + 1;
      resDayOfYear = dayOfYear - daysInYear(year);
    } else {
      resYear = year;
      resDayOfYear = dayOfYear;
    }
    return {
      year: resYear,
      dayOfYear: resDayOfYear
    };
  }
  function weekOfYear(mom, dow, doy) {
    var weekOffset = firstWeekOffset(mom.year(), dow, doy),
        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
        resWeek,
        resYear;
    if (week < 1) {
      resYear = mom.year() - 1;
      resWeek = week + weeksInYear(resYear, dow, doy);
    } else if (week > weeksInYear(mom.year(), dow, doy)) {
      resWeek = week - weeksInYear(mom.year(), dow, doy);
      resYear = mom.year() + 1;
    } else {
      resYear = mom.year();
      resWeek = week;
    }
    return {
      week: resWeek,
      year: resYear
    };
  }
  function weeksInYear(year, dow, doy) {
    var weekOffset = firstWeekOffset(year, dow, doy),
        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
  }
  addFormatToken('w', ['ww', 2], 'wo', 'week');
  addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');
  addUnitAlias('week', 'w');
  addUnitAlias('isoWeek', 'W');
  addUnitPriority('week', 5);
  addUnitPriority('isoWeek', 5);
  addRegexToken('w', match1to2);
  addRegexToken('ww', match1to2, match2);
  addRegexToken('W', match1to2);
  addRegexToken('WW', match1to2, match2);
  addWeekParseToken(['w', 'ww', 'W', 'WW'], function(input, week, config, token) {
    week[token.substr(0, 1)] = toInt(input);
  });
  function localeWeek(mom) {
    return weekOfYear(mom, this._week.dow, this._week.doy).week;
  }
  var defaultLocaleWeek = {
    dow: 0,
    doy: 6
  };
  function localeFirstDayOfWeek() {
    return this._week.dow;
  }
  function localeFirstDayOfYear() {
    return this._week.doy;
  }
  function getSetWeek(input) {
    var week = this.localeData().week(this);
    return input == null ? week : this.add((input - week) * 7, 'd');
  }
  function getSetISOWeek(input) {
    var week = weekOfYear(this, 1, 4).week;
    return input == null ? week : this.add((input - week) * 7, 'd');
  }
  addFormatToken('d', 0, 'do', 'day');
  addFormatToken('dd', 0, 0, function(format) {
    return this.localeData().weekdaysMin(this, format);
  });
  addFormatToken('ddd', 0, 0, function(format) {
    return this.localeData().weekdaysShort(this, format);
  });
  addFormatToken('dddd', 0, 0, function(format) {
    return this.localeData().weekdays(this, format);
  });
  addFormatToken('e', 0, 0, 'weekday');
  addFormatToken('E', 0, 0, 'isoWeekday');
  addUnitAlias('day', 'd');
  addUnitAlias('weekday', 'e');
  addUnitAlias('isoWeekday', 'E');
  addUnitPriority('day', 11);
  addUnitPriority('weekday', 11);
  addUnitPriority('isoWeekday', 11);
  addRegexToken('d', match1to2);
  addRegexToken('e', match1to2);
  addRegexToken('E', match1to2);
  addRegexToken('dd', function(isStrict, locale) {
    return locale.weekdaysMinRegex(isStrict);
  });
  addRegexToken('ddd', function(isStrict, locale) {
    return locale.weekdaysShortRegex(isStrict);
  });
  addRegexToken('dddd', function(isStrict, locale) {
    return locale.weekdaysRegex(isStrict);
  });
  addWeekParseToken(['dd', 'ddd', 'dddd'], function(input, week, config, token) {
    var weekday = config._locale.weekdaysParse(input, token, config._strict);
    if (weekday != null) {
      week.d = weekday;
    } else {
      getParsingFlags(config).invalidWeekday = input;
    }
  });
  addWeekParseToken(['d', 'e', 'E'], function(input, week, config, token) {
    week[token] = toInt(input);
  });
  function parseWeekday(input, locale) {
    if (typeof input !== 'string') {
      return input;
    }
    if (!isNaN(input)) {
      return parseInt(input, 10);
    }
    input = locale.weekdaysParse(input);
    if (typeof input === 'number') {
      return input;
    }
    return null;
  }
  function parseIsoWeekday(input, locale) {
    if (typeof input === 'string') {
      return locale.weekdaysParse(input) % 7 || 7;
    }
    return isNaN(input) ? null : input;
  }
  var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
  function localeWeekdays(m, format) {
    return isArray(this._weekdays) ? this._weekdays[m.day()] : this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
  }
  var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
  function localeWeekdaysShort(m) {
    return this._weekdaysShort[m.day()];
  }
  var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
  function localeWeekdaysMin(m) {
    return this._weekdaysMin[m.day()];
  }
  function day_of_week__handleStrictParse(weekdayName, format, strict) {
    var i,
        ii,
        mom,
        llc = weekdayName.toLocaleLowerCase();
    if (!this._weekdaysParse) {
      this._weekdaysParse = [];
      this._shortWeekdaysParse = [];
      this._minWeekdaysParse = [];
      for (i = 0; i < 7; ++i) {
        mom = create_utc__createUTC([2000, 1]).day(i);
        this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
        this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
        this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
      }
    }
    if (strict) {
      if (format === 'dddd') {
        ii = indexOf.call(this._weekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else if (format === 'ddd') {
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      }
    } else {
      if (format === 'dddd') {
        ii = indexOf.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else if (format === 'ddd') {
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf.call(this._minWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf.call(this._shortWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      }
    }
  }
  function localeWeekdaysParse(weekdayName, format, strict) {
    var i,
        mom,
        regex;
    if (this._weekdaysParseExact) {
      return day_of_week__handleStrictParse.call(this, weekdayName, format, strict);
    }
    if (!this._weekdaysParse) {
      this._weekdaysParse = [];
      this._minWeekdaysParse = [];
      this._shortWeekdaysParse = [];
      this._fullWeekdaysParse = [];
    }
    for (i = 0; i < 7; i++) {
      mom = create_utc__createUTC([2000, 1]).day(i);
      if (strict && !this._fullWeekdaysParse[i]) {
        this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\.?') + '$', 'i');
        this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\.?') + '$', 'i');
        this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\.?') + '$', 'i');
      }
      if (!this._weekdaysParse[i]) {
        regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
        this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
      }
      if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
        return i;
      }
    }
  }
  function getSetDayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
    if (input != null) {
      input = parseWeekday(input, this.localeData());
      return this.add(input - day, 'd');
    } else {
      return day;
    }
  }
  function getSetLocaleDayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
    return input == null ? weekday : this.add(input - weekday, 'd');
  }
  function getSetISODayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    if (input != null) {
      var weekday = parseIsoWeekday(input, this.localeData());
      return this.day(this.day() % 7 ? weekday : weekday - 7);
    } else {
      return this.day() || 7;
    }
  }
  var defaultWeekdaysRegex = matchWord;
  function weekdaysRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysStrictRegex;
      } else {
        return this._weekdaysRegex;
      }
    } else {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        this._weekdaysRegex = defaultWeekdaysRegex;
      }
      return this._weekdaysStrictRegex && isStrict ? this._weekdaysStrictRegex : this._weekdaysRegex;
    }
  }
  var defaultWeekdaysShortRegex = matchWord;
  function weekdaysShortRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysShortStrictRegex;
      } else {
        return this._weekdaysShortRegex;
      }
    } else {
      if (!hasOwnProp(this, '_weekdaysShortRegex')) {
        this._weekdaysShortRegex = defaultWeekdaysShortRegex;
      }
      return this._weekdaysShortStrictRegex && isStrict ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
    }
  }
  var defaultWeekdaysMinRegex = matchWord;
  function weekdaysMinRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysMinStrictRegex;
      } else {
        return this._weekdaysMinRegex;
      }
    } else {
      if (!hasOwnProp(this, '_weekdaysMinRegex')) {
        this._weekdaysMinRegex = defaultWeekdaysMinRegex;
      }
      return this._weekdaysMinStrictRegex && isStrict ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
    }
  }
  function computeWeekdaysParse() {
    function cmpLenRev(a, b) {
      return b.length - a.length;
    }
    var minPieces = [],
        shortPieces = [],
        longPieces = [],
        mixedPieces = [],
        i,
        mom,
        minp,
        shortp,
        longp;
    for (i = 0; i < 7; i++) {
      mom = create_utc__createUTC([2000, 1]).day(i);
      minp = this.weekdaysMin(mom, '');
      shortp = this.weekdaysShort(mom, '');
      longp = this.weekdays(mom, '');
      minPieces.push(minp);
      shortPieces.push(shortp);
      longPieces.push(longp);
      mixedPieces.push(minp);
      mixedPieces.push(shortp);
      mixedPieces.push(longp);
    }
    minPieces.sort(cmpLenRev);
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 7; i++) {
      shortPieces[i] = regexEscape(shortPieces[i]);
      longPieces[i] = regexEscape(longPieces[i]);
      mixedPieces[i] = regexEscape(mixedPieces[i]);
    }
    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._weekdaysShortRegex = this._weekdaysRegex;
    this._weekdaysMinRegex = this._weekdaysRegex;
    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
  }
  function hFormat() {
    return this.hours() % 12 || 12;
  }
  function kFormat() {
    return this.hours() || 24;
  }
  addFormatToken('H', ['HH', 2], 0, 'hour');
  addFormatToken('h', ['hh', 2], 0, hFormat);
  addFormatToken('k', ['kk', 2], 0, kFormat);
  addFormatToken('hmm', 0, 0, function() {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
  });
  addFormatToken('hmmss', 0, 0, function() {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
  });
  addFormatToken('Hmm', 0, 0, function() {
    return '' + this.hours() + zeroFill(this.minutes(), 2);
  });
  addFormatToken('Hmmss', 0, 0, function() {
    return '' + this.hours() + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
  });
  function meridiem(token, lowercase) {
    addFormatToken(token, 0, 0, function() {
      return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
    });
  }
  meridiem('a', true);
  meridiem('A', false);
  addUnitAlias('hour', 'h');
  addUnitPriority('hour', 13);
  function matchMeridiem(isStrict, locale) {
    return locale._meridiemParse;
  }
  addRegexToken('a', matchMeridiem);
  addRegexToken('A', matchMeridiem);
  addRegexToken('H', match1to2);
  addRegexToken('h', match1to2);
  addRegexToken('HH', match1to2, match2);
  addRegexToken('hh', match1to2, match2);
  addRegexToken('hmm', match3to4);
  addRegexToken('hmmss', match5to6);
  addRegexToken('Hmm', match3to4);
  addRegexToken('Hmmss', match5to6);
  addParseToken(['H', 'HH'], HOUR);
  addParseToken(['a', 'A'], function(input, array, config) {
    config._isPm = config._locale.isPM(input);
    config._meridiem = input;
  });
  addParseToken(['h', 'hh'], function(input, array, config) {
    array[HOUR] = toInt(input);
    getParsingFlags(config).bigHour = true;
  });
  addParseToken('hmm', function(input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
    getParsingFlags(config).bigHour = true;
  });
  addParseToken('hmmss', function(input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
    getParsingFlags(config).bigHour = true;
  });
  addParseToken('Hmm', function(input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
  });
  addParseToken('Hmmss', function(input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
  });
  function localeIsPM(input) {
    return ((input + '').toLowerCase().charAt(0) === 'p');
  }
  var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
  function localeMeridiem(hours, minutes, isLower) {
    if (hours > 11) {
      return isLower ? 'pm' : 'PM';
    } else {
      return isLower ? 'am' : 'AM';
    }
  }
  var getSetHour = makeGetSet('Hours', true);
  var baseConfig = {
    calendar: defaultCalendar,
    longDateFormat: defaultLongDateFormat,
    invalidDate: defaultInvalidDate,
    ordinal: defaultOrdinal,
    ordinalParse: defaultOrdinalParse,
    relativeTime: defaultRelativeTime,
    months: defaultLocaleMonths,
    monthsShort: defaultLocaleMonthsShort,
    week: defaultLocaleWeek,
    weekdays: defaultLocaleWeekdays,
    weekdaysMin: defaultLocaleWeekdaysMin,
    weekdaysShort: defaultLocaleWeekdaysShort,
    meridiemParse: defaultLocaleMeridiemParse
  };
  var locales = {};
  var globalLocale;
  function normalizeLocale(key) {
    return key ? key.toLowerCase().replace('_', '-') : key;
  }
  function chooseLocale(names) {
    var i = 0,
        j,
        next,
        locale,
        split;
    while (i < names.length) {
      split = normalizeLocale(names[i]).split('-');
      j = split.length;
      next = normalizeLocale(names[i + 1]);
      next = next ? next.split('-') : null;
      while (j > 0) {
        locale = loadLocale(split.slice(0, j).join('-'));
        if (locale) {
          return locale;
        }
        if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
          break;
        }
        j--;
      }
      i++;
    }
    return null;
  }
  function loadLocale(name) {
    var oldLocale = null;
    if (!locales[name] && (typeof module !== 'undefined') && module && module.exports) {
      try {
        oldLocale = globalLocale._abbr;
        require('./locale/' + name);
        locale_locales__getSetGlobalLocale(oldLocale);
      } catch (e) {}
    }
    return locales[name];
  }
  function locale_locales__getSetGlobalLocale(key, values) {
    var data;
    if (key) {
      if (isUndefined(values)) {
        data = locale_locales__getLocale(key);
      } else {
        data = defineLocale(key, values);
      }
      if (data) {
        globalLocale = data;
      }
    }
    return globalLocale._abbr;
  }
  function defineLocale(name, config) {
    if (config !== null) {
      var parentConfig = baseConfig;
      config.abbr = name;
      if (locales[name] != null) {
        deprecateSimple('defineLocaleOverride', 'use moment.updateLocale(localeName, config) to change ' + 'an existing locale. moment.defineLocale(localeName, ' + 'config) should only be used for creating a new locale ' + 'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
        parentConfig = locales[name]._config;
      } else if (config.parentLocale != null) {
        if (locales[config.parentLocale] != null) {
          parentConfig = locales[config.parentLocale]._config;
        } else {
          deprecateSimple('parentLocaleUndefined', 'specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/');
        }
      }
      locales[name] = new Locale(mergeConfigs(parentConfig, config));
      locale_locales__getSetGlobalLocale(name);
      return locales[name];
    } else {
      delete locales[name];
      return null;
    }
  }
  function updateLocale(name, config) {
    if (config != null) {
      var locale,
          parentConfig = baseConfig;
      if (locales[name] != null) {
        parentConfig = locales[name]._config;
      }
      config = mergeConfigs(parentConfig, config);
      locale = new Locale(config);
      locale.parentLocale = locales[name];
      locales[name] = locale;
      locale_locales__getSetGlobalLocale(name);
    } else {
      if (locales[name] != null) {
        if (locales[name].parentLocale != null) {
          locales[name] = locales[name].parentLocale;
        } else if (locales[name] != null) {
          delete locales[name];
        }
      }
    }
    return locales[name];
  }
  function locale_locales__getLocale(key) {
    var locale;
    if (key && key._locale && key._locale._abbr) {
      key = key._locale._abbr;
    }
    if (!key) {
      return globalLocale;
    }
    if (!isArray(key)) {
      locale = loadLocale(key);
      if (locale) {
        return locale;
      }
      key = [key];
    }
    return chooseLocale(key);
  }
  function locale_locales__listLocales() {
    return keys(locales);
  }
  function checkOverflow(m) {
    var overflow;
    var a = m._a;
    if (a && getParsingFlags(m).overflow === -2) {
      overflow = a[MONTH] < 0 || a[MONTH] > 11 ? MONTH : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE : a[HOUR] < 0 || a[HOUR] > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR : a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE : a[SECOND] < 0 || a[SECOND] > 59 ? SECOND : a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND : -1;
      if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
        overflow = DATE;
      }
      if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
        overflow = WEEK;
      }
      if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
        overflow = WEEKDAY;
      }
      getParsingFlags(m).overflow = overflow;
    }
    return m;
  }
  var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;
  var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;
  var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;
  var isoDates = [['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/], ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/], ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/], ['GGGG-[W]WW', /\d{4}-W\d\d/, false], ['YYYY-DDD', /\d{4}-\d{3}/], ['YYYY-MM', /\d{4}-\d\d/, false], ['YYYYYYMMDD', /[+-]\d{10}/], ['YYYYMMDD', /\d{8}/], ['GGGG[W]WWE', /\d{4}W\d{3}/], ['GGGG[W]WW', /\d{4}W\d{2}/, false], ['YYYYDDD', /\d{7}/]];
  var isoTimes = [['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/], ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/], ['HH:mm:ss', /\d\d:\d\d:\d\d/], ['HH:mm', /\d\d:\d\d/], ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/], ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/], ['HHmmss', /\d\d\d\d\d\d/], ['HHmm', /\d\d\d\d/], ['HH', /\d\d/]];
  var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;
  function configFromISO(config) {
    var i,
        l,
        string = config._i,
        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
        allowTime,
        dateFormat,
        timeFormat,
        tzFormat;
    if (match) {
      getParsingFlags(config).iso = true;
      for (i = 0, l = isoDates.length; i < l; i++) {
        if (isoDates[i][1].exec(match[1])) {
          dateFormat = isoDates[i][0];
          allowTime = isoDates[i][2] !== false;
          break;
        }
      }
      if (dateFormat == null) {
        config._isValid = false;
        return;
      }
      if (match[3]) {
        for (i = 0, l = isoTimes.length; i < l; i++) {
          if (isoTimes[i][1].exec(match[3])) {
            timeFormat = (match[2] || ' ') + isoTimes[i][0];
            break;
          }
        }
        if (timeFormat == null) {
          config._isValid = false;
          return;
        }
      }
      if (!allowTime && timeFormat != null) {
        config._isValid = false;
        return;
      }
      if (match[4]) {
        if (tzRegex.exec(match[4])) {
          tzFormat = 'Z';
        } else {
          config._isValid = false;
          return;
        }
      }
      config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
      configFromStringAndFormat(config);
    } else {
      config._isValid = false;
    }
  }
  function configFromString(config) {
    var matched = aspNetJsonRegex.exec(config._i);
    if (matched !== null) {
      config._d = new Date(+matched[1]);
      return;
    }
    configFromISO(config);
    if (config._isValid === false) {
      delete config._isValid;
      utils_hooks__hooks.createFromInputFallback(config);
    }
  }
  utils_hooks__hooks.createFromInputFallback = deprecate('moment construction falls back to js Date. This is ' + 'discouraged and will be removed in upcoming major ' + 'release. Please refer to ' + 'http://momentjs.com/guides/#/warnings/js-date/ for more info.', function(config) {
    config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
  });
  function defaults(a, b, c) {
    if (a != null) {
      return a;
    }
    if (b != null) {
      return b;
    }
    return c;
  }
  function currentDateArray(config) {
    var nowValue = new Date(utils_hooks__hooks.now());
    if (config._useUTC) {
      return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
    }
    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
  }
  function configFromArray(config) {
    var i,
        date,
        input = [],
        currentDate,
        yearToUse;
    if (config._d) {
      return;
    }
    currentDate = currentDateArray(config);
    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
      dayOfYearFromWeekInfo(config);
    }
    if (config._dayOfYear) {
      yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);
      if (config._dayOfYear > daysInYear(yearToUse)) {
        getParsingFlags(config)._overflowDayOfYear = true;
      }
      date = createUTCDate(yearToUse, 0, config._dayOfYear);
      config._a[MONTH] = date.getUTCMonth();
      config._a[DATE] = date.getUTCDate();
    }
    for (i = 0; i < 3 && config._a[i] == null; ++i) {
      config._a[i] = input[i] = currentDate[i];
    }
    for (; i < 7; i++) {
      config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
    }
    if (config._a[HOUR] === 24 && config._a[MINUTE] === 0 && config._a[SECOND] === 0 && config._a[MILLISECOND] === 0) {
      config._nextDay = true;
      config._a[HOUR] = 0;
    }
    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
    if (config._tzm != null) {
      config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
    }
    if (config._nextDay) {
      config._a[HOUR] = 24;
    }
  }
  function dayOfYearFromWeekInfo(config) {
    var w,
        weekYear,
        week,
        weekday,
        dow,
        doy,
        temp,
        weekdayOverflow;
    w = config._w;
    if (w.GG != null || w.W != null || w.E != null) {
      dow = 1;
      doy = 4;
      weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);
      week = defaults(w.W, 1);
      weekday = defaults(w.E, 1);
      if (weekday < 1 || weekday > 7) {
        weekdayOverflow = true;
      }
    } else {
      dow = config._locale._week.dow;
      doy = config._locale._week.doy;
      weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);
      week = defaults(w.w, 1);
      if (w.d != null) {
        weekday = w.d;
        if (weekday < 0 || weekday > 6) {
          weekdayOverflow = true;
        }
      } else if (w.e != null) {
        weekday = w.e + dow;
        if (w.e < 0 || w.e > 6) {
          weekdayOverflow = true;
        }
      } else {
        weekday = dow;
      }
    }
    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
      getParsingFlags(config)._overflowWeeks = true;
    } else if (weekdayOverflow != null) {
      getParsingFlags(config)._overflowWeekday = true;
    } else {
      temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
      config._a[YEAR] = temp.year;
      config._dayOfYear = temp.dayOfYear;
    }
  }
  utils_hooks__hooks.ISO_8601 = function() {};
  function configFromStringAndFormat(config) {
    if (config._f === utils_hooks__hooks.ISO_8601) {
      configFromISO(config);
      return;
    }
    config._a = [];
    getParsingFlags(config).empty = true;
    var string = '' + config._i,
        i,
        parsedInput,
        tokens,
        token,
        skipped,
        stringLength = string.length,
        totalParsedInputLength = 0;
    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];
    for (i = 0; i < tokens.length; i++) {
      token = tokens[i];
      parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
      if (parsedInput) {
        skipped = string.substr(0, string.indexOf(parsedInput));
        if (skipped.length > 0) {
          getParsingFlags(config).unusedInput.push(skipped);
        }
        string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
        totalParsedInputLength += parsedInput.length;
      }
      if (formatTokenFunctions[token]) {
        if (parsedInput) {
          getParsingFlags(config).empty = false;
        } else {
          getParsingFlags(config).unusedTokens.push(token);
        }
        addTimeToArrayFromToken(token, parsedInput, config);
      } else if (config._strict && !parsedInput) {
        getParsingFlags(config).unusedTokens.push(token);
      }
    }
    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
    if (string.length > 0) {
      getParsingFlags(config).unusedInput.push(string);
    }
    if (config._a[HOUR] <= 12 && getParsingFlags(config).bigHour === true && config._a[HOUR] > 0) {
      getParsingFlags(config).bigHour = undefined;
    }
    getParsingFlags(config).parsedDateParts = config._a.slice(0);
    getParsingFlags(config).meridiem = config._meridiem;
    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);
    configFromArray(config);
    checkOverflow(config);
  }
  function meridiemFixWrap(locale, hour, meridiem) {
    var isPm;
    if (meridiem == null) {
      return hour;
    }
    if (locale.meridiemHour != null) {
      return locale.meridiemHour(hour, meridiem);
    } else if (locale.isPM != null) {
      isPm = locale.isPM(meridiem);
      if (isPm && hour < 12) {
        hour += 12;
      }
      if (!isPm && hour === 12) {
        hour = 0;
      }
      return hour;
    } else {
      return hour;
    }
  }
  function configFromStringAndArray(config) {
    var tempConfig,
        bestMoment,
        scoreToBeat,
        i,
        currentScore;
    if (config._f.length === 0) {
      getParsingFlags(config).invalidFormat = true;
      config._d = new Date(NaN);
      return;
    }
    for (i = 0; i < config._f.length; i++) {
      currentScore = 0;
      tempConfig = copyConfig({}, config);
      if (config._useUTC != null) {
        tempConfig._useUTC = config._useUTC;
      }
      tempConfig._f = config._f[i];
      configFromStringAndFormat(tempConfig);
      if (!valid__isValid(tempConfig)) {
        continue;
      }
      currentScore += getParsingFlags(tempConfig).charsLeftOver;
      currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;
      getParsingFlags(tempConfig).score = currentScore;
      if (scoreToBeat == null || currentScore < scoreToBeat) {
        scoreToBeat = currentScore;
        bestMoment = tempConfig;
      }
    }
    extend(config, bestMoment || tempConfig);
  }
  function configFromObject(config) {
    if (config._d) {
      return;
    }
    var i = normalizeObjectUnits(config._i);
    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function(obj) {
      return obj && parseInt(obj, 10);
    });
    configFromArray(config);
  }
  function createFromConfig(config) {
    var res = new Moment(checkOverflow(prepareConfig(config)));
    if (res._nextDay) {
      res.add(1, 'd');
      res._nextDay = undefined;
    }
    return res;
  }
  function prepareConfig(config) {
    var input = config._i,
        format = config._f;
    config._locale = config._locale || locale_locales__getLocale(config._l);
    if (input === null || (format === undefined && input === '')) {
      return valid__createInvalid({nullInput: true});
    }
    if (typeof input === 'string') {
      config._i = input = config._locale.preparse(input);
    }
    if (isMoment(input)) {
      return new Moment(checkOverflow(input));
    } else if (isArray(format)) {
      configFromStringAndArray(config);
    } else if (isDate(input)) {
      config._d = input;
    } else if (format) {
      configFromStringAndFormat(config);
    } else {
      configFromInput(config);
    }
    if (!valid__isValid(config)) {
      config._d = null;
    }
    return config;
  }
  function configFromInput(config) {
    var input = config._i;
    if (input === undefined) {
      config._d = new Date(utils_hooks__hooks.now());
    } else if (isDate(input)) {
      config._d = new Date(input.valueOf());
    } else if (typeof input === 'string') {
      configFromString(config);
    } else if (isArray(input)) {
      config._a = map(input.slice(0), function(obj) {
        return parseInt(obj, 10);
      });
      configFromArray(config);
    } else if (typeof(input) === 'object') {
      configFromObject(config);
    } else if (typeof(input) === 'number') {
      config._d = new Date(input);
    } else {
      utils_hooks__hooks.createFromInputFallback(config);
    }
  }
  function createLocalOrUTC(input, format, locale, strict, isUTC) {
    var c = {};
    if (typeof(locale) === 'boolean') {
      strict = locale;
      locale = undefined;
    }
    if ((isObject(input) && isObjectEmpty(input)) || (isArray(input) && input.length === 0)) {
      input = undefined;
    }
    c._isAMomentObject = true;
    c._useUTC = c._isUTC = isUTC;
    c._l = locale;
    c._i = input;
    c._f = format;
    c._strict = strict;
    return createFromConfig(c);
  }
  function local__createLocal(input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, false);
  }
  var prototypeMin = deprecate('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/', function() {
    var other = local__createLocal.apply(null, arguments);
    if (this.isValid() && other.isValid()) {
      return other < this ? this : other;
    } else {
      return valid__createInvalid();
    }
  });
  var prototypeMax = deprecate('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/', function() {
    var other = local__createLocal.apply(null, arguments);
    if (this.isValid() && other.isValid()) {
      return other > this ? this : other;
    } else {
      return valid__createInvalid();
    }
  });
  function pickBy(fn, moments) {
    var res,
        i;
    if (moments.length === 1 && isArray(moments[0])) {
      moments = moments[0];
    }
    if (!moments.length) {
      return local__createLocal();
    }
    res = moments[0];
    for (i = 1; i < moments.length; ++i) {
      if (!moments[i].isValid() || moments[i][fn](res)) {
        res = moments[i];
      }
    }
    return res;
  }
  function min() {
    var args = [].slice.call(arguments, 0);
    return pickBy('isBefore', args);
  }
  function max() {
    var args = [].slice.call(arguments, 0);
    return pickBy('isAfter', args);
  }
  var now = function() {
    return Date.now ? Date.now() : +(new Date());
  };
  function Duration(duration) {
    var normalizedInput = normalizeObjectUnits(duration),
        years = normalizedInput.year || 0,
        quarters = normalizedInput.quarter || 0,
        months = normalizedInput.month || 0,
        weeks = normalizedInput.week || 0,
        days = normalizedInput.day || 0,
        hours = normalizedInput.hour || 0,
        minutes = normalizedInput.minute || 0,
        seconds = normalizedInput.second || 0,
        milliseconds = normalizedInput.millisecond || 0;
    this._milliseconds = +milliseconds + seconds * 1e3 + minutes * 6e4 + hours * 1000 * 60 * 60;
    this._days = +days + weeks * 7;
    this._months = +months + quarters * 3 + years * 12;
    this._data = {};
    this._locale = locale_locales__getLocale();
    this._bubble();
  }
  function isDuration(obj) {
    return obj instanceof Duration;
  }
  function offset(token, separator) {
    addFormatToken(token, 0, 0, function() {
      var offset = this.utcOffset();
      var sign = '+';
      if (offset < 0) {
        offset = -offset;
        sign = '-';
      }
      return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
    });
  }
  offset('Z', ':');
  offset('ZZ', '');
  addRegexToken('Z', matchShortOffset);
  addRegexToken('ZZ', matchShortOffset);
  addParseToken(['Z', 'ZZ'], function(input, array, config) {
    config._useUTC = true;
    config._tzm = offsetFromString(matchShortOffset, input);
  });
  var chunkOffset = /([\+\-]|\d\d)/gi;
  function offsetFromString(matcher, string) {
    var matches = ((string || '').match(matcher) || []);
    var chunk = matches[matches.length - 1] || [];
    var parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];
    var minutes = +(parts[1] * 60) + toInt(parts[2]);
    return parts[0] === '+' ? minutes : -minutes;
  }
  function cloneWithOffset(input, model) {
    var res,
        diff;
    if (model._isUTC) {
      res = model.clone();
      diff = (isMoment(input) || isDate(input) ? input.valueOf() : local__createLocal(input).valueOf()) - res.valueOf();
      res._d.setTime(res._d.valueOf() + diff);
      utils_hooks__hooks.updateOffset(res, false);
      return res;
    } else {
      return local__createLocal(input).local();
    }
  }
  function getDateOffset(m) {
    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
  }
  utils_hooks__hooks.updateOffset = function() {};
  function getSetOffset(input, keepLocalTime) {
    var offset = this._offset || 0,
        localAdjust;
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    if (input != null) {
      if (typeof input === 'string') {
        input = offsetFromString(matchShortOffset, input);
      } else if (Math.abs(input) < 16) {
        input = input * 60;
      }
      if (!this._isUTC && keepLocalTime) {
        localAdjust = getDateOffset(this);
      }
      this._offset = input;
      this._isUTC = true;
      if (localAdjust != null) {
        this.add(localAdjust, 'm');
      }
      if (offset !== input) {
        if (!keepLocalTime || this._changeInProgress) {
          add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);
        } else if (!this._changeInProgress) {
          this._changeInProgress = true;
          utils_hooks__hooks.updateOffset(this, true);
          this._changeInProgress = null;
        }
      }
      return this;
    } else {
      return this._isUTC ? offset : getDateOffset(this);
    }
  }
  function getSetZone(input, keepLocalTime) {
    if (input != null) {
      if (typeof input !== 'string') {
        input = -input;
      }
      this.utcOffset(input, keepLocalTime);
      return this;
    } else {
      return -this.utcOffset();
    }
  }
  function setOffsetToUTC(keepLocalTime) {
    return this.utcOffset(0, keepLocalTime);
  }
  function setOffsetToLocal(keepLocalTime) {
    if (this._isUTC) {
      this.utcOffset(0, keepLocalTime);
      this._isUTC = false;
      if (keepLocalTime) {
        this.subtract(getDateOffset(this), 'm');
      }
    }
    return this;
  }
  function setOffsetToParsedOffset() {
    if (this._tzm) {
      this.utcOffset(this._tzm);
    } else if (typeof this._i === 'string') {
      this.utcOffset(offsetFromString(matchOffset, this._i));
    }
    return this;
  }
  function hasAlignedHourOffset(input) {
    if (!this.isValid()) {
      return false;
    }
    input = input ? local__createLocal(input).utcOffset() : 0;
    return (this.utcOffset() - input) % 60 === 0;
  }
  function isDaylightSavingTime() {
    return (this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset());
  }
  function isDaylightSavingTimeShifted() {
    if (!isUndefined(this._isDSTShifted)) {
      return this._isDSTShifted;
    }
    var c = {};
    copyConfig(c, this);
    c = prepareConfig(c);
    if (c._a) {
      var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);
      this._isDSTShifted = this.isValid() && compareArrays(c._a, other.toArray()) > 0;
    } else {
      this._isDSTShifted = false;
    }
    return this._isDSTShifted;
  }
  function isLocal() {
    return this.isValid() ? !this._isUTC : false;
  }
  function isUtcOffset() {
    return this.isValid() ? this._isUTC : false;
  }
  function isUtc() {
    return this.isValid() ? this._isUTC && this._offset === 0 : false;
  }
  var aspNetRegex = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;
  var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
  function create__createDuration(input, key) {
    var duration = input,
        match = null,
        sign,
        ret,
        diffRes;
    if (isDuration(input)) {
      duration = {
        ms: input._milliseconds,
        d: input._days,
        M: input._months
      };
    } else if (typeof input === 'number') {
      duration = {};
      if (key) {
        duration[key] = input;
      } else {
        duration.milliseconds = input;
      }
    } else if (!!(match = aspNetRegex.exec(input))) {
      sign = (match[1] === '-') ? -1 : 1;
      duration = {
        y: 0,
        d: toInt(match[DATE]) * sign,
        h: toInt(match[HOUR]) * sign,
        m: toInt(match[MINUTE]) * sign,
        s: toInt(match[SECOND]) * sign,
        ms: toInt(match[MILLISECOND]) * sign
      };
    } else if (!!(match = isoRegex.exec(input))) {
      sign = (match[1] === '-') ? -1 : 1;
      duration = {
        y: parseIso(match[2], sign),
        M: parseIso(match[3], sign),
        w: parseIso(match[4], sign),
        d: parseIso(match[5], sign),
        h: parseIso(match[6], sign),
        m: parseIso(match[7], sign),
        s: parseIso(match[8], sign)
      };
    } else if (duration == null) {
      duration = {};
    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
      diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));
      duration = {};
      duration.ms = diffRes.milliseconds;
      duration.M = diffRes.months;
    }
    ret = new Duration(duration);
    if (isDuration(input) && hasOwnProp(input, '_locale')) {
      ret._locale = input._locale;
    }
    return ret;
  }
  create__createDuration.fn = Duration.prototype;
  function parseIso(inp, sign) {
    var res = inp && parseFloat(inp.replace(',', '.'));
    return (isNaN(res) ? 0 : res) * sign;
  }
  function positiveMomentsDifference(base, other) {
    var res = {
      milliseconds: 0,
      months: 0
    };
    res.months = other.month() - base.month() + (other.year() - base.year()) * 12;
    if (base.clone().add(res.months, 'M').isAfter(other)) {
      --res.months;
    }
    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));
    return res;
  }
  function momentsDifference(base, other) {
    var res;
    if (!(base.isValid() && other.isValid())) {
      return {
        milliseconds: 0,
        months: 0
      };
    }
    other = cloneWithOffset(other, base);
    if (base.isBefore(other)) {
      res = positiveMomentsDifference(base, other);
    } else {
      res = positiveMomentsDifference(other, base);
      res.milliseconds = -res.milliseconds;
      res.months = -res.months;
    }
    return res;
  }
  function absRound(number) {
    if (number < 0) {
      return Math.round(-1 * number) * -1;
    } else {
      return Math.round(number);
    }
  }
  function createAdder(direction, name) {
    return function(val, period) {
      var dur,
          tmp;
      if (period !== null && !isNaN(+period)) {
        deprecateSimple(name, 'moment().' + name + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' + 'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
        tmp = val;
        val = period;
        period = tmp;
      }
      val = typeof val === 'string' ? +val : val;
      dur = create__createDuration(val, period);
      add_subtract__addSubtract(this, dur, direction);
      return this;
    };
  }
  function add_subtract__addSubtract(mom, duration, isAdding, updateOffset) {
    var milliseconds = duration._milliseconds,
        days = absRound(duration._days),
        months = absRound(duration._months);
    if (!mom.isValid()) {
      return;
    }
    updateOffset = updateOffset == null ? true : updateOffset;
    if (milliseconds) {
      mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
    }
    if (days) {
      get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);
    }
    if (months) {
      setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);
    }
    if (updateOffset) {
      utils_hooks__hooks.updateOffset(mom, days || months);
    }
  }
  var add_subtract__add = createAdder(1, 'add');
  var add_subtract__subtract = createAdder(-1, 'subtract');
  function getCalendarFormat(myMoment, now) {
    var diff = myMoment.diff(now, 'days', true);
    return diff < -6 ? 'sameElse' : diff < -1 ? 'lastWeek' : diff < 0 ? 'lastDay' : diff < 1 ? 'sameDay' : diff < 2 ? 'nextDay' : diff < 7 ? 'nextWeek' : 'sameElse';
  }
  function moment_calendar__calendar(time, formats) {
    var now = time || local__createLocal(),
        sod = cloneWithOffset(now, this).startOf('day'),
        format = utils_hooks__hooks.calendarFormat(this, sod) || 'sameElse';
    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);
    return this.format(output || this.localeData().calendar(format, this, local__createLocal(now)));
  }
  function clone() {
    return new Moment(this);
  }
  function isAfter(input, units) {
    var localInput = isMoment(input) ? input : local__createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
      return this.valueOf() > localInput.valueOf();
    } else {
      return localInput.valueOf() < this.clone().startOf(units).valueOf();
    }
  }
  function isBefore(input, units) {
    var localInput = isMoment(input) ? input : local__createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
      return this.valueOf() < localInput.valueOf();
    } else {
      return this.clone().endOf(units).valueOf() < localInput.valueOf();
    }
  }
  function isBetween(from, to, units, inclusivity) {
    inclusivity = inclusivity || '()';
    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) && (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
  }
  function isSame(input, units) {
    var localInput = isMoment(input) ? input : local__createLocal(input),
        inputMs;
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(units || 'millisecond');
    if (units === 'millisecond') {
      return this.valueOf() === localInput.valueOf();
    } else {
      inputMs = localInput.valueOf();
      return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
    }
  }
  function isSameOrAfter(input, units) {
    return this.isSame(input, units) || this.isAfter(input, units);
  }
  function isSameOrBefore(input, units) {
    return this.isSame(input, units) || this.isBefore(input, units);
  }
  function diff(input, units, asFloat) {
    var that,
        zoneDelta,
        delta,
        output;
    if (!this.isValid()) {
      return NaN;
    }
    that = cloneWithOffset(input, this);
    if (!that.isValid()) {
      return NaN;
    }
    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;
    units = normalizeUnits(units);
    if (units === 'year' || units === 'month' || units === 'quarter') {
      output = monthDiff(this, that);
      if (units === 'quarter') {
        output = output / 3;
      } else if (units === 'year') {
        output = output / 12;
      }
    } else {
      delta = this - that;
      output = units === 'second' ? delta / 1e3 : units === 'minute' ? delta / 6e4 : units === 'hour' ? delta / 36e5 : units === 'day' ? (delta - zoneDelta) / 864e5 : units === 'week' ? (delta - zoneDelta) / 6048e5 : delta;
    }
    return asFloat ? output : absFloor(output);
  }
  function monthDiff(a, b) {
    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
        anchor = a.clone().add(wholeMonthDiff, 'months'),
        anchor2,
        adjust;
    if (b - anchor < 0) {
      anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
      adjust = (b - anchor) / (anchor - anchor2);
    } else {
      anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
      adjust = (b - anchor) / (anchor2 - anchor);
    }
    return -(wholeMonthDiff + adjust) || 0;
  }
  utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
  utils_hooks__hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';
  function toString() {
    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
  }
  function moment_format__toISOString() {
    var m = this.clone().utc();
    if (0 < m.year() && m.year() <= 9999) {
      if (isFunction(Date.prototype.toISOString)) {
        return this.toDate().toISOString();
      } else {
        return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
      }
    } else {
      return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
    }
  }
  function format(inputString) {
    if (!inputString) {
      inputString = this.isUtc() ? utils_hooks__hooks.defaultFormatUtc : utils_hooks__hooks.defaultFormat;
    }
    var output = formatMoment(this, inputString);
    return this.localeData().postformat(output);
  }
  function from(time, withoutSuffix) {
    if (this.isValid() && ((isMoment(time) && time.isValid()) || local__createLocal(time).isValid())) {
      return create__createDuration({
        to: this,
        from: time
      }).locale(this.locale()).humanize(!withoutSuffix);
    } else {
      return this.localeData().invalidDate();
    }
  }
  function fromNow(withoutSuffix) {
    return this.from(local__createLocal(), withoutSuffix);
  }
  function to(time, withoutSuffix) {
    if (this.isValid() && ((isMoment(time) && time.isValid()) || local__createLocal(time).isValid())) {
      return create__createDuration({
        from: this,
        to: time
      }).locale(this.locale()).humanize(!withoutSuffix);
    } else {
      return this.localeData().invalidDate();
    }
  }
  function toNow(withoutSuffix) {
    return this.to(local__createLocal(), withoutSuffix);
  }
  function locale(key) {
    var newLocaleData;
    if (key === undefined) {
      return this._locale._abbr;
    } else {
      newLocaleData = locale_locales__getLocale(key);
      if (newLocaleData != null) {
        this._locale = newLocaleData;
      }
      return this;
    }
  }
  var lang = deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.', function(key) {
    if (key === undefined) {
      return this.localeData();
    } else {
      return this.locale(key);
    }
  });
  function localeData() {
    return this._locale;
  }
  function startOf(units) {
    units = normalizeUnits(units);
    switch (units) {
      case 'year':
        this.month(0);
      case 'quarter':
      case 'month':
        this.date(1);
      case 'week':
      case 'isoWeek':
      case 'day':
      case 'date':
        this.hours(0);
      case 'hour':
        this.minutes(0);
      case 'minute':
        this.seconds(0);
      case 'second':
        this.milliseconds(0);
    }
    if (units === 'week') {
      this.weekday(0);
    }
    if (units === 'isoWeek') {
      this.isoWeekday(1);
    }
    if (units === 'quarter') {
      this.month(Math.floor(this.month() / 3) * 3);
    }
    return this;
  }
  function endOf(units) {
    units = normalizeUnits(units);
    if (units === undefined || units === 'millisecond') {
      return this;
    }
    if (units === 'date') {
      units = 'day';
    }
    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
  }
  function to_type__valueOf() {
    return this._d.valueOf() - ((this._offset || 0) * 60000);
  }
  function unix() {
    return Math.floor(this.valueOf() / 1000);
  }
  function toDate() {
    return new Date(this.valueOf());
  }
  function toArray() {
    var m = this;
    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
  }
  function toObject() {
    var m = this;
    return {
      years: m.year(),
      months: m.month(),
      date: m.date(),
      hours: m.hours(),
      minutes: m.minutes(),
      seconds: m.seconds(),
      milliseconds: m.milliseconds()
    };
  }
  function toJSON() {
    return this.isValid() ? this.toISOString() : null;
  }
  function moment_valid__isValid() {
    return valid__isValid(this);
  }
  function parsingFlags() {
    return extend({}, getParsingFlags(this));
  }
  function invalidAt() {
    return getParsingFlags(this).overflow;
  }
  function creationData() {
    return {
      input: this._i,
      format: this._f,
      locale: this._locale,
      isUTC: this._isUTC,
      strict: this._strict
    };
  }
  addFormatToken(0, ['gg', 2], 0, function() {
    return this.weekYear() % 100;
  });
  addFormatToken(0, ['GG', 2], 0, function() {
    return this.isoWeekYear() % 100;
  });
  function addWeekYearFormatToken(token, getter) {
    addFormatToken(0, [token, token.length], 0, getter);
  }
  addWeekYearFormatToken('gggg', 'weekYear');
  addWeekYearFormatToken('ggggg', 'weekYear');
  addWeekYearFormatToken('GGGG', 'isoWeekYear');
  addWeekYearFormatToken('GGGGG', 'isoWeekYear');
  addUnitAlias('weekYear', 'gg');
  addUnitAlias('isoWeekYear', 'GG');
  addUnitPriority('weekYear', 1);
  addUnitPriority('isoWeekYear', 1);
  addRegexToken('G', matchSigned);
  addRegexToken('g', matchSigned);
  addRegexToken('GG', match1to2, match2);
  addRegexToken('gg', match1to2, match2);
  addRegexToken('GGGG', match1to4, match4);
  addRegexToken('gggg', match1to4, match4);
  addRegexToken('GGGGG', match1to6, match6);
  addRegexToken('ggggg', match1to6, match6);
  addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function(input, week, config, token) {
    week[token.substr(0, 2)] = toInt(input);
  });
  addWeekParseToken(['gg', 'GG'], function(input, week, config, token) {
    week[token] = utils_hooks__hooks.parseTwoDigitYear(input);
  });
  function getSetWeekYear(input) {
    return getSetWeekYearHelper.call(this, input, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
  }
  function getSetISOWeekYear(input) {
    return getSetWeekYearHelper.call(this, input, this.isoWeek(), this.isoWeekday(), 1, 4);
  }
  function getISOWeeksInYear() {
    return weeksInYear(this.year(), 1, 4);
  }
  function getWeeksInYear() {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
  }
  function getSetWeekYearHelper(input, week, weekday, dow, doy) {
    var weeksTarget;
    if (input == null) {
      return weekOfYear(this, dow, doy).year;
    } else {
      weeksTarget = weeksInYear(input, dow, doy);
      if (week > weeksTarget) {
        week = weeksTarget;
      }
      return setWeekAll.call(this, input, week, weekday, dow, doy);
    }
  }
  function setWeekAll(weekYear, week, weekday, dow, doy) {
    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);
    this.year(date.getUTCFullYear());
    this.month(date.getUTCMonth());
    this.date(date.getUTCDate());
    return this;
  }
  addFormatToken('Q', 0, 'Qo', 'quarter');
  addUnitAlias('quarter', 'Q');
  addUnitPriority('quarter', 7);
  addRegexToken('Q', match1);
  addParseToken('Q', function(input, array) {
    array[MONTH] = (toInt(input) - 1) * 3;
  });
  function getSetQuarter(input) {
    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
  }
  addFormatToken('D', ['DD', 2], 'Do', 'date');
  addUnitAlias('date', 'D');
  addUnitPriority('date', 9);
  addRegexToken('D', match1to2);
  addRegexToken('DD', match1to2, match2);
  addRegexToken('Do', function(isStrict, locale) {
    return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
  });
  addParseToken(['D', 'DD'], DATE);
  addParseToken('Do', function(input, array) {
    array[DATE] = toInt(input.match(match1to2)[0], 10);
  });
  var getSetDayOfMonth = makeGetSet('Date', true);
  addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');
  addUnitAlias('dayOfYear', 'DDD');
  addUnitPriority('dayOfYear', 4);
  addRegexToken('DDD', match1to3);
  addRegexToken('DDDD', match3);
  addParseToken(['DDD', 'DDDD'], function(input, array, config) {
    config._dayOfYear = toInt(input);
  });
  function getSetDayOfYear(input) {
    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
  }
  addFormatToken('m', ['mm', 2], 0, 'minute');
  addUnitAlias('minute', 'm');
  addUnitPriority('minute', 14);
  addRegexToken('m', match1to2);
  addRegexToken('mm', match1to2, match2);
  addParseToken(['m', 'mm'], MINUTE);
  var getSetMinute = makeGetSet('Minutes', false);
  addFormatToken('s', ['ss', 2], 0, 'second');
  addUnitAlias('second', 's');
  addUnitPriority('second', 15);
  addRegexToken('s', match1to2);
  addRegexToken('ss', match1to2, match2);
  addParseToken(['s', 'ss'], SECOND);
  var getSetSecond = makeGetSet('Seconds', false);
  addFormatToken('S', 0, 0, function() {
    return ~~(this.millisecond() / 100);
  });
  addFormatToken(0, ['SS', 2], 0, function() {
    return ~~(this.millisecond() / 10);
  });
  addFormatToken(0, ['SSS', 3], 0, 'millisecond');
  addFormatToken(0, ['SSSS', 4], 0, function() {
    return this.millisecond() * 10;
  });
  addFormatToken(0, ['SSSSS', 5], 0, function() {
    return this.millisecond() * 100;
  });
  addFormatToken(0, ['SSSSSS', 6], 0, function() {
    return this.millisecond() * 1000;
  });
  addFormatToken(0, ['SSSSSSS', 7], 0, function() {
    return this.millisecond() * 10000;
  });
  addFormatToken(0, ['SSSSSSSS', 8], 0, function() {
    return this.millisecond() * 100000;
  });
  addFormatToken(0, ['SSSSSSSSS', 9], 0, function() {
    return this.millisecond() * 1000000;
  });
  addUnitAlias('millisecond', 'ms');
  addUnitPriority('millisecond', 16);
  addRegexToken('S', match1to3, match1);
  addRegexToken('SS', match1to3, match2);
  addRegexToken('SSS', match1to3, match3);
  var token;
  for (token = 'SSSS'; token.length <= 9; token += 'S') {
    addRegexToken(token, matchUnsigned);
  }
  function parseMs(input, array) {
    array[MILLISECOND] = toInt(('0.' + input) * 1000);
  }
  for (token = 'S'; token.length <= 9; token += 'S') {
    addParseToken(token, parseMs);
  }
  var getSetMillisecond = makeGetSet('Milliseconds', false);
  addFormatToken('z', 0, 0, 'zoneAbbr');
  addFormatToken('zz', 0, 0, 'zoneName');
  function getZoneAbbr() {
    return this._isUTC ? 'UTC' : '';
  }
  function getZoneName() {
    return this._isUTC ? 'Coordinated Universal Time' : '';
  }
  var momentPrototype__proto = Moment.prototype;
  momentPrototype__proto.add = add_subtract__add;
  momentPrototype__proto.calendar = moment_calendar__calendar;
  momentPrototype__proto.clone = clone;
  momentPrototype__proto.diff = diff;
  momentPrototype__proto.endOf = endOf;
  momentPrototype__proto.format = format;
  momentPrototype__proto.from = from;
  momentPrototype__proto.fromNow = fromNow;
  momentPrototype__proto.to = to;
  momentPrototype__proto.toNow = toNow;
  momentPrototype__proto.get = stringGet;
  momentPrototype__proto.invalidAt = invalidAt;
  momentPrototype__proto.isAfter = isAfter;
  momentPrototype__proto.isBefore = isBefore;
  momentPrototype__proto.isBetween = isBetween;
  momentPrototype__proto.isSame = isSame;
  momentPrototype__proto.isSameOrAfter = isSameOrAfter;
  momentPrototype__proto.isSameOrBefore = isSameOrBefore;
  momentPrototype__proto.isValid = moment_valid__isValid;
  momentPrototype__proto.lang = lang;
  momentPrototype__proto.locale = locale;
  momentPrototype__proto.localeData = localeData;
  momentPrototype__proto.max = prototypeMax;
  momentPrototype__proto.min = prototypeMin;
  momentPrototype__proto.parsingFlags = parsingFlags;
  momentPrototype__proto.set = stringSet;
  momentPrototype__proto.startOf = startOf;
  momentPrototype__proto.subtract = add_subtract__subtract;
  momentPrototype__proto.toArray = toArray;
  momentPrototype__proto.toObject = toObject;
  momentPrototype__proto.toDate = toDate;
  momentPrototype__proto.toISOString = moment_format__toISOString;
  momentPrototype__proto.toJSON = toJSON;
  momentPrototype__proto.toString = toString;
  momentPrototype__proto.unix = unix;
  momentPrototype__proto.valueOf = to_type__valueOf;
  momentPrototype__proto.creationData = creationData;
  momentPrototype__proto.year = getSetYear;
  momentPrototype__proto.isLeapYear = getIsLeapYear;
  momentPrototype__proto.weekYear = getSetWeekYear;
  momentPrototype__proto.isoWeekYear = getSetISOWeekYear;
  momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;
  momentPrototype__proto.month = getSetMonth;
  momentPrototype__proto.daysInMonth = getDaysInMonth;
  momentPrototype__proto.week = momentPrototype__proto.weeks = getSetWeek;
  momentPrototype__proto.isoWeek = momentPrototype__proto.isoWeeks = getSetISOWeek;
  momentPrototype__proto.weeksInYear = getWeeksInYear;
  momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;
  momentPrototype__proto.date = getSetDayOfMonth;
  momentPrototype__proto.day = momentPrototype__proto.days = getSetDayOfWeek;
  momentPrototype__proto.weekday = getSetLocaleDayOfWeek;
  momentPrototype__proto.isoWeekday = getSetISODayOfWeek;
  momentPrototype__proto.dayOfYear = getSetDayOfYear;
  momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;
  momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;
  momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;
  momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;
  momentPrototype__proto.utcOffset = getSetOffset;
  momentPrototype__proto.utc = setOffsetToUTC;
  momentPrototype__proto.local = setOffsetToLocal;
  momentPrototype__proto.parseZone = setOffsetToParsedOffset;
  momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;
  momentPrototype__proto.isDST = isDaylightSavingTime;
  momentPrototype__proto.isLocal = isLocal;
  momentPrototype__proto.isUtcOffset = isUtcOffset;
  momentPrototype__proto.isUtc = isUtc;
  momentPrototype__proto.isUTC = isUtc;
  momentPrototype__proto.zoneAbbr = getZoneAbbr;
  momentPrototype__proto.zoneName = getZoneName;
  momentPrototype__proto.dates = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
  momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
  momentPrototype__proto.years = deprecate('years accessor is deprecated. Use year instead', getSetYear);
  momentPrototype__proto.zone = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
  momentPrototype__proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);
  var momentPrototype = momentPrototype__proto;
  function moment__createUnix(input) {
    return local__createLocal(input * 1000);
  }
  function moment__createInZone() {
    return local__createLocal.apply(null, arguments).parseZone();
  }
  function preParsePostFormat(string) {
    return string;
  }
  var prototype__proto = Locale.prototype;
  prototype__proto.calendar = locale_calendar__calendar;
  prototype__proto.longDateFormat = longDateFormat;
  prototype__proto.invalidDate = invalidDate;
  prototype__proto.ordinal = ordinal;
  prototype__proto.preparse = preParsePostFormat;
  prototype__proto.postformat = preParsePostFormat;
  prototype__proto.relativeTime = relative__relativeTime;
  prototype__proto.pastFuture = pastFuture;
  prototype__proto.set = locale_set__set;
  prototype__proto.months = localeMonths;
  prototype__proto.monthsShort = localeMonthsShort;
  prototype__proto.monthsParse = localeMonthsParse;
  prototype__proto.monthsRegex = monthsRegex;
  prototype__proto.monthsShortRegex = monthsShortRegex;
  prototype__proto.week = localeWeek;
  prototype__proto.firstDayOfYear = localeFirstDayOfYear;
  prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;
  prototype__proto.weekdays = localeWeekdays;
  prototype__proto.weekdaysMin = localeWeekdaysMin;
  prototype__proto.weekdaysShort = localeWeekdaysShort;
  prototype__proto.weekdaysParse = localeWeekdaysParse;
  prototype__proto.weekdaysRegex = weekdaysRegex;
  prototype__proto.weekdaysShortRegex = weekdaysShortRegex;
  prototype__proto.weekdaysMinRegex = weekdaysMinRegex;
  prototype__proto.isPM = localeIsPM;
  prototype__proto.meridiem = localeMeridiem;
  function lists__get(format, index, field, setter) {
    var locale = locale_locales__getLocale();
    var utc = create_utc__createUTC().set(setter, index);
    return locale[field](utc, format);
  }
  function listMonthsImpl(format, index, field) {
    if (typeof format === 'number') {
      index = format;
      format = undefined;
    }
    format = format || '';
    if (index != null) {
      return lists__get(format, index, field, 'month');
    }
    var i;
    var out = [];
    for (i = 0; i < 12; i++) {
      out[i] = lists__get(format, i, field, 'month');
    }
    return out;
  }
  function listWeekdaysImpl(localeSorted, format, index, field) {
    if (typeof localeSorted === 'boolean') {
      if (typeof format === 'number') {
        index = format;
        format = undefined;
      }
      format = format || '';
    } else {
      format = localeSorted;
      index = format;
      localeSorted = false;
      if (typeof format === 'number') {
        index = format;
        format = undefined;
      }
      format = format || '';
    }
    var locale = locale_locales__getLocale(),
        shift = localeSorted ? locale._week.dow : 0;
    if (index != null) {
      return lists__get(format, (index + shift) % 7, field, 'day');
    }
    var i;
    var out = [];
    for (i = 0; i < 7; i++) {
      out[i] = lists__get(format, (i + shift) % 7, field, 'day');
    }
    return out;
  }
  function lists__listMonths(format, index) {
    return listMonthsImpl(format, index, 'months');
  }
  function lists__listMonthsShort(format, index) {
    return listMonthsImpl(format, index, 'monthsShort');
  }
  function lists__listWeekdays(localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
  }
  function lists__listWeekdaysShort(localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
  }
  function lists__listWeekdaysMin(localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
  }
  locale_locales__getSetGlobalLocale('en', {
    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
    ordinal: function(number) {
      var b = number % 10,
          output = (toInt(number % 100 / 10) === 1) ? 'th' : (b === 1) ? 'st' : (b === 2) ? 'nd' : (b === 3) ? 'rd' : 'th';
      return number + output;
    }
  });
  utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);
  utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);
  var mathAbs = Math.abs;
  function duration_abs__abs() {
    var data = this._data;
    this._milliseconds = mathAbs(this._milliseconds);
    this._days = mathAbs(this._days);
    this._months = mathAbs(this._months);
    data.milliseconds = mathAbs(data.milliseconds);
    data.seconds = mathAbs(data.seconds);
    data.minutes = mathAbs(data.minutes);
    data.hours = mathAbs(data.hours);
    data.months = mathAbs(data.months);
    data.years = mathAbs(data.years);
    return this;
  }
  function duration_add_subtract__addSubtract(duration, input, value, direction) {
    var other = create__createDuration(input, value);
    duration._milliseconds += direction * other._milliseconds;
    duration._days += direction * other._days;
    duration._months += direction * other._months;
    return duration._bubble();
  }
  function duration_add_subtract__add(input, value) {
    return duration_add_subtract__addSubtract(this, input, value, 1);
  }
  function duration_add_subtract__subtract(input, value) {
    return duration_add_subtract__addSubtract(this, input, value, -1);
  }
  function absCeil(number) {
    if (number < 0) {
      return Math.floor(number);
    } else {
      return Math.ceil(number);
    }
  }
  function bubble() {
    var milliseconds = this._milliseconds;
    var days = this._days;
    var months = this._months;
    var data = this._data;
    var seconds,
        minutes,
        hours,
        years,
        monthsFromDays;
    if (!((milliseconds >= 0 && days >= 0 && months >= 0) || (milliseconds <= 0 && days <= 0 && months <= 0))) {
      milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
      days = 0;
      months = 0;
    }
    data.milliseconds = milliseconds % 1000;
    seconds = absFloor(milliseconds / 1000);
    data.seconds = seconds % 60;
    minutes = absFloor(seconds / 60);
    data.minutes = minutes % 60;
    hours = absFloor(minutes / 60);
    data.hours = hours % 24;
    days += absFloor(hours / 24);
    monthsFromDays = absFloor(daysToMonths(days));
    months += monthsFromDays;
    days -= absCeil(monthsToDays(monthsFromDays));
    years = absFloor(months / 12);
    months %= 12;
    data.days = days;
    data.months = months;
    data.years = years;
    return this;
  }
  function daysToMonths(days) {
    return days * 4800 / 146097;
  }
  function monthsToDays(months) {
    return months * 146097 / 4800;
  }
  function as(units) {
    var days;
    var months;
    var milliseconds = this._milliseconds;
    units = normalizeUnits(units);
    if (units === 'month' || units === 'year') {
      days = this._days + milliseconds / 864e5;
      months = this._months + daysToMonths(days);
      return units === 'month' ? months : months / 12;
    } else {
      days = this._days + Math.round(monthsToDays(this._months));
      switch (units) {
        case 'week':
          return days / 7 + milliseconds / 6048e5;
        case 'day':
          return days + milliseconds / 864e5;
        case 'hour':
          return days * 24 + milliseconds / 36e5;
        case 'minute':
          return days * 1440 + milliseconds / 6e4;
        case 'second':
          return days * 86400 + milliseconds / 1000;
        case 'millisecond':
          return Math.floor(days * 864e5) + milliseconds;
        default:
          throw new Error('Unknown unit ' + units);
      }
    }
  }
  function duration_as__valueOf() {
    return (this._milliseconds + this._days * 864e5 + (this._months % 12) * 2592e6 + toInt(this._months / 12) * 31536e6);
  }
  function makeAs(alias) {
    return function() {
      return this.as(alias);
    };
  }
  var asMilliseconds = makeAs('ms');
  var asSeconds = makeAs('s');
  var asMinutes = makeAs('m');
  var asHours = makeAs('h');
  var asDays = makeAs('d');
  var asWeeks = makeAs('w');
  var asMonths = makeAs('M');
  var asYears = makeAs('y');
  function duration_get__get(units) {
    units = normalizeUnits(units);
    return this[units + 's']();
  }
  function makeGetter(name) {
    return function() {
      return this._data[name];
    };
  }
  var milliseconds = makeGetter('milliseconds');
  var seconds = makeGetter('seconds');
  var minutes = makeGetter('minutes');
  var hours = makeGetter('hours');
  var days = makeGetter('days');
  var months = makeGetter('months');
  var years = makeGetter('years');
  function weeks() {
    return absFloor(this.days() / 7);
  }
  var round = Math.round;
  var thresholds = {
    s: 45,
    m: 45,
    h: 22,
    d: 26,
    M: 11
  };
  function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
  }
  function duration_humanize__relativeTime(posNegDuration, withoutSuffix, locale) {
    var duration = create__createDuration(posNegDuration).abs();
    var seconds = round(duration.as('s'));
    var minutes = round(duration.as('m'));
    var hours = round(duration.as('h'));
    var days = round(duration.as('d'));
    var months = round(duration.as('M'));
    var years = round(duration.as('y'));
    var a = seconds < thresholds.s && ['s', seconds] || minutes <= 1 && ['m'] || minutes < thresholds.m && ['mm', minutes] || hours <= 1 && ['h'] || hours < thresholds.h && ['hh', hours] || days <= 1 && ['d'] || days < thresholds.d && ['dd', days] || months <= 1 && ['M'] || months < thresholds.M && ['MM', months] || years <= 1 && ['y'] || ['yy', years];
    a[2] = withoutSuffix;
    a[3] = +posNegDuration > 0;
    a[4] = locale;
    return substituteTimeAgo.apply(null, a);
  }
  function duration_humanize__getSetRelativeTimeRounding(roundingFunction) {
    if (roundingFunction === undefined) {
      return round;
    }
    if (typeof(roundingFunction) === 'function') {
      round = roundingFunction;
      return true;
    }
    return false;
  }
  function duration_humanize__getSetRelativeTimeThreshold(threshold, limit) {
    if (thresholds[threshold] === undefined) {
      return false;
    }
    if (limit === undefined) {
      return thresholds[threshold];
    }
    thresholds[threshold] = limit;
    return true;
  }
  function humanize(withSuffix) {
    var locale = this.localeData();
    var output = duration_humanize__relativeTime(this, !withSuffix, locale);
    if (withSuffix) {
      output = locale.pastFuture(+this, output);
    }
    return locale.postformat(output);
  }
  var iso_string__abs = Math.abs;
  function iso_string__toISOString() {
    var seconds = iso_string__abs(this._milliseconds) / 1000;
    var days = iso_string__abs(this._days);
    var months = iso_string__abs(this._months);
    var minutes,
        hours,
        years;
    minutes = absFloor(seconds / 60);
    hours = absFloor(minutes / 60);
    seconds %= 60;
    minutes %= 60;
    years = absFloor(months / 12);
    months %= 12;
    var Y = years;
    var M = months;
    var D = days;
    var h = hours;
    var m = minutes;
    var s = seconds;
    var total = this.asSeconds();
    if (!total) {
      return 'P0D';
    }
    return (total < 0 ? '-' : '') + 'P' + (Y ? Y + 'Y' : '') + (M ? M + 'M' : '') + (D ? D + 'D' : '') + ((h || m || s) ? 'T' : '') + (h ? h + 'H' : '') + (m ? m + 'M' : '') + (s ? s + 'S' : '');
  }
  var duration_prototype__proto = Duration.prototype;
  duration_prototype__proto.abs = duration_abs__abs;
  duration_prototype__proto.add = duration_add_subtract__add;
  duration_prototype__proto.subtract = duration_add_subtract__subtract;
  duration_prototype__proto.as = as;
  duration_prototype__proto.asMilliseconds = asMilliseconds;
  duration_prototype__proto.asSeconds = asSeconds;
  duration_prototype__proto.asMinutes = asMinutes;
  duration_prototype__proto.asHours = asHours;
  duration_prototype__proto.asDays = asDays;
  duration_prototype__proto.asWeeks = asWeeks;
  duration_prototype__proto.asMonths = asMonths;
  duration_prototype__proto.asYears = asYears;
  duration_prototype__proto.valueOf = duration_as__valueOf;
  duration_prototype__proto._bubble = bubble;
  duration_prototype__proto.get = duration_get__get;
  duration_prototype__proto.milliseconds = milliseconds;
  duration_prototype__proto.seconds = seconds;
  duration_prototype__proto.minutes = minutes;
  duration_prototype__proto.hours = hours;
  duration_prototype__proto.days = days;
  duration_prototype__proto.weeks = weeks;
  duration_prototype__proto.months = months;
  duration_prototype__proto.years = years;
  duration_prototype__proto.humanize = humanize;
  duration_prototype__proto.toISOString = iso_string__toISOString;
  duration_prototype__proto.toString = iso_string__toISOString;
  duration_prototype__proto.toJSON = iso_string__toISOString;
  duration_prototype__proto.locale = locale;
  duration_prototype__proto.localeData = localeData;
  duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);
  duration_prototype__proto.lang = lang;
  addFormatToken('X', 0, 0, 'unix');
  addFormatToken('x', 0, 0, 'valueOf');
  addRegexToken('x', matchSigned);
  addRegexToken('X', matchTimestamp);
  addParseToken('X', function(input, array, config) {
    config._d = new Date(parseFloat(input, 10) * 1000);
  });
  addParseToken('x', function(input, array, config) {
    config._d = new Date(toInt(input));
  });
  utils_hooks__hooks.version = '2.14.1';
  setHookCallback(local__createLocal);
  utils_hooks__hooks.fn = momentPrototype;
  utils_hooks__hooks.min = min;
  utils_hooks__hooks.max = max;
  utils_hooks__hooks.now = now;
  utils_hooks__hooks.utc = create_utc__createUTC;
  utils_hooks__hooks.unix = moment__createUnix;
  utils_hooks__hooks.months = lists__listMonths;
  utils_hooks__hooks.isDate = isDate;
  utils_hooks__hooks.locale = locale_locales__getSetGlobalLocale;
  utils_hooks__hooks.invalid = valid__createInvalid;
  utils_hooks__hooks.duration = create__createDuration;
  utils_hooks__hooks.isMoment = isMoment;
  utils_hooks__hooks.weekdays = lists__listWeekdays;
  utils_hooks__hooks.parseZone = moment__createInZone;
  utils_hooks__hooks.localeData = locale_locales__getLocale;
  utils_hooks__hooks.isDuration = isDuration;
  utils_hooks__hooks.monthsShort = lists__listMonthsShort;
  utils_hooks__hooks.weekdaysMin = lists__listWeekdaysMin;
  utils_hooks__hooks.defineLocale = defineLocale;
  utils_hooks__hooks.updateLocale = updateLocale;
  utils_hooks__hooks.locales = locale_locales__listLocales;
  utils_hooks__hooks.weekdaysShort = lists__listWeekdaysShort;
  utils_hooks__hooks.normalizeUnits = normalizeUnits;
  utils_hooks__hooks.relativeTimeRounding = duration_humanize__getSetRelativeTimeRounding;
  utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;
  utils_hooks__hooks.calendarFormat = getCalendarFormat;
  utils_hooks__hooks.prototype = momentPrototype;
  var _moment = utils_hooks__hooks;
  return _moment;
}));

})();
$__System.register("193", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-time>\n    <div>{{this.time}}</div>\n    <style scoped>\n        :scope > div{\n            font-size: 0.7rem;\n            color: rgba(0,0,0,.35);\n            margin-top: 3px;\n            margin-left: 10px;\n            cursor: default;\n            text-align: left;\n            width: 100%;\n        }\n    </style>\n</conversation-time>");
        }
    };
});
$__System.register('194', ['144', '148', '169', '193'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, moment_1, conversation_time_html_text_1;
    var store, ConversationTime;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (moment_1_1) {
            moment_1 = moment_1_1;
        }, function (conversation_time_html_text_1_1) {
            conversation_time_html_text_1 = conversation_time_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ConversationTime = function (_super) {
                __extends(ConversationTime, _super);
                function ConversationTime(opts) {
                    _super.call(this);
                    this.time = null;
                    this.onUpdate();
                    store.subscribe(this.onApplicationStateChanged.bind(this));
                }
                ConversationTime.prototype.onApplicationStateChanged = function () {
                    this.onUpdate();
                };
                ConversationTime.prototype.onUpdate = function () {
                    this.time = moment_1.default(this.opts.time).calendar();
                    this.update();
                };
                ConversationTime = __decorate([riot_ts_1.template(conversation_time_html_text_1.default)], ConversationTime);
                return ConversationTime;
            }(riot_ts_1.Element);
            exports_1("default", ConversationTime);
        }
    };
});
$__System.register("195", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-search>\n    <div class=\"search-panel\">\n        <div class=\"input-search\">\n            <span class=\"uk-icon-search\"></span>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Search\" onkeyup=\"{{keyup}}\"/>\n        </div>\n    </div>\n    <style scoped>\n        .search-panel {\n            height: 30px;\n            width: 100%;\n            background: #fff;\n            display: block;\n        }\n        \n        .search-panel span.glyphicon.glyphicon-search {\n            position: absolute;\n        }\n        \n        .search-panel input {\n            height: 28px;\n            border-radius: 0;\n            border: none;\n            padding-left: 25px;\n            box-shadow: none;\n            outline: none;\n            border-bottom: none;\n            width: 100%;\n            margin: 0px;\n            box-sizing: border-box;\n        }\n        \n        .search-panel .input-search {\n            position: relative;\n        }\n        \n        .search-panel .input-search span {\n            position: absolute;\n            left: 6px;\n        }\n        \n        .search-panel a {\n            margin-right: 5px;\n        }\n        \n        .search-panel span {\n            margin-top: 8px;\n            color: #444;\n        }\n    </style>\n</conversation-search>");
        }
    };
});
$__System.register('196', ['144', '148', '195'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, conversation_search_html_text_1;
    var store, ConversationSearch;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (conversation_search_html_text_1_1) {
            conversation_search_html_text_1 = conversation_search_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ConversationSearch = function (_super) {
                __extends(ConversationSearch, _super);
                function ConversationSearch() {
                    _super.apply(this, arguments);
                }
                ConversationSearch.prototype.keyup = function (e) {
                    e.stopPropagation();
                    e.preventDefault();
                    var text = e.target.value;
                    store.dispatch(all_1.default.conversations.actions.setFilter(text));
                };
                ConversationSearch = __decorate([riot_ts_1.template(conversation_search_html_text_1.default)], ConversationSearch);
                return ConversationSearch;
            }(riot_ts_1.Element);
            exports_1("default", ConversationSearch);
        }
    };
});
$__System.register("197", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-item>\n    <div>\n        <div class=\"avatar\">\n            <img src=\"{{this.avatarURL}}\" width=\"100%\">\n        </div>\n        <div class=\"{{message: true, new: this.unreadCount}}\">\n            <div class=\"time uk-float-right\" time = \"{{this.time}}\" riot-tag = \"conversation-time\"></div>\n            <div class=\"title\">{{this.title}}</div>\n            <div class=\"content\" title=\"{{this.content}}\">\n                <div class=\"unread-count uk-badge uk-badge-notification uk-float-right\" if = \"{{this.unreadCount}}\">{{this.unreadCount}}</div>\n                {{this.content}}\n            </div>\n        </div>\n    </div>\n\n    <style scoped>\n        :scope .avatar {\n            max-width: 44px;\n            height: 44px;\n            min-width: 44px;\n            float: left;\n            margin-right: 10px;\n        }\n\n        :scope .message{\n            display: block;\n        }\n\n        :scope .message.new .content{\n            font-weight: bold;\n            color: #000;\n        }\n        \n        :scope .title {\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            max-width: 200px;\n            overflow: hidden;\n            font-size: 13px;\n        }\n\n        :scope .time{\n            font-weight: normal;\n        }\n\n        :scope .content{\n            text-overflow: ellipsis;\n            max-width: 200px;\n            overflow: hidden;\n            height: 24px;\n            line-height: 24px;\n            white-space: nowrap;\n            color: #90949c;\n            font-size: 12px;\n            clear: right;\n        }\n    </style>\n</conversation-item>");
        }
    };
});
$__System.register('198', ['144', '15b', '148', '156', '197'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, utils, all_1, types_1, conversation_item_html_text_1;
    var store, ConversationItem;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (utils_1) {
            utils = utils_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (conversation_item_html_text_1_1) {
            conversation_item_html_text_1 = conversation_item_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ConversationItem = function (_super) {
                __extends(ConversationItem, _super);
                function ConversationItem(opts) {
                    _super.call(this);
                    this.conv = opts.conv;
                    this.onUpdate();
                    store.subscribe(this.onApplicationStateChanged.bind(this));
                }
                ConversationItem.prototype.onApplicationStateChanged = function () {
                    this.onUpdate();
                    this.update();
                };
                ConversationItem.prototype.onUpdate = function () {
                    var owner = store.getState().userData.user;
                    this.avatarURL = utils.defaultGroupAvatar;
                    if (this.conv.type == types_1.CONVERSATION_TYPE.ONE) {
                        var partner = all_1.default.conversations.tools.getPartner(this.conv);
                        this.avatarURL = utils.getAvatarUrl(partner.userId);
                    }
                    this.title = this.conv.title;
                    this.unreadCount = this.conv.unread_message_count;
                    this.time = this.conv.last_message.created_time;
                    this.content = this.htmlToPlainText(this.conv.last_message.content);
                    var senderId = this.conv.last_message.sender_id;
                    var senderIsOwner = senderId == owner.userId;
                    this.sender = senderIsOwner ? 'You' : utils.getDisplayName(senderId);
                };
                ConversationItem.prototype.htmlToPlainText = function (html) {
                    var text = jQuery('<div/>').html(html).text();
                    text = text.trim ? text.trim() : text;
                    try {
                        var contentOBJ = JSON.parse(text);
                        if (contentOBJ && contentOBJ.name) {
                            return contentOBJ.name;
                        }
                    } catch (ex) {}
                    return text;
                };
                ConversationItem = __decorate([riot_ts_1.template(conversation_item_html_text_1.default)], ConversationItem);
                return ConversationItem;
            }(riot_ts_1.Element);
            exports_1("default", ConversationItem);
        }
    };
});
$__System.register("199", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-list>\n    <div>\n        <ul class=\"uk-list uk-list-line\">\n            <li each=\"{{conv in this.opts.conversations}}\" \n                onclick=\"{{click}}\" \n                conv = \"{{conv}}\" \n                riot-tag = \"conversation-item\"\n                class=\"{{conversation-item--active: conv.isActive}}\">\n            </li>\n        </ul>\n    </div>\n    <style scoped>\n      :scope > div {\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n      }\n\n      :scope li{\n          padding: 5px 10px;\n          margin-top: 0px !important;\n          cursor: pointer;\n      }\n\n      :scope li:hover{\n          background-color: #e5e5e5;\n      }\n\n      .conversation-item--active{\n          background-color: #f5f5f5;\n      }\n    </style>\n</conversation-list>");
        }
    };
});
$__System.register('19a', ['144', '148', '199'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, conversation_list_html_text_1;
    var store, ConversationList;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (conversation_list_html_text_1_1) {
            conversation_list_html_text_1 = conversation_list_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ConversationList = function (_super) {
                __extends(ConversationList, _super);
                function ConversationList() {
                    _super.apply(this, arguments);
                }
                ConversationList.prototype.click = function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    var conv = event.item.conv;
                    store.dispatch(all_1.default.conversations.actions.setActiveAndMarkAsRead(conv.id));
                };
                ConversationList = __decorate([riot_ts_1.template(conversation_list_html_text_1.default)], ConversationList);
                return ConversationList;
            }(riot_ts_1.Element);
            exports_1("default", ConversationList);
        }
    };
});
$__System.register("19b", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<conversation-panel>\n    <div>\n        <div class=\"conversation-header\">\n            <nav class=\"uk-navbar\">\n                <ul class=\"uk-navbar-nav uk-margin-small-left\">\n                    <li class=\"uk-navbar-content uk-text-truncate\">\n                        <img class=\"avatar\" src=\"{{getAvatarById(user.userId)}}\">\n                        <span class=\"uk-text-bold\">{{user.name || user.email}}</span>\n                    </li>\n                </ul>\n                <div class=\"uk-navbar-flip\">\n                    <ul class=\"uk-navbar-nav\">\n                        <li class=\"uk-parent\" data-uk-dropdown=\"{mode:'click'}\">\n                            <a><i class=\"uk-icon-cog\"></i></a>\n                            <div class=\"uk-dropdown uk-dropdown-navbar uk-dropdown-bottom chatbox-header--more-actions\">\n                                <ul class=\"uk-nav uk-nav-navbar\">\n                                    <li onclick=\"{{onUpdateProfileActionItemClick}}\"><a>Update Profile</a></li>\n                                    <li onclick=\"{{onAddFriendActionItemClick}}\"><a>Add Friend</a></li>\n                                    <li class=\"uk-nav-divider\"></li>\n                                    <li onclick=\"{{onLogoutActionItemClick}}\"><a>Logout</a></li>\n                                </ul>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n        </div>\n        <loading-indicator show=\"{{this.state.conversationData.isLoading}}\"></loading-indicator>\n        <conversation-list conversations=\"{{this.conversations}}\" class=\"conversation-list\"></conversation-list>\n        <conversation-search class=\"conversation-search\"></conversation-search>\n        <account-update-profile></account-update-profile>\n        <account-add-friend></account-add-friend>\n    </div>\n\n    <style scoped>\n        :scope {\n            position: fixed;\n            top: 35px;\n            bottom: 0px;\n            width: 252px;\n            right: auto;\n            left: 1px;\n            background-color: #fff;\n            font: 400 14px/20px \"Helvetica Neue\", Helvetica, Arial, sans-serif !important;\n            border: none;\n            outline: none;\n            border: 1px solid #ccc;\n        }\n        \n        .conversation-header {\n            position: absolute;\n            height: 44px;\n            top: 0px;\n            left: 0px;\n            right: 0px;\n            background-color: #ececec;\n        }\n        \n        .conversation-list {\n            position: absolute;\n            top: 44px;\n            bottom: 30px;\n            left: 0px;\n            right: 0px;\n            border-top: 1px solid #ccc;\n            border-bottom: 1px solid #ccc;\n        }\n        \n        .conversation-search {\n            position: absolute;\n            bottom: 0px;\n            left: 0px;\n            right: 0px;\n        }\n        \n        .conversation-header .avatar {\n            width: 36px;\n            height: 36px;\n            float: left;\n            margin-right: 10px;\n            margin-top: 5px;\n        }\n        \n        @media (min-width: 1200px) {\n            :scope {\n                top: 42px;\n            }\n        }\n    </style>\n</conversation-panel>");
        }
    };
});
$__System.register('19c', ['144', '15b', '148', '156', '175', '19b'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, utils, all_1, types_1, decko_1, conversation_panel_html_text_1;
    var store, ConversationPanel;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (utils_1) {
            utils = utils_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (decko_1_1) {
            decko_1 = decko_1_1;
        }, function (conversation_panel_html_text_1_1) {
            conversation_panel_html_text_1 = conversation_panel_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            ConversationPanel = function (_super) {
                __extends(ConversationPanel, _super);
                function ConversationPanel(opts) {
                    _super.call(this);
                    store.subscribe(this.onApplicationStateChanged);
                    this.user = store.getState().userData.user;
                }
                ConversationPanel.prototype.mounted = function () {
                    this.loadConversations();
                    all_1.default.conversations.bus.on(types_1.CONVERSATIONS.CREATE_GROUP, this.onGroupConversationCreated).on(types_1.CONVERSATIONS.ADD_MEMBERS, this.onApplicationStateChanged);
                    all_1.default.LotusService.singleton().on('Message.onMessage', this.onMessage);
                    all_1.default.contacts.bus.on(types_1.CONTACTS.SELECT_CONTACT, this.onSelectContact);
                    all_1.default.users.bus.on(types_1.USERS.UPDATE_PROFILE, this.onUserUpdateProfile);
                };
                ConversationPanel.prototype.unmounted = function () {
                    all_1.default.conversations.bus.off(types_1.CONVERSATIONS.CREATE_GROUP, this.onGroupConversationCreated).off(types_1.CONVERSATIONS.ADD_MEMBERS, this.onApplicationStateChanged);
                    all_1.default.LotusService.singleton().off('Message.onMessage', this.onMessage);
                    all_1.default.contacts.bus.off(types_1.CONTACTS.SELECT_CONTACT, this.onSelectContact);
                    all_1.default.users.bus.off(types_1.USERS.UPDATE_PROFILE, this.onUserUpdateProfile);
                };
                ConversationPanel.prototype.onSelectContact = function (contact) {
                    var _this = this;
                    var conv = all_1.default.conversations.tools.findOne(contact.userId);
                    if (conv) this.openConversation(conv);else {
                        all_1.default.conversations.tools.createOne(contact).then(function (conv) {
                            var cons = store.getState().conversationData.conversations.concat([conv]);
                            store.dispatch(all_1.default.conversations.actions.conversationsLoaded(cons));
                            _this.openConversation(conv);
                        });
                    }
                };
                ConversationPanel.prototype.onUserUpdateProfile = function () {
                    this.user = store.getState().userData.user;
                    this.update();
                };
                ConversationPanel.prototype.openConversation = function (conv) {
                    store.dispatch(all_1.default.conversations.actions.setActiveAndMarkAsRead(conv.id));
                };
                ConversationPanel.prototype.onGroupConversationCreated = function (conv) {
                    this.openConversation(conv);
                };
                ConversationPanel.prototype.onMessage = function (resp) {
                    if (resp.err) {
                        console.error(resp.err);
                    } else {
                        var msg = all_1.default.messages.tools.getMessageFromResponse(resp.re.message);
                        //create conversation if it doesn't exist yet
                        var conv = store.getState().conversationData.conversations.find(function (c) {
                            return c.id == msg.conv_id;
                        });
                        if (!conv) {
                            all_1.default.conversations.tools.getById(msg.conv_id).then(function (conv) {
                                var cons = store.getState().conversationData.conversations.concat([conv]);
                                store.dispatch(all_1.default.conversations.actions.conversationsLoaded(cons));
                            });
                        }
                    }
                };
                ConversationPanel.prototype.onApplicationStateChanged = function () {
                    this.state = store.getState();
                    this.conversations = this.getVisibleConversations();
                    this.setDefaultActive();
                    this.update();
                };
                ConversationPanel.prototype.loadConversations = function () {
                    store.dispatch(all_1.default.conversations.actions.loadconversations());
                };
                ConversationPanel.prototype.getVisibleConversations = function () {
                    var state = store.getState();
                    var conversations = state.conversationData.conversations;
                    var filter = (state.conversationData.filter || '').toLowerCase();
                    var list = conversations.filter(function (c) {
                        return (c.title || '').toLowerCase().indexOf(filter) != -1 || (c.last_message.content || '').toLowerCase().indexOf(filter) != -1;
                    });
                    return all_1.default.conversations.tools.sort(list);
                };
                ConversationPanel.prototype.setDefaultActive = function () {
                    if (this.conversations.length) {
                        var conversations = store.getState().conversationData.conversations;
                        var activeConv = conversations.find(function (c) {
                            return c.isActive;
                        });
                        if (!activeConv && conversations.length) {
                            var firstConv = this.conversations[0];
                            store.dispatch(all_1.default.conversations.actions.setActive(firstConv.id));
                        }
                    }
                };
                ConversationPanel.prototype.getAvatarById = function (userId) {
                    return utils.getAvatarUrl(userId);
                };
                ConversationPanel.prototype.onUpdateProfileActionItemClick = function (e) {
                    var tag = this.tags['account-update-profile'];
                    tag.showDialog();
                };
                ConversationPanel.prototype.onAddFriendActionItemClick = function (e) {
                    var tag = this.tags['account-add-friend'];
                    tag.showDialog();
                };
                ConversationPanel.prototype.onLogoutActionItemClick = function (e) {
                    var logoutModal = UIkit.modal.blockUI('Logging out, please wait...');
                    all_1.default.users.tools.logOut().then(function (resp) {
                        logoutModal.hide();
                        if (resp.err) {
                            UIkit.modal.alert(resp.err.message);
                            console.log(resp.err);
                        } else {
                            setTimeout(function () {
                                window.location.reload();
                            }, 1000);
                        }
                    });
                };
                __decorate([decko_1.bind], ConversationPanel.prototype, "onSelectContact", null);
                __decorate([decko_1.bind], ConversationPanel.prototype, "onUserUpdateProfile", null);
                __decorate([decko_1.bind], ConversationPanel.prototype, "onGroupConversationCreated", null);
                __decorate([decko_1.bind], ConversationPanel.prototype, "onMessage", null);
                __decorate([decko_1.bind], ConversationPanel.prototype, "onApplicationStateChanged", null);
                ConversationPanel = __decorate([riot_ts_1.template(conversation_panel_html_text_1.default)], ConversationPanel);
                return ConversationPanel;
            }(riot_ts_1.Element);
            exports_1("default", ConversationPanel);
        }
    };
});
$__System.register('19d', ['194', '196', '198', '19a', '19c'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var conversation_time_1, conversation_search_1, conversation_item_1, conversation_list_1, conversation_panel_1;
    return {
        setters: [function (conversation_time_1_1) {
            conversation_time_1 = conversation_time_1_1;
        }, function (conversation_search_1_1) {
            conversation_search_1 = conversation_search_1_1;
        }, function (conversation_item_1_1) {
            conversation_item_1 = conversation_item_1_1;
        }, function (conversation_list_1_1) {
            conversation_list_1 = conversation_list_1_1;
        }, function (conversation_panel_1_1) {
            conversation_panel_1 = conversation_panel_1_1;
        }],
        execute: function () {
            exports_1("ConversationTime", conversation_time_1.default);
            exports_1("ConversationSearch", conversation_search_1.default);
            exports_1("ConversationItem", conversation_item_1.default);
            exports_1("ConversationList", conversation_list_1.default);
            exports_1("ConversationPanel", conversation_panel_1.default);
        }
    };
});
$__System.register("19e", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<chat-room>\n    <div class=\"uk-width-2-3 uk-container-center chat-room-container\">\n        <div class=\"conversation-panel\" riot-tag=\"conversation-panel\"></div>\n        <div class=\"message-pane\" each=\"{{conv in this.state.conversationData.conversations}}\" show=\"{{conv.isActive}}\" conv=\"{{conv}}\"\n            riot-tag=\"message-pane\" />\n    </div>\n    <contact-panel></contact-panel>\n    <style>\n        .uk-modal{\n            top: 42px;\n        }\n\n        @media (max-width: 991px) {\n            .uk-modal {\n                top: 35px;\n            }\n        }\n    </style>\n    <style scoped>\n        :scope {\n            position: fixed;\n            left: 0px;\n            right: 0px;\n            top: 42px;\n            bottom: 0px;\n            background-color: #ececec;\n            overflow: hidden;\n            z-index: 999;\n        }\n        \n        .chat-room-container {\n            position: absolute;\n            top: 0px;\n            bottom: 0px;\n            right: 260px;\n        }\n        \n        .conversation-panel {\n            position: absolute;\n            left: 0px;\n            width: 250px;\n            top: 0px;\n            bottom: 0px;\n            border: 1px solid #ccc;\n        }\n        \n        .message-pane {\n            position: absolute;\n            left: 251px;\n            right: 200px;\n            top: 0px;\n            bottom: 0px;\n            border: 1px solid #ccc;\n            min-width: 450px;\n        }\n        \n        @media (max-width: 991px) {\n            :scope {\n                top: 35px;\n            }\n        }\n    </style>\n</chat-room>");
        }
    };
});
$__System.register('19f', ['144', '1a0', '14b', '19e'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, bus_1, store_1, chat_room_html_text_1;
    var ChatRoom;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (chat_room_html_text_1_1) {
            chat_room_html_text_1 = chat_room_html_text_1_1;
        }],
        execute: function () {
            ChatRoom = function (_super) {
                __extends(ChatRoom, _super);
                function ChatRoom(opts) {
                    _super.call(this);
                    this.conv = null;
                }
                ChatRoom.prototype.mounted = function () {
                    var _this = this;
                    this.updateMessagePanes();
                    store_1.default.subscribe(this.onApplicationStateChanged.bind(this));
                    var $chatRoom = bus_1.default.singleton().cat('chat-room');
                    $chatRoom.on('is-visible', function () {
                        return jQuery(_this.root).is(':visible');
                    });
                };
                ChatRoom.prototype.onApplicationStateChanged = function () {
                    this.updateMessagePanes();
                    this.update();
                };
                ChatRoom.prototype.updateMessagePanes = function () {
                    var state = store_1.default.getState();
                    var activeConv = state.conversationData.conversations.filter(function (c) {
                        return c.isActive;
                    })[0];
                    if (activeConv && activeConv != this.conv) {
                        this.hideMessagePane(this.conv);
                        this.showMessagePane(activeConv);
                        this.conv = activeConv;
                        return true;
                    }
                    return false;
                };
                ChatRoom.prototype.hideMessagePane = function (conv) {
                    if (!conv) return;
                    var container = this.root.querySelector('.chat-room-container');
                    var el = container.querySelector("div[conv_id=\"" + conv.id + "\"]");
                    if (el) jQuery(el).hide();
                };
                ChatRoom.prototype.showMessagePane = function (conv) {
                    if (!conv) return;
                    var container = this.root.querySelector('.chat-room-container');
                    var el = container.querySelector("div[conv_id=\"" + conv.id + "\"]");
                    if (!el) {
                        el = document.createElement('div');
                        el.setAttribute('conv_id', conv.id);
                        el.className = 'message-pane';
                        container.appendChild(el);
                        riot_ts_1.riot.mount(el, 'message-pane', { conv: conv });
                    } else jQuery(el).show();
                };
                ChatRoom = __decorate([riot_ts_1.template(chat_room_html_text_1.default)], ChatRoom);
                return ChatRoom;
            }(riot_ts_1.Element);
            exports_1("default", ChatRoom);
        }
    };
});
$__System.register("15b", ["148"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var all_1;
    var domain, defaultGroupAvatar;
    function getUser(userId) {
        var state = all_1.default.store.getState();
        var owner = state.userData.user;
        if (owner.userId == userId) {
            return owner;
        }
        return state.contactData.contacts.find(function (c) {
            return c.userId == userId;
        });
    }
    function resolveUrl(path) {
        return isAbsoluteUrl(path) ? path : "https://" + domain + "/" + path;
    }
    exports_1("resolveUrl", resolveUrl);
    function isAbsoluteUrl(path) {
        var r = new RegExp('^(?:[a-z]+:)?//', 'i');
        return r.test(path);
    }
    exports_1("isAbsoluteUrl", isAbsoluteUrl);
    function getAvatarUrl(userId) {
        var usr = getUser(userId);
        if (!usr) return '/assets/images/unseen-avatar.png';
        return resolveUrl(usr.avatarUrl);
    }
    exports_1("getAvatarUrl", getAvatarUrl);
    function getProfileUrl(userId) {
        var usr = getUser(userId);
        if (!usr) return '(null)';
        return resolveUrl(usr.profileUrl);
    }
    exports_1("getProfileUrl", getProfileUrl);
    function getDisplayName(userId) {
        var usr = getUser(userId);
        if (!usr) return '(null)';
        return usr.name || usr.email;
    }
    exports_1("getDisplayName", getDisplayName);
    return {
        setters: [function (all_1_1) {
            all_1 = all_1_1;
        }],
        execute: function () {
            domain = function () {
                var w = window || self;
                switch (w.location.hostname) {
                    case 'seen.life':
                    case 'qa.seen.life':
                        return w.location.hostname;
                    default:
                        return 'office2.seen.life';
                }
            }();
            exports_1("defaultGroupAvatar", defaultGroupAvatar = '/assets/images/group-users.png');
        }
    };
});
$__System.register('175', [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var EMPTY, HOP, fns, memoize, debounce, bind;
    /** Creates a function that supports the following calling styles:
     *	d() - returns an unconfigured decorator
     *	d(opts) - returns a configured decorator
     *	d(fn, opts) - returns a decorated proxy to `fn`
     *	d(target, key, desc) - the decorator itself
     *
     *	@Example:
     *		// simple identity deco:
     *		let d = multiMethod( fn => fn );
     *
     *		class Foo {
     *			@d
     *			bar() { }
     *
     *			@d()
     *			baz() { }
     *
     *			@d({ opts })
     *			bat() { }
     *
     *			bap = d(() => {})
     *		}
     */
    function multiMethod(inner, deco) {
        deco = deco || inner.decorate || decorator(inner);
        var d = deco();
        return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i - 0] = arguments[_i];
            }
            var l = args.length;
            return (l < 2 ? deco : l > 2 ? d : inner).apply(void 0, args);
        };
    }
    /** Returns function supports the forms:
     *	deco(target, key, desc) -> decorate a method
     *	deco(Fn) -> call the decorator proxy on a function
     */
    function decorator(fn) {
        return function (opt) {
            return typeof opt === 'function' ? fn(opt) : function (target, key, desc) {
                desc.value = fn(desc.value, opt, target, key, desc);
            };
        };
    }
    return {
        setters: [],
        execute: function () {
            EMPTY = {};
            HOP = Object.prototype.hasOwnProperty;
            fns = {
                /**  let cachedFn = memoize(originalFn); */
                memoize: function (fn, opt) {
                    if (opt === void 0) {
                        opt = EMPTY;
                    }
                    var cache = opt.cache || {};
                    return function () {
                        var a = [];
                        for (var _i = 0; _i < arguments.length; _i++) {
                            a[_i - 0] = arguments[_i];
                        }
                        var k = String(a[0]);
                        if (opt.caseSensitive === false) k = k.toLowerCase();
                        return HOP.call(cache, k) ? cache[k] : cache[k] = fn.apply(this, a);
                    };
                },
                /** let throttled = debounce(10, console.log); */
                debounce: function (fn, opts) {
                    if (typeof opts === 'function') {
                        var p = fn;
                        fn = opts;
                        opts = p;
                    }
                    var delay = opts && opts.delay || opts || 0,
                        args,
                        context,
                        timer;
                    return function () {
                        var a = [];
                        for (var _i = 0; _i < arguments.length; _i++) {
                            a[_i - 0] = arguments[_i];
                        }
                        args = a;
                        context = this;
                        if (!timer) timer = setTimeout(function () {
                            fn.apply(context, args);
                            args = context = timer = null;
                        }, delay);
                    };
                },
                bind: function (target, key, _a) {
                    var fn = _a.value;
                    return {
                        configurable: true,
                        get: function () {
                            var value = fn.bind(this);
                            Object.defineProperty(this, key, {
                                value: value,
                                configurable: true,
                                writable: true
                            });
                            return value;
                        }
                    };
                }
            };
            memoize = multiMethod(fns.memoize), debounce = multiMethod(fns.debounce), bind = multiMethod(function (f, c) {
                return f.bind(c);
            }, function () {
                return fns.bind;
            });
            exports_1("memoize", memoize);
            exports_1("debounce", debounce);
            exports_1("bind", bind);
            exports_1("default", { memoize: memoize, debounce: debounce, bind: bind });
        }
    };
});
$__System.register("1a1", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<message-pane>\n    <div class=\"message-pane-container uk-panel uk-panel-box\">\n        <div class=\"chatbox-header\">\n            <nav class=\"uk-navbar\">\n                <ul class=\"uk-navbar-nav uk-margin-small-left\">\n                    <li>\n                        <div class=\"{{chatbox-header--status: true, online: conv.is_online, offline: !conv.is_online}}\">&nbsp;</div>\n                    </li>\n                    <li class=\"uk-navbar-content uk-text-truncate\">\n                        <span class=\"uk-text-bold\" title=\"{{conv.title}}\">{{conv.title}}</span>\n                    </li>\n                </ul>\n                <div class=\"uk-navbar-flip\">\n                    <conversation-actions conv_id=\"{{opts.conv.id}}\"></conversation-actions>\n                </div>\n            </nav>\n        </div>\n        <div class=\"message-pane-body\">\n            <div class=\"message-box\" conv_id=\"{{opts.conv.id}}\" riot-tag=\"message-box\"></div>\n        </div>\n        <div class=\"message-pane-footer\">\n            <div>\n                <div class=\"post-message-control\" conv_id=\"{{opts.conv.id}}\">\n                    <!--<trix-editor class=\"trix-content trix-editor\"/>-->\n                </div>\n                <div>\n                    <div class=\"command-button-bar--right\">\n                        <span class=\"uk-button uk-button-mini uk-button-primary uk-float-right\" type=\"button\" style=\"border: 1px solid #555;\" show=\"{{!isPressEnterToSend}}\"\n                            onclick=\"{{onSendButtonClick}}\">Send</span>\n                        <span class=\"{{command-button: true, uk-float-right: true, uk-margin-small-right: !isPressEnterToSend}}\" onclick=\"{{togglePressEnterToSend}}\">\n                            Press Enter to send\n                            <i class=\"{{uk-icon-square-o:!isPressEnterToSend, uk-icon-check-square-o: isPressEnterToSend}}\"></i>\n                        </span>\n                    </div>\n                    <action-toolbar name='action-toolbar' conv_id=\"{{opts.conv.id}}\" item-size=\"small\"></action-toolbar>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <style scoped>\n        .message-pane-container {\n            position: absolute;\n            left: 0px;\n            right: 0px;\n            top: 0px;\n            bottom: 0px;\n            background-color: #ececec;\n        }\n        \n        .chatbox-header {\n            position: absolute;\n            height: 44px;\n            top: 0px;\n            left: 0px;\n            right: 0px;\n        }\n        \n        .chatbox-header--avatar {\n            position: absolute;\n            left: 0px;\n            width: 45px;\n            top: 0px;\n            text-align: center;\n            z-index: 1;\n            padding: 2px;\n            display: flex;\n        }\n        \n        .chatbox-header--avatar img {\n            border-radius: 50%;\n            max-width: 40px;\n            max-height: 40px;\n            margin-top: auto;\n            margin-bottom: auto;\n            border: 1px solid #aaa;\n            width: 40px;\n            height: 40px;\n        }\n        \n        .chatbox-header--status {\n            position: absolute;\n            left: 36px;\n            width: 12px;\n            top: 13px;\n            bottom: 0px;\n            vertical-align: middle;\n            text-align: center;\n            display: flex;\n            z-index: 1;\n        }\n        \n        .chatbox-header--status div {\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            display: inline-block;\n            vertical-align: middle;\n            text-align: center;\n            margin-top: auto;\n            margin-bottom: auto;\n            border: 2px solid #fff;\n        }\n        \n        .chatbox-header--status div.online {\n            background-color: #88e241;\n        }\n        \n        .chatbox-header--status div.offline {\n            background-color: #ccc;\n        }\n        \n        .chatbox-header--title {\n            position: absolute;\n            left: 55px;\n            right: 30px;\n            top: 0px;\n            bottom: 0px;\n            vertical-align: middle;\n            font-weight: bold;\n            padding-top: 6px;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            line-height: 1;\n            max-width: 300px;\n            overflow: hidden;\n            display: flex;\n        }\n        \n        .chatbox-header--title span {}\n        \n        .chatbox-header--title a {\n            text-decoration: none;\n            cursor: pointer;\n            color: #555;\n            margin-top: auto;\n            margin-bottom: auto;\n        }\n        \n        .chatbox-header--title a:hover {\n            text-decoration: underline;\n        }\n        \n        .chatbox-header--close {\n            position: absolute;\n            right: 0px;\n            width: 20px;\n            top: 0px;\n            bottom: 0px;\n            display: flex;\n            vertical-align: middle;\n        }\n        \n        .chatbox-header--close a {\n            color: #e3e9f5;\n            margin-top: auto;\n            margin-bottom: auto;\n        }\n        \n        .chatbox-header--close a:hover {\n            color: #fff;\n        }\n        \n        .message-pane-body {\n            position: absolute;\n            top: 44px;\n            bottom: 265px;\n            left: 0px;\n            right: 0px;\n            border-top: 1px solid #ccc;\n            border-bottom: 1px solid #f6f7f8;\n        }\n        \n        .message-pane-footer {\n            position: absolute;\n            top: auto;\n            left: 0px;\n            right: 0px;\n            bottom: 0px;\n            height: 250px;\n            padding-bottom: 35px;\n            padding: 8px;\n            vertical-align: bottom;\n        }\n        \n        .post-message-control {\n            width: 100%;\n            display: block;\n            height: 160px;\n            overflow: auto;\n            background-color: #fff;\n            border: 1px solid #aaa;\n            position: static;\n        }\n        \n        trix-editor {\n            min-height: 100px;\n            overflow: auto;\n        }\n        \n        .message-box {\n            position: absolute;\n            top: 0px;\n            bottom: 0px;\n            left: 0px;\n            right: 0px;\n            border-bottom: 1px solid #e5e5e5;\n            background-color: #fff;\n            overflow: auto;\n            padding: 20px;\n        }\n        \n        .command-button {\n            cursor: pointer;\n        }\n        \n        .command-button-bar--right {\n            float: right;\n            margin-top: 10px;\n            margin-right: 2px;\n        }\n        \n        em {\n            color: inherit !important;\n        }\n    </style>\n</message-pane>");
        }
    };
});
$__System.register('1a2', ['144', '15b', '175', '156', '148', '1a1'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, utils, decko_1, types_1, all_1, message_pane_html_text_1;
    var store, FileMessage, MessagePane;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (utils_1) {
            utils = utils_1;
        }, function (decko_1_1) {
            decko_1 = decko_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (message_pane_html_text_1_1) {
            message_pane_html_text_1 = message_pane_html_text_1_1;
        }],
        execute: function () {
            store = all_1.default.store;
            FileMessage = all_1.default.messages.tools.FileMessage;
            MessagePane = function (_super) {
                __extends(MessagePane, _super);
                function MessagePane(opts) {
                    _super.call(this);
                    this.isPressEnterToSend = true;
                    this.onTrixInitializeDelegate = null;
                    this.MAX_HEIGHT = 400;
                    this.conv = opts.conv;
                    this.actionToolbar = this.tags['action-toolbar'];
                    if (this.actionToolbar) {
                        this.actionToolbar.selectEmoticon = this.onSelectEmoticon.bind(this);
                    }
                }
                MessagePane.prototype.onSelectEmoticon = function (emojicon) {
                    var range = this.quill.getSelection();
                    if (range) {
                        var text = ':' + emojicon.name + ':';
                        this.quill.insertText(range.index, text);
                        this.quill.setSelection(range.index + text.length, 1);
                    }
                };
                MessagePane.prototype.onApplicationStateChanged = function () {};
                MessagePane.prototype.mounted = function () {
                    this.onApplicationStateChanged();
                    store.subscribe(this.onApplicationStateChanged.bind(this));
                    if (this.conv.isActive) {
                        this.loadHistoryForFirstTime();
                    }
                    this.initQuillEditor();
                    all_1.default.conversations.bus.on(types_1.CONVERSATIONS.UPDATE_TITLE, this.onUpdateTitle);
                };
                MessagePane.prototype.unmounted = function () {
                    all_1.default.conversations.bus.off(types_1.CONVERSATIONS.UPDATE_TITLE, this.onUpdateTitle);
                };
                MessagePane.prototype.onUpdateLayout = function () {};
                MessagePane.prototype.onUpdateTitle = function (conv_id, title) {
                    if (this.conv.id == conv_id) {
                        this.conv.title = title;
                        this.update();
                    }
                };
                MessagePane.prototype.initQuillEditor = function () {
                    var options = {
                        modules: {
                            toolbar: [[{ header: [1, 2, 3, false] }], ['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block', 'link'], [{ list: 'ordered' }, { list: 'bullet' }]],
                            keyboard: {
                                bindings: {
                                    custom: {
                                        key: 13,
                                        handler: this.onQuillEnterPressed.bind(this)
                                    }
                                }
                            }
                        },
                        theme: 'snow'
                    };
                    var container = this.root.querySelector('.post-message-control');
                    this.quill = new Quill(container, options);
                    //var toolbar = this.quill.getModule('toolbar');
                    //toolbar.addHandler('link', this.quillLinkHandler.bind(this));
                };
                MessagePane.prototype.onQuillEnterPressed = function () {
                    var el = this.getQuillEditorElement();
                    var $editor = jQuery(el);
                    var text = $editor.text();
                    if (!this.isPressEnterToSend || text == '') {
                        if (text == '') {
                            this.quill.setText('');
                            this.quill.insertText(0, '');
                            return false;
                        }
                    }
                    if (!this.isPressEnterToSend) {
                        return true;
                    }
                    return this.onSendButtonClick();
                };
                MessagePane.prototype.getQuillEditorElement = function () {
                    return this.root.querySelector('.post-message-control .ql-editor');
                };
                MessagePane.prototype.onSendButtonClick = function () {
                    var el = this.getQuillEditorElement();
                    var $editor = jQuery(el);
                    var html = $editor.html();
                    store.dispatch(all_1.default.messages.actions.sendTextMessage(this.conv.id, html));
                    this.quill.setText('');
                    this.quill.insertText(0, '');
                    return false;
                };
                MessagePane.prototype.togglePressEnterToSend = function () {
                    this.isPressEnterToSend = !this.isPressEnterToSend;
                };
                MessagePane.prototype.loadHistoryForFirstTime = function () {
                    var msgBox = this.tags['message-box'];
                    if (!msgBox.isLoadedAtFirstTime) {
                        msgBox.loadAtFirstTime();
                    }
                };
                MessagePane.prototype.getAvatarFromConv = function (conv) {
                    if (conv.type == types_1.CONVERSATION_TYPE.ONE) {
                        var p = all_1.default.conversations.tools.getPartner(conv);
                        return utils.getAvatarUrl(p.userId);
                    }
                    return utils.defaultGroupAvatar;
                };
                __decorate([decko_1.bind], MessagePane.prototype, "onUpdateTitle", null);
                MessagePane = __decorate([riot_ts_1.template(message_pane_html_text_1.default)], MessagePane);
                return MessagePane;
            }(riot_ts_1.Element);
            exports_1("default", MessagePane);
        }
    };
});
$__System.register('1a3', ['19f', '1a2'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var chat_room_1, message_pane_1;
    return {
        setters: [function (chat_room_1_1) {
            chat_room_1 = chat_room_1_1;
        }, function (message_pane_1_1) {
            message_pane_1 = message_pane_1_1;
        }],
        execute: function () {
            exports_1("ChatRoom", chat_room_1.default);
            exports_1("MessagePane", message_pane_1.default);
        }
    };
});
$__System.registerDynamic("1a4", ["3"], true, function($__require, exports, module) {
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  ;
  (function(window, undefined) {
    'use strict';
    var riot = {
      version: 'v2.5.0',
      settings: {}
    },
        __uid = 0,
        __virtualDom = [],
        __tagImpl = {},
        GLOBAL_MIXIN = '__global_mixin',
        RIOT_PREFIX = 'riot-',
        RIOT_TAG = RIOT_PREFIX + 'tag',
        RIOT_TAG_IS = 'data-is',
        T_STRING = 'string',
        T_OBJECT = 'object',
        T_UNDEF = 'undefined',
        T_FUNCTION = 'function',
        SPECIAL_TAGS_REGEX = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,
        RESERVED_WORDS_BLACKLIST = /^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,
        SVG_TAGS_LIST = ['altGlyph', 'animate', 'animateColor', 'circle', 'clipPath', 'defs', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feFlood', 'feGaussianBlur', 'feImage', 'feMerge', 'feMorphology', 'feOffset', 'feSpecularLighting', 'feTile', 'feTurbulence', 'filter', 'font', 'foreignObject', 'g', 'glyph', 'glyphRef', 'image', 'line', 'linearGradient', 'marker', 'mask', 'missing-glyph', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'switch', 'symbol', 'text', 'textPath', 'tref', 'tspan', 'use'],
        IE_VERSION = (window && window.document || {}).documentMode | 0,
        FIREFOX = window && !!window.InstallTrigger;
    riot.observable = function(el) {
      el = el || {};
      var callbacks = {},
          slice = Array.prototype.slice;
      function onEachEvent(e, fn) {
        var es = e.split(' '),
            l = es.length,
            i = 0,
            name,
            indx;
        for (; i < l; i++) {
          name = es[i];
          indx = name.indexOf('.');
          if (name)
            fn(~indx ? name.substring(0, indx) : name, i, ~indx ? name.slice(indx + 1) : null);
        }
      }
      Object.defineProperties(el, {
        on: {
          value: function(events, fn) {
            if (typeof fn != 'function')
              return el;
            onEachEvent(events, function(name, pos, ns) {
              (callbacks[name] = callbacks[name] || []).push(fn);
              fn.typed = pos > 0;
              fn.ns = ns;
            });
            return el;
          },
          enumerable: false,
          writable: false,
          configurable: false
        },
        off: {
          value: function(events, fn) {
            if (events == '*' && !fn)
              callbacks = {};
            else {
              onEachEvent(events, function(name, pos, ns) {
                if (fn || ns) {
                  var arr = callbacks[name];
                  for (var i = 0,
                      cb; cb = arr && arr[i]; ++i) {
                    if (cb == fn || ns && cb.ns == ns)
                      arr.splice(i--, 1);
                  }
                } else
                  delete callbacks[name];
              });
            }
            return el;
          },
          enumerable: false,
          writable: false,
          configurable: false
        },
        one: {
          value: function(events, fn) {
            function on() {
              el.off(events, on);
              fn.apply(el, arguments);
            }
            return el.on(events, on);
          },
          enumerable: false,
          writable: false,
          configurable: false
        },
        trigger: {
          value: function(events) {
            var arglen = arguments.length - 1,
                args = new Array(arglen),
                fns;
            for (var i = 0; i < arglen; i++) {
              args[i] = arguments[i + 1];
            }
            onEachEvent(events, function(name, pos, ns) {
              fns = slice.call(callbacks[name] || [], 0);
              for (var i = 0,
                  fn; fn = fns[i]; ++i) {
                if (fn.busy)
                  continue;
                fn.busy = 1;
                if (!ns || fn.ns == ns)
                  fn.apply(el, fn.typed ? [name].concat(args) : args);
                if (fns[i] !== fn) {
                  i--;
                }
                fn.busy = 0;
              }
              if (callbacks['*'] && name != '*')
                el.trigger.apply(el, ['*', name].concat(args));
            });
            return el;
          },
          enumerable: false,
          writable: false,
          configurable: false
        }
      });
      return el;
    };
    ;
    (function(riot) {
      var RE_ORIGIN = /^.+?\/\/+[^\/]+/,
          EVENT_LISTENER = 'EventListener',
          REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER,
          ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER,
          HAS_ATTRIBUTE = 'hasAttribute',
          REPLACE = 'replace',
          POPSTATE = 'popstate',
          HASHCHANGE = 'hashchange',
          TRIGGER = 'trigger',
          MAX_EMIT_STACK_LEVEL = 3,
          win = typeof window != 'undefined' && window,
          doc = typeof document != 'undefined' && document,
          hist = win && history,
          loc = win && (hist.location || win.location),
          prot = Router.prototype,
          clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click',
          started = false,
          central = riot.observable(),
          routeFound = false,
          debouncedEmit,
          base,
          current,
          parser,
          secondParser,
          emitStack = [],
          emitStackLevel = 0;
      function DEFAULT_PARSER(path) {
        return path.split(/[/?#]/);
      }
      function DEFAULT_SECOND_PARSER(path, filter) {
        var re = new RegExp('^' + filter[REPLACE](/\*/g, '([^/?#]+?)')[REPLACE](/\.\./, '.*') + '$'),
            args = path.match(re);
        if (args)
          return args.slice(1);
      }
      function debounce(fn, delay) {
        var t;
        return function() {
          clearTimeout(t);
          t = setTimeout(fn, delay);
        };
      }
      function start(autoExec) {
        debouncedEmit = debounce(emit, 1);
        win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit);
        win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit);
        doc[ADD_EVENT_LISTENER](clickEvent, click);
        if (autoExec)
          emit(true);
      }
      function Router() {
        this.$ = [];
        riot.observable(this);
        central.on('stop', this.s.bind(this));
        central.on('emit', this.e.bind(this));
      }
      function normalize(path) {
        return path[REPLACE](/^\/|\/$/, '');
      }
      function isString(str) {
        return typeof str == 'string';
      }
      function getPathFromRoot(href) {
        return (href || loc.href)[REPLACE](RE_ORIGIN, '');
      }
      function getPathFromBase(href) {
        return base[0] == '#' ? (href || loc.href || '').split(base)[1] || '' : (loc ? getPathFromRoot(href) : href || '')[REPLACE](base, '');
      }
      function emit(force) {
        var isRoot = emitStackLevel == 0;
        if (MAX_EMIT_STACK_LEVEL <= emitStackLevel)
          return;
        emitStackLevel++;
        emitStack.push(function() {
          var path = getPathFromBase();
          if (force || path != current) {
            central[TRIGGER]('emit', path);
            current = path;
          }
        });
        if (isRoot) {
          while (emitStack.length) {
            emitStack[0]();
            emitStack.shift();
          }
          emitStackLevel = 0;
        }
      }
      function click(e) {
        if (e.which != 1 || e.metaKey || e.ctrlKey || e.shiftKey || e.defaultPrevented)
          return;
        var el = e.target;
        while (el && el.nodeName != 'A')
          el = el.parentNode;
        if (!el || el.nodeName != 'A' || el[HAS_ATTRIBUTE]('download') || !el[HAS_ATTRIBUTE]('href') || el.target && el.target != '_self' || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) == -1)
          return;
        if (el.href != loc.href) {
          if (el.href.split('#')[0] == loc.href.split('#')[0] || base != '#' && getPathFromRoot(el.href).indexOf(base) !== 0 || !go(getPathFromBase(el.href), el.title || doc.title))
            return;
        }
        e.preventDefault();
      }
      function go(path, title, shouldReplace) {
        if (hist) {
          path = base + normalize(path);
          title = title || doc.title;
          shouldReplace ? hist.replaceState(null, title, path) : hist.pushState(null, title, path);
          doc.title = title;
          routeFound = false;
          emit();
          return routeFound;
        }
        return central[TRIGGER]('emit', getPathFromBase(path));
      }
      prot.m = function(first, second, third) {
        if (isString(first) && (!second || isString(second)))
          go(first, second, third || false);
        else if (second)
          this.r(first, second);
        else
          this.r('@', first);
      };
      prot.s = function() {
        this.off('*');
        this.$ = [];
      };
      prot.e = function(path) {
        this.$.concat('@').some(function(filter) {
          var args = (filter == '@' ? parser : secondParser)(normalize(path), normalize(filter));
          if (typeof args != 'undefined') {
            this[TRIGGER].apply(null, [filter].concat(args));
            return routeFound = true;
          }
        }, this);
      };
      prot.r = function(filter, action) {
        if (filter != '@') {
          filter = '/' + normalize(filter);
          this.$.push(filter);
        }
        this.on(filter, action);
      };
      var mainRouter = new Router();
      var route = mainRouter.m.bind(mainRouter);
      route.create = function() {
        var newSubRouter = new Router();
        var router = newSubRouter.m.bind(newSubRouter);
        router.stop = newSubRouter.s.bind(newSubRouter);
        return router;
      };
      route.base = function(arg) {
        base = arg || '#';
        current = getPathFromBase();
      };
      route.exec = function() {
        emit(true);
      };
      route.parser = function(fn, fn2) {
        if (!fn && !fn2) {
          parser = DEFAULT_PARSER;
          secondParser = DEFAULT_SECOND_PARSER;
        }
        if (fn)
          parser = fn;
        if (fn2)
          secondParser = fn2;
      };
      route.query = function() {
        var q = {};
        var href = loc.href || current;
        href[REPLACE](/[?&](.+?)=([^&]*)/g, function(_, k, v) {
          q[k] = v;
        });
        return q;
      };
      route.stop = function() {
        if (started) {
          if (win) {
            win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit);
            win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit);
            doc[REMOVE_EVENT_LISTENER](clickEvent, click);
          }
          central[TRIGGER]('stop');
          started = false;
        }
      };
      route.start = function(autoExec) {
        if (!started) {
          if (win) {
            if (document.readyState == 'complete')
              start(autoExec);
            else
              win[ADD_EVENT_LISTENER]('load', function() {
                setTimeout(function() {
                  start(autoExec);
                }, 1);
              });
          }
          started = true;
        }
      };
      route.base();
      route.parser();
      riot.route = route;
    })(riot);
    var brackets = (function(UNDEF) {
      var REGLOB = 'g',
          R_MLCOMMS = /\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,
          R_STRINGS = /"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,
          S_QBLOCKS = R_STRINGS.source + '|' + /(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source + '|' + /\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,
          FINDBRACES = {
            '(': RegExp('([()])|' + S_QBLOCKS, REGLOB),
            '[': RegExp('([[\\]])|' + S_QBLOCKS, REGLOB),
            '{': RegExp('([{}])|' + S_QBLOCKS, REGLOB)
          },
          DEFAULT = '{ }';
      var _pairs = ['{', '}', '{', '}', /{[^}]*}/, /\\([{}])/g, /\\({)|{/g, RegExp('\\\\(})|([[({])|(})|' + S_QBLOCKS, REGLOB), DEFAULT, /^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/, /(^|[^\\]){=[\S\s]*?}/];
      var cachedBrackets = UNDEF,
          _regex,
          _cache = [],
          _settings;
      function _loopback(re) {
        return re;
      }
      function _rewrite(re, bp) {
        if (!bp)
          bp = _cache;
        return new RegExp(re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : '');
      }
      function _create(pair) {
        if (pair === DEFAULT)
          return _pairs;
        var arr = pair.split(' ');
        if (arr.length !== 2 || /[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(pair)) {
          throw new Error('Unsupported brackets "' + pair + '"');
        }
        arr = arr.concat(pair.replace(/(?=[[\]()*+?.^$|])/g, '\\').split(' '));
        arr[4] = _rewrite(arr[1].length > 1 ? /{[\S\s]*?}/ : _pairs[4], arr);
        arr[5] = _rewrite(pair.length > 3 ? /\\({|})/g : _pairs[5], arr);
        arr[6] = _rewrite(_pairs[6], arr);
        arr[7] = RegExp('\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCKS, REGLOB);
        arr[8] = pair;
        return arr;
      }
      function _brackets(reOrIdx) {
        return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx];
      }
      _brackets.split = function split(str, tmpl, _bp) {
        if (!_bp)
          _bp = _cache;
        var parts = [],
            match,
            isexpr,
            start,
            pos,
            re = _bp[6];
        isexpr = start = re.lastIndex = 0;
        while ((match = re.exec(str))) {
          pos = match.index;
          if (isexpr) {
            if (match[2]) {
              re.lastIndex = skipBraces(str, match[2], re.lastIndex);
              continue;
            }
            if (!match[3]) {
              continue;
            }
          }
          if (!match[1]) {
            unescapeStr(str.slice(start, pos));
            start = re.lastIndex;
            re = _bp[6 + (isexpr ^= 1)];
            re.lastIndex = start;
          }
        }
        if (str && start < str.length) {
          unescapeStr(str.slice(start));
        }
        return parts;
        function unescapeStr(s) {
          if (tmpl || isexpr) {
            parts.push(s && s.replace(_bp[5], '$1'));
          } else {
            parts.push(s);
          }
        }
        function skipBraces(s, ch, ix) {
          var match,
              recch = FINDBRACES[ch];
          recch.lastIndex = ix;
          ix = 1;
          while ((match = recch.exec(s))) {
            if (match[1] && !(match[1] === ch ? ++ix : --ix))
              break;
          }
          return ix ? s.length : recch.lastIndex;
        }
      };
      _brackets.hasExpr = function hasExpr(str) {
        return _cache[4].test(str);
      };
      _brackets.loopKeys = function loopKeys(expr) {
        var m = expr.match(_cache[9]);
        return m ? {
          key: m[1],
          pos: m[2],
          val: _cache[0] + m[3].trim() + _cache[1]
        } : {val: expr.trim()};
      };
      _brackets.array = function array(pair) {
        return pair ? _create(pair) : _cache;
      };
      function _reset(pair) {
        if ((pair || (pair = DEFAULT)) !== _cache[8]) {
          _cache = _create(pair);
          _regex = pair === DEFAULT ? _loopback : _rewrite;
          _cache[9] = _regex(_pairs[9]);
        }
        cachedBrackets = pair;
      }
      function _setSettings(o) {
        var b;
        o = o || {};
        b = o.brackets;
        Object.defineProperty(o, 'brackets', {
          set: _reset,
          get: function() {
            return cachedBrackets;
          },
          enumerable: true
        });
        _settings = o;
        _reset(b);
      }
      Object.defineProperty(_brackets, 'settings', {
        set: _setSettings,
        get: function() {
          return _settings;
        }
      });
      _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};
      _brackets.set = _reset;
      _brackets.R_STRINGS = R_STRINGS;
      _brackets.R_MLCOMMS = R_MLCOMMS;
      _brackets.S_QBLOCKS = S_QBLOCKS;
      return _brackets;
    })();
    var tmpl = (function() {
      var _cache = {};
      function _tmpl(str, data) {
        if (!str)
          return str;
        return (_cache[str] || (_cache[str] = _create(str))).call(data, _logErr);
      }
      _tmpl.haveRaw = brackets.hasRaw;
      _tmpl.hasExpr = brackets.hasExpr;
      _tmpl.loopKeys = brackets.loopKeys;
      _tmpl.errorHandler = null;
      function _logErr(err, ctx) {
        if (_tmpl.errorHandler) {
          err.riotData = {
            tagName: ctx && ctx.root && ctx.root.tagName,
            _riot_id: ctx && ctx._riot_id
          };
          _tmpl.errorHandler(err);
        }
      }
      function _create(str) {
        var expr = _getTmpl(str);
        if (expr.slice(0, 11) !== 'try{return ')
          expr = 'return ' + expr;
        return new Function('E', expr + ';');
      }
      var CH_IDEXPR = '\u2057',
          RE_CSNAME = /^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,
          RE_QBLOCK = RegExp(brackets.S_QBLOCKS, 'g'),
          RE_DQUOTE = /\u2057/g,
          RE_QBMARK = /\u2057(\d+)~/g;
      function _getTmpl(str) {
        var qstr = [],
            expr,
            parts = brackets.split(str.replace(RE_DQUOTE, '"'), 1);
        if (parts.length > 2 || parts[0]) {
          var i,
              j,
              list = [];
          for (i = j = 0; i < parts.length; ++i) {
            expr = parts[i];
            if (expr && (expr = i & 1 ? _parseExpr(expr, 1, qstr) : '"' + expr.replace(/\\/g, '\\\\').replace(/\r\n?|\n/g, '\\n').replace(/"/g, '\\"') + '"'))
              list[j++] = expr;
          }
          expr = j < 2 ? list[0] : '[' + list.join(',') + '].join("")';
        } else {
          expr = _parseExpr(parts[1], 0, qstr);
        }
        if (qstr[0]) {
          expr = expr.replace(RE_QBMARK, function(_, pos) {
            return qstr[pos].replace(/\r/g, '\\r').replace(/\n/g, '\\n');
          });
        }
        return expr;
      }
      var RE_BREND = {
        '(': /[()]/g,
        '[': /[[\]]/g,
        '{': /[{}]/g
      };
      function _parseExpr(expr, asText, qstr) {
        expr = expr.replace(RE_QBLOCK, function(s, div) {
          return s.length > 2 && !div ? CH_IDEXPR + (qstr.push(s) - 1) + '~' : s;
        }).replace(/\s+/g, ' ').trim().replace(/\ ?([[\({},?\.:])\ ?/g, '$1');
        if (expr) {
          var list = [],
              cnt = 0,
              match;
          while (expr && (match = expr.match(RE_CSNAME)) && !match.index) {
            var key,
                jsb,
                re = /,|([[{(])|$/g;
            expr = RegExp.rightContext;
            key = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\s+/g, ' ') : match[1];
            while (jsb = (match = re.exec(expr))[1])
              skipBraces(jsb, re);
            jsb = expr.slice(0, match.index);
            expr = RegExp.rightContext;
            list[cnt++] = _wrapExpr(jsb, 1, key);
          }
          expr = !cnt ? _wrapExpr(expr, asText) : cnt > 1 ? '[' + list.join(',') + '].join(" ").trim()' : list[0];
        }
        return expr;
        function skipBraces(ch, re) {
          var mm,
              lv = 1,
              ir = RE_BREND[ch];
          ir.lastIndex = re.lastIndex;
          while (mm = ir.exec(expr)) {
            if (mm[0] === ch)
              ++lv;
            else if (!--lv)
              break;
          }
          re.lastIndex = lv ? expr.length : ir.lastIndex;
        }
      }
      var JS_CONTEXT = '"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',
          JS_VARNAME = /[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,
          JS_NOPROPS = /^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;
      function _wrapExpr(expr, asText, key) {
        var tb;
        expr = expr.replace(JS_VARNAME, function(match, p, mvar, pos, s) {
          if (mvar) {
            pos = tb ? 0 : pos + match.length;
            if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {
              match = p + '("' + mvar + JS_CONTEXT + mvar;
              if (pos)
                tb = (s = s[pos]) === '.' || s === '(' || s === '[';
            } else if (pos) {
              tb = !JS_NOPROPS.test(s.slice(pos));
            }
          }
          return match;
        });
        if (tb) {
          expr = 'try{return ' + expr + '}catch(e){E(e,this)}';
        }
        if (key) {
          expr = (tb ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')') + '?"' + key + '":""';
        } else if (asText) {
          expr = 'function(v){' + (tb ? expr.replace('return ', 'v=') : 'v=(' + expr + ')') + ';return v||v===0?v:""}.call(this)';
        }
        return expr;
      }
      _tmpl.parse = function(s) {
        return s;
      };
      _tmpl.version = brackets.version = 'v2.4.0';
      return _tmpl;
    })();
    var mkdom = (function _mkdom() {
      var reHasYield = /<yield\b/i,
          reYieldAll = /<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,
          reYieldSrc = /<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,
          reYieldDest = /<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig;
      var rootEls = {
        tr: 'tbody',
        th: 'tr',
        td: 'tr',
        col: 'colgroup'
      },
          tblTags = IE_VERSION && IE_VERSION < 10 ? SPECIAL_TAGS_REGEX : /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;
      function _mkdom(templ, html) {
        var match = templ && templ.match(/^\s*<([-\w]+)/),
            tagName = match && match[1].toLowerCase(),
            el = mkEl('div', isSVGTag(tagName));
        templ = replaceYield(templ, html);
        if (tblTags.test(tagName))
          el = specialTags(el, templ, tagName);
        else
          setInnerHTML(el, templ);
        el.stub = true;
        return el;
      }
      function specialTags(el, templ, tagName) {
        var select = tagName[0] === 'o',
            parent = select ? 'select>' : 'table>';
        el.innerHTML = '<' + parent + templ.trim() + '</' + parent;
        parent = el.firstChild;
        if (select) {
          parent.selectedIndex = -1;
        } else {
          var tname = rootEls[tagName];
          if (tname && parent.childElementCount === 1)
            parent = $(tname, parent);
        }
        return parent;
      }
      function replaceYield(templ, html) {
        if (!reHasYield.test(templ))
          return templ;
        var src = {};
        html = html && html.replace(reYieldSrc, function(_, ref, text) {
          src[ref] = src[ref] || text;
          return '';
        }).trim();
        return templ.replace(reYieldDest, function(_, ref, def) {
          return src[ref] || def || '';
        }).replace(reYieldAll, function(_, def) {
          return html || def || '';
        });
      }
      return _mkdom;
    })();
    function mkitem(expr, key, val) {
      var item = {};
      item[expr.key] = key;
      if (expr.pos)
        item[expr.pos] = val;
      return item;
    }
    function unmountRedundant(items, tags) {
      var i = tags.length,
          j = items.length,
          t;
      while (i > j) {
        t = tags[--i];
        tags.splice(i, 1);
        t.unmount();
      }
    }
    function moveNestedTags(child, i) {
      Object.keys(child.tags).forEach(function(tagName) {
        var tag = child.tags[tagName];
        if (isArray(tag))
          each(tag, function(t) {
            moveChildTag(t, tagName, i);
          });
        else
          moveChildTag(tag, tagName, i);
      });
    }
    function addVirtual(tag, src, target) {
      var el = tag._root,
          sib;
      tag._virts = [];
      while (el) {
        sib = el.nextSibling;
        if (target)
          src.insertBefore(el, target._root);
        else
          src.appendChild(el);
        tag._virts.push(el);
        el = sib;
      }
    }
    function moveVirtual(tag, src, target, len) {
      var el = tag._root,
          sib,
          i = 0;
      for (; i < len; i++) {
        sib = el.nextSibling;
        src.insertBefore(el, target._root);
        el = sib;
      }
    }
    function _each(dom, parent, expr) {
      remAttr(dom, 'each');
      var mustReorder = typeof getAttr(dom, 'no-reorder') !== T_STRING || remAttr(dom, 'no-reorder'),
          tagName = getTagName(dom),
          impl = __tagImpl[tagName] || {tmpl: getOuterHTML(dom)},
          useRoot = SPECIAL_TAGS_REGEX.test(tagName),
          root = dom.parentNode,
          ref = document.createTextNode(''),
          child = getTag(dom),
          isOption = tagName.toLowerCase() === 'option',
          tags = [],
          oldItems = [],
          hasKeys,
          isVirtual = dom.tagName == 'VIRTUAL';
      expr = tmpl.loopKeys(expr);
      root.insertBefore(ref, dom);
      parent.one('before-mount', function() {
        dom.parentNode.removeChild(dom);
        if (root.stub)
          root = parent.root;
      }).on('update', function() {
        var items = tmpl(expr.val, parent),
            frag = document.createDocumentFragment();
        if (!isArray(items)) {
          hasKeys = items || false;
          items = hasKeys ? Object.keys(items).map(function(key) {
            return mkitem(expr, key, items[key]);
          }) : [];
        }
        var i = 0,
            itemsLength = items.length;
        for (; i < itemsLength; i++) {
          var item = items[i],
              _mustReorder = mustReorder && typeof item == T_OBJECT && !hasKeys,
              oldPos = oldItems.indexOf(item),
              pos = ~oldPos && _mustReorder ? oldPos : i,
              tag = tags[pos];
          item = !hasKeys && expr.key ? mkitem(expr, item, i) : item;
          if (!_mustReorder && !tag || _mustReorder && !~oldPos || !tag) {
            tag = new Tag(impl, {
              parent: parent,
              isLoop: true,
              hasImpl: !!__tagImpl[tagName],
              root: useRoot ? root : dom.cloneNode(),
              item: item
            }, dom.innerHTML);
            tag.mount();
            if (isVirtual)
              tag._root = tag.root.firstChild;
            if (i == tags.length || !tags[i]) {
              if (isVirtual)
                addVirtual(tag, frag);
              else
                frag.appendChild(tag.root);
            } else {
              if (isVirtual)
                addVirtual(tag, root, tags[i]);
              else
                root.insertBefore(tag.root, tags[i].root);
              oldItems.splice(i, 0, item);
            }
            tags.splice(i, 0, tag);
            pos = i;
          } else
            tag.update(item, true);
          if (pos !== i && _mustReorder && tags[i]) {
            if (isVirtual)
              moveVirtual(tag, root, tags[i], dom.childNodes.length);
            else
              root.insertBefore(tag.root, tags[i].root);
            if (expr.pos)
              tag[expr.pos] = i;
            tags.splice(i, 0, tags.splice(pos, 1)[0]);
            oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);
            if (!child && tag.tags)
              moveNestedTags(tag, i);
          }
          tag._item = item;
          defineProperty(tag, '_parent', parent);
        }
        unmountRedundant(items, tags);
        root.insertBefore(frag, ref);
        if (isOption) {
          if (FIREFOX && !root.multiple) {
            for (var n = 0; n < root.length; n++) {
              if (root[n].__riot1374) {
                root.selectedIndex = n;
                delete root[n].__riot1374;
                break;
              }
            }
          }
        }
        if (child)
          parent.tags[tagName] = tags;
        oldItems = items.slice();
      });
    }
    var styleManager = (function(_riot) {
      if (!window)
        return {
          add: function() {},
          inject: function() {}
        };
      var styleNode = (function() {
        var newNode = mkEl('style');
        setAttr(newNode, 'type', 'text/css');
        var userNode = $('style[type=riot]');
        if (userNode) {
          if (userNode.id)
            newNode.id = userNode.id;
          userNode.parentNode.replaceChild(newNode, userNode);
        } else
          document.getElementsByTagName('head')[0].appendChild(newNode);
        return newNode;
      })();
      var cssTextProp = styleNode.styleSheet,
          stylesToInject = '';
      Object.defineProperty(_riot, 'styleNode', {
        value: styleNode,
        writable: true
      });
      return {
        add: function(css) {
          stylesToInject += css;
        },
        inject: function() {
          if (stylesToInject) {
            if (cssTextProp)
              cssTextProp.cssText += stylesToInject;
            else
              styleNode.innerHTML += stylesToInject;
            stylesToInject = '';
          }
        }
      };
    })(riot);
    function parseNamedElements(root, tag, childTags, forceParsingNamed) {
      walk(root, function(dom) {
        if (dom.nodeType == 1) {
          dom.isLoop = dom.isLoop || (dom.parentNode && dom.parentNode.isLoop || getAttr(dom, 'each')) ? 1 : 0;
          if (childTags) {
            var child = getTag(dom);
            if (child && !dom.isLoop)
              childTags.push(initChildTag(child, {
                root: dom,
                parent: tag
              }, dom.innerHTML, tag));
          }
          if (!dom.isLoop || forceParsingNamed)
            setNamed(dom, tag, []);
        }
      });
    }
    function parseExpressions(root, tag, expressions) {
      function addExpr(dom, val, extra) {
        if (tmpl.hasExpr(val)) {
          expressions.push(extend({
            dom: dom,
            expr: val
          }, extra));
        }
      }
      walk(root, function(dom) {
        var type = dom.nodeType,
            attr;
        if (type == 3 && dom.parentNode.tagName != 'STYLE')
          addExpr(dom, dom.nodeValue);
        if (type != 1)
          return;
        attr = getAttr(dom, 'each');
        if (attr) {
          _each(dom, tag, attr);
          return false;
        }
        each(dom.attributes, function(attr) {
          var name = attr.name,
              bool = name.split('__')[1];
          addExpr(dom, attr.value, {
            attr: bool || name,
            bool: bool
          });
          if (bool) {
            remAttr(dom, name);
            return false;
          }
        });
        if (getTag(dom))
          return false;
      });
    }
    function Tag(impl, conf, innerHTML) {
      var self = riot.observable(this),
          opts = inherit(conf.opts) || {},
          parent = conf.parent,
          isLoop = conf.isLoop,
          hasImpl = conf.hasImpl,
          item = cleanUpData(conf.item),
          expressions = [],
          childTags = [],
          root = conf.root,
          tagName = root.tagName.toLowerCase(),
          attr = {},
          propsInSyncWithParent = [],
          dom;
      if (impl.name && root._tag)
        root._tag.unmount(true);
      this.isMounted = false;
      root.isLoop = isLoop;
      root._tag = this;
      defineProperty(this, '_riot_id', ++__uid);
      extend(this, {
        parent: parent,
        root: root,
        opts: opts
      }, item);
      defineProperty(this, 'tags', {});
      each(root.attributes, function(el) {
        var val = el.value;
        if (tmpl.hasExpr(val))
          attr[el.name] = val;
      });
      dom = mkdom(impl.tmpl, innerHTML);
      function updateOpts() {
        var ctx = hasImpl && isLoop ? self : parent || self;
        each(root.attributes, function(el) {
          var val = el.value;
          opts[toCamel(el.name)] = tmpl.hasExpr(val) ? tmpl(val, ctx) : val;
        });
        each(Object.keys(attr), function(name) {
          opts[toCamel(name)] = tmpl(attr[name], ctx);
        });
      }
      function normalizeData(data) {
        for (var key in item) {
          if (typeof self[key] !== T_UNDEF && isWritable(self, key))
            self[key] = data[key];
        }
      }
      function inheritFromParent() {
        if (!self.parent || !isLoop)
          return;
        each(Object.keys(self.parent), function(k) {
          var mustSync = !RESERVED_WORDS_BLACKLIST.test(k) && contains(propsInSyncWithParent, k);
          if (typeof self[k] === T_UNDEF || mustSync) {
            if (!mustSync)
              propsInSyncWithParent.push(k);
            self[k] = self.parent[k];
          }
        });
      }
      defineProperty(this, 'update', function(data, isInherited) {
        data = cleanUpData(data);
        inheritFromParent();
        if (data && isObject(item)) {
          normalizeData(data);
          item = data;
        }
        extend(self, data);
        updateOpts();
        self.trigger('update', data);
        update(expressions, self);
        if (isInherited && self.parent)
          self.parent.one('updated', function() {
            self.trigger('updated');
          });
        else
          rAF(function() {
            self.trigger('updated');
          });
        return this;
      });
      defineProperty(this, 'mixin', function() {
        each(arguments, function(mix) {
          var instance,
              props = [],
              obj;
          mix = typeof mix === T_STRING ? riot.mixin(mix) : mix;
          if (isFunction(mix)) {
            instance = new mix();
          } else
            instance = mix;
          do
            props = props.concat(Object.getOwnPropertyNames(obj || instance));
 while (obj = Object.getPrototypeOf(obj || instance));
          each(props, function(key) {
            if (key != 'init' && !self[key])
              self[key] = isFunction(instance[key]) ? instance[key].bind(self) : instance[key];
          });
          if (instance.init)
            instance.init.bind(self)();
        });
        return this;
      });
      defineProperty(this, 'mount', function() {
        updateOpts();
        var globalMixin = riot.mixin(GLOBAL_MIXIN);
        if (globalMixin)
          for (var i in globalMixin)
            if (globalMixin.hasOwnProperty(i))
              self.mixin(globalMixin[i]);
        if (impl.fn)
          impl.fn.call(self, opts);
        parseExpressions(dom, self, expressions);
        toggle(true);
        if (impl.attrs)
          walkAttributes(impl.attrs, function(k, v) {
            setAttr(root, k, v);
          });
        if (impl.attrs || hasImpl)
          parseExpressions(self.root, self, expressions);
        if (!self.parent || isLoop)
          self.update(item);
        self.trigger('before-mount');
        if (isLoop && !hasImpl) {
          root = dom.firstChild;
        } else {
          while (dom.firstChild)
            root.appendChild(dom.firstChild);
          if (root.stub)
            root = parent.root;
        }
        defineProperty(self, 'root', root);
        if (isLoop)
          parseNamedElements(self.root, self.parent, null, true);
        if (!self.parent || self.parent.isMounted) {
          self.isMounted = true;
          self.trigger('mount');
        } else
          self.parent.one('mount', function() {
            if (!isInStub(self.root)) {
              self.parent.isMounted = self.isMounted = true;
              self.trigger('mount');
            }
          });
      });
      defineProperty(this, 'unmount', function(keepRootTag) {
        var el = root,
            p = el.parentNode,
            ptag,
            tagIndex = __virtualDom.indexOf(self);
        self.trigger('before-unmount');
        if (~tagIndex)
          __virtualDom.splice(tagIndex, 1);
        if (p) {
          if (parent) {
            ptag = getImmediateCustomParentTag(parent);
            if (isArray(ptag.tags[tagName]))
              each(ptag.tags[tagName], function(tag, i) {
                if (tag._riot_id == self._riot_id)
                  ptag.tags[tagName].splice(i, 1);
              });
            else
              ptag.tags[tagName] = undefined;
          } else
            while (el.firstChild)
              el.removeChild(el.firstChild);
          if (!keepRootTag)
            p.removeChild(el);
          else {
            remAttr(p, RIOT_TAG_IS);
            remAttr(p, RIOT_TAG);
          }
        }
        if (this._virts) {
          each(this._virts, function(v) {
            if (v.parentNode)
              v.parentNode.removeChild(v);
          });
        }
        self.trigger('unmount');
        toggle();
        self.off('*');
        self.isMounted = false;
        delete root._tag;
      });
      function onChildUpdate(data) {
        self.update(data, true);
      }
      function toggle(isMount) {
        each(childTags, function(child) {
          child[isMount ? 'mount' : 'unmount']();
        });
        if (!parent)
          return;
        var evt = isMount ? 'on' : 'off';
        if (isLoop)
          parent[evt]('unmount', self.unmount);
        else {
          parent[evt]('update', onChildUpdate)[evt]('unmount', self.unmount);
        }
      }
      parseNamedElements(dom, this, childTags);
    }
    function setEventHandler(name, handler, dom, tag) {
      dom[name] = function(e) {
        var ptag = tag._parent,
            item = tag._item,
            el;
        if (!item)
          while (ptag && !item) {
            item = ptag._item;
            ptag = ptag._parent;
          }
        e = e || window.event;
        if (isWritable(e, 'currentTarget'))
          e.currentTarget = dom;
        if (isWritable(e, 'target'))
          e.target = e.srcElement;
        if (isWritable(e, 'which'))
          e.which = e.charCode || e.keyCode;
        e.item = item;
        if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {
          if (e.preventDefault)
            e.preventDefault();
          e.returnValue = false;
        }
        if (!e.preventUpdate) {
          el = item ? getImmediateCustomParentTag(ptag) : tag;
          el.update();
        }
      };
    }
    function insertTo(root, node, before) {
      if (!root)
        return;
      root.insertBefore(before, node);
      root.removeChild(node);
    }
    function update(expressions, tag) {
      each(expressions, function(expr, i) {
        var dom = expr.dom,
            attrName = expr.attr,
            value = tmpl(expr.expr, tag),
            parent = expr.dom.parentNode;
        if (expr.bool) {
          value = !!value;
        } else if (value == null) {
          value = '';
        }
        if (expr.value === value) {
          return;
        }
        expr.value = value;
        if (!attrName) {
          value += '';
          if (parent) {
            if (parent.tagName === 'TEXTAREA') {
              parent.value = value;
              if (!IE_VERSION)
                dom.nodeValue = value;
            } else
              dom.nodeValue = value;
          }
          return;
        }
        if (attrName === 'value') {
          dom.value = value;
          return;
        }
        remAttr(dom, attrName);
        if (isFunction(value)) {
          setEventHandler(attrName, value, dom, tag);
        } else if (attrName == 'if') {
          var stub = expr.stub,
              add = function() {
                insertTo(stub.parentNode, stub, dom);
              },
              remove = function() {
                insertTo(dom.parentNode, dom, stub);
              };
          if (value) {
            if (stub) {
              add();
              dom.inStub = false;
              if (!isInStub(dom)) {
                walk(dom, function(el) {
                  if (el._tag && !el._tag.isMounted)
                    el._tag.isMounted = !!el._tag.trigger('mount');
                });
              }
            }
          } else {
            stub = expr.stub = stub || document.createTextNode('');
            if (dom.parentNode)
              remove();
            else
              (tag.parent || tag).one('updated', remove);
            dom.inStub = true;
          }
        } else if (attrName === 'show') {
          dom.style.display = value ? '' : 'none';
        } else if (attrName === 'hide') {
          dom.style.display = value ? 'none' : '';
        } else if (expr.bool) {
          dom[attrName] = value;
          if (value)
            setAttr(dom, attrName, attrName);
          if (FIREFOX && attrName === 'selected' && dom.tagName === 'OPTION') {
            dom.__riot1374 = value;
          }
        } else if (value === 0 || value && typeof value !== T_OBJECT) {
          if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {
            attrName = attrName.slice(RIOT_PREFIX.length);
          }
          setAttr(dom, attrName, value);
        }
      });
    }
    function each(els, fn) {
      var len = els ? els.length : 0;
      for (var i = 0,
          el; i < len; i++) {
        el = els[i];
        if (el != null && fn(el, i) === false)
          i--;
      }
      return els;
    }
    function isFunction(v) {
      return typeof v === T_FUNCTION || false;
    }
    function getOuterHTML(el) {
      if (el.outerHTML)
        return el.outerHTML;
      else {
        var container = mkEl('div');
        container.appendChild(el.cloneNode(true));
        return container.innerHTML;
      }
    }
    function setInnerHTML(container, html) {
      if (typeof container.innerHTML != T_UNDEF)
        container.innerHTML = html;
      else {
        var doc = new DOMParser().parseFromString(html, 'application/xml');
        container.appendChild(container.ownerDocument.importNode(doc.documentElement, true));
      }
    }
    function isSVGTag(name) {
      return ~SVG_TAGS_LIST.indexOf(name);
    }
    function isObject(v) {
      return v && typeof v === T_OBJECT;
    }
    function remAttr(dom, name) {
      dom.removeAttribute(name);
    }
    function toCamel(string) {
      return string.replace(/-(\w)/g, function(_, c) {
        return c.toUpperCase();
      });
    }
    function getAttr(dom, name) {
      return dom.getAttribute(name);
    }
    function setAttr(dom, name, val) {
      dom.setAttribute(name, val);
    }
    function getTag(dom) {
      return dom.tagName && __tagImpl[getAttr(dom, RIOT_TAG_IS) || getAttr(dom, RIOT_TAG) || dom.tagName.toLowerCase()];
    }
    function addChildTag(tag, tagName, parent) {
      var cachedTag = parent.tags[tagName];
      if (cachedTag) {
        if (!isArray(cachedTag))
          if (cachedTag !== tag)
            parent.tags[tagName] = [cachedTag];
        if (!contains(parent.tags[tagName], tag))
          parent.tags[tagName].push(tag);
      } else {
        parent.tags[tagName] = tag;
      }
    }
    function moveChildTag(tag, tagName, newPos) {
      var parent = tag.parent,
          tags;
      if (!parent)
        return;
      tags = parent.tags[tagName];
      if (isArray(tags))
        tags.splice(newPos, 0, tags.splice(tags.indexOf(tag), 1)[0]);
      else
        addChildTag(tag, tagName, parent);
    }
    function initChildTag(child, opts, innerHTML, parent) {
      var tag = new Tag(child, opts, innerHTML),
          tagName = getTagName(opts.root),
          ptag = getImmediateCustomParentTag(parent);
      tag.parent = ptag;
      tag._parent = parent;
      addChildTag(tag, tagName, ptag);
      if (ptag !== parent)
        addChildTag(tag, tagName, parent);
      opts.root.innerHTML = '';
      return tag;
    }
    function getImmediateCustomParentTag(tag) {
      var ptag = tag;
      while (!getTag(ptag.root)) {
        if (!ptag.parent)
          break;
        ptag = ptag.parent;
      }
      return ptag;
    }
    function defineProperty(el, key, value, options) {
      Object.defineProperty(el, key, extend({
        value: value,
        enumerable: false,
        writable: false,
        configurable: true
      }, options));
      return el;
    }
    function getTagName(dom) {
      var child = getTag(dom),
          namedTag = getAttr(dom, 'name'),
          tagName = namedTag && !tmpl.hasExpr(namedTag) ? namedTag : child ? child.name : dom.tagName.toLowerCase();
      return tagName;
    }
    function extend(src) {
      var obj,
          args = arguments;
      for (var i = 1; i < args.length; ++i) {
        if (obj = args[i]) {
          for (var key in obj) {
            if (isWritable(src, key))
              src[key] = obj[key];
          }
        }
      }
      return src;
    }
    function contains(arr, item) {
      return ~arr.indexOf(item);
    }
    function isArray(a) {
      return Array.isArray(a) || a instanceof Array;
    }
    function isWritable(obj, key) {
      var props = Object.getOwnPropertyDescriptor(obj, key);
      return typeof obj[key] === T_UNDEF || props && props.writable;
    }
    function cleanUpData(data) {
      if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION))
        return data;
      var o = {};
      for (var key in data) {
        if (!RESERVED_WORDS_BLACKLIST.test(key))
          o[key] = data[key];
      }
      return o;
    }
    function walk(dom, fn) {
      if (dom) {
        if (fn(dom) === false)
          return;
        else {
          dom = dom.firstChild;
          while (dom) {
            walk(dom, fn);
            dom = dom.nextSibling;
          }
        }
      }
    }
    function walkAttributes(html, fn) {
      var m,
          re = /([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;
      while (m = re.exec(html)) {
        fn(m[1].toLowerCase(), m[2] || m[3] || m[4]);
      }
    }
    function isInStub(dom) {
      while (dom) {
        if (dom.inStub)
          return true;
        dom = dom.parentNode;
      }
      return false;
    }
    function mkEl(name, isSvg) {
      return isSvg ? document.createElementNS('http://www.w3.org/2000/svg', 'svg') : document.createElement(name);
    }
    function $$(selector, ctx) {
      return (ctx || document).querySelectorAll(selector);
    }
    function $(selector, ctx) {
      return (ctx || document).querySelector(selector);
    }
    function inherit(parent) {
      function Child() {}
      Child.prototype = parent;
      return new Child();
    }
    function getNamedKey(dom) {
      return getAttr(dom, 'id') || getAttr(dom, 'name');
    }
    function setNamed(dom, parent, keys) {
      var key = getNamedKey(dom),
          isArr,
          add = function(value) {
            if (contains(keys, key))
              return;
            isArr = isArray(value);
            if (!value)
              parent[key] = dom;
            else if (!isArr || isArr && !contains(value, dom)) {
              if (isArr)
                value.push(dom);
              else
                parent[key] = [value, dom];
            }
          };
      if (!key)
        return;
      if (tmpl.hasExpr(key))
        parent.one('mount', function() {
          key = getNamedKey(dom);
          add(parent[key]);
        });
      else
        add(parent[key]);
    }
    function startsWith(src, str) {
      return src.slice(0, str.length) === str;
    }
    var rAF = (function(w) {
      var raf = w.requestAnimationFrame || w.mozRequestAnimationFrame || w.webkitRequestAnimationFrame;
      if (!raf || /iP(ad|hone|od).*OS 6/.test(w.navigator.userAgent)) {
        var lastTime = 0;
        raf = function(cb) {
          var nowtime = Date.now(),
              timeout = Math.max(16 - (nowtime - lastTime), 0);
          setTimeout(function() {
            cb(lastTime = nowtime + timeout);
          }, timeout);
        };
      }
      return raf;
    })(window || {});
    function mountTo(root, tagName, opts) {
      var tag = __tagImpl[tagName],
          innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;
      root.innerHTML = '';
      if (tag && root)
        tag = new Tag(tag, {
          root: root,
          opts: opts
        }, innerHTML);
      if (tag && tag.mount) {
        tag.mount();
        if (!contains(__virtualDom, tag))
          __virtualDom.push(tag);
      }
      return tag;
    }
    riot.util = {
      brackets: brackets,
      tmpl: tmpl
    };
    riot.mixin = (function() {
      var mixins = {},
          globals = mixins[GLOBAL_MIXIN] = {},
          _id = 0;
      return function(name, mixin, g) {
        if (isObject(name)) {
          riot.mixin('__unnamed_' + _id++, name, true);
          return;
        }
        var store = g ? globals : mixins;
        if (!mixin) {
          if (typeof store[name] === T_UNDEF) {
            throw new Error('Unregistered mixin: ' + name);
          }
          return store[name];
        }
        if (isFunction(mixin)) {
          extend(mixin.prototype, store[name] || {});
          store[name] = mixin;
        } else {
          store[name] = extend(store[name] || {}, mixin);
        }
      };
    })();
    riot.tag = function(name, html, css, attrs, fn) {
      if (isFunction(attrs)) {
        fn = attrs;
        if (/^[\w\-]+\s?=/.test(css)) {
          attrs = css;
          css = '';
        } else
          attrs = '';
      }
      if (css) {
        if (isFunction(css))
          fn = css;
        else
          styleManager.add(css);
      }
      name = name.toLowerCase();
      __tagImpl[name] = {
        name: name,
        tmpl: html,
        attrs: attrs,
        fn: fn
      };
      return name;
    };
    riot.tag2 = function(name, html, css, attrs, fn) {
      if (css)
        styleManager.add(css);
      __tagImpl[name] = {
        name: name,
        tmpl: html,
        attrs: attrs,
        fn: fn
      };
      return name;
    };
    riot.mount = function(selector, tagName, opts) {
      var els,
          allTags,
          tags = [];
      function addRiotTags(arr) {
        var list = '';
        each(arr, function(e) {
          if (!/[^-\w]/.test(e)) {
            e = e.trim().toLowerCase();
            list += ',[' + RIOT_TAG_IS + '="' + e + '"],[' + RIOT_TAG + '="' + e + '"]';
          }
        });
        return list;
      }
      function selectAllTags() {
        var keys = Object.keys(__tagImpl);
        return keys + addRiotTags(keys);
      }
      function pushTags(root) {
        if (root.tagName) {
          var riotTag = getAttr(root, RIOT_TAG_IS) || getAttr(root, RIOT_TAG);
          if (tagName && riotTag !== tagName) {
            riotTag = tagName;
            setAttr(root, RIOT_TAG_IS, tagName);
            setAttr(root, RIOT_TAG, tagName);
          }
          var tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);
          if (tag)
            tags.push(tag);
        } else if (root.length) {
          each(root, pushTags);
        }
      }
      styleManager.inject();
      if (isObject(tagName)) {
        opts = tagName;
        tagName = 0;
      }
      if (typeof selector === T_STRING) {
        if (selector === '*')
          selector = allTags = selectAllTags();
        else
          selector += addRiotTags(selector.split(/, */));
        els = selector ? $$(selector) : [];
      } else
        els = selector;
      if (tagName === '*') {
        tagName = allTags || selectAllTags();
        if (els.tagName)
          els = $$(tagName, els);
        else {
          var nodeList = [];
          each(els, function(_el) {
            nodeList.push($$(tagName, _el));
          });
          els = nodeList;
        }
        tagName = 0;
      }
      pushTags(els);
      return tags;
    };
    riot.update = function() {
      return each(__virtualDom, function(tag) {
        tag.update();
      });
    };
    riot.vdom = __virtualDom;
    riot.Tag = Tag;
    function safeRegex(re) {
      var src = re.source;
      var opt = re.global ? 'g' : '';
      if (re.ignoreCase)
        opt += 'i';
      if (re.multiline)
        opt += 'm';
      for (var i = 1; i < arguments.length; i++) {
        src = src.replace('@', '\\' + arguments[i]);
      }
      return new RegExp(src, opt);
    }
    var parsers = (function(win) {
      var _p = {};
      function _r(name) {
        var parser = win[name];
        if (parser)
          return parser;
        throw new Error('Parser "' + name + '" not loaded.');
      }
      function _req(name) {
        var parts = name.split('.');
        if (parts.length !== 2)
          throw new Error('Bad format for parsers._req');
        var parser = _p[parts[0]][parts[1]];
        if (parser)
          return parser;
        throw new Error('Parser "' + name + '" not found.');
      }
      function extend(obj, props) {
        if (props) {
          for (var prop in props) {
            if (props.hasOwnProperty(prop)) {
              obj[prop] = props[prop];
            }
          }
        }
        return obj;
      }
      function renderPug(compilerName, html, opts, url) {
        opts = extend({
          pretty: true,
          filename: url,
          doctype: 'html'
        }, opts);
        return _r(compilerName).render(html, opts);
      }
      _p.html = {
        jade: function(html, opts, url) {
          console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!');
          return renderPug('jade', html, opts, url);
        },
        pug: function(html, opts, url) {
          return renderPug('pug', html, opts, url);
        }
      };
      _p.css = {less: function(tag, css, opts, url) {
          var ret;
          opts = extend({
            sync: true,
            syncImport: true,
            filename: url
          }, opts);
          _r('less').render(css, opts, function(err, result) {
            if (err)
              throw err;
            ret = result.css;
          });
          return ret;
        }};
      _p.js = {
        es6: function(js, opts) {
          opts = extend({
            blacklist: ['useStrict', 'strict', 'react'],
            sourceMaps: false,
            comments: false
          }, opts);
          return _r('babel').transform(js, opts).code;
        },
        babel: function(js, opts, url) {
          return _r('babel').transform(js, extend({filename: url}, opts)).code;
        },
        coffee: function(js, opts) {
          return _r('CoffeeScript').compile(js, extend({bare: true}, opts));
        },
        livescript: function(js, opts) {
          return _r('livescript').compile(js, extend({
            bare: true,
            header: false
          }, opts));
        },
        typescript: function(js, opts) {
          return _r('typescript')(js, opts);
        },
        none: function(js) {
          return js;
        }
      };
      _p.js.javascript = _p.js.none;
      _p.js.coffeescript = _p.js.coffee;
      _p._req = _req;
      _p.utils = {extend: extend};
      return _p;
    })(window || global);
    riot.parsers = parsers;
    var compile = (function() {
      var extend = parsers.utils.extend;
      var S_LINESTR = /"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source;
      var S_STRINGS = brackets.R_STRINGS.source;
      var HTML_ATTRS = / *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g;
      var HTML_COMMS = RegExp(/<!--(?!>)[\S\s]*?-->/.source + '|' + S_LINESTR, 'g');
      var HTML_TAGS = /<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g;
      var HTML_PACK = />[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g;
      var BOOL_ATTRS = RegExp('^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|' + 'compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|' + 'multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|' + 'selected|sortable|truespeed|typemustmatch)$');
      var RIOT_ATTRS = ['style', 'src', 'd'];
      var VOID_TAGS = /^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/;
      var PRE_TAGS = /<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi;
      var SPEC_TYPES = /^"(?:number|date(?:time)?|time|month|email|color)\b/i;
      var IMPORT_STATEMENT = /^(?: )*(?:import)(?:(?:.*))*$/gm;
      var TRIM_TRAIL = /[ \t]+$/gm;
      var RE_HASEXPR = safeRegex(/@#\d/, 'x01'),
          RE_REPEXPR = safeRegex(/@#(\d+)/g, 'x01'),
          CH_IDEXPR = '\x01#',
          CH_DQCODE = '\u2057',
          DQ = '"',
          SQ = "'";
      function cleanSource(src) {
        var mm,
            re = HTML_COMMS;
        if (~src.indexOf('\r')) {
          src = src.replace(/\r\n?/g, '\n');
        }
        re.lastIndex = 0;
        while ((mm = re.exec(src))) {
          if (mm[0][0] === '<') {
            src = RegExp.leftContext + RegExp.rightContext;
            re.lastIndex = mm[3] + 1;
          }
        }
        return src;
      }
      function parseAttribs(str, pcex) {
        var list = [],
            match,
            type,
            vexp;
        HTML_ATTRS.lastIndex = 0;
        str = str.replace(/\s+/g, ' ');
        while ((match = HTML_ATTRS.exec(str))) {
          var k = match[1].toLowerCase(),
              v = match[2];
          if (!v) {
            list.push(k);
          } else {
            if (v[0] !== DQ) {
              v = DQ + (v[0] === SQ ? v.slice(1, -1) : v) + DQ;
            }
            if (k === 'type' && SPEC_TYPES.test(v)) {
              type = v;
            } else {
              if (RE_HASEXPR.test(v)) {
                if (k === 'value')
                  vexp = 1;
                else if (BOOL_ATTRS.test(k))
                  k = '__' + k;
                else if (~RIOT_ATTRS.indexOf(k))
                  k = 'riot-' + k;
              }
              list.push(k + '=' + v);
            }
          }
        }
        if (type) {
          if (vexp)
            type = DQ + pcex._bp[0] + SQ + type.slice(1, -1) + SQ + pcex._bp[1] + DQ;
          list.push('type=' + type);
        }
        return list.join(' ');
      }
      function splitHtml(html, opts, pcex) {
        var _bp = pcex._bp;
        if (html && _bp[4].test(html)) {
          var jsfn = opts.expr && (opts.parser || opts.type) ? _compileJS : 0,
              list = brackets.split(html, 0, _bp),
              expr;
          for (var i = 1; i < list.length; i += 2) {
            expr = list[i];
            if (expr[0] === '^') {
              expr = expr.slice(1);
            } else if (jsfn) {
              expr = jsfn(expr, opts).trim();
              if (expr.slice(-1) === ';')
                expr = expr.slice(0, -1);
            }
            list[i] = CH_IDEXPR + (pcex.push(expr) - 1) + _bp[1];
          }
          html = list.join('');
        }
        return html;
      }
      function restoreExpr(html, pcex) {
        if (pcex.length) {
          html = html.replace(RE_REPEXPR, function(_, d) {
            return pcex._bp[0] + pcex[d].trim().replace(/[\r\n]+/g, ' ').replace(/"/g, CH_DQCODE);
          });
        }
        return html;
      }
      function compileImports(js) {
        var imp = [];
        var imports = '';
        while (imp = IMPORT_STATEMENT.exec(js)) {
          imports += imp[0].trim() + '\n';
        }
        return imports;
      }
      function rmImports(js) {
        var jsCode = js.replace(IMPORT_STATEMENT, '');
        return jsCode;
      }
      function _compileHTML(html, opts, pcex) {
        html = splitHtml(html, opts, pcex).replace(HTML_TAGS, function(_, name, attr, ends) {
          name = name.toLowerCase();
          ends = ends && !VOID_TAGS.test(name) ? '></' + name : '';
          if (attr)
            name += ' ' + parseAttribs(attr, pcex);
          return '<' + name + ends + '>';
        });
        if (!opts.whitespace) {
          var p = [];
          if (/<pre[\s>]/.test(html)) {
            html = html.replace(PRE_TAGS, function(q) {
              p.push(q);
              return '\u0002';
            });
          }
          html = html.trim().replace(/\s+/g, ' ');
          if (p.length)
            html = html.replace(/\u0002/g, function() {
              return p.shift();
            });
        }
        if (opts.compact)
          html = html.replace(HTML_PACK, '><$1');
        return restoreExpr(html, pcex).replace(TRIM_TRAIL, '');
      }
      function compileHTML(html, opts, pcex) {
        if (Array.isArray(opts)) {
          pcex = opts;
          opts = {};
        } else {
          if (!pcex)
            pcex = [];
          if (!opts)
            opts = {};
        }
        pcex._bp = brackets.array(opts.brackets);
        return _compileHTML(cleanSource(html), opts, pcex);
      }
      var JS_ES6SIGN = /^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m;
      var JS_ES6END = RegExp('[{}]|' + brackets.S_QBLOCKS, 'g');
      var JS_COMMS = RegExp(brackets.R_MLCOMMS.source + '|//[^\r\n]*|' + brackets.S_QBLOCKS, 'g');
      function riotjs(js) {
        var parts = [],
            match,
            toes5,
            pos,
            name,
            RE = RegExp;
        if (~js.indexOf('/'))
          js = rmComms(js, JS_COMMS);
        while ((match = js.match(JS_ES6SIGN))) {
          parts.push(RE.leftContext);
          js = RE.rightContext;
          pos = skipBody(js, JS_ES6END);
          name = match[1];
          toes5 = !/^(?:if|while|for|switch|catch|function)$/.test(name);
          name = toes5 ? match[0].replace(name, 'this.' + name + ' = function') : match[0];
          parts.push(name, js.slice(0, pos));
          js = js.slice(pos);
          if (toes5 && !/^\s*.\s*bind\b/.test(js))
            parts.push('.bind(this)');
        }
        return parts.length ? parts.join('') + js : js;
        function rmComms(s, r, m) {
          r.lastIndex = 0;
          while ((m = r.exec(s))) {
            if (m[0][0] === '/' && !m[1] && !m[2]) {
              s = RE.leftContext + ' ' + RE.rightContext;
              r.lastIndex = m[3] + 1;
            }
          }
          return s;
        }
        function skipBody(s, r) {
          var m,
              i = 1;
          r.lastIndex = 0;
          while (i && (m = r.exec(s))) {
            if (m[0] === '{')
              ++i;
            else if (m[0] === '}')
              --i;
          }
          return i ? s.length : r.lastIndex;
        }
      }
      function _compileJS(js, opts, type, parserOpts, url) {
        if (!/\S/.test(js))
          return '';
        if (!type)
          type = opts.type;
        var parser = opts.parser || type && parsers._req('js.' + type, true) || riotjs;
        return parser(js, parserOpts, url).replace(/\r\n?/g, '\n').replace(TRIM_TRAIL, '');
      }
      function compileJS(js, opts, type, userOpts) {
        if (typeof opts === 'string') {
          userOpts = type;
          type = opts;
          opts = {};
        }
        if (type && typeof type === 'object') {
          userOpts = type;
          type = '';
        }
        if (!userOpts)
          userOpts = {};
        return _compileJS(js, opts || {}, type, userOpts.parserOptions, userOpts.url);
      }
      var CSS_SELECTOR = RegExp('([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|' + S_LINESTR, 'g');
      function scopedCSS(tag, css) {
        var scope = ':scope';
        return css.replace(CSS_SELECTOR, function(m, p1, p2) {
          if (!p2)
            return m;
          p2 = p2.replace(/[^,]+/g, function(sel) {
            var s = sel.trim();
            if (!s || s === 'from' || s === 'to' || s.slice(-1) === '%') {
              return sel;
            }
            if (s.indexOf(scope) < 0) {
              s = tag + ' ' + s + ',[riot-tag="' + tag + '"] ' + s + ',[data-is="' + tag + '"] ' + s;
            } else {
              s = s.replace(scope, tag) + ',' + s.replace(scope, '[riot-tag="' + tag + '"]') + ',' + s.replace(scope, '[data-is="' + tag + '"]');
            }
            return s;
          });
          return p1 ? p1 + ' ' + p2 : p2;
        });
      }
      function _compileCSS(css, tag, type, opts) {
        var scoped = (opts || (opts = {})).scoped;
        if (type) {
          if (type === 'scoped-css') {
            scoped = true;
          } else if (type !== 'css') {
            var parser = parsers._req('css.' + type, true);
            css = parser(tag, css, opts.parserOpts || {}, opts.url);
          }
        }
        css = css.replace(brackets.R_MLCOMMS, '').replace(/\s+/g, ' ').trim();
        if (scoped) {
          if (!tag) {
            throw new Error('Can not parse scoped CSS without a tagName');
          }
          css = scopedCSS(tag, css);
        }
        return css;
      }
      function compileCSS(css, type, opts) {
        if (type && typeof type === 'object') {
          opts = type;
          type = '';
        } else if (!opts)
          opts = {};
        return _compileCSS(css, opts.tagName, type, opts);
      }
      var TYPE_ATTR = /\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i;
      var MISC_ATTR = '\\s*=\\s*(' + S_STRINGS + '|{[^}]+}|\\S+)';
      var END_TAGS = /\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/;
      function _q(s, r) {
        if (!s)
          return "''";
        s = SQ + s.replace(/\\/g, '\\\\').replace(/'/g, "\\'") + SQ;
        return r && ~s.indexOf('\n') ? s.replace(/\n/g, '\\n') : s;
      }
      function mktag(name, html, css, attr, js, imports, opts) {
        var c = opts.debug ? ',\n  ' : ', ',
            s = '});';
        if (js && js.slice(-1) !== '\n')
          s = '\n' + s;
        return imports + 'riot.tag2(\'' + name + SQ + c + _q(html, 1) + c + _q(css) + c + _q(attr) + ', function(opts) {\n' + js + s;
      }
      function splitBlocks(str) {
        if (/<[-\w]/.test(str)) {
          var m,
              k = str.lastIndexOf('<'),
              n = str.length;
          while (~k) {
            m = str.slice(k, n).match(END_TAGS);
            if (m) {
              k += m.index + m[0].length;
              return [str.slice(0, k), str.slice(k)];
            }
            n = k;
            k = str.lastIndexOf('<', k - 1);
          }
        }
        return ['', str];
      }
      function getType(attribs) {
        if (attribs) {
          var match = attribs.match(TYPE_ATTR);
          match = match && (match[2] || match[3]);
          if (match) {
            return match.replace('text/', '');
          }
        }
        return '';
      }
      function getAttrib(attribs, name) {
        if (attribs) {
          var match = attribs.match(RegExp('\\s' + name + MISC_ATTR, 'i'));
          match = match && match[1];
          if (match) {
            return (/^['"]/).test(match) ? match.slice(1, -1) : match;
          }
        }
        return '';
      }
      function unescapeHTML(str) {
        return str.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"').replace(/&#039;/g, '\'');
      }
      function getParserOptions(attribs) {
        var opts = unescapeHTML(getAttrib(attribs, 'options'));
        return opts ? JSON.parse(opts) : null;
      }
      function getCode(code, opts, attribs, base) {
        var type = getType(attribs),
            src = getAttrib(attribs, 'src'),
            jsParserOptions = extend({}, opts.parserOptions.js);
        if (src)
          return false;
        return _compileJS(code, opts, type, extend(jsParserOptions, getParserOptions(attribs)), base);
      }
      function cssCode(code, opts, attribs, url, tag) {
        var parserStyleOptions = extend({}, opts.parserOptions.style),
            extraOpts = {
              parserOpts: extend(parserStyleOptions, getParserOptions(attribs)),
              scoped: attribs && /\sscoped(\s|=|$)/i.test(attribs),
              url: url
            };
        return _compileCSS(code, tag, getType(attribs) || opts.style, extraOpts);
      }
      function compileTemplate(html, url, lang, opts) {
        var parser = parsers._req('html.' + lang, true);
        return parser(html, opts, url);
      }
      var CUST_TAG = RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace('@', S_STRINGS), 'gim'),
          SCRIPTS = /<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,
          STYLES = /<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;
      function compile(src, opts, url) {
        var parts = [],
            included,
            defaultParserptions = {
              template: {},
              js: {},
              style: {}
            };
        if (!opts)
          opts = {};
        opts.parserOptions = extend(defaultParserptions, opts.parserOptions || {});
        included = opts.exclude ? function(s) {
          return opts.exclude.indexOf(s) < 0;
        } : function() {
          return 1;
        };
        if (!url)
          url = '';
        var _bp = brackets.array(opts.brackets);
        if (opts.template) {
          src = compileTemplate(src, url, opts.template, opts.parserOptions.template);
        }
        src = cleanSource(src).replace(CUST_TAG, function(_, indent, tagName, attribs, body, body2) {
          var jscode = '',
              styles = '',
              html = '',
              imports = '',
              pcex = [];
          pcex._bp = _bp;
          tagName = tagName.toLowerCase();
          attribs = attribs && included('attribs') ? restoreExpr(parseAttribs(splitHtml(attribs, opts, pcex), pcex), pcex) : '';
          if ((body || (body = body2)) && /\S/.test(body)) {
            if (body2) {
              if (included('html'))
                html = _compileHTML(body2, opts, pcex);
            } else {
              body = body.replace(RegExp('^' + indent, 'gm'), '');
              body = body.replace(STYLES, function(_m, _attrs, _style) {
                if (included('css')) {
                  styles += (styles ? ' ' : '') + cssCode(_style, opts, _attrs, url, tagName);
                }
                return '';
              });
              body = body.replace(SCRIPTS, function(_m, _attrs, _script) {
                if (included('js')) {
                  var code = getCode(_script, opts, _attrs, url);
                  if (code)
                    jscode += (jscode ? '\n' : '') + code;
                }
                return '';
              });
              var blocks = splitBlocks(body.replace(TRIM_TRAIL, ''));
              if (included('html')) {
                html = _compileHTML(blocks[0], opts, pcex);
              }
              if (included('js')) {
                body = _compileJS(blocks[1], opts, null, null, url);
                imports = compileImports(jscode);
                jscode = rmImports(jscode);
                if (body)
                  jscode += (jscode ? '\n' : '') + body;
              }
            }
          }
          jscode = /\S/.test(jscode) ? jscode.replace(/\n{3,}/g, '\n\n') : '';
          if (opts.entities) {
            parts.push({
              tagName: tagName,
              html: html,
              css: styles,
              attribs: attribs,
              js: jscode
            });
            return '';
          }
          return mktag(tagName, html, styles, attribs, jscode, imports, opts);
        });
        if (opts.entities)
          return parts;
        return src;
      }
      riot.util.compiler = {
        compile: compile,
        html: compileHTML,
        css: compileCSS,
        js: compileJS,
        version: 'v2.5.2'
      };
      return compile;
    })();
    riot.compile = (function() {
      var promise,
          ready;
      function GET(url, fn, opts) {
        var req = new XMLHttpRequest();
        req.onreadystatechange = function() {
          if (req.readyState === 4 && (req.status === 200 || !req.status && req.responseText.length)) {
            fn(req.responseText, opts, url);
          }
        };
        req.open('GET', url, true);
        req.send('');
      }
      function globalEval(js, url) {
        if (typeof js === T_STRING) {
          var node = mkEl('script'),
              root = document.documentElement;
          if (url)
            js += '\n//# sourceURL=' + url + '.js';
          node.text = js;
          root.appendChild(node);
          root.removeChild(node);
        }
      }
      function compileScripts(fn, xopt) {
        var scripts = $$('script[type="riot/tag"]'),
            scriptsAmount = scripts.length;
        function done() {
          promise.trigger('ready');
          ready = true;
          if (fn)
            fn();
        }
        function compileTag(src, opts, url) {
          var code = compile(src, opts, url);
          globalEval(code, url);
          if (!--scriptsAmount)
            done();
        }
        if (!scriptsAmount)
          done();
        else {
          for (var i = 0; i < scripts.length; ++i) {
            var script = scripts[i],
                opts = extend({template: getAttr(script, 'template')}, xopt),
                url = getAttr(script, 'src');
            url ? GET(url, compileTag, opts) : compileTag(script.innerHTML, opts);
          }
        }
      }
      return function(arg, fn, opts) {
        if (typeof arg === T_STRING) {
          if (isObject(fn)) {
            opts = fn;
            fn = false;
          }
          if (/^\s*</m.test(arg)) {
            var js = compile(arg, opts);
            if (fn !== true)
              globalEval(js);
            if (isFunction(fn))
              fn(js, arg, opts);
            return js;
          }
          GET(arg, function(str, opts, url) {
            var js = compile(str, opts, url);
            globalEval(js, url);
            if (fn)
              fn(js, str, opts);
          });
        } else {
          if (isFunction(arg)) {
            opts = fn;
            fn = arg;
          } else {
            opts = arg;
            fn = undefined;
          }
          if (ready) {
            return fn && fn();
          }
          if (promise) {
            if (fn)
              promise.on('ready', fn);
          } else {
            promise = riot.observable();
            compileScripts(fn, opts);
          }
        }
      };
    })();
    var mount = riot.mount;
    riot.mount = function(a, b, c) {
      var ret;
      riot.compile(function() {
        ret = mount(a, b, c);
      });
      return ret;
    };
    if (typeof exports === T_OBJECT)
      module.exports = riot;
    else if (typeof define === T_FUNCTION && typeof define.amd !== T_UNDEF)
      define(function() {
        return riot;
      });
    else
      window.riot = riot;
  })(typeof window != 'undefined' ? window : void 0);
  return module.exports;
});

$__System.register("1a5", ["1a4"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var Riot;
    return {
        setters: [function (Riot_1) {
            Riot = Riot_1;
        }],
        execute: function () {
            exports_1("default", Riot);
        }
    };
});
$__System.register("144", ["1a5"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var riot_service_1;
    var riot, Observable, Element, precompiledTags;
    function registerClass(element) {
        function registerTag(compiledTag) {
            var transformFunction = function (opts) {
                extend(this, element); // copies prototype into "this"                        
                element.apply(this, [opts]); // calls class constructor applying it on "this"
                if (element.prototype.mounted !== undefined) this.on("mount", this.mounted);
                if (element.prototype.unmounted !== undefined) this.on("unmount", this.unmounted);
                if (element.prototype.updating !== undefined) this.on("update", this.updating);
                if (element.prototype.updated !== undefined) this.on("updated", this.updated);
                // TODO support for init(opts) ?
            };
            riot.tag2(compiledTag.tagName, compiledTag.html, compiledTag.css, compiledTag.attribs, transformFunction, riot.settings.brackets);
            return compiledTag.tagName;
        }
        function loadTemplateFromHTTP(template) {
            var req = new XMLHttpRequest();
            req.open("GET", template, false);
            req.send();
            if (req.status == 200) return req.responseText;else throw req.responseText;
        }
        ;
        var compiled;
        // gets string template: inlined, via http request or via precompiled cache
        if (element.prototype.template !== undefined) {
            var tagTemplate = element.prototype.template;
            if (tagTemplate.indexOf("<") < 0) {
                // tag is a file
                if (precompiledTags[tagTemplate] !== undefined) {
                    // loads it from precompiled cache                
                    compiled = precompiledTags[tagTemplate];
                } else {
                    // loads from HTTP and compile on the fly
                    tagTemplate = loadTemplateFromHTTP(tagTemplate);
                    compiled = riot.compile(tagTemplate, true, { entities: true })[0];
                }
            } else {
                // tag is inlined, compile on the fly
                compiled = riot.compile(tagTemplate, true, { entities: true })[0];
            }
            element.prototype.tagName = registerTag(compiled);
        } else throw "template property not specified";
    }
    exports_1("registerClass", registerClass);
    // new extend, works with getters and setters
    function extend(d, element) {
        var map = Object.keys(element.prototype).reduce(function (descriptors, key) {
            descriptors[key] = Object.getOwnPropertyDescriptor(element.prototype, key);
            return descriptors;
        }, {});
        Object.defineProperties(d, map);
    }
    // @template decorator
    function template(template) {
        return function (target) {
            target.prototype["template"] = template;
            registerClass(target);
        };
    }
    exports_1("template", template);
    return {
        setters: [function (riot_service_1_1) {
            riot_service_1 = riot_service_1_1;
        }],
        execute: function () {
            riot = riot_service_1.default;
            //default settings
            riot.settings.brackets = '\{\{ }}';
            Observable = function () {
                function Observable() {
                    riot.observable(this);
                }
                Observable.prototype.on = function (events, callback) {};
                Observable.prototype.one = function (events, callback) {};
                Observable.prototype.off = function (events) {};
                Observable.prototype.trigger = function (eventName) {
                    var args = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                        args[_i - 1] = arguments[_i];
                    }
                };
                return Observable;
            }();
            exports_1("Observable", Observable);
            Element = function () {
                function Element() {}
                Element.prototype.update = function (data) {};
                Element.prototype.unmount = function (keepTheParent) {};
                Element.prototype.on = function (eventName, fun) {};
                Element.prototype.one = function (eventName, fun) {};
                Element.prototype.off = function (events) {};
                Element.prototype.trigger = function (eventName) {
                    var args = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                        args[_i - 1] = arguments[_i];
                    }
                };
                Element.prototype.mixin = function (mixinObject, instance) {};
                Element.createElement = function (options) {
                    var tagName = this.prototype.tagName;
                    var el = document.createElement(tagName);
                    riot.mount(el, tagName, options);
                    return el;
                };
                return Element;
            }();
            exports_1("Element", Element);
            exports_1("precompiledTags", precompiledTags = {});
            exports_1("riot", riot);
        }
    };
});
$__System.register('1a6', ['1a7', '1a8', '14b', '158', '1a9', '1aa', '157'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1, user_service_1, store_1, messageActions, contactActions, applicationActions, messageTools;
    //some actions depend on other actions
    function initialize() {
        var lotus = lotus_service_1.default.singleton();
        var receivedMsgIds = [];
        lotus.on('Message.onMessage', function (resp) {
            var msg = messageTools.getMessageFromResponse(resp.re.message);
            store_1.default.dispatch(messageActions.insertMessage(msg));
        });
        lotus.on('contacts.on_partner_added', function (resp) {
            if (resp.err) {
                console.error(resp.err);
                return;
            }
            var owner = store_1.default.getState().userData.user;
            var re = resp.re;
            var email = owner.email;
            var contact = re.partner && re.partner.email == email ? re.user : re.partner;
            if (contact) {
                store_1.default.dispatch(contactActions.partnerAdded(contact));
            }
        });
        lotus.on('contacts.on_partner_removed', function (resp) {
            if (resp.err) {
                console.error(resp.err);
                return;
            }
            var owner = store_1.default.getState().userData.user;
            var id = owner.userId;
            var re = resp.re;
            var contact_id = re.partner_id == id ? re.user_id : re.partner_id;
            if (contact_id) {
                store_1.default.dispatch(contactActions.partnerRemoved(contact_id));
            }
        });
        lotus.on('contacts.on_partner_updated', function (resp) {
            if (resp.err) {
                console.error(resp.err);
                return;
            }
            var owner = store_1.default.getState().userData.user;
            var email = owner.email;
            var data = resp.re;
            if (data) {
                store_1.default.dispatch(contactActions.partnerUpdated(data));
            }
        });
        lotus.on('users.login_required', function () {
            return new Promise(function (resolve, reject) {
                store_1.default.dispatch(applicationActions.toggleLoading(true));
                var us = user_service_1.default.singleton();
                us.ssoLogin().then(function () {
                    store_1.default.dispatch(applicationActions.toggleLoading(false));
                    resolve();
                }).catch(function (err) {
                    store_1.default.dispatch(applicationActions.toggleLoading(false));
                    reject(err);
                });
            });
        });
    }
    exports_1("initialize", initialize);
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (user_service_1_1) {
            user_service_1 = user_service_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (messageActions_1) {
            messageActions = messageActions_1;
        }, function (contactActions_1) {
            contactActions = contactActions_1;
        }, function (applicationActions_1) {
            applicationActions = applicationActions_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }],
        execute: function () {}
    };
});
$__System.register('1ab', ['1a7', '14b'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1, store_1;
    var ConversationService;
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }],
        execute: function () {
            ConversationService = function () {
                function ConversationService() {}
                ConversationService.prototype.loadMore = function (data) {
                    return new Promise(function (resolve, reject) {
                        lotus_service_1.default.singleton().ready().then(function (Andaman) {
                            var user = store_1.default.getState().userData.user;
                            data = data || { user_id: user.userId, options: { page_size: 100 } };
                            Andaman.conversations.conv_get_previous_block_by_user(data, function (resp) {
                                if (resp.err) reject(resp.err);else {
                                    var items = resp && resp.re ? resp.re.rows : [];
                                    var settings = resp && resp.re ? resp.re.data : null;
                                    resolve({ conversations: items, settings: settings });
                                }
                            });
                        });
                    });
                };
                ConversationService.singleton = function () {
                    if (!ConversationService._instance) {
                        ConversationService._instance = new ConversationService();
                    }
                    return ConversationService._instance;
                };
                return ConversationService;
            }();
            exports_1("default", ConversationService);
        }
    };
});
$__System.register('1ac', ['14b'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var store_1;
    var appCode;
    function isActive() {
        return store_1.default.getState().applicationData.state == 'active';
    }
    exports_1("isActive", isActive);
    return {
        setters: [function (store_1_1) {
            store_1 = store_1_1;
        }],
        execute: function () {
            appCode = Date.now();
            exports_1("appCode", appCode);
        }
    };
});
$__System.register('15e', ['156', '1ad'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1, bus_1;
    function add(chatbox) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.ADD_CHATBOX, data: chatbox });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ADD_CHATBOX, chatbox);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("add", add);
    function addAll(chatboxes) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.ADD_ALL, data: chatboxes });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ADD_ALL, chatboxes);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("addAll", addAll);
    function remove(id) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.REMOVE_CHATBOX, data: id });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.REMOVE_CHATBOX, id);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("remove", remove);
    function setActive(id) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.SET_ACTIVE, data: id });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.SET_ACTIVE, id);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("setActive", setActive);
    function removeAll() {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.REMOVE_ALL });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.REMOVE_ALL);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("removeAll", removeAll);
    function setActiveAndMoveToTop(id) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.SET_ACTIVE_AND_MOVE_TO_TOP, data: id });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.SET_ACTIVE_AND_MOVE_TO_TOP, id);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("setActiveAndMoveToTop", setActiveAndMoveToTop);
    function toggleWindow(id) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.TOGGLE_WINDOW, data: id });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.TOGGLE_WINDOW, id);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("toggleWindow", toggleWindow);
    function update(id, data) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.UPDATE, data: { id: id, data: data } });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.UPDATE, id, data);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("update", update);
    function markAsRead(id) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.MARK_AS_READ, data: id });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.MARK_AS_READ, id);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("markAsRead", markAsRead);
    function minimize(id) {
        return function (dispatch) {
            dispatch({ type: types_1.CHATBOXES.MINIMIZE, data: id });
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.MINIMIZE, id);
            bus_1.default.chatboxes.emit(types_1.CHATBOXES.ON_CHANGE);
        };
    }
    exports_1("minimize", minimize);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }],
        execute: function () {}
    };
});
$__System.register("1ae", ["14b"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var store_1;
    /**
     * Creates a conversation from user id
     */
    function create(contact) {
        return {
            conv_id: contact.userId,
            created_time: new Date().toISOString(),
            partner: contact,
            last_action_time: -1
        };
    }
    exports_1("create", create);
    function getActiveChatbox() {
        var state = store_1.default.getState();
        var chatbox = state.chatboxData.chatboxes.filter(function (c) {
            return c && c.isActive;
        })[0];
        if (chatbox) {
            var conv = state.conversationData.conversations.filter(function (c) {
                return c.id == chatbox.conv_id;
            })[0];
            if (conv) return chatbox;
        }
        return null;
    }
    exports_1("getActiveChatbox", getActiveChatbox);
    function findOne(conv_id) {
        return store_1.default.getState().chatboxData.chatboxes.find(function (c) {
            return c.conv_id == conv_id;
        });
    }
    function createOne(conv_id) {
        return {
            conv_id: conv_id,
            created_time: new Date(),
            last_action_time: new Date()
        };
    }
    return {
        setters: [function (store_1_1) {
            store_1 = store_1_1;
        }],
        execute: function () {
            exports_1("findOne", findOne);
            exports_1("createOne", createOne);
        }
    };
});
$__System.register('1af', ['1a7', '14b'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1, store_1;
    var ContactService;
    function sortContacts(a, b) {
        var cmp_status;
        if (a.state === b.state) cmp_status = 0;else if (a.state) cmp_status = -1;else cmp_status = 1;
        var name1 = (a.name || '').toLowerCase(),
            name2 = (b.name || '').toLowerCase();
        return cmp_status || name1.localeCompare(name2);
    }
    function getUniqueContacts(contacts) {
        var emails = [];
        return contacts.filter(function (c) {
            if (c && emails.indexOf(c.email) == -1) {
                emails.push(c.email);
                return true;
            }
            return false;
        });
    }
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }],
        execute: function () {
            ContactService = function () {
                function ContactService() {
                    this.onlineUsers = [];
                    this.users = [];
                }
                ContactService.singleton = function () {
                    if (!ContactService._instance) {
                        ContactService._instance = new ContactService();
                    }
                    return ContactService._instance;
                };
                ContactService.prototype.getOnlineContacts = function () {
                    var _this = this;
                    this.onlineUsers = [];
                    return new Promise(function (resolve, reject) {
                        var user = store_1.default.getState().userData.user;
                        _this.getOnlineRoster().then(function (resp) {
                            _this.onlineUsers = resp.rows.sort(sortContacts);
                            _this.users = getUniqueContacts(_this.onlineUsers.concat(_this.users));
                            resolve(_this.users.sort(sortContacts));
                        }).catch(function (err) {
                            reject(err);
                        });
                    });
                };
                ContactService.prototype.updateOnlineContacts = function () {
                    var _this = this;
                    this.onlineUsers = [];
                    return new Promise(function (resolve, reject) {
                        _this.getAllOnlineRoster().then(function (resp) {
                            _this.onlineUsers = getUniqueContacts(_this.onlineUsers.concat(resp.rows));
                            // Update online status
                            _this.users = getUniqueContacts(_this.onlineUsers.concat(_this.users));
                            resolve(_this.users.sort(sortContacts));
                        }).catch(function (err) {
                            reject(err);
                        });
                    });
                };
                ContactService.prototype.getOnlineRoster = function (options) {
                    return new Promise(function (resolve, reject) {
                        lotus_service_1.default.singleton().ready().then(function (Andaman) {
                            var user = store_1.default.getState().userData.user;
                            options = options || { email: user.email, page_size: 100, offset: null };
                            Andaman.rosters.get_online_roster(options, function (resp) {
                                if (resp.err) reject(resp.err);else {
                                    var rows = resp.re.rows || [];
                                    rows = rows.filter(function (c) {
                                        if (c) {
                                            c.is_online = true;
                                            return true;
                                        }
                                        return false;
                                    });
                                    options.offset = resp.re.offset;
                                    resolve({ rows: rows, options: options });
                                }
                            });
                        });
                    });
                };
                ContactService.prototype.getAllOnlineRoster = function () {
                    var _this = this;
                    return new Promise(function (resolve, reject) {
                        var user = store_1.default.getState().userData.user;
                        var options = { email: user.email, page_size: 100, offset: null };
                        _this.doGetAllOnlineRoster(options, function (resp) {
                            if (resp.err) {
                                reject(resp.err);
                            } else {
                                resolve({ rows: resp.rows, options: resp.options });
                            }
                        });
                    });
                };
                ContactService.prototype.doGetAllOnlineRoster = function (options, cb, rosterList) {
                    var _this = this;
                    rosterList = rosterList || [];
                    this.getOnlineRoster(options).then(function (resp) {
                        rosterList = rosterList.concat(resp.rows);
                        if (resp.options.offset) {
                            setTimeout(function () {
                                _this.doGetAllOnlineRoster(resp.options, cb, rosterList);
                            }, 0);
                        } else {
                            cb({ rows: rosterList, options: options });
                        }
                    }).catch(function (err) {
                        cb({ err: err });
                    });
                };
                ContactService.prototype.getContacts = function () {
                    var _this = this;
                    this.users = [];
                    return new Promise(function (resolve, reject) {
                        lotus_service_1.default.singleton().ready().then(function (Andaman) {
                            var user = store_1.default.getState().userData.user;
                            var page_size = 100;
                            var offset = null;
                            var get_roster_cb = function (resp) {
                                if (resp.err) reject(resp.err);else {
                                    offset = resp.re.offset;
                                    // Fix wrong value returning from server
                                    var rows = resp.re.rows || [];
                                    rows = rows.filter(function (c) {
                                        if (c) {
                                            c.user_id = c.partner_id;
                                            delete c.partner_id;
                                            return true;
                                        }
                                        return false;
                                    });
                                    _this.users = _this.users.concat(rows);
                                    // Update online status
                                    _this.users = getUniqueContacts(_this.onlineUsers.concat(_this.users));
                                }
                                if (offset) {
                                    Andaman.rosters.get_roster({ email: user.email, page_size: page_size, offset: offset }, get_roster_cb);
                                } else {
                                    resolve(_this.users.sort(sortContacts));
                                    localStorage.setItem("contacts", JSON.stringify(_this.users));
                                }
                            };
                            Andaman.rosters.get_roster({ email: user.email, page_size: page_size, offset: offset }, get_roster_cb);
                        });
                    });
                };
                ContactService.prototype.getUserById = function (id) {
                    var _this = this;
                    return new Promise(function (resolve, reject) {
                        var found = _this.users.filter(function (u) {
                            return u.userId == id;
                        })[0];
                        if (found) resolve(found);
                        lotus_service_1.default.singleton().ready().then(function (Andaman) {
                            Andaman.get_user_by_id({ user_id: id }, function (resp) {
                                if (resp.err) reject(resp.err);else resolve(resp.re);
                            });
                        });
                    });
                };
                return ContactService;
            }();
            exports_1("default", ContactService);
        }
    };
});
$__System.register('1a9', ['1af', '156', '1a0'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var contact_service_1, types_1, bus_1;
    var bus;
    function arrayContactUnique(array) {
        var a = array.concat();
        for (var i = 0; i < a.length; ++i) {
            for (var j = i + 1; j < a.length; ++j) {
                if (a[i].email === a[j].email) a.splice(j--, 1);
            }
        }
        return a;
    }
    function loadContacts() {
        return function (dispatch) {
            dispatch(toggleFetchingContacts(true));
            // Load contacts from localStorage first
            var localContacs = null;
            try {
                localContacs = JSON.parse(localStorage.getItem("contacts"));
            } catch (e) {
                console.log(e);
            }
            ;
            if (localContacs) {
                dispatch(contactsLoaded(localContacs));
            }
            var service = contact_service_1.default.singleton();
            service.getOnlineContacts().then(function (onlineContacts) {
                dispatch(toggleFetchingContacts(false));
                dispatch(contactsLoaded(localContacs ? arrayContactUnique(onlineContacts.concat(localContacs)) : onlineContacts));
            }).catch(function (err) {
                console.error(err);
            }).then(function () {
                dispatch(toggleFetchingContacts(true));
                service.getContacts().then(function (contacts) {
                    dispatch(toggleFetchingContacts(false));
                    dispatch(contactsLoaded(contacts));
                }).catch(function (err) {
                    dispatch(toggleFetchingContacts(false));
                    console.error(err);
                });
            });
        };
    }
    exports_1("loadContacts", loadContacts);
    function refreshOnlineContacts() {
        return function (dispatch) {
            var service = contact_service_1.default.singleton();
            service.updateOnlineContacts().then(function (contacts) {
                dispatch(contactsLoaded(contacts));
            }).catch(function (err) {
                console.error(err);
            });
        };
    }
    exports_1("refreshOnlineContacts", refreshOnlineContacts);
    function contactsLoaded(contacts) {
        return function (dispatch) {
            dispatch({ type: types_1.CONTACTS.CONTACTS_LOADED, data: contacts });
            bus.emit('ContactsLoaded', contacts);
        };
    }
    exports_1("contactsLoaded", contactsLoaded);
    function toggleFetchingContacts(isFetching) {
        return { type: types_1.CONTACTS.FETCHING_CONTACTS, data: isFetching };
    }
    exports_1("toggleFetchingContacts", toggleFetchingContacts);
    function toggleWindow(val) {
        return { type: types_1.CONTACTS.TOGGLE_WINDOW, data: val };
    }
    exports_1("toggleWindow", toggleWindow);
    function setFilter(text) {
        return { type: types_1.CONTACTS.SET_FILTER, data: text };
    }
    exports_1("setFilter", setFilter);
    function setActive(contact) {
        return { type: types_1.CONTACTS.SET_ACTIVE, data: contact };
    }
    exports_1("setActive", setActive);
    function addContact(contact) {
        return { type: types_1.CONTACTS.ADD_CONTACT, data: contact };
    }
    exports_1("addContact", addContact);
    function partnerAdded(contact) {
        return { type: types_1.CONTACTS.PARTNER_ADDED, data: contact };
    }
    exports_1("partnerAdded", partnerAdded);
    function partnerRemoved(user_id) {
        return { type: types_1.CONTACTS.PARTNER_REMOVED, data: user_id };
    }
    exports_1("partnerRemoved", partnerRemoved);
    function partnerUpdated(data) {
        return { type: types_1.CONTACTS.PARTNER_UPDATED, data: data };
    }
    exports_1("partnerUpdated", partnerUpdated);
    return {
        setters: [function (contact_service_1_1) {
            contact_service_1 = contact_service_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }],
        execute: function () {
            bus = bus_1.default.singleton().cat('model').cat('contacts');
        }
    };
});
$__System.register("1b0", ["1a7"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1;
    function addPartner(email) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = { partnerEmail: email };
                Lotus.AccountService.Roster.addPartner(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function getContacts() {
        return new Promise(function (resolve) {
            var contacts = [];
            var errs = [];
            Promise.all([getOnlinePartners(), getOfflinePartners()]).then(function (results) {
                for (var i = 0; i < results.length; i++) {
                    var resp = results[i];
                    if (resp.err) {
                        errs.push(resp.err);
                    } else {
                        contacts = contacts.concat.apply(contacts, resp.re.partners);
                    }
                }
                resolve({ err: errs[0], re: { partners: contacts } });
            });
        });
    }
    function getOnlinePartners(options) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                if (!options) {
                    options = { pageSize: 50, partnerId: null };
                }
                Lotus.AccountService.Roster.getOnlineNextPage({ options: options }, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function getOfflinePartners(options) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                if (!options) {
                    options = { pageSize: 50, partnerId: null };
                }
                Lotus.AccountService.Roster.getOfflineNextPage({ options: options }, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }],
        execute: function () {
            exports_1("addPartner", addPartner);
            exports_1("getContacts", getContacts);
            exports_1("getOnlinePartners", getOnlinePartners);
            exports_1("getOfflinePartners", getOfflinePartners);
        }
    };
});
$__System.register('1b1', ['156', '14b', '1a7'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1, store_1, lotus_service_1;
    function sort(conversations) {
        return conversations.sort(function (c1, c2) {
            var d1 = new Date(c1.active_time);
            var d2 = new Date(c2.active_time);
            if (d1 == d2) return 0;
            return d1 < d2 ? 1 : -1;
        });
    }
    exports_1("sort", sort);
    function __createOne(contact) {
        return new Promise(function (resolve, reject) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    title: "" + (contact.name || contact.email),
                    memberId: contact.userId
                };
                Lotus.ChatService.Conversation.createOne(data, function (error, result) {
                    if (error) reject(error);else {
                        var owner = store_1.default.getState().userData.user;
                        var data = result.conversation;
                        var lastMsgTime = new Date(data.lastMessageTime);
                        var conv = {
                            id: data.conversationId,
                            type: data.conversationType,
                            last_message: {
                                id: data.lastMessageId,
                                sender_id: data.lastSenderId,
                                content: data.lastMessageContent,
                                created_time: lastMsgTime
                            },
                            title: data.title,
                            members: [{ userId: owner.userId, name: owner.name }, { userId: contact.userId, name: contact.name }],
                            active_time: lastMsgTime,
                            unread_message_count: 0
                        };
                        resolve(conv);
                    }
                });
            });
        });
    }
    function createOne(contact) {
        return __createOne(contact);
        //return createGroup(`${contact.name || contact.email}`, contact.userId);
    }
    function createGroup(title) {
        var memberIds = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            memberIds[_i - 1] = arguments[_i];
        }
        return new Promise(function (resolve, reject) {
            var contacts = store_1.default.getState().contactData.contacts;
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    title: title,
                    memberIds: memberIds
                };
                Lotus.ChatService.Conversation.createGroup(data, function (error, result) {
                    if (error) reject(error);else {
                        var contacts = store_1.default.getState().contactData.contacts;
                        var members = memberIds.map(function (id) {
                            var c = contacts.find(function (c) {
                                return c.userId == id;
                            });
                            return { userId: c.userId, name: c.name };
                        });
                        var data = result.conversation;
                        var lastMsgTime = new Date(data.lastMessageTime);
                        var conv = {
                            id: data.conversationId,
                            type: data.conversationType,
                            last_message: {
                                id: data.lastMessageId,
                                sender_id: data.lastSenderId,
                                content: data.lastMessageContent,
                                created_time: lastMsgTime
                            },
                            title: data.title,
                            members: members,
                            memberType: types_1.MEMBER_TYPE.OWNER,
                            active_time: lastMsgTime,
                            unread_message_count: 0
                        };
                        resolve(conv);
                    }
                });
            });
        });
    }
    function convert(data) {
        return new Promise(function (resolve) {
            var lastMsgTime = new Date(data.lastMessageTime);
            var conv = {
                id: data.conversationId,
                type: data.conversationType,
                last_message: {
                    id: data.lastMessageId,
                    sender_id: data.lastSenderId,
                    content: data.lastMessageContent,
                    created_time: lastMsgTime
                },
                members: [],
                title: data.title,
                active_time: lastMsgTime,
                unread_message_count: 0,
                memberType: data.memberType
            };
            getMembers(conv.id).then(function (resp) {
                if (resp.err) {
                    console.error(resp.err);
                } else {
                    var members = resp.re.members;
                    conv.members = members.map(function (m) {
                        return { userId: m.userId, name: m.name };
                    });
                    resolve(conv);
                }
            });
        });
    }
    function getMembers(conv_id) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    conversationId: conv_id
                };
                Lotus.ChatService.Conversation.getMembers(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function addMembers(conv_id) {
        var memberIds = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            memberIds[_i - 1] = arguments[_i];
        }
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    conversationId: conv_id,
                    memberIds: memberIds
                };
                Lotus.ChatService.Conversation.addMembers(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function findOne(userId) {
        return store_1.default.getState().conversationData.conversations.find(function (c) {
            return c.type == 0 && getPartner(c).userId == userId;
            //return c.members.length == 1 && c.members[0] == userId;
        });
    }
    function getById(conv_id) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = { conversationId: conv_id };
                Lotus.ChatService.Conversation.getById(data, function (error, result) {
                    if (error) console.error(error);else {
                        convert(result.conversation).then(function (conv) {
                            return resolve(conv);
                        });
                    }
                });
            });
        });
    }
    function updateTitle(conv_id, title) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    conversationId: conv_id,
                    title: title
                };
                Lotus.ChatService.Conversation.updateTitle(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function getLastConversations() {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var param = {
                    options: {
                        pageSize: 100,
                        messageId: null
                    }
                };
                Lotus.ChatService.Conversation.getPreviousPage(param, function (error, result) {
                    if (error) console.error(error);else {
                        var convConverters = result.conversations.map(function (c) {
                            return convert(c);
                        });
                        Promise.all(convConverters).then(function (cons) {
                            resolve(cons);
                        });
                    }
                });
            });
        });
    }
    function deleteConversation(conv_id) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                Lotus.ChatService.Conversation.delete({ conversationId: conv_id }, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function leaveConversation(conv_id) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                Lotus.ChatService.Conversation.leaveGroup({ conversationId: conv_id }, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function getPartner(conv) {
        var owner = store_1.default.getState().userData.user;
        for (var i = 0; i < conv.members.length; i++) {
            var m = conv.members[i];
            if (m.userId != owner.userId) {
                return m;
            }
        }
        return null;
    }
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }],
        execute: function () {
            exports_1("getPartner", getPartner);
            exports_1("createOne", createOne);
            exports_1("findOne", findOne);
            exports_1("createGroup", createGroup);
            exports_1("getById", getById);
            exports_1("convert", convert);
            exports_1("getMembers", getMembers);
            exports_1("addMembers", addMembers);
            exports_1("updateTitle", updateTitle);
            exports_1("getLastConversations", getLastConversations);
            exports_1("deleteConversation", deleteConversation);
            exports_1("leaveConversation", leaveConversation);
        }
    };
});
$__System.register('1b2', ['1a7', '14b', '1ad', '156', '1b1'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1, store_1, bus_1, types_1, conversationTools;
    function addOrUpdateAll(cons) {
        return { type: types_1.CONVERSATIONS.ADD_OR_UPDATE_ALL, data: cons };
    }
    exports_1("addOrUpdateAll", addOrUpdateAll);
    function createNewFailed(error) {
        return { type: types_1.CONVERSATIONS.CREATE_NEW_FAILED, data: error };
    }
    exports_1("createNewFailed", createNewFailed);
    function loadingMessages(id, isLoading) {
        return { type: types_1.CONVERSATIONS.LOADING_MESSAGES, data: { id: id, isLoading: isLoading } };
    }
    exports_1("loadingMessages", loadingMessages);
    function addOrUpdate(conv) {
        return { type: types_1.CONVERSATIONS.ADD_OR_UPDATE, data: conv };
    }
    exports_1("addOrUpdate", addOrUpdate);
    function update(conv) {
        return { type: types_1.CONVERSATIONS.UPDATE_CONVERSATION, data: conv };
    }
    exports_1("update", update);
    function loadconversations() {
        return function (dispatch) {
            dispatch(toggleLoadingConverstions(true));
            conversationTools.getLastConversations().then(function (cons) {
                dispatch(toggleLoadingConverstions(false));
                dispatch(conversationsLoaded(cons));
            }).catch(function (err) {
                dispatch(toggleLoadingConverstions(false));
                console.error(err);
            });
        };
    }
    exports_1("loadconversations", loadconversations);
    function loadConversationsFailed(err) {
        return { type: types_1.CONVERSATIONS.LOAD_CONVERSATIONS_FAILED, data: err };
    }
    exports_1("loadConversationsFailed", loadConversationsFailed);
    function conversationsLoaded(conversations) {
        return function (dispatch) {
            dispatch({ type: types_1.CONVERSATIONS.CONVERSATIONS_LOADED, data: { conversations: conversations } });
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.CONVERSATIONS_LOADED, conversations);
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.ON_CHANGE);
        };
    }
    exports_1("conversationsLoaded", conversationsLoaded);
    function toggleLoadingConverstions(isLoading) {
        return { type: types_1.CONVERSATIONS.TOGGLE_LOADING_CONVERSATIONS, data: isLoading };
    }
    exports_1("toggleLoadingConverstions", toggleLoadingConverstions);
    function setFilter(text) {
        return { type: types_1.CONVERSATIONS.SET_FILTER, data: text };
    }
    exports_1("setFilter", setFilter);
    function setActiveAndMarkAsRead(conv_id) {
        return function (dispatch) {
            dispatch(setActive(conv_id));
            dispatch(doMarkAsRead(conv_id));
        };
    }
    exports_1("setActiveAndMarkAsRead", setActiveAndMarkAsRead);
    function setActive(conv_id) {
        return { type: types_1.CONVERSATIONS.SET_ACTIVE, data: conv_id };
    }
    exports_1("setActive", setActive);
    function markAsRead(conv_id) {
        return { type: types_1.CONVERSATIONS.MARK_AS_READ, data: conv_id };
    }
    exports_1("markAsRead", markAsRead);
    function doMarkAsRead(conv_id) {
        return function (dispatch) {
            var conv = store_1.default.getState().conversationData.conversations.filter(function (c) {
                return c.id == conv_id;
            })[0];
            if (conv) {
                var lotus = lotus_service_1.default.singleton();
                lotus.ready().then(function (Lotus) {
                    var data = {
                        conversationId: conv_id,
                        messageId: conv.last_message.id
                    };
                    Lotus.ChatService.Message.setReadMessage(data, function (error, result) {
                        if (!error) dispatch(markAsRead(conv.id));else console.error(error);
                    });
                });
            }
        };
    }
    exports_1("doMarkAsRead", doMarkAsRead);
    function restoreConversations() {
        var conversationsData = localStorage.getItem('seen-chat.conversations');
        try {
            var conversations = JSON.parse(conversationsData) || [];
            store_1.default.dispatch(conversationsLoaded(conversations));
        } catch (err) {
            localStorage.removeItem('seen-chat.conversations');
            console.error(err);
        }
    }
    exports_1("restoreConversations", restoreConversations);
    function updateTitle(conv_id, title) {
        return function (dispatch) {
            dispatch({ type: types_1.CONVERSATIONS.UPDATE_TITLE, data: { conv_id: conv_id, title: title } });
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.UPDATE_TITLE, conv_id, title);
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.ON_CHANGE);
        };
    }
    exports_1("updateTitle", updateTitle);
    function addMembers(conv_id) {
        var memberIds = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            memberIds[_i - 1] = arguments[_i];
        }
        return function (dispatch) {
            dispatch({ type: types_1.CONVERSATIONS.ADD_MEMBERS, data: { conv_id: conv_id, memberIds: memberIds } });
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.ADD_MEMBERS, memberIds);
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.ON_CHANGE);
        };
    }
    exports_1("addMembers", addMembers);
    function createGroup(conv) {
        return function (dispatch) {
            dispatch({ type: types_1.CONVERSATIONS.CREATE_GROUP, data: conv });
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.CREATE_GROUP, conv);
            bus_1.default.conversations.emit(types_1.CONVERSATIONS.ON_CHANGE);
        };
    }
    exports_1("createGroup", createGroup);
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (conversationTools_1) {
            conversationTools = conversationTools_1;
        }],
        execute: function () {
            bus_1.default.conversations.on('ConversationsChanged', function () {
                var conversations = store_1.default.getState().conversationData.conversations;
                localStorage.setItem('seen-chat.conversations', JSON.stringify(conversations));
            });
        }
    };
});
$__System.register('158', ['1a7', '1ad', '1b2', '156', '157'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1, bus_1, conversationActions, types_1, messageTools;
    var loadHistoryRequests, isLoadingHistory;
    function loadMore(conv_id, reload, successCallback) {
        return function (dispatch) {
            dispatch(conversationActions.loadingMessages(conv_id, true));
            var lotus = lotus_service_1.default.singleton();
            lotus.ready().then(function (Lotus) {
                var settings = messageTools.getLoadMoreSettings(conv_id);
                if (reload && settings.options.messageId) {
                    settings.options.messageId = settings.options.oldMessageId;
                }
                loadHistory(Lotus, settings, function (resp) {
                    dispatch(conversationActions.loadingMessages(conv_id, false));
                    var err = resp ? resp.err : null;
                    var messages = resp && resp.re ? resp.re.rows : [];
                    var options = resp && resp.re ? resp.re.options : null;
                    if (options) {
                        settings.options.oldMessageId = settings.options.messageId;
                        settings.options.messageId = options.messageId;
                    }
                    if (!err) {
                        var newList = messages.map(function (m) {
                            var msg = {
                                conv_id: m.conversationId,
                                message_id: m.messageId,
                                created_time: new Date(m.time),
                                message_type: m.type,
                                sender_id: m.senderId,
                                content: m.body.content,
                                status: ''
                            };
                            return msg;
                        });
                        dispatch(loadMoreSuccess(conv_id, newList, settings));
                        if (successCallback) successCallback();
                    } else {
                        console.error('Loading more messages failed: ', resp.err);
                        dispatch(loadMoreFailed(conv_id, resp.err));
                    }
                });
            });
        };
    }
    exports_1("loadMore", loadMore);
    function loadMoreSuccess(conv_id, messages, settings) {
        return function (dispatch) {
            dispatch({ type: types_1.MESSAGES.LOAD_MORE_MESSAGES_SUCCESS, data: { conv_id: conv_id, messages: messages, settings: settings } });
            bus_1.default.conversations.cat(conv_id).emit(types_1.MESSAGES.LOAD_MORE_MESSAGES_SUCCESS, messages);
        };
    }
    exports_1("loadMoreSuccess", loadMoreSuccess);
    function loadMoreFailed(conv_id, error) {
        return { type: types_1.MESSAGES.LOAD_MORE_MESSAGES_FAILED, data: { conv_id: conv_id, error: error } };
    }
    exports_1("loadMoreFailed", loadMoreFailed);
    function sendTextMessage(conv_id, content) {
        return function (dispatch) {
            var lotus = lotus_service_1.default.singleton();
            lotus.ready().then(function (Lotus) {
                messageTools.TextMessage.create(conv_id, content).then(function (msg) {
                    //dispatch START_SEND_MESSAGE to begin sending message.
                    //This time the msg may be pushed to history view.
                    var message_id = msg.message_id;
                    dispatch(startSendingMessage(msg));
                    var data = {
                        conversationId: msg.conv_id,
                        preview: 'Text Message',
                        body: {
                            content: msg.content
                        }
                    };
                    Lotus.ChatService.Message.chat(data, null, function (error, result) {
                        if (error) {
                            //dispatch SEND_MESSAGE_FAILED to update MSG status and notify to user.
                            dispatch(sendMessageFailed(msg, error));
                        } else {
                            //dispatch SEND_MESSAGE_SUCCESS to update MSG status and notify to user.
                            var m = result.message;
                            dispatch(sendMessageSuccess(conv_id, message_id, { message_id: m.message_id, created_time: new Date(m.time) }));
                        }
                    });
                });
            });
        };
    }
    exports_1("sendTextMessage", sendTextMessage);
    function sendFileMessage(msg) {
        return function (dispatch) {
            var lotus = lotus_service_1.default.singleton();
            lotus.ready().then(function (Lotus) {
                Lotus.messages.send(msg, function (resp) {
                    if (resp.err) {
                        //dispatch SEND_MESSAGE_FAILED to update MSG status and notify to user.
                        dispatch(sendMessageFailed(msg, resp.err));
                    } else {
                        //dispatch SEND_MESSAGE_SUCCESS to update MSG status and notify to user.
                        dispatch(sendMessageSuccess(msg.conv_id, msg.message_id, resp.re));
                    }
                });
            });
        };
    }
    exports_1("sendFileMessage", sendFileMessage);
    function uploadFile(msg) {
        return function (dispatch) {
            return new Promise(function (resolve, reject) {
                dispatch(startUploadingFile(msg));
                messageTools.FileMessage.upload(msg.content.file, function (progress) {
                    var val = parseFloat(progress);
                    dispatch(uploadProgress(msg.conv_id, msg.message_id, val));
                }, function (result) {
                    dispatch(uploadSuccess(msg.conv_id, msg.message_id, result.token));
                    resolve();
                }, function (err) {
                    var errorAction = uploadFailed(msg.conv_id, msg.message_id, err);
                    dispatch(errorAction);
                    reject(err);
                });
            });
        };
    }
    function startUploadingFile(msg) {
        return { type: types_1.MESSAGES.START_UPLOADING_FILE, data: msg };
    }
    exports_1("startUploadingFile", startUploadingFile);
    function uploadProgress(conv_id, message_id, progressValue) {
        return { type: types_1.MESSAGES.UPLOAD_FILE_PROGRESS, data: { conv_id: conv_id, message_id: message_id, progressValue: progressValue } };
    }
    exports_1("uploadProgress", uploadProgress);
    function uploadSuccess(conv_id, message_id, token) {
        return { type: types_1.MESSAGES.UPLOAD_SUCCESS, data: { conv_id: conv_id, message_id: message_id, token: token } };
    }
    function uploadFailed(conv_id, message_id, error) {
        return { type: types_1.MESSAGES.UPLOAD_FAILED, data: { conv_id: conv_id, message_id: message_id, error: error } };
    }
    function startSendingMessage(msg) {
        return function (dispatch) {
            dispatch({ type: types_1.MESSAGES.START_SEND_MESSAGE, data: msg });
            bus_1.default.conversations.cat(msg.conv_id).emit(types_1.MESSAGES.START_SEND_MESSAGE, msg);
        };
    }
    exports_1("startSendingMessage", startSendingMessage);
    function sendMessageSuccess(conv_id, message_id, data) {
        return function (dispatch) {
            dispatch({
                type: types_1.MESSAGES.SEND_MESSAGE_SUCCESS,
                data: { conv_id: conv_id, message_id: message_id, message: data }
            });
            bus_1.default.conversations.cat(conv_id).emit(types_1.MESSAGES.SEND_MESSAGE_SUCCESS);
        };
    }
    exports_1("sendMessageSuccess", sendMessageSuccess);
    function sendMessageFailed(msg, err) {
        return function (dispatch) {
            dispatch({ type: types_1.MESSAGES.SEND_MESSAGE_FAILED, data: msg, error: err });
            bus_1.default.conversations.cat(msg.conv_id).emit(types_1.MESSAGES.SEND_MESSAGE_FAILED);
        };
    }
    exports_1("sendMessageFailed", sendMessageFailed);
    function insertMessage(msg) {
        return function (dispatch) {
            dispatch({ type: types_1.MESSAGES.INSERT_MESSAGE, data: msg });
            bus_1.default.conversations.cat(msg.conv_id).emit(types_1.MESSAGES.INSERT_MESSAGE, msg);
        };
    }
    exports_1("insertMessage", insertMessage);
    function loadHistory(Lotus, settings, cb) {
        var busy = loadHistoryRequests.length > 0;
        loadHistoryRequests.push({ settings: settings, cb: cb });
        startLoadingHistory(Lotus);
    }
    function startLoadingHistory(Lotus) {
        if (isLoadingHistory) return;
        if (loadHistoryRequests.length) {
            isLoadingHistory = true;
            var request = loadHistoryRequests.pop();
            doLoadingHistory(Lotus, request, function () {
                isLoadingHistory = false;
                startLoadingHistory(Lotus); //process next request.
            });
        }
    }
    function doLoadingHistory(Lotus, request, done) {
        var settings = request.settings;
        var cb = request.cb;
        Lotus.ChatService.Message.getPreviousPage(settings, function (error, result) {
            done();
            cb({ err: error, re: result });
        });
    }
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }, function (conversationActions_1) {
            conversationActions = conversationActions_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }],
        execute: function () {
            loadHistoryRequests = [];
            isLoadingHistory = false;
        }
    };
});
$__System.register("1aa", ["156"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function active() {
        return { type: types_1.APPLICATION.ACTIVE };
    }
    exports_1("active", active);
    function inactive() {
        return { type: types_1.APPLICATION.INACTIVE };
    }
    exports_1("inactive", inactive);
    function toggleLoading(isLoading) {
        return { type: types_1.APPLICATION.TOGGLE_LOADING, data: isLoading };
    }
    exports_1("toggleLoading", toggleLoading);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register('1a8', ['1a7'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1;
    var UserService;
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }],
        execute: function () {
            UserService = function () {
                function UserService() {}
                UserService.prototype.ssoLogin = function () {
                    return new Promise(function (resolve, reject) {
                        /*
                        var param = {
                            idToken: idToken,
                            deviceId: deviceId
                        }
                        Lotus.AccountService.Session.tokenSignIn(param, function(error, result, payload, roundTripTime, serverLatency) {
                            print('#tokenSignIn', error, result, payload, roundTripTime, serverLatency)
                            assert.equal(null, error);
                            if (!error) {}
                            done();
                        });
                        */
                        var accessToken = localStorage.getItem('access_token');
                        var deviceId = localStorage.getItem('device_id');
                        if (accessToken) {
                            var lotus = lotus_service_1.default.singleton();
                            lotus.isInit().then(function (Lotus) {
                                var data = {
                                    idToken: accessToken,
                                    deviceId: deviceId || 'BROWSER'
                                };
                                Lotus.AccountService.Session.tokenSignIn(data, function (error, result) {
                                    resolve({ err: error, re: result });
                                });
                            });
                        } else {
                            resolve({ err: 'The access_token is not found.' });
                        }
                    });
                };
                UserService.prototype.login = function (email, password) {
                    return new Promise(function (resolve) {
                        lotus_service_1.default.singleton().isInit().then(function (Lotus) {
                            /*
                            var param = {
                                email: user.email,
                                password: user.password,
                                deviceId: user.deviceId,
                            }
                                         Lotus.AccountService.Session.signIn(param, function(error, result, payload, roundTripTime, serverLatency) {
                                print('#signIn', error, result, payload, roundTripTime, serverLatency)
                                assert.equal(null, error);
                                if (!error) {
                                    idToken = result.idToken;
                                    deviceId = result.user.deviceId;
                                }
                                done();
                            });
                            */
                            var deviceId = localStorage.getItem('device_id');
                            var data = {
                                email: email,
                                password: password,
                                deviceId: deviceId || 'BROWSER'
                            };
                            Lotus.AccountService.Session.signIn(data, function (error, result) {
                                resolve({ err: error, re: result });
                            });
                        });
                    });
                };
                UserService.prototype.signup = function (name, email, password, avatarUrl, profileUrl) {
                    /*
                    var param = {
                        name: user.name,
                        email: user.email,
                        password: user.password,
                        avatarUrl: user.avatarUrl,
                        profileUrl: user.profileUrl,
                        privacyLevel: 0
                    };
                                 Lotus.AccountService.Account.signUp(param, function(error, result, payload, roundTripTime, serverLatency) {
                        print('#signUp', error, result, payload, roundTripTime, serverLatency)
                                     if (error) {
                            assert.equal("Error.AccountService.Account.EMAIL_EXISTS", error.code);
                        }
                                     if (!error) {
                            idToken = result.idToken;
                        }
                        done();
                    });
                    */
                    if (avatarUrl === void 0) {
                        avatarUrl = '';
                    }
                    if (profileUrl === void 0) {
                        profileUrl = '';
                    }
                    var data = {
                        name: name || email,
                        email: email,
                        password: password,
                        avatarUrl: avatarUrl,
                        profileUrl: profileUrl,
                        privacyLevel: 0
                    };
                    return new Promise(function (resolve) {
                        lotus_service_1.default.singleton().isInit().then(function (Lotus) {
                            Lotus.AccountService.Account.signUp(data, function (error, result) {
                                resolve({ err: error, re: result });
                            });
                        });
                    });
                };
                UserService.prototype.loginOrSignup = function (email, password) {
                    var _this = this;
                    return new Promise(function (resolve) {
                        _this.login(email, password).then(function (resp) {
                            if (resp.err) {
                                var err = resp.err;
                                if (err.code == 'Error.AccountService.Account.EMAIL_DOES_NOT_EXIST' || err.code == 'Error.Account1Service.Account1.EMAIL_LOGIN_FAILED') {
                                    var idx = email.indexOf('@');
                                    var name = String(email).substr(0, idx);
                                    _this.signup(name, email, password).then(resolve);
                                } else {
                                    resolve(resp);
                                }
                            } else {
                                resolve(resp);
                            }
                        });
                    });
                };
                UserService.singleton = function () {
                    if (!UserService._instance) {
                        UserService._instance = new UserService();
                    }
                    return UserService._instance;
                };
                return UserService;
            }();
            exports_1("default", UserService);
        }
    };
});
$__System.register('14c', ['156', '1aa', '1a8', '1a0', '1ad'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1, ApplicationActions, user_service_1, bus_1, bus_2;
    var model, userActions;
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }, function (ApplicationActions_1) {
            ApplicationActions = ApplicationActions_1;
        }, function (user_service_1_1) {
            user_service_1 = user_service_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }, function (bus_2_1) {
            bus_2 = bus_2_1;
        }],
        execute: function () {
            model = {
                app: {
                    actions: ApplicationActions
                },
                users: {
                    service: user_service_1.default,
                    bus: bus_1.default.singleton().cat('model').cat('users')
                }
            };
            userActions = {
                login: function (email, password, doneCallback) {
                    return function (dispatch) {
                        dispatch(model.app.actions.toggleLoading(true));
                        model.users.service.singleton().login(email, password).then(function (resp) {
                            dispatch(model.app.actions.toggleLoading(false));
                            if (!resp.err) {
                                localStorage.setItem('access_token', resp.re.idToken);
                                localStorage.setItem('device_id', resp.re.deviceId);
                                dispatch(userActions.loginSuccess(resp.re.user));
                                //dispatch(userActions.ssoLogin());
                                model.users.bus.emit('LoginSuccess', resp.re.user);
                            } else {
                                dispatch(userActions.loginFailed(resp.err));
                                model.users.bus.emit('LoginFailed', resp.err);
                            }
                            doneCallback(resp);
                        });
                    };
                },
                loginFailed: function (error) {
                    return { type: types_1.USERS.LOGIN_FAILED, data: { error: error } };
                },
                loginSuccess: function (user) {
                    return { type: types_1.USERS.LOGIN_SUCCESS, data: user };
                },
                signupSuccess: function (user) {
                    return { type: types_1.USERS.SIGNUP_SUCCESS, data: user };
                },
                signupFailed: function (error) {
                    return { type: types_1.USERS.SIGNUP_FAILED, data: { error: error } };
                },
                signup: function (name, email, password, doneCallback) {
                    return function (dispatch) {
                        dispatch(model.app.actions.toggleLoading(true));
                        model.users.service.singleton().signup(name, email, password).then(function (resp) {
                            dispatch(model.app.actions.toggleLoading(false));
                            if (!resp.err) {
                                localStorage.setItem('access_token', resp.re.idToken);
                                localStorage.setItem('device_id', resp.re.deviceId);
                                dispatch(userActions.signupSuccess(resp.re.user));
                                model.users.bus.emit('SignupSuccess', resp.re.user);
                            } else {
                                dispatch(userActions.signupFailed(resp.err));
                                model.users.bus.emit('SignupFailed', resp.err);
                            }
                            doneCallback(resp);
                        });
                    };
                },
                ssoLogin: function () {
                    return function (dispatch) {
                        dispatch(model.app.actions.toggleLoading(true));
                        model.users.service.singleton().ssoLogin().then(function (resp) {
                            dispatch(model.app.actions.toggleLoading(false));
                            if (resp) {
                                if (!resp.err) {
                                    dispatch(userActions.ssoLoginSuccess(resp.re.user));
                                    model.users.bus.emit('LoginSuccess', resp.re.user);
                                } else {
                                    dispatch(userActions.ssoLoginFailed(resp.err));
                                    model.users.bus.emit('LoginFailed', resp.err);
                                }
                            }
                        });
                    };
                },
                ssoLoginSuccess: function (profile) {
                    return { type: types_1.USERS.SSO_LOGIN_SUCCESS, data: profile };
                },
                ssoLoginFailed: function (resp) {
                    return { type: types_1.USERS.SSO_LOGIN_FAILED, data: resp };
                },
                updateProfile: function (profile) {
                    return function (dispatch) {
                        dispatch({ type: types_1.USERS.UPDATE_PROFILE, data: profile });
                        bus_2.default.users.emit(types_1.USERS.UPDATE_PROFILE, profile);
                    };
                },
                addFriend: function (email) {
                    return function (dispatch) {
                        dispatch({ type: types_1.USERS.ADD_FRIEND, email: email });
                        bus_2.default.users.emit(types_1.USERS.ADD_FRIEND, email);
                    };
                }
            };
            exports_1("default", userActions);
        }
    };
});
$__System.registerDynamic("1b3", [], true, function($__require, exports, module) {
  "use strict";
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  function createThunkMiddleware(extraArgument) {
    return function(_ref) {
      var dispatch = _ref.dispatch;
      var getState = _ref.getState;
      return function(next) {
        return function(action) {
          if (typeof action === 'function') {
            return action(dispatch, getState, extraArgument);
          }
          return next(action);
        };
      };
    };
  }
  var thunk = createThunkMiddleware();
  thunk.withExtraArgument = createThunkMiddleware;
  exports['default'] = thunk;
  return module.exports;
});

$__System.registerDynamic("1b4", [], true, function($__require, exports, module) {
  "use strict";
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = function symbolObservablePonyfill(root) {
    var result;
    var Symbol = root.Symbol;
    if (typeof Symbol === 'function') {
      if (Symbol.observable) {
        result = Symbol.observable;
      } else {
        result = Symbol('observable');
        Symbol.observable = result;
      }
    } else {
      result = '@@observable';
    }
    return result;
  };
  return module.exports;
});

$__System.registerDynamic("1b5", ["1b4"], true, function($__require, exports, module) {
  "use strict";
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  module.exports = $__require('1b4')(global || window || this);
  return module.exports;
});

$__System.registerDynamic("1b6", ["1b7", "1b5", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  exports.ActionTypes = undefined;
  exports["default"] = createStore;
  var _isPlainObject = $__require('1b7');
  var _isPlainObject2 = _interopRequireDefault(_isPlainObject);
  var _symbolObservable = $__require('1b5');
  var _symbolObservable2 = _interopRequireDefault(_symbolObservable);
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default": obj};
  }
  var ActionTypes = exports.ActionTypes = {INIT: '@@redux/INIT'};
  function createStore(reducer, initialState, enhancer) {
    var _ref2;
    if (typeof initialState === 'function' && typeof enhancer === 'undefined') {
      enhancer = initialState;
      initialState = undefined;
    }
    if (typeof enhancer !== 'undefined') {
      if (typeof enhancer !== 'function') {
        throw new Error('Expected the enhancer to be a function.');
      }
      return enhancer(createStore)(reducer, initialState);
    }
    if (typeof reducer !== 'function') {
      throw new Error('Expected the reducer to be a function.');
    }
    var currentReducer = reducer;
    var currentState = initialState;
    var currentListeners = [];
    var nextListeners = currentListeners;
    var isDispatching = false;
    function ensureCanMutateNextListeners() {
      if (nextListeners === currentListeners) {
        nextListeners = currentListeners.slice();
      }
    }
    function getState() {
      return currentState;
    }
    function subscribe(listener) {
      if (typeof listener !== 'function') {
        throw new Error('Expected listener to be a function.');
      }
      var isSubscribed = true;
      ensureCanMutateNextListeners();
      nextListeners.push(listener);
      return function unsubscribe() {
        if (!isSubscribed) {
          return;
        }
        isSubscribed = false;
        ensureCanMutateNextListeners();
        var index = nextListeners.indexOf(listener);
        nextListeners.splice(index, 1);
      };
    }
    function dispatch(action) {
      if (!(0, _isPlainObject2["default"])(action)) {
        throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');
      }
      if (typeof action.type === 'undefined') {
        throw new Error('Actions may not have an undefined "type" property. ' + 'Have you misspelled a constant?');
      }
      if (isDispatching) {
        throw new Error('Reducers may not dispatch actions.');
      }
      try {
        isDispatching = true;
        currentState = currentReducer(currentState, action);
      } finally {
        isDispatching = false;
      }
      var listeners = currentListeners = nextListeners;
      for (var i = 0; i < listeners.length; i++) {
        listeners[i]();
      }
      return action;
    }
    function replaceReducer(nextReducer) {
      if (typeof nextReducer !== 'function') {
        throw new Error('Expected the nextReducer to be a function.');
      }
      currentReducer = nextReducer;
      dispatch({type: ActionTypes.INIT});
    }
    function observable() {
      var _ref;
      var outerSubscribe = subscribe;
      return _ref = {subscribe: function subscribe(observer) {
          if (typeof observer !== 'object') {
            throw new TypeError('Expected the observer to be an object.');
          }
          function observeState() {
            if (observer.next) {
              observer.next(getState());
            }
          }
          observeState();
          var unsubscribe = outerSubscribe(observeState);
          return {unsubscribe: unsubscribe};
        }}, _ref[_symbolObservable2["default"]] = function() {
        return this;
      }, _ref;
    }
    dispatch({type: ActionTypes.INIT});
    return _ref2 = {
      dispatch: dispatch,
      subscribe: subscribe,
      getState: getState,
      replaceReducer: replaceReducer
    }, _ref2[_symbolObservable2["default"]] = observable, _ref2;
  }
  return module.exports;
});

$__System.registerDynamic("1b8", [], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  var nativeGetPrototype = Object.getPrototypeOf;
  function getPrototype(value) {
    return nativeGetPrototype(Object(value));
  }
  module.exports = getPrototype;
  return module.exports;
});

$__System.registerDynamic("1b9", [], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  function isHostObject(value) {
    var result = false;
    if (value != null && typeof value.toString != 'function') {
      try {
        result = !!(value + '');
      } catch (e) {}
    }
    return result;
  }
  module.exports = isHostObject;
  return module.exports;
});

$__System.registerDynamic("1ba", [], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  function isObjectLike(value) {
    return !!value && typeof value == 'object';
  }
  module.exports = isObjectLike;
  return module.exports;
});

$__System.registerDynamic("1b7", ["1b8", "1b9", "1ba"], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  var getPrototype = $__require('1b8'),
      isHostObject = $__require('1b9'),
      isObjectLike = $__require('1ba');
  var objectTag = '[object Object]';
  var objectProto = Object.prototype;
  var funcToString = Function.prototype.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var objectCtorString = funcToString.call(Object);
  var objectToString = objectProto.toString;
  function isPlainObject(value) {
    if (!isObjectLike(value) || objectToString.call(value) != objectTag || isHostObject(value)) {
      return false;
    }
    var proto = getPrototype(value);
    if (proto === null) {
      return true;
    }
    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
    return (typeof Ctor == 'function' && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);
  }
  module.exports = isPlainObject;
  return module.exports;
});

$__System.registerDynamic("1bb", ["1b6", "1b7", "1bc", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  exports["default"] = combineReducers;
  var _createStore = $__require('1b6');
  var _isPlainObject = $__require('1b7');
  var _isPlainObject2 = _interopRequireDefault(_isPlainObject);
  var _warning = $__require('1bc');
  var _warning2 = _interopRequireDefault(_warning);
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default": obj};
  }
  function getUndefinedStateErrorMessage(key, action) {
    var actionType = action && action.type;
    var actionName = actionType && '"' + actionType.toString() + '"' || 'an action';
    return 'Given action ' + actionName + ', reducer "' + key + '" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state.';
  }
  function getUnexpectedStateShapeWarningMessage(inputState, reducers, action) {
    var reducerKeys = Object.keys(reducers);
    var argumentName = action && action.type === _createStore.ActionTypes.INIT ? 'initialState argument passed to createStore' : 'previous state received by the reducer';
    if (reducerKeys.length === 0) {
      return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';
    }
    if (!(0, _isPlainObject2["default"])(inputState)) {
      return 'The ' + argumentName + ' has unexpected type of "' + {}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1] + '". Expected argument to be an object with the following ' + ('keys: "' + reducerKeys.join('", "') + '"');
    }
    var unexpectedKeys = Object.keys(inputState).filter(function(key) {
      return !reducers.hasOwnProperty(key);
    });
    if (unexpectedKeys.length > 0) {
      return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('"' + unexpectedKeys.join('", "') + '" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('"' + reducerKeys.join('", "') + '". Unexpected keys will be ignored.');
    }
  }
  function assertReducerSanity(reducers) {
    Object.keys(reducers).forEach(function(key) {
      var reducer = reducers[key];
      var initialState = reducer(undefined, {type: _createStore.ActionTypes.INIT});
      if (typeof initialState === 'undefined') {
        throw new Error('Reducer "' + key + '" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined.');
      }
      var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');
      if (typeof reducer(undefined, {type: type}) === 'undefined') {
        throw new Error('Reducer "' + key + '" returned undefined when probed with a random type. ' + ('Don\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in "redux/*" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined.');
      }
    });
  }
  function combineReducers(reducers) {
    var reducerKeys = Object.keys(reducers);
    var finalReducers = {};
    for (var i = 0; i < reducerKeys.length; i++) {
      var key = reducerKeys[i];
      if (typeof reducers[key] === 'function') {
        finalReducers[key] = reducers[key];
      }
    }
    var finalReducerKeys = Object.keys(finalReducers);
    var sanityError;
    try {
      assertReducerSanity(finalReducers);
    } catch (e) {
      sanityError = e;
    }
    return function combination() {
      var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
      var action = arguments[1];
      if (sanityError) {
        throw sanityError;
      }
      if ("production" !== 'production') {
        var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action);
        if (warningMessage) {
          (0, _warning2["default"])(warningMessage);
        }
      }
      var hasChanged = false;
      var nextState = {};
      for (var i = 0; i < finalReducerKeys.length; i++) {
        var key = finalReducerKeys[i];
        var reducer = finalReducers[key];
        var previousStateForKey = state[key];
        var nextStateForKey = reducer(previousStateForKey, action);
        if (typeof nextStateForKey === 'undefined') {
          var errorMessage = getUndefinedStateErrorMessage(key, action);
          throw new Error(errorMessage);
        }
        nextState[key] = nextStateForKey;
        hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
      }
      return hasChanged ? nextState : state;
    };
  }
  return module.exports;
});

$__System.registerDynamic("1bd", ["3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  exports["default"] = bindActionCreators;
  function bindActionCreator(actionCreator, dispatch) {
    return function() {
      return dispatch(actionCreator.apply(undefined, arguments));
    };
  }
  function bindActionCreators(actionCreators, dispatch) {
    if (typeof actionCreators === 'function') {
      return bindActionCreator(actionCreators, dispatch);
    }
    if (typeof actionCreators !== 'object' || actionCreators === null) {
      throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');
    }
    var keys = Object.keys(actionCreators);
    var boundActionCreators = {};
    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      var actionCreator = actionCreators[key];
      if (typeof actionCreator === 'function') {
        boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
      }
    }
    return boundActionCreators;
  }
  return module.exports;
});

$__System.registerDynamic("1be", ["1bf", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  var _extends = Object.assign || function(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  exports["default"] = applyMiddleware;
  var _compose = $__require('1bf');
  var _compose2 = _interopRequireDefault(_compose);
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default": obj};
  }
  function applyMiddleware() {
    for (var _len = arguments.length,
        middlewares = Array(_len),
        _key = 0; _key < _len; _key++) {
      middlewares[_key] = arguments[_key];
    }
    return function(createStore) {
      return function(reducer, initialState, enhancer) {
        var store = createStore(reducer, initialState, enhancer);
        var _dispatch = store.dispatch;
        var chain = [];
        var middlewareAPI = {
          getState: store.getState,
          dispatch: function dispatch(action) {
            return _dispatch(action);
          }
        };
        chain = middlewares.map(function(middleware) {
          return middleware(middlewareAPI);
        });
        _dispatch = _compose2["default"].apply(undefined, chain)(store.dispatch);
        return _extends({}, store, {dispatch: _dispatch});
      };
    };
  }
  return module.exports;
});

$__System.registerDynamic("1bf", ["3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  exports["default"] = compose;
  function compose() {
    for (var _len = arguments.length,
        funcs = Array(_len),
        _key = 0; _key < _len; _key++) {
      funcs[_key] = arguments[_key];
    }
    if (funcs.length === 0) {
      return function(arg) {
        return arg;
      };
    } else {
      var _ret = function() {
        var last = funcs[funcs.length - 1];
        var rest = funcs.slice(0, -1);
        return {v: function v() {
            return rest.reduceRight(function(composed, f) {
              return f(composed);
            }, last.apply(undefined, arguments));
          }};
      }();
      if (typeof _ret === "object")
        return _ret.v;
    }
  }
  return module.exports;
});

$__System.registerDynamic("1bc", ["3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  exports["default"] = warning;
  function warning(message) {
    if (typeof console !== 'undefined' && typeof console.error === 'function') {
      console.error(message);
    }
    try {
      throw new Error(message);
    } catch (e) {}
  }
  return module.exports;
});

$__System.registerDynamic("@system-env", [], false, function() {
  return {
    "production": true,
    "browser": true,
    "node": false,
    "dev": false,
    "default": true
  };
});

$__System.registerDynamic("3", ["@system-env"], true, function($__require, exports, module) {
  ;
  var define,
      global = this || self,
      GLOBAL = global;
  var productionEnv = $__require('@system-env').production;
  var process = module.exports = {};
  var queue = [];
  var draining = false;
  var currentQueue;
  var queueIndex = -1;
  function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
      queue = currentQueue.concat(queue);
    } else {
      queueIndex = -1;
    }
    if (queue.length) {
      drainQueue();
    }
  }
  function drainQueue() {
    if (draining) {
      return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;
    var len = queue.length;
    while (len) {
      currentQueue = queue;
      queue = [];
      while (++queueIndex < len) {
        if (currentQueue) {
          currentQueue[queueIndex].run();
        }
      }
      queueIndex = -1;
      len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
  }
  process.nextTick = function(fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
      for (var i = 1; i < arguments.length; i++) {
        args[i - 1] = arguments[i];
      }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
      setTimeout(drainQueue, 0);
    }
  };
  function Item(fun, array) {
    this.fun = fun;
    this.array = array;
  }
  Item.prototype.run = function() {
    this.fun.apply(null, this.array);
  };
  process.title = 'browser';
  process.browser = true;
  process.env = {NODE_ENV: productionEnv ? 'production' : 'development'};
  process.argv = [];
  process.version = '';
  process.versions = {};
  function noop() {}
  process.on = noop;
  process.addListener = noop;
  process.once = noop;
  process.off = noop;
  process.removeListener = noop;
  process.removeAllListeners = noop;
  process.emit = noop;
  process.binding = function(name) {
    throw new Error('process.binding is not supported');
  };
  process.cwd = function() {
    return '/';
  };
  process.chdir = function(dir) {
    throw new Error('process.chdir is not supported');
  };
  process.umask = function() {
    return 0;
  };
  return module.exports;
});

$__System.registerDynamic("1c0", ["1b6", "1bb", "1bd", "1be", "1bf", "1bc", "3"], true, function($__require, exports, module) {
  "use strict";
  var process = $__require("3");
  var define,
      global = this || self,
      GLOBAL = global;
  exports.__esModule = true;
  exports.compose = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = undefined;
  var _createStore = $__require('1b6');
  var _createStore2 = _interopRequireDefault(_createStore);
  var _combineReducers = $__require('1bb');
  var _combineReducers2 = _interopRequireDefault(_combineReducers);
  var _bindActionCreators = $__require('1bd');
  var _bindActionCreators2 = _interopRequireDefault(_bindActionCreators);
  var _applyMiddleware = $__require('1be');
  var _applyMiddleware2 = _interopRequireDefault(_applyMiddleware);
  var _compose = $__require('1bf');
  var _compose2 = _interopRequireDefault(_compose);
  var _warning = $__require('1bc');
  var _warning2 = _interopRequireDefault(_warning);
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default": obj};
  }
  function isCrushed() {}
  if ("production" !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {
    (0, _warning2["default"])('You are currently using minified code outside of NODE_ENV === \'production\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');
  }
  exports.createStore = _createStore2["default"];
  exports.combineReducers = _combineReducers2["default"];
  exports.bindActionCreators = _bindActionCreators2["default"];
  exports.applyMiddleware = _applyMiddleware2["default"];
  exports.compose = _compose2["default"];
  return module.exports;
});

$__System.register("1c1", ["156"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function contactsReducer(state, action) {
        if (state === void 0) {
            state = { contacts: [], isMinimized: false };
        }
        switch (action.type) {
            case types_1.CONTACTS.ADD_CONTACT:
                var contact = action.data;
                var found = state.contacts.filter(function (c) {
                    return c.userId == contact.userId;
                })[0];
                if (found) return state;
                var newList = [contact].concat(state.contacts);
                return Object.assign({}, state, { contacts: newList });
            case types_1.CONTACTS.CONTACTS_LOADED:
                return Object.assign({}, state, { contacts: action.data });
            case types_1.CONTACTS.FETCHING_CONTACTS:
                return Object.assign({}, state, { isFetching: action.data });
            case types_1.CONTACTS.TOGGLE_WINDOW:
                var isMinimized = !state.isMinimized;
                if (action.data != null) isMinimized = action.data;
                return Object.assign({}, state, { isMinimized: isMinimized });
            case types_1.CONTACTS.SET_FILTER:
                return Object.assign({}, state, { filter: action.data });
            case types_1.CONTACTS.SET_ACTIVE:
                var user_id = action.data.user_id;
                var contacts = state.contacts.map(function (c) {
                    c.isActive = c.userId == user_id;
                    return c;
                });
                return Object.assign({}, state, { contacts: contacts });
            case types_1.CONTACTS.PARTNER_ADDED:
                var contact = action.data;
                var oldList = state.contacts;
                var found = oldList.filter(function (c) {
                    return c.userId == contact.userId;
                })[0];
                if (found) return state;
                var newList = [contact].concat(oldList);
                return Object.assign({}, state, { contacts: newList });
            case types_1.CONTACTS.PARTNER_REMOVED:
                var user_id = action.data;
                var oldList = state.contacts;
                var newList = oldList.filter(function (c) {
                    return c.userId != user_id;
                });
                return Object.assign({}, state, { contacts: newList });
            case types_1.CONTACTS.PARTNER_UPDATED:
                var email = action.data.email;
                var oldList = state.contacts;
                var newList = oldList.map(function (c) {
                    if (c.email == email) {
                        return Object.assign({}, c, action.data);
                    }
                    return c;
                });
                return Object.assign({}, state, { contacts: newList });
            default:
                return state;
        }
    }
    exports_1("default", contactsReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register("1c2", ["156"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function conversationsReducer(state, action) {
        if (state === void 0) {
            state = { conversations: [] };
        }
        var oldList;
        var newList;
        switch (action.type) {
            case types_1.CONVERSATIONS.LOADING_MESSAGES:
                oldList = state.conversations;
                newList = oldList.map(function (c) {
                    if (c.id == action.data.id) {
                        c.isLoadingMessages = action.data.isLoading;
                    }
                    return c;
                });
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.TOGGLE_LOADING_CONVERSATIONS:
                return Object.assign({}, state, { isLoading: action.data });
            case types_1.CONVERSATIONS.CONVERSATIONS_LOADED:
                var ids = [];
                var cons = action.data.conversations;
                newList = cons.filter(function (c) {
                    if (c && ids.indexOf(c.id) == -1) {
                        ids.push(c.id);
                        return true;
                    }
                    return false;
                });
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.MARK_AS_READ:
                var id = action.data;
                oldList = state.conversations;
                newList = oldList.map(function (c) {
                    if (c.id == id) {
                        return Object.assign({}, c, { unread_message_count: 0 });
                    }
                    return c;
                });
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.SET_FILTER:
                return Object.assign({}, state, { filter: action.data });
            case types_1.CONVERSATIONS.SET_ACTIVE:
                oldList = state.conversations;
                newList = oldList.map(function (c) {
                    if (c.id == action.data) {
                        c.isActive = true;
                        c.unread_message_count = 0;
                    } else {
                        c.isActive = false;
                    }
                    return c;
                });
                return Object.assign({}, state, { conversations: newList.slice() });
            case types_1.CONVERSATIONS.UPDATE_UNREAD_MESSAGE_COUNT:
                var id = action.conv_id;
                var count = action.unreadCount;
                oldList = state.conversations;
                newList = oldList.map(function (c) {
                    if (c.id == id && !c.isActive) {
                        c.unread_message_count = count;
                    }
                    return c;
                });
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.ADD_OR_UPDATE:
            case types_1.CONVERSATIONS.UPDATE_CONVERSATION:
                var conv = action.data;
                oldList = state.conversations;
                var found = oldList.find(function (c) {
                    return c.id == conv.id;
                });
                if (!found) {
                    newList = [conv].concat(oldList);
                } else {
                    newList = oldList.map(function (c) {
                        if (c.id == conv.id) {
                            var data = {
                                last_message: {
                                    created_time: conv.last_message.created_time,
                                    id: conv.last_message.id,
                                    sender_id: conv.last_message.sender_id,
                                    content: conv.last_message.content
                                },
                                unread_message_count: conv.unread_message_count
                            };
                            return Object.assign({}, c, data);
                        }
                        return c;
                    });
                }
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.ADD_OR_UPDATE_ALL:
                var cons = action.data;
                oldList = state.conversations;
                newList = [];
                while (cons.length) {
                    var conv = cons.pop();
                    var found = oldList.filter(function (c) {
                        return c.id == conv.id;
                    })[0];
                    if (!found) newList.push(conv);else {
                        var newConv = Object.assign({}, found, {
                            last_message: {
                                created_time: conv.last_message.created_time,
                                id: conv.last_message.id,
                                sender_id: conv.last_message.sender_id,
                                content: conv.last_message.content
                            },
                            unread_message_count: found.isActive ? 0 : (found.unread_message_count || 0) + 1
                        });
                        newList.push(newConv);
                    }
                }
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.UPDATE_TITLE:
                var data = action.data;
                var id = data.conv_id;
                var title = data.title;
                oldList = state.conversations;
                newList = oldList.map(function (c) {
                    if (c.id == id) {
                        c.title = title;
                    }
                    return c;
                });
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.ADD_MEMBERS:
                var members = action.data.members;
                var conv_id = action.data.conv_id;
                oldList = state.conversations;
                newList = oldList.slice();
                var conv = newList.find(function (c) {
                    return c.id == conv_id;
                });
                members.forEach(function (member) {
                    var found = conv.members.find(function (m) {
                        return m.userId == id;
                    });
                    if (!found) conv.members.push(member);
                });
                return Object.assign({}, state, { conversations: newList });
            case types_1.CONVERSATIONS.CREATE_GROUP:
                var conv = action.data;
                oldList = state.conversations;
                newList = [conv].concat(oldList);
                return Object.assign({}, state, { conversations: newList });
            default:
                return state;
        }
    }
    exports_1("default", conversationsReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register('1c3', ['156'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function chatboxesReducer(state, action) {
        if (state === void 0) {
            state = { chatboxes: [] };
        }
        switch (action.type) {
            case types_1.CHATBOXES.ADD_CHATBOX:
                //make new collection and push the conv into the list.
                var chatbox = action.data;
                if (!chatbox) throw Error('The action.data is undefined');
                var found = state.chatboxes.find(function (c) {
                    return c.conv_id == chatbox.conv_id;
                });
                if (!found) {
                    var newList = [chatbox].concat(state.chatboxes);
                    return Object.assign({}, state, { chatboxes: newList });
                }
                return state;
            case types_1.CHATBOXES.ADD_ALL:
                var items = action.data || [];
                //validate data
                items.forEach(function (item) {
                    if (!item) throw Error('The item is undefined.');
                });
                var newList = state.chatboxes.slice();
                items.forEach(function (item) {
                    var found = newList.find(function (c) {
                        return c.conv_id == item.conv_id;
                    });
                    if (!found) newList.unshift(item);
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.REMOVE_CHATBOX:
                var conv_id = action.data;
                var newList = state.chatboxes.filter(function (c) {
                    return c.conv_id != conv_id;
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.REMOVE_ALL:
                return Object.assign({}, state, { chatboxes: [] });
            case types_1.CHATBOXES.UPDATE:
                var conv_id = action.data.id;
                var data = action.data.data;
                var oldList = state.chatboxes;
                var newList = oldList.map(function (c) {
                    if (c.conv_id == conv_id) {
                        Object.assign(c, data);
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.SET_ACTIVE:
                var id = action.data;
                var oldList = state.chatboxes;
                var oldActive = oldList.find(function (c) {
                    return c.isActive;
                });
                if (oldActive && oldActive.conv_id == id) {
                    return state;
                }
                var newList = oldList.map(function (c) {
                    if (c.conv_id == id) {
                        Object.assign(c, { isMinimized: false, isActive: true, isHidden: false });
                    } else {
                        c.isActive = false;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.MARK_AS_READ:
                var id = action.data;
                var oldList = state.chatboxes;
                var newList = oldList.map(function (c) {
                    if (c.conv_id == id) {
                        c.hasNewMessage = false;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.SET_ACTIVE_AND_MOVE_TO_TOP:
                var id = action.data;
                var oldList = state.chatboxes;
                var newList = oldList.map(function (c) {
                    if (c.conv_id == id) {
                        Object.assign(c, { isMinimized: false, isActive: true, isHidden: false, last_action_time: Date.now() });
                    } else {
                        c.isActive = false;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.HIDE_CHATBOX:
                var chatboxes = state.chatboxes.map(function (c) {
                    if (c && c.conv_id == action.data) {
                        c.isHidden = true;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            case types_1.CHATBOXES.SHOW_CHATBOX:
                var chatboxes = state.chatboxes.map(function (c) {
                    if (c.conv_id == action.data) {
                        c.isHidden = false;
                        c.isMinimized = false;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            case types_1.CHATBOXES.TOGGLE_WINDOW:
                var chatboxes = state.chatboxes.map(function (c) {
                    if (c.conv_id == action.data) {
                        c.isMinimized = !c.isMinimized;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            case types_1.CHATBOXES.MINIMIZE:
                var chatboxes = state.chatboxes.map(function (c) {
                    if (c.conv_id == action.data) {
                        c.isMinimized = true;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            case types_1.CHATBOXES.MINIMIZE_MANY:
                var ids = action.data;
                var oldList = state.chatboxes;
                var newList = oldList.map(function (c) {
                    var idx = ids.indexOf(c.conv_id);
                    if (idx != -1) {
                        c.isMinimized = true;
                        ids.splice(idx, 1);
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: newList });
            case types_1.CHATBOXES.MINIMIZE_ALL:
                var chatboxes = state.chatboxes.map(function (c) {
                    c.isMinimized = true;
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            case types_1.CHATBOXES.TOGGLE_LOADING:
                var chatboxes = state.chatboxes.map(function (c) {
                    if (c.conv_id == action.data.id) {
                        c.isLoading = action.data.isLoading;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            case types_1.MESSAGES.INSERT_MESSAGE:
                var conv_id = action.data.conv_id;
                var chatboxes = state.chatboxes.map(function (c) {
                    if (c.conv_id == conv_id && (c.isMinimized || !c.isActive)) {
                        c.hasNewMessage = true;
                    }
                    return c;
                });
                return Object.assign({}, state, { chatboxes: chatboxes });
            default:
                return state;
        }
    }
    exports_1("default", chatboxesReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register('1c4', [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var crypto;
    /**
     * Created by kang on 2/21/16.
     */
    function oldBrowser() {
        throw new Error('secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11');
    }
    function randomBytes(size, cb) {
        // phantomjs needs to throw
        if (size > 65536) throw new Error('requested too many random bytes');
        // in case browserify  isn't using the Uint8Array version
        var rawBytes = new Uint8Array(size);
        // This will not work in older browsers.
        // See https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues
        crypto.getRandomValues(rawBytes);
        // phantomjs doesn't like a buffer being passed here
        var bytes = rawBytes; //new Buffer(rawBytes.buffer);
        if (cb) {
            return process.nextTick(function () {
                cb(null, bytes);
            });
        }
        return bytes;
    }
    return {
        setters: [],
        execute: function () {
            crypto = window.crypto || window.msCrypto;
            exports_1("default", crypto && crypto.getRandomValues ? randomBytes : oldBrowser);
        }
    };
});
//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php
$__System.register('141', ['1c4'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var crypto_1;
    var _byteToHex, _hexToByte, i, _seedBytes, _nodeId, _clockseq, _lastMSecs, _lastNSecs, uuid;
    // **`parse()` - Parse a UUID into it's component bytes**
    function parse(s, buf, offset) {
        var i = buf && offset || 0,
            ii = 0;
        buf = buf || [];
        s.toLowerCase().replace(/[0-9a-f]{2}/g, function (oct) {
            if (ii < 16) {
                buf[i + ii++] = _hexToByte[oct];
            }
        });
        // Zero out remaining bytes if string was short
        while (ii < 16) {
            buf[i + ii++] = 0;
        }
        return buf;
    }
    // **`unparse()` - Convert UUID byte array (ala parse()) into a string**
    function unparse(buf, offset) {
        var i = offset || 0,
            bth = _byteToHex;
        return bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]];
    }
    // See https://github.com/broofa/node-uuid for API details
    function v1(options, buf, offset) {
        var i = buf && offset || 0;
        var b = buf || [];
        options = options || {};
        var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;
        // UUID timestamps are 100 nano-second units since the Gregorian epoch,
        // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
        // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
        // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.
        var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();
        // Per 4.2.1.2, use count of uuid's generated during the current clock
        // cycle to simulate higher resolution clock
        var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;
        // Time since last uuid creation (in msecs)
        var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;
        // Per 4.2.1.2, Bump clockseq on clock regression
        if (dt < 0 && options.clockseq === undefined) {
            clockseq = clockseq + 1 & 0x3fff;
        }
        // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
        // time interval
        if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
            nsecs = 0;
        }
        // Per 4.2.1.2 Throw error if too many uuids are requested
        if (nsecs >= 10000) {
            throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');
        }
        _lastMSecs = msecs;
        _lastNSecs = nsecs;
        _clockseq = clockseq;
        // Per 4.1.4 - Convert from unix epoch to Gregorian epoch
        msecs += 12219292800000;
        // `time_low`
        var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
        b[i++] = tl >>> 24 & 0xff;
        b[i++] = tl >>> 16 & 0xff;
        b[i++] = tl >>> 8 & 0xff;
        b[i++] = tl & 0xff;
        // `time_mid`
        var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;
        b[i++] = tmh >>> 8 & 0xff;
        b[i++] = tmh & 0xff;
        // `time_high_and_version`
        b[i++] = tmh >>> 24 & 0xf | 0x10; // include version
        b[i++] = tmh >>> 16 & 0xff;
        // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)
        b[i++] = clockseq >>> 8 | 0x80;
        // `clock_seq_low`
        b[i++] = clockseq & 0xff;
        // `node`
        var node = options.node || _nodeId;
        for (var n = 0; n < 6; n++) {
            b[i + n] = node[n];
        }
        return buf ? buf : unparse(b);
    }
    function rng() {
        return crypto_1.default(16);
    }
    // **`v4()` - Generate random UUID**
    // See https://github.com/broofa/node-uuid for API details
    function v4(options, buf, offset) {
        // Deprecated - 'format' argument, as supported in v1.2
        var i = buf && offset || 0;
        if (typeof options == 'string') {
            buf = options == 'binary' ? new Array(16) : null;
            options = null;
        }
        options = options || {};
        var rnds = options.random || (options.rng || rng)();
        // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
        rnds[6] = rnds[6] & 0x0f | 0x40;
        rnds[8] = rnds[8] & 0x3f | 0x80;
        // Copy bytes to buffer, if provided
        if (buf) {
            for (var ii = 0; ii < 16; ii++) {
                buf[i + ii] = rnds[ii];
            }
        }
        return buf || unparse(rnds);
    }
    return {
        setters: [function (crypto_1_1) {
            crypto_1 = crypto_1_1;
        }],
        execute: function () {
            // Maps for number <-> hex string conversion
            _byteToHex = [];
            _hexToByte = {};
            for (i = 0; i < 256; i++) {
                _byteToHex[i] = (i + 0x100).toString(16).substr(1);
                _hexToByte[_byteToHex[i]] = i;
            }
            // **`v1()` - Generate time-based UUID**
            //
            // Inspired by https://github.com/LiosK/UUID.js
            // and http://docs.python.org/library/uuid.html
            // random #'s we need to init node and clockseq
            _seedBytes = crypto_1.default(16);
            // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
            _nodeId = [_seedBytes[0] | 0x01, _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]];
            // Per 4.2.2, randomize (14 bit) clockseq
            _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;
            // Previous uuid creation time
            _lastMSecs = 0, _lastNSecs = 0;
            // Export public API
            uuid = {
                v1: v1,
                v4: v4,
                parse: parse,
                unparse: unparse
            };
            exports_1("default", uuid);
        }
    };
});
$__System.register('13f', [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var config;
    return {
        setters: [],
        execute: function () {
            /**
             * Created by trungtrungkang on 1/21/16.
             */
            config = function () {
                var protocol = 'http';
                var port = '80';
                var secure = false;
                var w = typeof window != 'undefined' ? window : self;
                var host;
                var seenlife_domain;
                switch (w.location.hostname) {
                    case 'seen.life':
                        host = 'chat.seen.life';
                        seenlife_domain = 'seen.life';
                        break;
                    case 'qa.seen.life':
                        host = 'qachat.seen.life';
                        seenlife_domain = 'qa.seen.life';
                        break;
                    default:
                        host = 'devchat.seen.life';
                        seenlife_domain = 'office2.seen.life';
                        break;
                }
                if (w.location.protocol.indexOf('https') != -1) {
                    protocol = 'HTTPS';
                    port = '443';
                    secure = true;
                }
                return {
                    seenlife_domain: seenlife_domain,
                    pw: {
                        appid: 'DA85D-3C1C0'
                    },
                    app_server: 'lotus',
                    andaman_server: {
                        // lotus config
                        server_publicKey: '5Jz3NhPHKUYP2JfU2n+xsT8Q5xC57yhhWa2Mdprva0A=',
                        serverProtocol: protocol,
                        host: host,
                        // host: '65.49.34.229', // testflight
                        //host: '64.71.165.211', // dev
                        // host: 'localhost',
                        //host: '64.71.165.210', // Coke
                        port: port,
                        secure: secure
                    },
                    localDB_version: '10:31-20Apr2016',
                    conversation_sync_offset_time: 'offset_last_action_time',
                    cred_key: {
                        my_avatar: 'my_avatar',
                        my_device_id: 'my_device_id',
                        my_device_token: 'my_device_token',
                        my_display_name: 'my_display_name',
                        my_email: 'my_email',
                        my_password: 'my_password',
                        my_phone_number: 'my_phone_number',
                        my_status_message: 'my_status_message',
                        my_cas_token: 'my_cas_token',
                        my_user_id: 'my_user_id',
                        my_username: 'my_username'
                    },
                    flag: {
                        did_copy_phone_contacts: 'did_copy_phone_contacts'
                    },
                    contact_id_prefix: 'phone_contact_id_',
                    user_id_prefix: 'user_id_',
                    group_id_prefix: 'group_id_',
                    roster_synced: 'roster_synced'
                };
            }();
            exports_1("default", config);
        }
    };
});
/**
 * Created by trungtrungkang on 1/21/16.
 */
$__System.register('140', ['13f'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var config_1;
    var utils;
    return {
        setters: [function (config_1_1) {
            config_1 = config_1_1;
        }],
        execute: function () {
            utils = {
                chat_type_group: 'group',
                chat_type_one2one: 'one',
                chat_type_secret: 'secret',
                req_data_splitor: '---data---',
                default_password: 'gossip',
                get_gossip_user: function (contacts) {
                    var re = [];
                    if (contacts) {
                        for (var i = 0; i < contacts.length; i++) {
                            if (contacts[i].is_gossip == true) {
                                re.push(contacts[i]);
                            }
                        }
                    }
                    return re;
                },
                build_conv_key: function (sender_id, receiver_id, message_type) {
                    return sender_id + ':to:' + message_type + ':' + receiver_id;
                },
                get_chat_type_from_conv_id: function (conv_id) {
                    if (!conv_id || conv_id == 'undefined') return null;
                    return conv_id.split(":")[2];
                },
                get_partner_from_conv_id: function (conv_id) {
                    if (!conv_id || conv_id == 'undefined') return null;
                    var owner_id = localStorage.getItem(config_1.default.cred_key.my_user_id);
                    var parts = conv_id.split(':');
                    return parts[0] == owner_id ? parts[3] : parts[0];
                },
                get_owner_from_conv_id: function (conv_id) {
                    var owner_id = localStorage.getItem(config_1.default.cred_key.my_user_id);
                    var parts = conv_id.split(':');
                    return parts[0] == owner_id ? parts[0] : parts[3];
                },
                number_filter: function (input) {
                    input = input.replace(" ", "");
                    input = input.replace(/\(/g, "");
                    input = input.replace(/\)/g, "");
                    input = input.replace(/\-/g, "");
                    input = input.replace(/\s/g, '');
                    return input;
                },
                is_conv_id_valid: function (conv_id) {
                    if (!conv_id || conv_id == 'undefined') return false;
                    var partner_id = this.get_partner_from_conv_id(conv_id);
                    var user_id = conv_id.split(":")[0];
                    if (this.is_uuid(user_id) && this.is_uuid(partner_id)) {
                        return true;
                    } else {
                        return false;
                    }
                },
                swap_partner_id: function (conv_id) {
                    var ele = conv_id.split(":");
                    var tmp = ele[3];
                    ele[3] = ele[0];
                    ele[0] = tmp;
                    return ele.join(':');
                },
                is_uuid: function (uuid) {
                    var validRegEx = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;
                    if (uuid && uuid != 'undefined') {
                        if (uuid.match(validRegEx) != null) {
                            return true;
                        }
                    }
                    return false;
                },
                message_notification: function () {
                    if (navigator.notification) {
                        navigator.notification.vibrate(2500);
                    }
                },
                get_ios_contact_name: function (c) {
                    var name = c.displayName;
                    if (!name || name === "") {
                        if (c.name && c.name.formatted) return c.name.formatted;
                        if (c.name && c.name.givenName && c.name.familyName) return c.name.givenName + " " + c.name.familyName;
                        return null;
                    }
                    return name;
                },
                get_app_path: function () {
                    var path = window.location.pathname;
                    path = path.substr(0, path.length - 10);
                    return 'file://' + path;
                },
                resize_image: function (url, width, height, callback) {
                    console.log("In_resizeImage");
                    var sourceImage = new Image();
                    sourceImage.onload = function (evt) {
                        console.log("In_sourceImage_onload");
                        console.log("sourceImage.width:" + sourceImage.width);
                        console.log("sourceImage.height:" + sourceImage.height);
                        var canvas = document.createElement("canvas");
                        canvas.width = width;
                        canvas.height = height;
                        if (sourceImage.width == sourceImage.height) {
                            canvas.getContext("2d").drawImage(sourceImage, 0, 0, width, height);
                        } else {
                            var minVal = Math.min(sourceImage.width, sourceImage.height);
                            if (sourceImage.width > sourceImage.height) {
                                canvas.getContext("2d").drawImage(sourceImage, (sourceImage.width - minVal) / 2, 0, minVal, minVal, 0, 0, width, height);
                            } else {
                                canvas.getContext("2d").drawImage(sourceImage, 0, (sourceImage.height - minVal) / 2, minVal, minVal, 0, 0, width, height);
                            }
                        }
                        callback(canvas.toDataURL());
                    };
                    sourceImage.src = url;
                },
                get_file_arraybuffer: function (file, cb) {
                    var reader = new FileReader();
                    reader.onloadend = function (evt) {
                        cb(new Uint8Array(evt.target.result));
                    };
                    reader.readAsArrayBuffer(file);
                },
                get_file_meta: function (file_url, cb) {
                    window.resolveLocalFileSystemURL(file_url, function (fileEntry) {
                        fileEntry.file(function (file_meta) {
                            cb(null, file_meta);
                        });
                    }, function (err) {
                        cb(err);
                    });
                },
                unescape_unicode: function (str) {
                    var r = /\\u([\d\w]{4})/gi;
                    str = str.replace(r, function (match, grp) {
                        return String.fromCharCode(parseInt(grp, 16));
                    });
                    return window.unescape(str);
                },
                remove_backslash: function (str) {
                    return str.replace(/\\/g, "");
                },
                get_file_base64: function (path, cb) {
                    this.get_file_meta(path, function (err, file_meta) {
                        if (file_meta) {
                            var reader = new FileReader();
                            reader.onloadend = function (evt) {
                                var base64 = evt.target.result; // this is your Base64 string
                                cb(base64);
                            };
                            reader.readAsDataURL(file_meta);
                        } else {
                            cb(null);
                        }
                    });
                },
                set_app_icon_badge_number: function (number) {
                    if (typeof cordova != 'undefined') {
                        var pushNotification = cordova.require("com.pushwoosh.plugins.pushwoosh.PushNotification");
                        if (device.platform == "Android") {}
                        if (device.platform == "iPhone" || device.platform == "iOS") {
                            pushNotification.setApplicationIconBadgeNumber(number);
                        }
                        if (device.platform == "Win32NT") {}
                    }
                },
                get_interal_url: function (path, cb) {
                    window.resolveLocalFileSystemURL(path, function (fileEntry) {
                        var re = fileEntry.toInternalURL();
                        cb(null, re);
                    }, function (err) {
                        cb(err);
                    });
                },
                play_receiving_call_sound: function (media_src) {
                    console.log('Playing sound...');
                    try {
                        var media = new Media(media_src, function () {
                            console.log('Play sound OK');
                        }, function () {
                            console.log('Play sound failed');
                        });
                        media.play();
                        return media;
                    } catch (err) {
                        console.log('Not support PLAYING MEDIA');
                    }
                },
                keep_phone_awake: function (is_on) {
                    var plugins = window.plugins;
                    try {
                        if (is_on) {
                            plugins.insomnia.keepAwake();
                        } else {
                            plugins.insomnia.allowSleepAgain();
                        }
                    } catch (e) {
                        console.log(e);
                    }
                },
                close_keyboard: function () {
                    try {
                        if (this.isPhoneGap()) {
                            cordova.plugins.Keyboard.close();
                        }
                    } catch (e) {
                        console.log('Close keyboard err: ', e);
                    }
                },
                get_now_iso: function () {
                    var date = new Date();
                    return new Date(date.getTime()).toJSON();
                },
                get_sending_time: function () {
                    var re = null;
                    var cur = new Date().valueOf();
                    var time_offset = window.time_offset;
                    try {
                        var time_offset = time_offset ? time_offset : 0;
                        re = new Date(cur + time_offset).toJSON();
                    } catch (err) {
                        console.log('time offset: ', time_offset, err);
                        re = new Date(cur).toJSON();
                    }
                    return re;
                },
                get_receive_time: function () {
                    var re = null;
                    var cur = new Date().valueOf();
                    var time_offset = window.time_offset;
                    try {
                        var offsetted_time = cur;
                        if (time_offset) {
                            offsetted_time = cur + time_offset;
                        }
                        re = new Date(offsetted_time).toJSON();
                    } catch (err) {
                        re = new Date(cur).toJSON();
                    }
                    return re;
                },
                isPhoneGap: function () {
                    return (cordova || PhoneGap || phonegap) && /^file:\/{3}[^\/]/i.test(window.location.href) && /ios|iphone|ipod|ipad|android/i.test(navigator.userAgent);
                },
                validate_email: function validateEmail(email) {
                    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    return re.test(email);
                }
            };
            window.open_link = function (url) {
                cordova.ThemeableBrowser.open(url, '_blank', {
                    statusbar: {
                        color: '#33aaffff'
                    },
                    toolbar: {
                        height: 44,
                        color: '#33aaffff'
                    },
                    title: {
                        color: '#ffffffff',
                        showPageTitle: true
                    },
                    backButton: {
                        wwwImage: 'media/img/arrows-back-icon.png',
                        wwwImagePressed: 'media/img/arrows-back-icon.png',
                        wwwImageDensity: 2,
                        align: 'left',
                        event: 'backPressed'
                    },
                    forwardButton: {
                        wwwImage: 'media/img/arrows-forward-icon.png',
                        wwwImagePressed: 'media/img/arrows-forward-icon.png',
                        wwwImageDensity: 2,
                        align: 'left',
                        event: 'forwardPressed'
                    },
                    closeButton: {
                        wwwImage: 'media/img/icon-close-128.png',
                        wwwImagePressed: 'media/img/lightbox_close.gif',
                        wwwImageDensity: 2,
                        align: 'right',
                        event: 'closePressed'
                    },
                    backButtonCanClose: true
                });
            };
            exports_1("default", utils);
        }
    };
});
$__System.register('157', ['141', '140', '1a7', '14b', '156'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var uuid_1, utils_1, lotus_service_1, store_1, types_1;
    var MessageBase, TextMessage, FileMessage, PhotoMessage, VideoMessage, AudioMessage, loadMoreSettings;
    function getArrayBuffer(file) {
        return new Promise(function (resolve) {
            var reader = new FileReader();
            reader.onloadend = function (evt) {
                resolve(new Uint8Array(reader.result));
            };
            reader.readAsArrayBuffer(file);
        });
    }
    function getMessageFromResponse(resp) {
        var data = {
            conv_id: resp.conversationId,
            message_id: resp.messageId,
            sender_id: resp.senderId,
            content: resp.body.content,
            created_time: new Date(resp.time)
        };
        switch (resp.type) {
            case types_1.MESSAGE_TYPE.FILE:
                return MessageBase.parse(FileMessage, data);
            case types_1.MESSAGE_TYPE.PHOTO_FILE:
                return MessageBase.parse(PhotoMessage, data);
            case types_1.MESSAGE_TYPE.VIDEO_FILE:
                return MessageBase.parse(VideoMessage, data);
            case types_1.MESSAGE_TYPE.AUDIO_FILE:
                return MessageBase.parse(AudioMessage, data);
            default:
                return new TextMessage(data);
        }
    }
    exports_1("getMessageFromResponse", getMessageFromResponse);
    function getLoadMoreSettings(conv_id) {
        var settings = loadMoreSettings[conv_id];
        if (!settings) {
            settings = {
                conversationId: conv_id,
                options: {
                    messageId: null,
                    pageSize: 20
                }
            };
            loadMoreSettings[conv_id] = settings;
        }
        return settings;
    }
    exports_1("getLoadMoreSettings", getLoadMoreSettings);
    function removeLoadMoreSettings(conv_id) {
        delete loadMoreSettings[conv_id];
    }
    exports_1("removeLoadMoreSettings", removeLoadMoreSettings);
    function insertMessages(msgList, msgs) {
        var list = msgList.slice();
        for (var i = 0, len = msgs.length; i < len; i++) {
            var msg = msgs[i];
            var found = msgList.filter(function (m) {
                return m.message_id == msg.message_id;
            })[0];
            if (!found) list.push(msg);
        }
        return list.sort(function (m1, m2) {
            var d1 = m1.created_time;
            var d2 = m2.created_time;
            if (d1 == d2) return 0;
            return d1 < d2 ? -1 : 1;
        });
    }
    exports_1("insertMessages", insertMessages);
    return {
        setters: [function (uuid_1_1) {
            uuid_1 = uuid_1_1;
        }, function (utils_1_1) {
            utils_1 = utils_1_1;
        }, function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }, function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {
            MessageBase = function () {
                function MessageBase(_a) {
                    var conv_id = _a.conv_id,
                        message_id = _a.message_id,
                        sender_id = _a.sender_id,
                        content = _a.content,
                        created_time = _a.created_time;
                    this.status = '';
                    this.conv_id = conv_id;
                    this.created_time = created_time || utils_1.default.get_sending_time();
                    this.message_id = message_id || uuid_1.default.v1(new Date(this.created_time).valueOf(), null, null);
                    this.sender_id = sender_id;
                    this.content = content;
                }
                MessageBase.prototype.render = function () {
                    return this.content;
                };
                MessageBase.parse = function (type, data) {
                    return new type(data);
                };
                return MessageBase;
            }();
            TextMessage = function (_super) {
                __extends(TextMessage, _super);
                function TextMessage(_a) {
                    var conv_id = _a.conv_id,
                        message_id = _a.message_id,
                        sender_id = _a.sender_id,
                        content = _a.content,
                        created_time = _a.created_time;
                    _super.call(this, { conv_id: conv_id, message_id: message_id, sender_id: sender_id, content: content, created_time: created_time });
                    this.message_type = 'text';
                }
                TextMessage.create = function (conv_id, content) {
                    return new Promise(function (resolve, reject) {
                        var created_time = utils_1.default.get_sending_time();
                        resolve(new TextMessage({
                            conv_id: conv_id,
                            message_id: uuid_1.default.v1(new Date(created_time).valueOf(), null, null),
                            created_time: created_time,
                            content: content,
                            sender_id: store_1.default.getState().userData.user.userId
                        }));
                    });
                };
                return TextMessage;
            }(MessageBase);
            exports_1("TextMessage", TextMessage);
            FileMessage = function (_super) {
                __extends(FileMessage, _super);
                function FileMessage(_a) {
                    var conv_id = _a.conv_id,
                        message_id = _a.message_id,
                        content = _a.content,
                        sender_id = _a.sender_id,
                        created_time = _a.created_time;
                    _super.call(this, { conv_id: conv_id, message_id: message_id, sender_id: sender_id, content: content, created_time: created_time });
                    this.progress = 0;
                    this.content = content;
                    this.message_type = 'file';
                }
                FileMessage.upload = function (file, progressCallback, successCallback, errorCallback) {
                    getArrayBuffer(file).then(function (buffer) {
                        var lotus = lotus_service_1.default.singleton();
                        lotus.ready().then(function (Lotus) {
                            var data = {
                                body: {
                                    file: file
                                }
                            };
                            Lotus.BlobService.Blob.writeBlob({ body: { file: file } }, buffer, function (error, result) {
                                if (error) {
                                    if (errorCallback) errorCallback(error);
                                } else {
                                    successCallback(result);
                                }
                            }, progressCallback);
                        });
                    });
                };
                FileMessage.download = function (token, progressCallback, successCallback, errorCallback) {
                    var lotus = lotus_service_1.default.singleton();
                    lotus.ready().then(function (Lotus) {
                        Lotus.readBlob({ blobId: token }, function (resp) {
                            if (resp.err) {
                                if (errorCallback) errorCallback(resp.err);
                            } else {
                                debugger;
                                var data = resp.re;
                                var fileInfo = data.file;
                                var file_name = fileInfo.name;
                                var file_type = fileInfo.type;
                                var blob = new Blob([data.result], { type: file_type });
                                var url = URL.createObjectURL(blob);
                                successCallback({ url: url, blob: blob, fileInfo: fileInfo });
                            }
                        }, progressCallback);
                    });
                };
                FileMessage.create = function (conv_id, file) {
                    return new Promise(function (resolve) {
                        var created_time = utils_1.default.get_sending_time();
                        var receiver_id = conv_id;
                        var msg = {
                            conv_id: conv_id,
                            content: {
                                file: file,
                                url: URL.createObjectURL(file),
                                name: file.name,
                                size: file.size,
                                type: file.type
                            },
                            created_time: created_time,
                            message_id: uuid_1.default.v1(new Date(created_time).valueOf(), null, null),
                            sender_id: store_1.default.getState().userData.user.userId
                        };
                        resolve(new FileMessage(msg));
                    });
                };
                return FileMessage;
            }(MessageBase);
            exports_1("FileMessage", FileMessage);
            PhotoMessage = function (_super) {
                __extends(PhotoMessage, _super);
                function PhotoMessage(_a) {
                    var conv_id = _a.conv_id,
                        message_id = _a.message_id,
                        content = _a.content,
                        sender_id = _a.sender_id,
                        created_time = _a.created_time;
                    _super.call(this, { conv_id: conv_id, message_id: message_id, content: content, sender_id: sender_id, created_time: created_time });
                    this.message_type = 'photo';
                }
                PhotoMessage.create = function (conv_id, file) {
                    return new Promise(function (resolve) {
                        var created_time = utils_1.default.get_sending_time();
                        var receiver_id = conv_id;
                        var msg = {
                            conv_id: conv_id,
                            content: {
                                file: file,
                                url: URL.createObjectURL(file),
                                name: file.name,
                                size: file.size,
                                type: file.type
                            },
                            created_time: created_time,
                            message_id: uuid_1.default.v1(new Date(created_time).valueOf(), null, null),
                            sender_id: store_1.default.getState().userData.user.userId
                        };
                        resolve(new PhotoMessage(msg));
                    });
                };
                return PhotoMessage;
            }(FileMessage);
            exports_1("PhotoMessage", PhotoMessage);
            VideoMessage = function (_super) {
                __extends(VideoMessage, _super);
                function VideoMessage(_a) {
                    var conv_id = _a.conv_id,
                        message_id = _a.message_id,
                        content = _a.content,
                        sender_id = _a.sender_id,
                        created_time = _a.created_time;
                    _super.call(this, { conv_id: conv_id, message_id: message_id, content: content, sender_id: sender_id, created_time: created_time });
                    this.message_type = 'video';
                }
                VideoMessage.create = function (conv_id, file) {
                    return new Promise(function (resolve) {
                        var created_time = utils_1.default.get_sending_time();
                        var receiver_id = conv_id;
                        var msg = {
                            conv_id: conv_id,
                            content: {
                                file: file,
                                url: URL.createObjectURL(file),
                                name: file.name,
                                size: file.size,
                                type: file.type
                            },
                            created_time: created_time,
                            message_id: uuid_1.default.v1(new Date(created_time).valueOf(), null, null),
                            sender_id: store_1.default.getState().userData.user.userId
                        };
                        resolve(new VideoMessage(msg));
                    });
                };
                return VideoMessage;
            }(FileMessage);
            exports_1("VideoMessage", VideoMessage);
            AudioMessage = function (_super) {
                __extends(AudioMessage, _super);
                function AudioMessage(_a) {
                    var conv_id = _a.conv_id,
                        message_id = _a.message_id,
                        content = _a.content,
                        sender_id = _a.sender_id,
                        created_time = _a.created_time;
                    _super.call(this, { conv_id: conv_id, message_id: message_id, content: content, sender_id: sender_id, created_time: created_time });
                    this.message_type = 'audio';
                }
                AudioMessage.create = function (conv_id, file) {
                    return new Promise(function (resolve) {
                        var created_time = utils_1.default.get_sending_time();
                        var receiver_id = conv_id;
                        var msg = {
                            conv_id: conv_id,
                            content: {
                                file: file,
                                url: URL.createObjectURL(file),
                                name: file.name,
                                size: file.size,
                                type: file.type
                            },
                            created_time: created_time,
                            message_id: uuid_1.default.v1(new Date(created_time).valueOf(), null, null),
                            sender_id: store_1.default.getState().userData.user.userId
                        };
                        resolve(new AudioMessage(msg));
                    });
                };
                return AudioMessage;
            }(FileMessage);
            exports_1("AudioMessage", AudioMessage);
            loadMoreSettings = {};
        }
    };
});
$__System.register('1c5', ['156', '157'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1, messageTools;
    function messagesReducer(state, action) {
        if (state === void 0) {
            state = {};
        }
        var oldList = null;
        var newList = null;
        var msg = null;
        switch (action.type) {
            case types_1.MESSAGES.START_SEND_MESSAGE:
                msg = action.data;
                msg.status = "sending";
                var conv_id = msg.conv_id;
                var messages = state[conv_id] || [];
                return Object.assign({}, state, (_a = {}, _a[conv_id] = messages.concat([msg]), _a));
            case types_1.MESSAGES.SEND_MESSAGE_SUCCESS:
                var message_id = action.data.message_id;
                msg = action.data.message;
                var conv_id = action.data.conv_id;
                oldList = state[conv_id] || [];
                var found = oldList.filter(function (m) {
                    return m.message_id == message_id;
                })[0];
                if (found) {
                    found.message_id = msg.message_id;
                    found.created_time = msg.created_time;
                    found.status = '';
                }
                return Object.assign({}, state, (_b = {}, _b[conv_id] = oldList.slice(), _b));
            case types_1.MESSAGES.SEND_MESSAGE_FAILED:
                var msg = action.data;
                var conv_id = msg.conv_id;
                oldList = state[conv_id] || [];
                newList = oldList.map(function (m) {
                    if (m.message_id == msg.message_id) m.status = 'failed';
                    return m;
                });
                return Object.assign({}, state, (_c = {}, _c[conv_id] = newList, _c));
            case types_1.MESSAGES.INSERT_MESSAGE:
                msg = action.data;
                var conv_id = msg.conv_id;
                oldList = state[conv_id] || [];
                newList = messageTools.insertMessages(oldList, [msg]);
                return Object.assign({}, state, (_d = {}, _d[conv_id] = newList, _d));
            case types_1.MESSAGES.LOAD_MORE_MESSAGES_SUCCESS:
                var messages = action.data.messages;
                if (messages.length > 0) {
                    var conv_id = action.data.conv_id;
                    oldList = state[conv_id] || [];
                    newList = messageTools.insertMessages(oldList, messages);
                    return Object.assign({}, state, (_e = {}, _e[conv_id] = newList, _e));
                } else {
                    return state;
                }
            case types_1.MESSAGES.START_UPLOADING_FILE:
                var conv_id = action.data.conv_id;
                var message_id = action.data.message_id;
                var oldList = state[conv_id] || [];
                var newList = oldList.map(function (m) {
                    if (m.message_id == message_id) {
                        var fmsg = m;
                        return Object.assign({}, fmsg, { uploading: true });
                    }
                    return m;
                });
                return Object.assign({}, state, (_f = {}, _f[conv_id] = newList, _f));
            case types_1.MESSAGES.UPLOAD_FILE_PROGRESS:
                var conv_id = action.data.conv_id;
                var message_id = action.data.message_id;
                var progressValue = action.data.progressValue;
                var oldList = state[conv_id] || [];
                var newList = oldList.map(function (m) {
                    if (m.message_id == message_id) {
                        var fmsg = m;
                        fmsg.progress = progressValue;
                        return Object.assign({}, m, { progress: progressValue });
                    }
                    return m;
                });
                return Object.assign({}, state, (_g = {}, _g[conv_id] = newList, _g));
            case types_1.MESSAGES.UPLOAD_SUCCESS:
                var conv_id = action.data.conv_id;
                var message_id = action.data.message_id;
                var progressValue = action.data.progressValue;
                var oldList = state[conv_id] || [];
                var newList = oldList.map(function (m) {
                    if (m.message_id == message_id) {
                        var fmsg = m;
                        return Object.assign({}, m, { progress: 100, uploading: false });
                    }
                    return m;
                });
                return Object.assign({}, state, (_h = {}, _h[conv_id] = newList, _h));
            default:
                return state;
        }
        var _a, _b, _c, _d, _e, _f, _g, _h;
    }
    exports_1("default", messagesReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }, function (messageTools_1) {
            messageTools = messageTools_1;
        }],
        execute: function () {}
    };
});
$__System.register('1c6', ['156'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function applicationReducer(state, action) {
        if (state === void 0) {
            state = { state: 'active' };
        }
        switch (action.type) {
            case types_1.APPLICATION.ACTIVE:
                return Object.assign({}, state, { state: 'active' });
            case types_1.APPLICATION.INACTIVE:
                return Object.assign({}, state, { state: 'inactive' });
            case types_1.APPLICATION.TOGGLE_LOADING:
                return Object.assign({}, state, { isLoading: action.data });
            case types_1.APPLICATION.TOGGLE_CHAT_ROOM:
                return state;
            default:
                return state;
        }
    }
    exports_1("default", applicationReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register("1c7", ["156"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function userReducer(state, action) {
        if (state === void 0) {
            state = { user: null };
        }
        switch (action.type) {
            case types_1.USERS.LOGIN_SUCCESS:
            case types_1.USERS.SSO_LOGIN_SUCCESS:
                return Object.assign({}, state, { user: action.data });
            case types_1.USERS.UPDATE_PROFILE:
                var profile = action.data;
                var user = Object.assign({}, state.user, profile);
                return Object.assign({}, state, { user: user });
            default:
                return state;
        }
    }
    exports_1("default", userReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register("1c8", ["156"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    var initialState;
    function groupReducer(state, action) {
        if (state === void 0) {
            state = initialState;
        }
        var type = action.type;
        switch (type) {
            case types_1.GROUPS.LOAD_GROUPS_SUCCESS:
                var groups = action.data;
                return Object.assign({}, state, { groups: groups });
            case types_1.GROUPS.SET_FILTER:
                var filter = action.data;
                return Object.assign({}, state, { filter: filter });
            case types_1.GROUPS.CREATE_SUCCESS:
                var group = action.data;
                var oldList = state.groups;
                var newList = [group].concat(oldList);
                return Object.assign({}, state, { groups: newList });
            default:
                return state;
        }
    }
    exports_1("default", groupReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {
            initialState = {
                groups: [],
                isLoading: false,
                filter: ''
            };
        }
    };
});
$__System.register("1c9", ["156"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1;
    function memberReducer(state, action) {
        if (state === void 0) {
            state = {};
        }
        var type = action.type;
        var data = action.data;
        var oldList, newList;
        switch (type) {
            case types_1.MEMBERS.MEMBERS_LOADED:
                var members = data.members;
                if (members.length > 0) {
                    var conv_id = data.conv_id;
                    oldList = state[conv_id] || [];
                    newList = members.map(function (m) {
                        return m;
                    });
                    return Object.assign({}, state, (_a = {}, _a[conv_id] = newList, _a));
                } else {
                    return state;
                }
            case types_1.MEMBERS.ADD_MEMBERS:
                var memberIds = data.memberIds;
                var conv_id = data.conv_id;
                oldList = state[conv_id] || [];
                newList = oldList.slice();
                memberIds.forEach(function (id) {
                    var idx = oldList.indexOf(id);
                    if (idx == -1) newList.push(id);
                });
                return Object.assign({}, state, (_b = {}, _b[conv_id] = newList, _b));
            default:
                return state;
        }
        var _a, _b;
    }
    exports_1("default", memberReducer);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }],
        execute: function () {}
    };
});
$__System.register('1ca', ['1c0', '1c1', '1c2', '1c3', '1c5', '1c6', '1c7', '1c8', '1c9'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var redux, reducer_1, reducer_2, reducer_3, reducer_4, reducer_5, reducer_6, reducer_7, reducer_8;
    var reducers;
    function lastActionReducer(state, action) {
        if (state === void 0) {
            state = null;
        }
        var reduxLogginEnabled = window['scReduxLogginEnabled'];
        if (reduxLogginEnabled) console.log(action);
        return action;
    }
    return {
        setters: [function (redux_1) {
            redux = redux_1;
        }, function (reducer_1_1) {
            reducer_1 = reducer_1_1;
        }, function (reducer_2_1) {
            reducer_2 = reducer_2_1;
        }, function (reducer_3_1) {
            reducer_3 = reducer_3_1;
        }, function (reducer_4_1) {
            reducer_4 = reducer_4_1;
        }, function (reducer_5_1) {
            reducer_5 = reducer_5_1;
        }, function (reducer_6_1) {
            reducer_6 = reducer_6_1;
        }, function (reducer_7_1) {
            reducer_7 = reducer_7_1;
        }, function (reducer_8_1) {
            reducer_8 = reducer_8_1;
        }],
        execute: function () {
            reducers = redux.combineReducers({
                lastAction: lastActionReducer,
                contactData: reducer_1.default,
                conversationData: reducer_2.default,
                chatboxData: reducer_3.default,
                messageData: reducer_4.default,
                applicationData: reducer_5.default,
                userData: reducer_6.default,
                groupData: reducer_7.default,
                memberData: reducer_8.default
            });
            exports_1("default", reducers);
        }
    };
});
$__System.register('14b', ['1c0', '1b3', '1ca'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var redux, redux_thunk_1, reducers_1;
    var g, createStoreWithMiddleware, store;
    return {
        setters: [function (redux_1) {
            redux = redux_1;
        }, function (redux_thunk_1_1) {
            redux_thunk_1 = redux_thunk_1_1;
        }, function (reducers_1_1) {
            reducers_1 = reducers_1_1;
        }],
        execute: function () {
            g = window;
            createStoreWithMiddleware = redux.compose(redux.applyMiddleware(redux_thunk_1.default), g.devToolsExtension ? g.devToolsExtension() : function (f) {
                return f;
            })(redux.createStore);
            store = createStoreWithMiddleware(reducers_1.default);
            exports_1("default", store);
        }
    };
});
$__System.register('1cb', ['1a7', '14b'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1, store_1;
    function signUp(name, email, password) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().isInit().then(function (Lotus) {
                var data = {
                    name: name,
                    email: email,
                    password: password,
                    avatarUrl: 'no avatar',
                    profileUrl: 'no profile',
                    privacyLevel: 0
                };
                Lotus.AccountService.Account.signUp(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function signIn(email, password) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().isInit().then(function (Lotus) {
                var data = {
                    email: email,
                    password: password,
                    deviceId: 'BROWSER'
                };
                Lotus.AccountService.Session.signIn(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function autoLogin(token) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().isInit().then(function (Lotus) {
                var data = {
                    idToken: token,
                    deviceId: 'BROWSER'
                };
                Lotus.AccountService.Session.tokenSignIn(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function logOut() {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                Lotus.AccountService.Session.signOut(function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function updateProfile(data) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var user = store_1.default.getState().userData.user;
                data.avatarUrl = data.avatarUrl || user.avatarUrl;
                data.profileUrl = data.profileUrl || user.profileUrl;
                data.name = data.name || user.name;
                data.privacyLevel = data.privacyLevel || user.privacyLevel;
                Lotus.AccountService.Account.updateProfile(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (store_1_1) {
            store_1 = store_1_1;
        }],
        execute: function () {
            exports_1("autoLogin", autoLogin);
            exports_1("signIn", signIn);
            exports_1("signUp", signUp);
            exports_1("logOut", logOut);
            exports_1("updateProfile", updateProfile);
        }
    };
});
$__System.register('1a7', ['1a0'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var bus_1;
    var $andaman, $lotus, $users, Lotus, App, LotusService;
    return {
        setters: [function (bus_1_1) {
            bus_1 = bus_1_1;
        }],
        execute: function () {
            $andaman = bus_1.default.singleton().cat('services').cat('andaman');
            $lotus = bus_1.default.singleton().cat('services').cat('lotus');
            $users = bus_1.default.singleton().cat('model').cat('users');
            Lotus = null;
            App = {
                client: null,
                Enum: ClientIO.Enum,
                init: function (config) {
                    App.client = new Client(config, ClientIO, ClientAPI);
                    var lotus = App.client.API;
                    lotus.Enum = ClientIO.Enum;
                    lotus.config = App.client.config;
                    lotus.AccountService.Session.sessionId = App.client.sessionId;
                    lotus.start = function (callback) {
                        App.client.start(callback);
                    };
                    lotus.ready = function () {
                        return lotus.pipe.ready();
                    };
                    lotus.info = function () {
                        if (lotus.config.mode === 'DEV') {
                            console.log('/********************************************************************/');
                            console.log('Version: ', lotus.version);
                            console.log('SessionId: ', lotus.AccountService.Session.sessionId);
                            console.log('Config:', lotus.config);
                            console.log('Enum:', lotus.Enum);
                            console.log('/********************************************************************/');
                        }
                    };
                    return lotus;
                }
            };
            LotusService = function () {
                function LotusService() {
                    this._config = {
                        serverProtocol: null,
                        port: null,
                        mode: App.Enum.Mode.DEV,
                        device: App.Enum.Device.WS,
                        host: '192.168.2.221'
                    };
                    this._initialized = false;
                    this._ready = false;
                    this._sessionReady = false;
                    this._isLoggingIn = false;
                    this.bus = new bus_1.default();
                }
                LotusService.prototype.initialize = function () {
                    var _this = this;
                    if (this._initialized) return;
                    this._initialized = true;
                    var config = this._config;
                    switch (config.host) {
                        case '64.71.165.210':
                        case '64.71.165.211':
                        case '64.71.165.212':
                            config.serverProtocol = App.Enum.ServerProtocol.HTTP;
                            config.port = 80;
                            break;
                        case 'devchat.seen.life':
                            config.serverProtocol = App.Enum.ServerProtocol.HTTPS;
                            config.port = 443;
                            break;
                        case 'qachat.seen.life':
                            config.serverProtocol = App.Enum.ServerProtocol.HTTPS;
                            config.port = 443;
                            break;
                        default:
                            config.port = 3001;
                            break;
                    }
                    Lotus = App.init(config);
                    Lotus.info();
                    Lotus.start(function (status, response) {
                        switch (status) {
                            case Lotus.Enum.Status.CONNECTION_OPENED:
                                _this._ready = true;
                                _this.bus.emit('onReady', Lotus);
                                break;
                            case Lotus.Enum.Status.CONNECTION_CLOSED:
                                _this._ready = false;
                                break;
                            case Lotus.Enum.Status.SESSION_RESTORED:
                                _this._sessionReady = true;
                                _this.bus.emit('onSessionReady', Lotus);
                                break;
                            case Lotus.Enum.Status.SESSION_UPDATED:
                                _this._sessionReady = true;
                                _this.bus.emit('onSessionReady', Lotus);
                                break;
                            case Lotus.Enum.Status.SESSION_FAILED:
                                _this._sessionReady = false;
                                _this.bus.emit('onSessionFailed', Lotus);
                                break;
                        }
                        console.log(status, response);
                    });
                    Lotus.ChatService.Message.onMessage(function (error, result) {
                        $lotus.emit('Message.onMessage', { err: error, re: result });
                    });
                };
                LotusService.prototype.ready = function () {
                    var _this = this;
                    return new Promise(function (resolve) {
                        _this.isInit().then(function (Lotus) {
                            if (_this._sessionReady) resolve(Lotus);else {
                                _this.bus.once('onSessionReady', function (Lotus) {
                                    _this._isLoggingIn = false;
                                    resolve(Lotus);
                                });
                                if (!_this._isLoggingIn) {
                                    _this._isLoggingIn = true;
                                    _this.emit('users.login_required');
                                }
                            }
                        });
                    });
                };
                LotusService.prototype.isInit = function () {
                    var _this = this;
                    return new Promise(function (resolve) {
                        if (Lotus) {
                            if (_this._ready) resolve(Lotus);else {
                                _this.bus.once('onReady', function (Lotus) {
                                    resolve(Lotus);
                                });
                            }
                        } else {
                            _this.bus.once('onReady', function (Lotus) {
                                resolve(Lotus);
                            });
                            _this.initialize();
                        }
                    });
                };
                LotusService.prototype.on = function (name, fn) {
                    $lotus.on(name, fn);
                    return this;
                };
                LotusService.prototype.off = function (name, fn) {
                    $lotus.off(name, fn);
                    return this;
                };
                LotusService.prototype.emit = function (name) {
                    var params = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                        params[_i - 1] = arguments[_i];
                    }
                    $lotus.emit.apply($lotus, [name].concat(params));
                };
                LotusService.singleton = function () {
                    if (!LotusService._instance) {
                        LotusService._instance = new LotusService();
                    }
                    return LotusService._instance;
                };
                return LotusService;
            }();
            exports_1("default", LotusService);
        }
    };
});
// export default class AndamanService {
//     private service;
//     constructor() { }
//     ready() {
//         return new Promise<any>((resolve) => {
//             this.isInit().then(() => {
//                 this.service.ready(() => resolve(Andaman));
//             });
//         });
//     }
//     isInit() {
//         return new Promise<any>((resolve) => {
//             if (!this.service) {
//                 this.service = createService();
//                 this.service.init().then(() => {
//                     this.service.isInit(() => resolve(Andaman));
//                 });
//             }
//             else this.service.isInit(() => resolve(Andaman));
//         });
//     }
//     on(name, fn) {
//         $andaman.on(name, fn);
//         return this;
//     }
//     off(name, fn?) {
//         $andaman.off(name, fn);
//         return this;
//     }
//     private static _instance: AndamanService;
//     static singleton(): AndamanService {
//         if (!AndamanService._instance) {
//             AndamanService._instance = new AndamanService();
//         }
//         return AndamanService._instance;
//     }
// }
// function createService() {
//     var bus = EventService.singleton();
//     var conf = config;
//     var initCallbacks = [];
//     var readyCallbacks = [];
//     var isAndamanInited = false;
//     var isSessionReady = false;
//     var isAndamanBusy = false;
//     var lastState = null;
//     return {
//         init: function () {
//             return new Promise(function (resolve, reject) {
//                 var config = {
//                     mode: Andaman.Enum.Mode.DEV,
//                     // serverProtocol: Andaman.Enum.ServerProtocol.HTTPS,
//                     // paramProtocol: Andaman.Enum.DataProtocol.SIMPLE,
//                     device: Andaman.Enum.Device.WS,
//                     requestTimeoutSecs: 30, // Timeout for all APIs
//                     blobTimeoutSecs: 300, // Timeout for file transfering, default is 120s if not declared here
//                     host: conf.andaman_server.host,
//                     port: conf.andaman_server.port,
//                     serverProtocol: conf.andaman_server.serverProtocol
//                     // host: 'localhost',
//                     // port: 3001,
//                     // serverPublicKey: '',
//                     // clientPublicKey: '',
//                     // clientSecretKey: ''
//                     // idToken:'',
//                     // sessionToken:'',
//                 };
//                 Andaman.init(config);
//                 Andaman.info();
//                 setTimeout(function () {
//                     Andaman.client.start(andamanCallback);
//                 }, 0);
//                 resolve();
//             });
//         },
//         on: function (name, handler) {
//             $andaman.on(name, handler);
//         },
//         off: function (name, handler) {
//             $andaman.off(name, handler);
//         },
//         once: function (name, handler) {
//             $andaman.once(name, handler);
//         },
//         isInit: function (cb) {
//             if (isAndamanInited) {
//                 cb();
//             }
//             else {
//                 initCallbacks.push(cb);
//             }
//         },
//         ready: function (cb) {
//             this.isInit(() => {
//                 if (isSessionReady) cb();
//                 else {
//                     readyCallbacks.push(cb);
//                     if (!isAndamanBusy) {
//                         isAndamanBusy = true;
//                         $andaman.emit('users.login_required').then(() => {
//                             isAndamanBusy = false;
//                         }).catch((err) => {
//                             isAndamanBusy = false;
//                         });
//                     }
//                 }
//             });
//         },
//         reconnect: function () {
//             return new Promise(function (resolve, reject) {
//                 var isHandled = false;
//                 var socket = Andaman.client.pipe.socket.innerSocket.innerSocket;
//                 var listener = function pong() {
//                     if (!isHandled) {
//                         isHandled = true;
//                         resolve(true);
//                     }
//                 }
//                 socket.once('pong', listener);
//                 socket.ping();
//                 setTimeout(function () {
//                     if (!isHandled) {
//                         isHandled = true;
//                         resolve(false);
//                     }
//                 }, 10000);
//             });
//         }
//     };
//     function andamanCallback(status, response) {
//         if (lastState && lastState.status == status && lastState.resp == response) {
//             return;
//         }
//         // Register to Coke events
//         if (!Andaman.isCokeEventsRegistered) {
//             Andaman.isCokeEventsRegistered = true;
//             Andaman.messages.on_receive_message_one(function (msg) {
//                 $andaman.emit('messages.on_receive_message_one', msg);
//             });
//             Andaman.messages.on_unread_message_count(function (resp) {
//                 //dw.external.Andaman.events.on_unread_message_count(resp);
//             });
//             Andaman.groups.on_receiver_create_group(function (err, re) {
//                 // dw.external.Andaman.events.on_receiver_added_to_group(err, re);
//             });
//             Andaman.groups.on_receiver_added_to_group(function (err, re) {
//                 //dw.external.Andaman.events.on_receiver_added_to_group(err, re);
//             });
//             Andaman.groups.on_receiver_removed_from_group(function (err, re) {
//                 // dw.external.Andaman.events.on_receiver_added_to_group(err, re);
//             });
//             Andaman.groups.on_receiver_add_members(function (err, re) {
//                 //dw.external.Andaman.events.on_receiver_add_members(err, re);
//             });
//             Andaman.groups.on_receiver_remove_members(function (err, re) {
//                 // dw.external.Andaman.events.on_receiver_add_members(err, re);
//             });
//             Andaman.groups.on_receiver_leave_group(function (err, re) {
//                 //dw.external.Andaman.events.on_receiver_leave_group(err, re);
//             });
//             Andaman.groups.on_receiver_delete_group(function (err, re) {
//                 //dw.external.Andaman.events.on_receiver_delete_group(err, re);
//             });
//             Andaman.rosters.on_partner_added(function (resp) {
//                 //dw.external.Andaman.events.on_partner_added(resp);
//                 $andaman.emit('contacts.on_partner_added', resp);
//             });
//             Andaman.rosters.on_partner_removed(function (resp) {
//                 //dw.external.Andaman.events.on_partner_removed(resp);
//                 $andaman.emit('contacts.on_partner_removed', resp);
//             });
//             Andaman.rosters.on_partner_updated(function (resp) {
//                 //dw.external.Andaman.events.on_partner_updated(resp);
//                 $andaman.emit('contacts.on_partner_updated', resp);
//             });
//         }
//         switch (status) {
//             case Andaman.Enum.Status.CONNECTION_OPENED:
//                 Andaman._is_ready = true;
//                 onAndamanInited();
//                 break;
//             case Andaman.Enum.Status.CONNECTION_CLOSED:
//                 isAndamanInited = false;
//                 Andaman._is_ready = false;
//                 isSessionReady = false;
//                 if (Andaman._closeCallback) {
//                     var cb = Andaman._closeCallback;
//                     Andaman._closeCallback = null;
//                     cb();
//                 }
//                 break;
//             case Andaman.Enum.Status.SESSION_RESTORED:
//                 Andaman._is_ready = true;
//                 onAndamanReady();
//                 break;
//             case Andaman.Enum.Status.SESSION_UPDATED:
//                 Andaman._is_ready = true;
//                 onAndamanReady();
//                 break;
//             case Andaman.Enum.Status.SESSION_FAILED:
//                 Andaman._is_ready = false;
//                 isSessionReady = false;
//                 break;
//         }
//         console.log(status, response);
//         lastState = {
//             status: status,
//             resp: response
//         };
//     }
//     function onAndamanInited() {
//         if (!isAndamanInited) {
//             isAndamanInited = true;
//             while (initCallbacks.length) {
//                 var cb = initCallbacks.shift();
//                 cb();
//             };
//         }
//     }
//     function onAndamanReady() {
//         if (!isSessionReady) {
//             isSessionReady = true;
//             while (readyCallbacks.length) {
//                 var cb = readyCallbacks.shift();
//                 cb();
//             };
//         }
//     }
// };
$__System.register("1cc", ["1a7"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var lotus_service_1;
    function getMembers(conv_id) {
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    conversationId: conv_id
                };
                Lotus.ChatService.Conversation.getMembers(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    function addMembers(conv_id) {
        var memberIds = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            memberIds[_i - 1] = arguments[_i];
        }
        return new Promise(function (resolve) {
            lotus_service_1.default.singleton().ready().then(function (Lotus) {
                var data = {
                    conversationId: conv_id,
                    memberIds: memberIds
                };
                Lotus.ChatService.Conversation.addMembers(data, function (error, result) {
                    resolve({ err: error, re: result });
                });
            });
        });
    }
    return {
        setters: [function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }],
        execute: function () {
            exports_1("getMembers", getMembers);
            exports_1("addMembers", addMembers);
        }
    };
});
$__System.register("156", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var CONVERSATIONS, MEMBERS, CONTACTS, APPLICATION, CHATBOXES, MESSAGES, COMMONS, USERS, GROUPS, FILE_TYPES, MESSAGE_TYPE, CONVERSATION_TYPE, CONVERSATION_ACTIONS, MEMBER_TYPE;
    return {
        setters: [],
        execute: function () {
            exports_1("CONVERSATIONS", CONVERSATIONS = {
                CREATE_NEW_FAILED: 'CONVERSATIONS.CREATE_NEW_FAILED',
                INSERT_CONVERSATION: 'CONVERSATIONS.INSERT_CONVERSATION',
                LOAD_CONVERSATIONS: 'CONVERSATIONS.LOAD_CONVERSATIONS',
                CONVERSATIONS_LOADED: 'CONVERSATIONS.CONVERSATIONS_LOADED',
                LOAD_CONVERSATIONS_FAILED: 'CONVERSATIONS.LOAD_CONVERSATIONS_FAILED',
                ADD_OR_UPDATE: 'CONVERSATIONS.ADD_OR_UPDATE',
                TOGGLE_LOADING_CONVERSATIONS: 'CONVERSATIONS.TOGGLE_LOADING_CONVERSATIONS',
                SET_ACTIVE: 'CONVERSATIONS.SET_ACTIVE',
                SET_FILTER: 'CONVERSATIONS.SET_FILTER',
                MARK_AS_READ: 'CONVERSATIONS.MARK_AS_READ',
                UPDATE_UNREAD_MESSAGE_COUNT: 'CONVERSATIONS.UPDATE_UNREAD_MESSAGE_COUNT',
                UPDATE_CONVERSATION: 'CONVERSATIONS.UPDATE_CONVERSATION',
                LOADING_MESSAGES: 'CONVERSATIONS.LOADING_MESSAGES',
                ADD_OR_UPDATE_ALL: 'CONVERSATIONS.ADD_OR_UPDATE_ALL',
                UPDATE_TITLE: 'CONVERSATIONS.UPDATE_TITLE',
                ON_CHANGE: 'CONVERSATIONS.ON_CHANGE',
                ADD_MEMBERS: 'CONVERSATIONS.ADD_MEMBERS',
                CREATE_GROUP: 'CONVERSATIONS.CREATE_GROUP'
            });
            exports_1("MEMBERS", MEMBERS = {
                MEMBERS_LOADED: 'MEMBERS.MEMBERS_LOADED',
                ADD_MEMBERS: 'MEMBERS.ADD_MEMBERS',
                CLOSE_FORM: 'MEMBERS.CLOSE_FORM'
            });
            exports_1("CONTACTS", CONTACTS = {
                LOAD_CONTACTS: 'CONTACTS.LOAD_CONTACTS',
                CONTACTS_LOADED: 'CONTACTS.CONTACTS_LOADED',
                FETCHING_CONTACTS: 'CONTACTS.FETCHING_CONTACTS',
                TOGGLE_WINDOW: 'CONTACTS.TOGGLE_WINDOW',
                SET_FILTER: 'CONTACTS.SET_FILTER',
                SET_ACTIVE: 'CONTACTS.SET_ACTIVE',
                PARTNER_ADDED: 'CONTACTS.PARTNER_ADDED',
                PARTNER_REMOVED: 'CONTACTS.PARTNER_REMOVED',
                PARTNER_UPDATED: 'CONTACTS.PARTNER_UPDATED',
                ADD_CONTACT: 'CONTACTS.ADD_CONTACT',
                SELECT_CONTACT: 'CONTACTS.SELECT_CONTACT'
            });
            exports_1("APPLICATION", APPLICATION = {
                INACTIVE: 'APPLICATION.INACTIVE',
                ACTIVE: 'APPLICATION.ACTIVE',
                TOGGLE_LOADING: 'APPLICATION.TOGGLE_LOADING',
                TOGGLE_CHAT_ROOM: 'APPLICATION.TOGGLE_CHAT_ROOM'
            });
            exports_1("CHATBOXES", CHATBOXES = {
                ADD_CHATBOX: 'CHATBOXES.ADD_CHATBOX',
                ADD_ALL: 'CHATBOXES.ADD_ALL',
                RELOAD_OLD_STATE: 'CHATBOXES.RELOAD_OLD_STATE',
                REMOVE_CHATBOX: 'CHATBOXES.REMOVE_CHATBOX',
                REMOVE_ALL: 'CHATBOXES.REMOVE_ALL',
                SET_ACTIVE: 'CHATBOXES.SET_ACTIVE',
                HIDE_CHATBOX: 'CHATBOXES.HIDE_CHATBOX',
                SHOW_CHATBOX: 'CHATBOXES.SHOW_CHATBOX',
                TOGGLE_WINDOW: 'CHATBOXES.TOGGLE_WINDOW',
                TOGGLE_LOADING: 'CHATBOXES.TOGGLE_LOADING',
                UPDATE: 'CHATBOXES.UPDATE',
                MINIMIZE: 'CHATBOXES.MINIMIZE',
                MINIMIZE_MANY: 'CHATBOXES.MINIMIZE_MANY',
                MINIMIZE_ALL: 'CHATBOXES.MINIMIZE_ALL',
                SET_ACTIVE_AND_MOVE_TO_TOP: 'CHATBOXES.SET_ACTIVE_AND_MOVE_TO_TOP',
                MARK_AS_READ: 'CHATBOXES.MARK_AS_READ',
                ON_CHANGE: 'CHATBOXES.ON_CHANGE'
            });
            exports_1("MESSAGES", MESSAGES = {
                START_SEND_MESSAGE: 'MESSAGES.START_SEND_MESSAGE',
                SEND_MESSAGE_SUCCESS: 'MESSAGES.SEND_MESSAGE_SUCCESS',
                SEND_MESSAGE_FAILED: 'MESSAGES.SEND_MESSAGE_FAILED',
                INSERT_MESSAGE: 'MESSAGES.INSERT_MESSAGE',
                LOAD_MORE_MESSAGES_SUCCESS: 'MESSAGES.LOAD_MORE_MESSAGES_SUCCESS',
                LOAD_MORE_MESSAGES_FAILED: 'MESSAGES.LOAD_MORE_MESSAGES_FAILED',
                START_UPLOADING_FILE: 'MESSAGES.START_UPLOADING_FILE',
                UPLOAD_FILE_PROGRESS: 'MESSAGES.UPLOAD_FILE_PROGRESS',
                UPLOAD_SUCCESS: 'MESSAGES.UPLOAD_SUCCESS',
                UPLOAD_FAILED: 'MESSAGES.UPLOAD_FAILED'
            });
            exports_1("COMMONS", COMMONS = {
                TOGGLE_LOADING: 'COMMONS.TOGGLE_LOADING'
            });
            exports_1("USERS", USERS = {
                LOGIN: 'USERS.LOGIN',
                LOGIN_SUCCESS: 'USERS.LOGIN_SUCCESS',
                LOGIN_FAILED: 'USERS.LOGIN_FAILED',
                SIGNUP_SUCCESS: 'USERS.LOGIN_SUCCESS',
                SIGNUP_FAILED: 'USERS.LOGIN_FAILED',
                LOGOUT: 'USERS.LOGOUT',
                SSO_LOGIN_SUCCESS: 'USERS.SSO_LOGIN_SUCCESS',
                SSO_LOGIN_FAILED: 'USERS.SSO_LOGIN_FAILED',
                UPDATE_PROFILE: 'USERS.UPDATE_PROFILE',
                ADD_FRIEND: 'USERS.ADD_FRIEND'
            });
            exports_1("GROUPS", GROUPS = {
                CREATE_SUCCESS: 'GROUPS.CREATE_SUCCESS',
                CREATE_FAILED: 'GROUPS.CREATE_FAILED',
                LEAVE: 'GROUPS.LEAVE',
                DELETE: 'GROUPS.DELETE',
                ADD_MEMBERS: 'GROUPS.ADD_MEMBERS',
                REMOVE_MEMBERS: 'GROUPS.REMOVE_MEMBERS',
                LOAD_GROUPS_SUCCESS: 'GROUPS.LOAD_GROUPS_SUCCESS',
                LOAD_GROUPS_FAILED: 'GROUPS.LOAD_GROUPS_FAILED',
                SET_FILTER: 'GROUPS.SET_FILTER'
            });
            exports_1("FILE_TYPES", FILE_TYPES = {
                PDF: ['pdf'],
                DOC: ['doc', 'docx', 'dot', 'rtf'],
                TEXT: ['txt'],
                EXCEL: ['xls', 'xlsx'],
                ZIP: ['zip', 'rar', 'tar', '7z'],
                AUDIO: ['mp3', 'mid', 'wav'],
                VIDEO: ['mp4', 'mp2', 'mov', 'avi', 'movie', 'mpeg'],
                IMAGE: ['bmp', 'gif', 'jpeg', 'jpg', 'svg', 'tif', 'tiff', 'ico', 'png'],
                typeOf: function (ext, type) {
                    var key = type.toUpperCase();
                    ext = (ext || '').toLowerCase();
                    var types = this[key];
                    return types ? types.indexOf(ext) != -1 : false;
                }
            });
            exports_1("MESSAGE_TYPE", MESSAGE_TYPE = {
                TEXT: 0,
                FILE: 1,
                PHOTO_FILE: 2,
                AUDIO_FILE: 3,
                VIDEO_FILE: 4
            });
            exports_1("CONVERSATION_TYPE", CONVERSATION_TYPE = {
                ONE: 0,
                GROUP: 1
            });
            exports_1("CONVERSATION_ACTIONS", CONVERSATION_ACTIONS = {
                ADD_MEMBERS: 'CONVERSATION_ACTIONS.ADD_MEMBERS',
                UPDATE_TITLE: 'CONVERSATION_ACTIONS.UPDATE_TITLE'
            });
            exports_1("MEMBER_TYPE", MEMBER_TYPE = {
                OWNER: 'OWNER',
                MEMBER: 'MEMBER'
            });
        }
    };
});
$__System.register('1a0', [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var EventService;
    function getNames(name) {
        var kv = { tag: null, name: null };
        var names = name.split('|');
        if (names.length > 1) {
            kv.tag = names[0];
            kv.name = names[1];
        } else kv.name = name;
        return kv;
    }
    function raiseEvent(evts, args, ctx) {
        if (evts) {
            var promises = [];
            for (var i = 0; i < evts.length;) {
                var h = evts[i];
                if (h.once) evts.splice(i, 1);else i++;
                var fn = h.fn;
                var result, promise;
                try {
                    result = fn.apply(ctx, args || []);
                    promise = result instanceof Promise ? result : Promise.resolve(result);
                } catch (err) {
                    console.error(err);
                    promise = Promise.reject(err);
                }
                promises.push(promise);
            }
            return Promise.all(promises);
        } else return Promise.resolve();
    }
    return {
        setters: [],
        execute: function () {
            EventService = function () {
                function EventService() {
                    this.events = {};
                    this.cats = {};
                }
                EventService.prototype.cat = function (name) {
                    var bus = this.cats[name];
                    if (!bus) bus = this.cats[name] = new EventService();
                    return bus;
                };
                EventService.prototype.raise = function (name, args, ctx) {
                    return raiseEvent(this.events[name], args, ctx);
                };
                EventService.prototype.emit = function (name) {
                    var params = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                        params[_i - 1] = arguments[_i];
                    }
                    var args = [].slice.call(arguments, 1);
                    return this.raise(name, args);
                };
                EventService.prototype.once = function (names, fn) {
                    var _this = this;
                    var items = names.split(' ');
                    items.forEach(function (name) {
                        _this.on(name, fn, true);
                    });
                    return this;
                };
                EventService.prototype.on = function (names, fn, once) {
                    var _this = this;
                    if (typeof fn == 'undefined') {
                        return this;
                    }
                    var items = names.split(' ');
                    items.forEach(function (name) {
                        var kv = getNames(name);
                        var _name = kv.name;
                        var evts = _this.events[_name];
                        if (!evts) evts = _this.events[_name] = [];
                        evts.push({ fn: fn, once: once, tag: kv.tag });
                    });
                    return this;
                };
                EventService.prototype.off = function (names, fn) {
                    var _this = this;
                    var items = names.split(' ');
                    items.forEach(function (name) {
                        var kv = getNames(name);
                        var _name = kv.name;
                        var _tag = kv.tag;
                        var no_tag = name.indexOf('|') === -1;
                        var evts = _this.events[_name];
                        if (evts) {
                            for (var i = 0; i < evts.length; i++) {
                                var h = evts[i];
                                if (fn && h.fn === fn || !fn && (no_tag || h.tag === _tag)) evts.splice(i, 1);
                            }
                        }
                    });
                    return this;
                };
                EventService.singleton = function () {
                    if (EventService._instance) return EventService._instance;
                    EventService._instance = new EventService();
                    return EventService._instance;
                };
                return EventService;
            }();
            exports_1("default", EventService);
        }
    };
});
$__System.register('1ad', ['1a0'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var bus_1;
    var base, all;
    return {
        setters: [function (bus_1_1) {
            bus_1 = bus_1_1;
        }],
        execute: function () {
            base = bus_1.default.singleton().cat('model');
            all = {
                base: base,
                application: base.cat('application'),
                chatboxes: base.cat('chatboxes'),
                contacts: base.cat('contacts'),
                conversations: base.cat('conversations'),
                conversationActions: base.cat('conversation-actions'),
                messages: base.cat('messages'),
                users: base.cat('users'),
                members: base.cat('members')
            };
            exports_1("default", all);
        }
    };
});
$__System.register('1cd', ['156', '1ad'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var types_1, bus_1;
    function membersLoaded(conv_id, members) {
        return function (dispatch) {
            dispatch({ type: types_1.MEMBERS.MEMBERS_LOADED, data: { conv_id: conv_id, members: members } });
            bus_1.default.members.emit(types_1.MEMBERS.MEMBERS_LOADED, members);
        };
    }
    exports_1("membersLoaded", membersLoaded);
    function addMembers(conv_id) {
        var memberIds = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            memberIds[_i - 1] = arguments[_i];
        }
        return function (dispatch) {
            dispatch({ type: types_1.MEMBERS.ADD_MEMBERS, data: { conv_id: conv_id, memberIds: memberIds } });
            bus_1.default.members.emit(types_1.MEMBERS.ADD_MEMBERS, memberIds);
        };
    }
    exports_1("addMembers", addMembers);
    return {
        setters: [function (types_1_1) {
            types_1 = types_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }],
        execute: function () {}
    };
});
$__System.register('148', ['14b', '1a0', '156', '1a6', '1a7', '1a8', '1af', '1ab', '1aa', '1ac', '15e', '1ae', '1a9', '1b0', '1b2', '1b1', '158', '157', '14c', '1cb', '1cc', '1cd'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var store_1, bus_1, types, Actions, lotus_service_1, user_service_1, contact_service_1, conversation_service_1, ApplicationActions, ApplicationTools, ChatBoxActions, ChatBoxTools, ContactActions, ContactTools, ConversationActions, ConversationTools, MessageActions, MessageTools, actions_1, UserTools, MemberTools, MemberActions;
    var bus, refs;
    return {
        setters: [function (store_1_1) {
            store_1 = store_1_1;
        }, function (bus_1_1) {
            bus_1 = bus_1_1;
        }, function (types_1) {
            types = types_1;
        }, function (Actions_1) {
            Actions = Actions_1;
        }, function (lotus_service_1_1) {
            lotus_service_1 = lotus_service_1_1;
        }, function (user_service_1_1) {
            user_service_1 = user_service_1_1;
        }, function (contact_service_1_1) {
            contact_service_1 = contact_service_1_1;
        }, function (conversation_service_1_1) {
            conversation_service_1 = conversation_service_1_1;
        }, function (ApplicationActions_1) {
            ApplicationActions = ApplicationActions_1;
        }, function (ApplicationTools_1) {
            ApplicationTools = ApplicationTools_1;
        }, function (ChatBoxActions_1) {
            ChatBoxActions = ChatBoxActions_1;
        }, function (ChatBoxTools_1) {
            ChatBoxTools = ChatBoxTools_1;
        }, function (ContactActions_1) {
            ContactActions = ContactActions_1;
        }, function (ContactTools_1) {
            ContactTools = ContactTools_1;
        }, function (ConversationActions_1) {
            ConversationActions = ConversationActions_1;
        }, function (ConversationTools_1) {
            ConversationTools = ConversationTools_1;
        }, function (MessageActions_1) {
            MessageActions = MessageActions_1;
        }, function (MessageTools_1) {
            MessageTools = MessageTools_1;
        }, function (actions_1_1) {
            actions_1 = actions_1_1;
        }, function (UserTools_1) {
            UserTools = UserTools_1;
        }, function (MemberTools_1) {
            MemberTools = MemberTools_1;
        }, function (MemberActions_1) {
            MemberActions = MemberActions_1;
        }],
        execute: function () {
            bus = bus_1.default.singleton().cat('model');
            refs = {
                LotusService: lotus_service_1.default,
                EventService: bus_1.default,
                store: store_1.default,
                types: types,
                actions: Actions,
                app: {
                    actions: ApplicationActions,
                    tools: ApplicationTools,
                    bus: bus
                },
                chatboxes: {
                    actions: ChatBoxActions,
                    tools: ChatBoxTools,
                    bus: bus.cat('chatboxes')
                },
                contacts: {
                    actions: ContactActions,
                    tools: ContactTools,
                    service: contact_service_1.default,
                    bus: bus.cat('contacts')
                },
                conversations: {
                    actions: ConversationActions,
                    tools: ConversationTools,
                    service: conversation_service_1.default,
                    bus: bus.cat('conversations')
                },
                conversationActions: {
                    bus: bus.cat('conversation-actions')
                },
                members: {
                    tools: MemberTools,
                    actions: MemberActions,
                    bus: bus.cat('members')
                },
                messages: {
                    actions: MessageActions,
                    tools: MessageTools,
                    bus: bus.cat('messages')
                },
                users: {
                    actions: actions_1.default,
                    service: user_service_1.default,
                    tools: UserTools,
                    bus: bus.cat('users')
                }
            };
            exports_1("default", refs);
        }
    };
});
$__System.register("1ce", [], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            exports_1("default", "<develop-tools>\n    <div class=\"uk-button-dropdown\" data-uk-dropdown=\"{mode:'click'}\">\n        <button class=\"uk-button\">Develop Tools <i class=\"uk-icon-caret-down\"></i></button>\n        <div class=\"uk-dropdown uk-dropdown-bottom\">\n            <ul class=\"uk-nav uk-nav-dropdown\">\n                <li class=\"uk-nav-header\" if='{{user}}'>Hello, {{user.name || user.display_name || user.email}}</li>\n                <li class=\"uk-nav-divider\" if='{{user}}'></li>\n                <li class=\"uk-nav-header\">Accounts</li>\n                <li><a onclick=\"{{onAutoLoginButtonClick}}\">Auto Login</a></li>\n                <li class=\"uk-nav-divider\"></li>\n                <li><a onclick=\"{{onLoginButtonClick}}\">Login</a></li>\n                <li><a onclick=\"{{onSignupButtonClick}}\">Signup</a></li>\n                <li class=\"uk-nav-divider\" if='{{user}}'></li>\n                <li><a onclick=\"{{onUpdateProfileButtonClick}}\" if='{{user}}'>Update Profile</a></li>\n                <li><a onclick=\"{{onLogoutButtonClick}}\" if='{{user}}'>Logout</a></li>\n                <li class=\"uk-nav-header\">Roster</li>\n                <li><a onclick=\"{{onAddPartnerButtonClick}}\">Add partner</a></li>\n                <li><a onclick=\"{{onGetOnlinePartnersButtonClick}}\">Get online partners</a></li>\n                <li class=\"uk-nav-header\">Conversations</li>\n                <li><a onclick=\"{{onGetMembersButtonClick}}\">Get members</a></li>\n                <li><a onclick=\"{{onAddMemberButtonClick}}\">Add member</a></li>\n            </ul>\n        </div>\n    </div>\n\n    <style scoped>\n        :scope{\n            position: fixed;\n            top: 10px;\n            left: 10px;\n            z-index: 99999;\n        }\n    </style>\n</develop-tools>");
        }
    };
});
$__System.register('1cf', ['144', '148', '1ce'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var __extends = this && this.__extends || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
    var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
        var c = arguments.length,
            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
            d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var riot_ts_1, all_1, tools_html_text_1;
    var DevelopTools;
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (tools_html_text_1_1) {
            tools_html_text_1 = tools_html_text_1_1;
        }],
        execute: function () {
            DevelopTools = function (_super) {
                __extends(DevelopTools, _super);
                function DevelopTools(opts) {
                    var _this = this;
                    _super.call(this);
                    this.user = all_1.default.store.getState().userData.user;
                    all_1.default.users.bus.on('LoginSuccess', function (usr) {
                        _this.user = usr;
                        _this.update();
                    });
                }
                DevelopTools.prototype.onAddPartnerButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    UIkit.modal.prompt("Please enter partner email", '', function (value) {
                        if (value != '') {
                            all_1.default.contacts.tools.addPartner(value).then(function (resp) {
                                if (resp.err) {
                                    UIkit.modal.alert(JSON.stringify(resp.err));
                                    console.error(resp.err);
                                } else {
                                    UIkit.modal.alert('done.');
                                }
                            });
                        }
                    });
                };
                DevelopTools.prototype.onSignupButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    UIkit.modal.prompt("Please enter email", '', function (email) {
                        if (email != '') {
                            UIkit.modal.prompt("Please enter password", '', function (password) {
                                if (password != '') {
                                    var idx = email.indexOf('@');
                                    var name = email.substr(0, idx);
                                    all_1.default.users.tools.signUp(name, email, password).then(function (resp) {
                                        if (resp.err) {
                                            UIkit.modal.alert(JSON.stringify(resp.err));
                                            console.error(resp.err);
                                        } else {
                                            UIkit.modal.alert('done.');
                                        }
                                    });
                                }
                            });
                        }
                    });
                };
                DevelopTools.prototype.onLoginButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    UIkit.modal.prompt("Please enter email", '', function (email) {
                        if (email != '') {
                            UIkit.modal.prompt("Please enter password", '', function (password) {
                                if (password != '') {
                                    var idx = email.indexOf('@');
                                    var name = email.substr(0, idx);
                                    all_1.default.users.tools.signIn(email, password).then(function (resp) {
                                        if (resp.err) {
                                            UIkit.modal.alert(JSON.stringify(resp.err));
                                            console.error(resp.err);
                                        } else {
                                            //debugger;
                                            all_1.default.store.dispatch(all_1.default.users.actions.loginSuccess(resp.re.user));
                                            all_1.default.users.bus.emit('LoginSuccess', resp.re.user);
                                            localStorage.setItem('access_token', resp.re.idToken);
                                        }
                                    });
                                }
                            });
                        }
                    });
                };
                DevelopTools.prototype.onAutoLoginButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    var token = localStorage.getItem('access_token');
                    if (token == null || token == '') {
                        UIkit.modal.alert('There is no token to login.');
                        return;
                    }
                    all_1.default.users.tools.autoLogin(token).then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(JSON.stringify(resp.err));
                            console.error(resp.err);
                        } else {
                            all_1.default.store.dispatch(all_1.default.users.actions.loginSuccess(resp.re.user));
                            all_1.default.users.bus.emit('LoginSuccess', resp.re.user);
                        }
                    });
                };
                DevelopTools.prototype.onGetOnlinePartnersButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    all_1.default.contacts.tools.getContacts().then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(JSON.stringify(resp.err));
                            console.error(resp.err);
                        } else {
                            all_1.default.store.dispatch(all_1.default.contacts.actions.contactsLoaded(resp.re.partners));
                            all_1.default.users.bus.emit('GetOnlinePartnersSuccess', resp.re);
                        }
                    });
                };
                DevelopTools.prototype.onGetMembersButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    UIkit.modal.prompt('Enter current partner email: ', '', function (email1) {
                        if (email1 != '') {
                            var contact1 = all_1.default.store.getState().contactData.contacts.find(function (c) {
                                return c.email == email1;
                            });
                            if (contact1) {
                                var conv = all_1.default.conversations.tools.findOne(contact1.userId);
                                all_1.default.members.tools.getMembers(conv.id).then(function (resp) {
                                    if (resp.err) {
                                        UIkit.modal.alert(JSON.stringify(resp.err));
                                        console.error(resp.err);
                                    } else {
                                        all_1.default.store.dispatch(all_1.default.members.actions.membersLoaded(conv.id, resp.members));
                                        UIkit.modal.alert('done.');
                                    }
                                });
                            }
                        }
                    });
                };
                DevelopTools.prototype.onAddMemberButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    UIkit.modal.prompt('Enter current partner email: ', '', function (email1) {
                        if (email1 != '') {
                            var contact1 = all_1.default.store.getState().contactData.contacts.find(function (c) {
                                return c.email == email1;
                            });
                            if (contact1) {
                                var conv = all_1.default.conversations.tools.findOne(contact1.userId);
                                UIkit.modal.prompt('Enter new member email', '', function (email2) {
                                    if (email2 != '') {
                                        var contact2 = all_1.default.store.getState().contactData.contacts.find(function (c) {
                                            return c.email == email2;
                                        });
                                        all_1.default.members.tools.addMembers(conv.id, contact2.userId).then(function (resp) {
                                            if (resp.err) {
                                                UIkit.modal.alert(JSON.stringify(resp.err));
                                                console.error(resp.err);
                                            } else {
                                                console.log(resp);
                                                UIkit.modal.alert('done.');
                                            }
                                        });
                                    }
                                });
                            }
                        }
                    });
                };
                DevelopTools.prototype.onLogoutButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    all_1.default.users.tools.logOut().then(function (resp) {
                        if (resp.err) {
                            UIkit.modal.alert(JSON.stringify(resp.err));
                            console.error(resp.err);
                        } else {
                            UIkit.modal.alert('Logged out. The page is going to reload...');
                            setTimeout(function () {
                                window.location.reload();
                            }, 2000);
                        }
                    });
                };
                DevelopTools.prototype.onUpdateProfileButtonClick = function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    UIkit.modal.prompt('Avatar URL: ', '', function (avatarURL) {
                        if (avatarURL != '') {
                            all_1.default.users.tools.updateProfile({ avatarUrl: avatarURL }).then(function (resp) {
                                if (resp.err) {
                                    UIkit.modal.alert(JSON.stringify(resp.err));
                                } else {
                                    UIkit.modal.alert('done.');
                                }
                            });
                        }
                    });
                };
                DevelopTools = __decorate([riot_ts_1.template(tools_html_text_1.default)], DevelopTools);
                return DevelopTools;
            }(riot_ts_1.Element);
            exports_1("default", DevelopTools);
        }
    };
});
$__System.register("1d0", ["1cf"], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    return {
        setters: [function (_1) {}],
        execute: function () {}
    };
});
$__System.register('1d1', ['144', '145', '153', '16c', '176', '184', '187', '192', '19d', '1a3', '1d0'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var riot_ts_1;
    var all;
    function registerComponents(opts) {
        riot_ts_1.riot.mixin(opts);
        riot_ts_1.riot.mount('*', opts);
    }
    function mount(tag, opts) {
        riot_ts_1.riot.mount(tag, opts);
    }
    return {
        setters: [function (riot_ts_1_1) {
            riot_ts_1 = riot_ts_1_1;
        }, function (_1) {}, function (_2) {}, function (_3) {}, function (_4) {}, function (_5) {}, function (_6) {}, function (_7) {}, function (_8) {}, function (_9) {}, function (_10) {}],
        execute: function () {
            all = { mount: mount, registerComponents: registerComponents };
            exports_1("default", all);
        }
    };
});
$__System.register('1', ['13d', '169', '13e', '148', '1d1'], function (exports_1, context_1) {
    "use strict";

    var __moduleName = context_1 && context_1.id;
    var moment_1, common, all_1, all_2;
    var store, USERS;
    return {
        setters: [function (_1) {}, function (moment_1_1) {
            moment_1 = moment_1_1;
        }, function (common_1) {
            common = common_1;
        }, function (all_1_1) {
            all_1 = all_1_1;
        }, function (all_2_1) {
            all_2 = all_2_1;
        }],
        execute: function () {
            store = all_1.default.store;
            USERS = all_1.default.types.USERS;
            all_1.default.users.bus.on('LoginSuccess', function () {
                //model.conversations.actions.restoreConversations();
                var user = store.getState().userData.user;
                all_1.default.actions.initialize();
                all_2.default.registerComponents({ common: common, moment: moment_1.default, user: user });
            }).on('LoginFailed', function () {
                if (document.location.hostname == "localhost") {
                    if (!document.querySelector('login-form')) {
                        var el = all_2.default.accounts.createElement();
                        document.body.appendChild(el);
                    }
                }
            });
            all_2.default.mount('develop-tools');
            all_2.default.mount('landing-page');
        }
    };
});
//store.dispatch(model.users.actions.ssoLogin());
(function(c){if (typeof document == 'undefined') return; var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
("ins,mark{background:#ffa}progress,sub,sup{vertical-align:baseline}hr,iframe,img{border:0}.uk-panel,sub,sup{position:relative}.uk-article-title,.uk-panel-title{text-transform:none;font-weight:400}.uk-comment-list,.uk-comment-list .uk-comment+ul,.uk-dotnav,.uk-grid,.uk-list,.uk-list ul,.uk-nav,.uk-nav ul,.uk-navbar-nav,.uk-pagination,.uk-subnav,.uk-switcher,.uk-tab,.uk-thumbnav{list-style:none}.uk-icon-spin,.uk-modal-spinner:after{-webkit-animation:uk-rotate 2s infinite linear}.uk-hidden,.uk-invisible{visibility:hidden!important}.uk-article:after,.uk-block:after,.uk-clearfix:after,.uk-comment-header:after,.uk-container:after,.uk-dotnav:after,.uk-form-row:after,.uk-grid:after,.uk-list>li:after,.uk-navbar:after,.uk-panel:after,.uk-subnav:after,.uk-tab-center:after,.uk-tab:after,.uk-thumbnav:after{clear:both}html{font:400 14px/20px \"Helvetica Neue\",Helvetica,Arial,sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;background:#fff;color:#444}body{margin:0}a{background:0 0}a:active,a:hover{outline:0}.uk-link,a{color:#07D;text-decoration:none;cursor:pointer}.uk-link:hover,a:hover{color:#059;text-decoration:underline}.uk-article-title a,.uk-nav li>a,.uk-navbar-nav>li>a,.uk-panel,.uk-panel:hover,ins{text-decoration:none}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}:not(pre)>code,:not(pre)>kbd,:not(pre)>samp{font-size:12px;font-family:Consolas,monospace,serif;color:#D05;white-space:nowrap}ins,mark,pre{color:#444}em{color:#D05}q{font-style:italic}small{font-size:80%}sub,sup{font-size:75%;line-height:0}sup{top:-.5em}sub{bottom:-.25em}audio,canvas,iframe,img,svg,video{vertical-align:middle}audio,canvas,img,svg,video{max-width:100%;height:auto;box-sizing:border-box}.uk-img-preserve,.uk-img-preserve audio,.uk-img-preserve canvas,.uk-img-preserve img,.uk-img-preserve svg,.uk-img-preserve video{max-width:none}svg:not(:root){overflow:hidden}address,blockquote,dl,fieldset,figure,ol,p,pre,ul{margin:0 0 15px}*+address,*+blockquote,*+dl,*+fieldset,*+figure,*+ol,*+p,*+pre,*+ul{margin-top:15px}h1,h2,h3,h4,h5,h6{margin:0 0 15px;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-weight:400;color:#444;text-transform:none}*+h1,*+h2,*+h3,*+h4,*+h5,*+h6{margin-top:25px}.uk-h1,h1{font-size:36px;line-height:42px}.uk-h2,h2{font-size:24px;line-height:30px}.uk-h3,h3{font-size:18px;line-height:24px}.uk-h4,h4{font-size:16px;line-height:22px}.uk-h5,h5{font-size:14px;line-height:20px}.uk-h6,h6{font-size:12px;line-height:18px}ol,ul{padding-left:30px}ol>li>ol,ol>li>ul,ul>li>ol,ul>li>ul{margin:0}dt{font-weight:700}dd{margin-left:0}hr{box-sizing:content-box;height:0;margin:15px 0;border-top:1px solid #ddd}address{font-style:normal}blockquote{padding-left:15px;border-left:5px solid #ddd;font-size:16px;line-height:22px;font-style:italic}pre{padding:10px;background:#f5f5f5;font:12px/18px Consolas,monospace,serif;-moz-tab-size:4;tab-size:4;overflow:auto}::-moz-selection{background:#39f;color:#fff;text-shadow:none}::selection{background:#39f;color:#fff;text-shadow:none}article,aside,details,figcaption,figure,footer,header,main,nav,section,summary{display:block}[hidden],audio:not([controls]),template{display:none}@media screen and (max-width:400px){@-ms-viewport{width:device-width}}.uk-grid{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin:0;padding:0}.uk-grid:after,.uk-grid:before{content:\"\";display:block;overflow:hidden}.uk-grid>*{-ms-flex:none;-webkit-flex:none;flex:none;margin:0;float:left;padding-left:25px}.uk-grid>*>:last-child{margin-bottom:0}.uk-grid{margin-left:-25px}.uk-grid+.uk-grid,.uk-grid-margin,.uk-grid>*>.uk-panel+.uk-panel{margin-top:25px}@media (min-width:1220px){.uk-grid{margin-left:-35px}.uk-grid>*{padding-left:35px}.uk-grid+.uk-grid,.uk-grid-margin,.uk-grid>*>.uk-panel+.uk-panel{margin-top:35px}}.uk-grid-collapse{margin-left:0}.uk-grid-collapse>*{padding-left:0}.uk-grid-collapse+.uk-grid-collapse,.uk-grid-collapse>*>.uk-panel+.uk-panel,.uk-grid-collapse>.uk-grid-margin{margin-top:0}.uk-grid-small{margin-left:-10px}.uk-grid-small>*{padding-left:10px}.uk-grid-small+.uk-grid-small,.uk-grid-small>*>.uk-panel+.uk-panel,.uk-grid-small>.uk-grid-margin{margin-top:10px}.uk-grid-medium{margin-left:-25px}.uk-grid-medium>*{padding-left:25px}.uk-grid-medium+.uk-grid-medium,.uk-grid-medium>*>.uk-panel+.uk-panel,.uk-grid-medium>.uk-grid-margin{margin-top:25px}@media (min-width:960px){.uk-grid-large{margin-left:-35px}.uk-grid-large>*{padding-left:35px}.uk-grid-large+.uk-grid-large,.uk-grid-large-margin,.uk-grid-large>*>.uk-panel+.uk-panel{margin-top:35px}.uk-grid-divider>[class*=uk-width-large-]:not(.uk-width-large-1-1):nth-child(n+2){border-left:1px solid #ddd}}@media (min-width:1220px){.uk-grid-large{margin-left:-50px}.uk-grid-large>*{padding-left:50px}.uk-grid-large+.uk-grid-large,.uk-grid-large-margin,.uk-grid-large>*>.uk-panel+.uk-panel{margin-top:50px}}.uk-grid-divider:not(:empty){margin-left:-25px;margin-right:-25px}.uk-grid-divider>*{padding-left:25px;padding-right:25px}.uk-grid-divider>[class*=uk-width-9-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-1-]:not(.uk-width-1-1):nth-child(n+2),.uk-grid-divider>[class*=uk-width-2-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-3-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-4-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-5-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-6-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-7-]:nth-child(n+2),.uk-grid-divider>[class*=uk-width-8-]:nth-child(n+2){border-left:1px solid #ddd}@media (min-width:1220px){.uk-grid-divider:not(:empty){margin-left:-35px;margin-right:-35px}.uk-grid-divider>*{padding-left:35px;padding-right:35px}.uk-grid-divider:empty{margin-top:35px;margin-bottom:35px}}.uk-grid-divider:empty{margin-top:25px;margin-bottom:25px;border-top:1px solid #ddd}.uk-grid-match>*{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap}.uk-grid-match>*>*{-ms-flex:none;-webkit-flex:none;flex:none;box-sizing:border-box;width:100%}[class*=uk-grid-width]>*{box-sizing:border-box;width:100%}.uk-grid-width-1-2>*{width:50%}.uk-grid-width-1-3>*{width:33.333%}.uk-grid-width-1-4>*{width:25%}.uk-grid-width-1-5>*{width:20%}.uk-grid-width-1-6>*{width:16.666%}.uk-grid-width-1-10>*{width:10%}.uk-grid-width-auto>*{width:auto}@media (min-width:480px){.uk-grid-width-small-1-1>*{width:100%}.uk-grid-width-small-1-2>*{width:50%}.uk-grid-width-small-1-3>*{width:33.333%}.uk-grid-width-small-1-4>*{width:25%}.uk-grid-width-small-1-5>*{width:20%}.uk-grid-width-small-1-6>*{width:16.666%}.uk-grid-width-small-1-10>*{width:10%}}@media (min-width:768px){.uk-grid-divider>[class*=uk-width-medium-]:not(.uk-width-medium-1-1):nth-child(n+2){border-left:1px solid #ddd}.uk-grid-width-medium-1-1>*{width:100%}.uk-grid-width-medium-1-2>*{width:50%}.uk-grid-width-medium-1-3>*{width:33.333%}.uk-grid-width-medium-1-4>*{width:25%}.uk-grid-width-medium-1-5>*{width:20%}.uk-grid-width-medium-1-6>*{width:16.666%}.uk-grid-width-medium-1-10>*{width:10%}}@media (min-width:960px){.uk-grid-width-large-1-1>*{width:100%}.uk-grid-width-large-1-2>*{width:50%}.uk-grid-width-large-1-3>*{width:33.333%}.uk-grid-width-large-1-4>*{width:25%}.uk-grid-width-large-1-5>*{width:20%}.uk-grid-width-large-1-6>*{width:16.666%}.uk-grid-width-large-1-10>*{width:10%}}@media (min-width:1220px){.uk-grid-width-xlarge-1-1>*{width:100%}.uk-grid-width-xlarge-1-2>*{width:50%}.uk-grid-width-xlarge-1-3>*{width:33.333%}.uk-grid-width-xlarge-1-4>*{width:25%}.uk-grid-width-xlarge-1-5>*{width:20%}.uk-grid-width-xlarge-1-6>*{width:16.666%}.uk-grid-width-xlarge-1-10>*{width:10%}}[class*=uk-width]{box-sizing:border-box;width:100%}.uk-width-1-1{width:100%}.uk-width-1-2,.uk-width-2-4,.uk-width-3-6,.uk-width-5-10{width:50%}.uk-width-1-3,.uk-width-2-6{width:33.333%}.uk-width-2-3,.uk-width-4-6{width:66.666%}.uk-width-1-4{width:25%}.uk-width-3-4{width:75%}.uk-width-1-5,.uk-width-2-10{width:20%}.uk-width-2-5,.uk-width-4-10{width:40%}.uk-width-3-5,.uk-width-6-10{width:60%}.uk-width-4-5,.uk-width-8-10{width:80%}.uk-width-1-6{width:16.666%}.uk-width-5-6{width:83.333%}.uk-width-1-10{width:10%}.uk-width-3-10{width:30%}.uk-width-7-10{width:70%}.uk-width-9-10{width:90%}@media (min-width:480px){.uk-width-small-1-1{width:100%}.uk-width-small-1-2,.uk-width-small-2-4,.uk-width-small-3-6,.uk-width-small-5-10{width:50%}.uk-width-small-1-3,.uk-width-small-2-6{width:33.333%}.uk-width-small-2-3,.uk-width-small-4-6{width:66.666%}.uk-width-small-1-4{width:25%}.uk-width-small-3-4{width:75%}.uk-width-small-1-5,.uk-width-small-2-10{width:20%}.uk-width-small-2-5,.uk-width-small-4-10{width:40%}.uk-width-small-3-5,.uk-width-small-6-10{width:60%}.uk-width-small-4-5,.uk-width-small-8-10{width:80%}.uk-width-small-1-6{width:16.666%}.uk-width-small-5-6{width:83.333%}.uk-width-small-1-10{width:10%}.uk-width-small-3-10{width:30%}.uk-width-small-7-10{width:70%}.uk-width-small-9-10{width:90%}}@media (min-width:768px){.uk-width-medium-1-1{width:100%}.uk-width-medium-1-2,.uk-width-medium-2-4,.uk-width-medium-3-6,.uk-width-medium-5-10{width:50%}.uk-width-medium-1-3,.uk-width-medium-2-6{width:33.333%}.uk-width-medium-2-3,.uk-width-medium-4-6{width:66.666%}.uk-width-medium-1-4{width:25%}.uk-width-medium-3-4{width:75%}.uk-width-medium-1-5,.uk-width-medium-2-10{width:20%}.uk-width-medium-2-5,.uk-width-medium-4-10{width:40%}.uk-width-medium-3-5,.uk-width-medium-6-10{width:60%}.uk-width-medium-4-5,.uk-width-medium-8-10{width:80%}.uk-width-medium-1-6{width:16.666%}.uk-width-medium-5-6{width:83.333%}.uk-width-medium-1-10{width:10%}.uk-width-medium-3-10{width:30%}.uk-width-medium-7-10{width:70%}.uk-width-medium-9-10{width:90%}[class*=uk-push-],[class*=uk-pull-]{position:relative}.uk-push-1-2,.uk-push-2-4,.uk-push-3-6,.uk-push-5-10{left:50%}.uk-push-1-3,.uk-push-2-6{left:33.333%}.uk-push-2-3,.uk-push-4-6{left:66.666%}.uk-push-1-4{left:25%}.uk-push-3-4{left:75%}.uk-push-1-5,.uk-push-2-10{left:20%}.uk-push-2-5,.uk-push-4-10{left:40%}.uk-push-3-5,.uk-push-6-10{left:60%}.uk-push-4-5,.uk-push-8-10{left:80%}.uk-push-1-6{left:16.666%}.uk-push-5-6{left:83.333%}.uk-push-1-10{left:10%}.uk-push-3-10{left:30%}.uk-push-7-10{left:70%}.uk-push-9-10{left:90%}.uk-pull-1-2,.uk-pull-2-4,.uk-pull-3-6,.uk-pull-5-10{left:-50%}.uk-pull-1-3,.uk-pull-2-6{left:-33.333%}.uk-pull-2-3,.uk-pull-4-6{left:-66.666%}.uk-pull-1-4{left:-25%}.uk-pull-3-4{left:-75%}.uk-pull-1-5,.uk-pull-2-10{left:-20%}.uk-pull-2-5,.uk-pull-4-10{left:-40%}.uk-pull-3-5,.uk-pull-6-10{left:-60%}.uk-pull-4-5,.uk-pull-8-10{left:-80%}.uk-pull-1-6{left:-16.666%}.uk-pull-5-6{left:-83.333%}.uk-pull-1-10{left:-10%}.uk-pull-3-10{left:-30%}.uk-pull-7-10{left:-70%}.uk-pull-9-10{left:-90%}}@media (min-width:960px){.uk-width-large-1-1{width:100%}.uk-width-large-1-2,.uk-width-large-2-4,.uk-width-large-3-6,.uk-width-large-5-10{width:50%}.uk-width-large-1-3,.uk-width-large-2-6{width:33.333%}.uk-width-large-2-3,.uk-width-large-4-6{width:66.666%}.uk-width-large-1-4{width:25%}.uk-width-large-3-4{width:75%}.uk-width-large-1-5,.uk-width-large-2-10{width:20%}.uk-width-large-2-5,.uk-width-large-4-10{width:40%}.uk-width-large-3-5,.uk-width-large-6-10{width:60%}.uk-width-large-4-5,.uk-width-large-8-10{width:80%}.uk-width-large-1-6{width:16.666%}.uk-width-large-5-6{width:83.333%}.uk-width-large-1-10{width:10%}.uk-width-large-3-10{width:30%}.uk-width-large-7-10{width:70%}.uk-width-large-9-10{width:90%}}.uk-panel{display:block}.uk-panel:after,.uk-panel:before{content:\"\";display:table}.uk-panel>:not(.uk-panel-title):last-child{margin-bottom:0}.uk-panel-teaser,.uk-panel-title{margin-bottom:15px}.uk-panel-title{margin-top:0;font-size:18px;line-height:24px;color:#444}.uk-panel-badge{position:absolute;top:0;right:0;z-index:1}.uk-panel-box .uk-panel-badge,.uk-panel-hover .uk-panel-badge{top:10px;right:10px}.uk-panel-body{padding:15px}.uk-panel-box{padding:15px;background:#f5f5f5;color:#444}.uk-panel-box .uk-panel-title,.uk-panel-box-hover:hover{color:#444}.uk-panel-box>.uk-panel-teaser{margin-top:-15px;margin-left:-15px;margin-right:-15px}.uk-panel-box>.uk-nav-side{margin:0 -15px}.uk-article>:last-child,.uk-block>:last-child{margin-bottom:0}.uk-panel-box-primary{background-color:#ebf7fd;color:#2d7091}.uk-panel-box-primary .uk-panel-title,.uk-panel-box-primary-hover:hover{color:#2d7091}.uk-panel-box-secondary{background-color:#eee;color:#444}.uk-panel-box-secondary .uk-panel-title,.uk-panel-box-secondary-hover:hover{color:#444}.uk-panel-hover{padding:15px;color:#444}.uk-panel-hover:hover{background:#f5f5f5;color:#444}.uk-panel-hover>.uk-panel-teaser{margin-top:-15px;margin-left:-15px;margin-right:-15px}.uk-panel-header .uk-panel-title{padding-bottom:10px;border-bottom:1px solid #ddd;color:#444}.uk-panel-space{padding:30px}.uk-panel-space .uk-panel-badge{top:30px;right:30px}.uk-panel+.uk-panel-divider{margin-top:50px!important}.uk-panel+.uk-panel-divider:before{content:\"\";display:block;position:absolute;top:-25px;left:0;right:0;border-top:1px solid #ddd}.uk-article:after,.uk-article:before,.uk-block:after,.uk-block:before,.uk-comment-header:after,.uk-comment-header:before{content:\"\";display:table}@media (min-width:1220px){.uk-width-xlarge-1-1{width:100%}.uk-width-xlarge-1-2,.uk-width-xlarge-2-4,.uk-width-xlarge-3-6,.uk-width-xlarge-5-10{width:50%}.uk-width-xlarge-1-3,.uk-width-xlarge-2-6{width:33.333%}.uk-width-xlarge-2-3,.uk-width-xlarge-4-6{width:66.666%}.uk-width-xlarge-1-4{width:25%}.uk-width-xlarge-3-4{width:75%}.uk-width-xlarge-1-5,.uk-width-xlarge-2-10{width:20%}.uk-width-xlarge-2-5,.uk-width-xlarge-4-10{width:40%}.uk-width-xlarge-3-5,.uk-width-xlarge-6-10{width:60%}.uk-width-xlarge-4-5,.uk-width-xlarge-8-10{width:80%}.uk-width-xlarge-1-6{width:16.666%}.uk-width-xlarge-5-6{width:83.333%}.uk-width-xlarge-1-10{width:10%}.uk-width-xlarge-3-10{width:30%}.uk-width-xlarge-7-10{width:70%}.uk-width-xlarge-9-10{width:90%}.uk-panel+.uk-panel-divider{margin-top:70px!important}.uk-panel+.uk-panel-divider:before{top:-35px}}*+.uk-article-divider,.uk-article+.uk-article{margin-top:25px}.uk-cover-object,[data-uk-cover]{left:50%;top:50%;position:relative}.uk-block{position:relative;box-sizing:border-box;padding-top:20px;padding-bottom:20px}@media (min-width:768px){.uk-block{padding-top:50px;padding-bottom:50px}}.uk-block-large{padding-top:20px;padding-bottom:20px}@media (min-width:768px){.uk-block-large{padding-top:50px;padding-bottom:50px}}@media (min-width:960px){.uk-block-large{padding-top:100px;padding-bottom:100px}}.uk-block-default{background:#fff}.uk-block-muted{background:#f9f9f9}.uk-block-primary{background:#00a8e6}.uk-block-secondary{background:#222}.uk-article-title{font-size:36px;line-height:42px}.uk-article-title a{color:inherit}.uk-article-meta{font-size:12px;line-height:18px;color:#999}.uk-article-lead{color:#444;font-size:18px;line-height:24px;font-weight:400}.uk-article-divider{margin-bottom:25px;border-color:#ddd}.uk-nav-dropdown .uk-nav-divider,.uk-nav-navbar .uk-nav-divider,.uk-nav-side .uk-nav-divider{border-top:1px solid #ddd}.uk-comment-header{margin-bottom:15px}.uk-comment-avatar{margin-right:15px;float:left}.uk-comment-title{margin:5px 0 0;font-size:16px;line-height:22px}.uk-comment-meta{margin:2px 0 0;font-size:11px;line-height:16px;color:#999}.uk-comment-body>:last-child{margin-bottom:0}.uk-comment-list{padding:0}.uk-comment-list .uk-comment+ul{margin:15px 0 0}.uk-comment-list .uk-comment+ul>li:nth-child(n+2),.uk-comment-list>li:nth-child(n+2){margin-top:15px}@media (min-width:768px){.uk-comment-list .uk-comment+ul{padding-left:100px}}.uk-cover-background{background-position:50% 50%;background-size:cover;background-repeat:no-repeat}.uk-cover{overflow:hidden}.uk-cover-object{width:auto;height:auto;min-width:100%;min-height:100%;max-width:none;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}[data-uk-cover]{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.uk-nav,.uk-nav ul{margin:0;padding:0}.uk-nav li>a{display:block}.uk-nav>li>a{padding:5px 15px}.uk-nav ul{padding-left:15px}.uk-nav ul a{padding:2px 0}.uk-nav li>a>div{font-size:12px;line-height:18px}.uk-nav-header{padding:5px 15px;text-transform:uppercase;font-weight:700;font-size:12px}.uk-nav-header:not(:first-child){margin-top:15px}.uk-nav-divider{margin:9px 15px}ul.uk-nav-sub{padding:5px 0 5px 15px}.uk-nav-parent-icon>.uk-parent>a:after{content:\"\\f104\";width:20px;margin-right:-10px;float:right;font-family:FontAwesome;text-align:center}.uk-nav-parent-icon>.uk-parent.uk-open>a:after{content:\"\\f107\"}.uk-nav-side>li>a{color:#444}.uk-nav-side>li>a:focus,.uk-nav-side>li>a:hover{background:rgba(0,0,0,.05);color:#444;outline:0}.uk-nav-side>li.uk-active>a{background:#00a8e6;color:#fff}.uk-nav-side .uk-nav-header{color:#444}.uk-nav-side ul a{color:#07D}.uk-nav-side ul a:hover{color:#059}.uk-nav-dropdown>li>a{color:#444}.uk-nav-dropdown>li>a:focus,.uk-nav-dropdown>li>a:hover{background:#00a8e6;color:#fff;outline:0}.uk-nav-dropdown .uk-nav-header{color:#999}.uk-nav-dropdown ul a{color:#07D}.uk-nav-dropdown ul a:hover{color:#059}.uk-nav-navbar>li>a{color:#444}.uk-nav-navbar>li>a:focus,.uk-nav-navbar>li>a:hover{background:#00a8e6;color:#fff;outline:0}.uk-nav-navbar .uk-nav-header{color:#999}.uk-nav-navbar ul a{color:#07D}.uk-nav-navbar ul a:hover{color:#059}.uk-nav-offcanvas>li>a{color:#ccc;padding:10px 15px}.uk-nav-offcanvas>.uk-open>a,html:not(.uk-touch) .uk-nav-offcanvas>li>a:focus,html:not(.uk-touch) .uk-nav-offcanvas>li>a:hover{background:#404040;color:#fff;outline:0}html .uk-nav.uk-nav-offcanvas>li.uk-active>a{background:#1a1a1a;color:#fff}.uk-nav-offcanvas .uk-nav-header{color:#777}.uk-nav-offcanvas .uk-nav-divider{border-top:1px solid #1a1a1a}.uk-nav-offcanvas ul a{color:#ccc}html:not(.uk-touch) .uk-nav-offcanvas ul a:hover{color:#fff}.uk-navbar{background:#eee;color:#444}.uk-navbar:after,.uk-navbar:before{content:\"\";display:table}.uk-navbar-nav{margin:0;padding:0;float:left}.uk-navbar-nav>li{float:left;position:relative}.uk-navbar-nav>li>a{display:block;box-sizing:border-box;height:40px;padding:0 15px;line-height:40px;color:#444;font-size:14px;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;font-weight:400}.uk-navbar-nav>li>a[href='#']{cursor:text}.uk-navbar-nav>li.uk-open>a,.uk-navbar-nav>li:hover>a,.uk-navbar-nav>li>a:focus{background-color:#f5f5f5;color:#444;outline:0}.uk-navbar-nav>li>a:active{background-color:#ddd;color:#444}.uk-navbar-nav>li.uk-active>a{background-color:#f5f5f5;color:#444}.uk-navbar-nav .uk-navbar-nav-subtitle{line-height:28px}.uk-navbar-nav-subtitle>div{margin-top:-6px;font-size:10px;line-height:12px}.uk-navbar-brand,.uk-navbar-toggle{font-size:18px;text-decoration:none}.uk-navbar-brand,.uk-navbar-content,.uk-navbar-toggle{box-sizing:border-box;display:block;height:40px;padding:0 15px;float:left}.uk-navbar-brand:before,.uk-navbar-content:before,.uk-navbar-toggle:before{content:'';display:inline-block;height:100%;vertical-align:middle}.uk-navbar-content+.uk-navbar-content:not(.uk-navbar-center){padding-left:0}.uk-navbar-content>a:not([class]){color:#07D}.uk-navbar-content>a:not([class]):hover{color:#059}.uk-navbar-brand{color:#444}.uk-navbar-brand:focus,.uk-navbar-brand:hover{color:#444;text-decoration:none;outline:0}.uk-navbar-toggle{color:#444}.uk-navbar-toggle:focus,.uk-navbar-toggle:hover{color:#444;text-decoration:none;outline:0}.uk-navbar-toggle:after{content:\"\\f0c9\";font-family:FontAwesome;vertical-align:middle}.uk-navbar-toggle-alt:after{content:\"\\f002\"}.uk-navbar-center{float:none;text-align:center;max-width:50%;margin-left:auto;margin-right:auto}.uk-navbar-flip{float:right}.uk-subnav{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-left:-10px;margin-top:-10px;padding:0}.uk-subnav>*{-ms-flex:none;-webkit-flex:none;flex:none;padding-left:10px;margin-top:10px;position:relative;float:left}.uk-subnav:after,.uk-subnav:before{content:\"\";display:block;overflow:hidden}.uk-breadcrumb>li,.uk-breadcrumb>li>a,.uk-breadcrumb>li>span,.uk-subnav-line>:before,.uk-subnav>*>*{display:inline-block}.uk-subnav>*>*{color:#444}.uk-subnav>*>:focus,.uk-subnav>*>:hover{color:#07D;text-decoration:none}.uk-subnav>.uk-active>*{color:#07D}.uk-subnav-line>:before{content:\"\";height:10px;vertical-align:middle}.uk-breadcrumb>li,.uk-pagination>li,.uk-table td{vertical-align:top}.uk-subnav-line>:nth-child(n+2):before{margin-right:10px;border-left:1px solid #ddd}.uk-subnav-pill>*>*{padding:3px 9px}.uk-subnav-pill>*>:focus,.uk-subnav-pill>*>:hover{background:#eee;color:#444;text-decoration:none;outline:0}.uk-subnav-pill>.uk-active>*{background:#00a8e6;color:#fff}.uk-subnav>.uk-disabled>*{background:0 0;color:#999;text-decoration:none;cursor:text}.uk-breadcrumb{padding:0;list-style:none;font-size:0}.uk-breadcrumb>li{font-size:1rem}.uk-breadcrumb>li:nth-child(n+2):before{content:\"/\";display:inline-block;margin:0 8px}.uk-breadcrumb>li:not(.uk-active)>span{color:#999}.uk-pagination{padding:0;text-align:center;font-size:0}.uk-pagination:after,.uk-pagination:before{content:\"\";display:table}.uk-pagination:after{clear:both}.uk-pagination>li{display:inline-block;font-size:1rem}.uk-pagination>li:nth-child(n+2){margin-left:5px}.uk-pagination>li>a,.uk-pagination>li>span{display:inline-block;min-width:16px;padding:3px 5px;line-height:20px;text-decoration:none;box-sizing:content-box;text-align:center}.uk-pagination>li>a{background:#eee;color:#444}.uk-pagination>li>a:focus,.uk-pagination>li>a:hover{background-color:#f5f5f5;color:#444;outline:0}.uk-pagination>li>a:active{background-color:#ddd;color:#444}.uk-pagination>.uk-active>span{background:#00a8e6;color:#fff}.uk-pagination>.uk-disabled>span{background-color:#f5f5f5;color:#999}.uk-pagination-previous{float:left}.uk-pagination-next{float:right}.uk-pagination-left{text-align:left}.uk-pagination-right{text-align:right}.uk-tab-center .uk-tab>li>a,.uk-tab-grid>li>a{text-align:center}.uk-tab{margin:0;padding:0;border-bottom:1px solid #ddd}.uk-tab:after,.uk-tab:before{content:\"\";display:table}.uk-tab>li{margin-bottom:-1px;float:left;position:relative}.uk-tab>li>a{display:block;padding:8px 12px;border:1px solid transparent;border-bottom-width:0;color:#07D;text-decoration:none}.uk-tab>li:nth-child(n+2)>a{margin-left:5px}.uk-tab>li.uk-open>a,.uk-tab>li>a:focus,.uk-tab>li>a:hover{border-color:#f5f5f5;background:#f5f5f5;color:#059;outline:0}.uk-tab>li.uk-open:not(.uk-active)>a,.uk-tab>li:not(.uk-active)>a:focus,.uk-tab>li:not(.uk-active)>a:hover{margin-bottom:1px;padding-bottom:7px}.uk-tab>li.uk-active>a{border-color:#ddd #ddd transparent;background:#fff;color:#444}.uk-tab>li.uk-disabled>a{color:#999;cursor:text}.uk-tab>li.uk-disabled.uk-active>a,.uk-tab>li.uk-disabled>a:focus,.uk-tab>li.uk-disabled>a:hover{background:0 0;border-color:transparent}.uk-tab-flip>li{float:right}.uk-tab-flip>li:nth-child(n+2)>a{margin-left:0;margin-right:5px}.uk-tab>li.uk-tab-responsive>a{margin-left:0;margin-right:0}.uk-tab-responsive>a:before{content:\"\\f0c9\\00a0\";font-family:FontAwesome}.uk-form legend:after,.uk-form-row:after,.uk-form-row:before,.uk-list>li:after,.uk-list>li:before,.uk-tab-center:after,.uk-tab-center:before,.uk-thumbnav:after,.uk-thumbnav:before{content:\"\"}.uk-tab-center{border-bottom:1px solid #ddd}.uk-tab-center-bottom{border-bottom:none;border-top:1px solid #ddd}.uk-tab-center:after,.uk-tab-center:before{display:table}.uk-tab-center .uk-tab{position:relative;right:50%;border:none;float:right}.uk-tab-center .uk-tab>li{position:relative;right:-50%}.uk-tab-bottom{border-top:1px solid #ddd;border-bottom:none}.uk-tab-bottom>li{margin-top:-1px;margin-bottom:0}.uk-tab-bottom>li>a{padding-top:8px;padding-bottom:8px;border-bottom-width:1px;border-top-width:0}.uk-tab-bottom>li.uk-open:not(.uk-active)>a,.uk-tab-bottom>li:not(.uk-active)>a:focus,.uk-tab-bottom>li:not(.uk-active)>a:hover{margin-bottom:0;margin-top:1px;padding-bottom:8px;padding-top:7px}.uk-tab-bottom>li.uk-active>a{border-top-color:transparent;border-bottom-color:#ddd}.uk-tab-grid{margin-left:-5px;border-bottom:none;position:relative;z-index:0}.uk-tab-grid:before{display:block;position:absolute;left:5px;right:0;bottom:-1px;border-top:1px solid #ddd;z-index:-1}.uk-tab-grid>li:first-child>a{margin-left:5px}.uk-tab-grid.uk-tab-bottom{border-top:none}.uk-tab-grid.uk-tab-bottom:before{top:-1px;bottom:auto}@media (min-width:768px){.uk-tab-left,.uk-tab-right{border-bottom:none}.uk-tab-left>li,.uk-tab-right>li{margin-bottom:0;float:none}.uk-tab-left>li>a,.uk-tab-right>li>a{padding-top:8px;padding-bottom:8px}.uk-tab-left>li:nth-child(n+2)>a,.uk-tab-right>li:nth-child(n+2)>a{margin-left:0;margin-top:5px}.uk-tab-left>li.uk-active>a,.uk-tab-right>li.uk-active>a{border-color:#ddd}.uk-tab-left{border-right:1px solid #ddd}.uk-tab-left>li{margin-right:-1px}.uk-tab-left>li>a{border-bottom-width:1px;border-right-width:0}.uk-tab-left>li:not(.uk-active)>a:focus,.uk-tab-left>li:not(.uk-active)>a:hover{margin-bottom:0;margin-right:1px;padding-bottom:8px;padding-right:11px}.uk-tab-left>li.uk-active>a{border-right-color:transparent}.uk-tab-right{border-left:1px solid #ddd}.uk-tab-right>li{margin-left:-1px}.uk-tab-right>li>a{border-bottom-width:1px;border-left-width:0}.uk-tab-right>li:not(.uk-active)>a:focus,.uk-tab-right>li:not(.uk-active)>a:hover{margin-bottom:0;margin-left:1px;padding-bottom:8px;padding-left:11px}.uk-tab-right>li.uk-active>a{border-left-color:transparent}}.uk-thumbnav{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-left:-10px;margin-top:-10px;padding:0}.uk-thumbnav>*{-ms-flex:none;-webkit-flex:none;flex:none;padding-left:10px;margin-top:10px;float:left}.uk-thumbnav:after,.uk-thumbnav:before{display:block;overflow:hidden}.uk-thumbnav>*>*{display:block;background:#fff}.uk-thumbnav>*>*>img{opacity:.7;-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.uk-thumbnav>*>:focus>img,.uk-thumbnav>*>:hover>img,.uk-thumbnav>.uk-active>*>img{opacity:1}.uk-list{padding:0}.uk-list>li:after,.uk-list>li:before{display:table}.uk-list>li>:last-child{margin-bottom:0}.uk-list ul{margin:0;padding-left:20px}.uk-list-line>li:nth-child(n+2){margin-top:5px;padding-top:5px;border-top:1px solid #ddd}.uk-list-striped>li{padding:5px}.uk-list-striped>li:nth-of-type(odd){background:#f5f5f5}.uk-list-space>li:nth-child(n+2){margin-top:10px}@media (min-width:768px){.uk-description-list-horizontal{overflow:hidden}.uk-description-list-horizontal>dt{width:160px;float:left;clear:both;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uk-description-list-horizontal>dd{margin-left:180px}}.uk-description-list-line>dt{font-weight:400}.uk-description-list-line>dt:nth-child(n+2){margin-top:5px;padding-top:5px;border-top:1px solid #ddd}.uk-description-list-line>dd{color:#999}.uk-table{border-collapse:collapse;border-spacing:0;width:100%;margin-bottom:15px}*+.uk-table{margin-top:15px}.uk-table td,.uk-table th{padding:8px}.uk-table th{text-align:left}.uk-table thead th{vertical-align:bottom}.uk-table caption,.uk-table tfoot{font-size:12px;font-style:italic}.uk-table caption{text-align:left;color:#999}.uk-table tbody tr.uk-active{background:#EEE}.uk-table-middle,.uk-table-middle td{vertical-align:middle!important}.uk-table-striped tbody tr:nth-of-type(odd){background:#f5f5f5}.uk-table-condensed td{padding:4px 8px}.uk-table-hover tbody tr:hover{background:#EEE}.uk-form input,.uk-form select,.uk-form textarea{box-sizing:border-box;margin:0;border-radius:0;font:inherit;color:inherit}.uk-form select{text-transform:none}.uk-form optgroup{font:inherit;font-weight:700}.uk-form input::-moz-focus-inner{border:0;padding:0}.uk-form input[type=checkbox],.uk-form input[type=radio]{padding:0}.uk-form input[type=checkbox]:not(:disabled),.uk-form input[type=radio]:not(:disabled){cursor:pointer}.uk-form input:not([type]),.uk-form input[type=text],.uk-form input[type=password],.uk-form input[type=email],.uk-form input[type=url],.uk-form input[type=search],.uk-form input[type=tel],.uk-form input[type=number],.uk-form input[type=datetime],.uk-form textarea{-webkit-appearance:none}.uk-form input[type=search]::-webkit-search-cancel-button,.uk-form input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.uk-form input[type=number]::-webkit-inner-spin-button,.uk-form input[type=number]::-webkit-outer-spin-button{height:auto}.uk-form fieldset{border:none;margin:0;padding:0}.uk-form textarea{overflow:auto;vertical-align:top}.uk-button,.uk-button-group,.uk-form input:not([type=radio]):not([type=checkbox]),.uk-form select{vertical-align:middle}.uk-form :invalid{box-shadow:none}.uk-form>:last-child{margin-bottom:0}.uk-form input:not([type]),.uk-form input[type=text],.uk-form input[type=password],.uk-form input[type=email],.uk-form input[type=url],.uk-form input[type=search],.uk-form input[type=tel],.uk-form input[type=number],.uk-form input[type=datetime],.uk-form input[type=datetime-local],.uk-form input[type=date],.uk-form input[type=month],.uk-form input[type=time],.uk-form input[type=week],.uk-form input[type=color],.uk-form select,.uk-form textarea{height:30px;max-width:100%;padding:4px 6px;border:1px solid #ddd;background:#fff;color:#444;-webkit-transition:all .2s linear;-webkit-transition-property:border,background,color,box-shadow,padding;transition:all .2s linear;transition-property:border,background,color,box-shadow,padding}.uk-form input:not([type]):focus,.uk-form input[type=text]:focus,.uk-form input[type=password]:focus,.uk-form input[type=email]:focus,.uk-form input[type=url]:focus,.uk-form input[type=search]:focus,.uk-form input[type=tel]:focus,.uk-form input[type=number]:focus,.uk-form input[type=datetime]:focus,.uk-form input[type=datetime-local]:focus,.uk-form input[type=date]:focus,.uk-form input[type=month]:focus,.uk-form input[type=time]:focus,.uk-form input[type=week]:focus,.uk-form input[type=color]:focus,.uk-form select:focus,.uk-form textarea:focus{border-color:#99baca;outline:0;background:#f5fbfe;color:#444}.uk-form input:not([type]):disabled,.uk-form input[type=text]:disabled,.uk-form input[type=password]:disabled,.uk-form input[type=email]:disabled,.uk-form input[type=url]:disabled,.uk-form input[type=search]:disabled,.uk-form input[type=tel]:disabled,.uk-form input[type=number]:disabled,.uk-form input[type=datetime]:disabled,.uk-form input[type=datetime-local]:disabled,.uk-form input[type=date]:disabled,.uk-form input[type=month]:disabled,.uk-form input[type=time]:disabled,.uk-form input[type=week]:disabled,.uk-form input[type=color]:disabled,.uk-form select:disabled,.uk-form textarea:disabled{border-color:#ddd;background-color:#f5f5f5;color:#999}.uk-form :-ms-input-placeholder{color:#999!important}.uk-form ::-moz-placeholder{opacity:1;color:#999}.uk-form ::-webkit-input-placeholder{color:#999}.uk-form :disabled:-ms-input-placeholder{color:#999!important}.uk-form :disabled::-moz-placeholder{color:#999}.uk-form :disabled::-webkit-input-placeholder{color:#999}.uk-form legend{width:100%;border:0;padding:0 0 15px;font-size:18px;line-height:30px}.uk-form legend:after{display:block;border-bottom:1px solid #ddd;width:100%}input:not([type]).uk-form-small,input[type].uk-form-small,select.uk-form-small,textarea.uk-form-small{height:25px;padding:3px;font-size:12px}input:not([type]).uk-form-large,input[type].uk-form-large,select.uk-form-large,textarea.uk-form-large{height:40px;padding:8px 6px;font-size:16px}.uk-form select[multiple],.uk-form select[size],.uk-form textarea{height:auto}.uk-form-danger{border-color:#dc8d99!important;background:#fff7f8!important;color:#d85030!important}.uk-form-success{border-color:#8ec73b!important;background:#fafff2!important;color:#659f13!important}.uk-form-blank{border-color:transparent!important;border-style:dashed!important;background:0 0!important}.uk-form-blank:focus{border-color:#ddd!important}input.uk-form-width-mini{width:40px}select.uk-form-width-mini{width:65px}.uk-form-width-small{width:130px}.uk-form-width-medium{width:200px}.uk-form-width-large{width:500px}.uk-form-row:after,.uk-form-row:before{display:table}.uk-form-row+.uk-form-row{margin-top:15px}.uk-form-help-inline{display:inline-block;margin:0 0 0 10px}.uk-form-help-block{margin:5px 0 0}.uk-form-controls>:first-child{margin-top:0}.uk-form-controls>:last-child{margin-bottom:0}.uk-form-controls-condensed{margin:5px 0}.uk-form-stacked .uk-form-label{display:block;margin-bottom:5px;font-weight:700}@media (max-width:959px){.uk-form-horizontal .uk-form-label{display:block;margin-bottom:5px;font-weight:700}}@media (min-width:960px){.uk-form-horizontal .uk-form-label{width:200px;margin-top:5px;float:left}.uk-form-horizontal .uk-form-controls{margin-left:215px}.uk-form-horizontal .uk-form-controls-text{padding-top:5px}}.uk-form-icon{display:inline-block;position:relative;max-width:100%}.uk-form-icon>[class*=uk-icon-]{position:absolute;top:50%;width:30px;margin-top:-7px;font-size:14px;color:#999;text-align:center;pointer-events:none}.uk-button,.uk-close{margin:0;overflow:visible;display:inline-block;text-transform:none;text-align:center;-webkit-appearance:none}.uk-form-icon:not(.uk-form-icon-flip)>input{padding-left:30px!important}.uk-form-icon-flip>[class*=uk-icon-]{right:0}.uk-form-icon-flip>input{padding-right:30px!important}.uk-button::-moz-focus-inner{border:0;padding:0}.uk-button{border:none;font:inherit;color:#444;box-sizing:border-box;padding:0 12px;background:#eee;line-height:30px;min-height:30px;font-size:1rem;text-decoration:none}.uk-button:not(:disabled){cursor:pointer}.uk-button:focus,.uk-button:hover{background-color:#f5f5f5;color:#444;outline:0;text-decoration:none}.uk-button.uk-active,.uk-button:active{background-color:#ddd;color:#444}.uk-button-primary{background-color:#00a8e6;color:#fff}.uk-button-primary:focus,.uk-button-primary:hover{background-color:#35b3ee;color:#fff}.uk-button-primary.uk-active,.uk-button-primary:active{background-color:#0091ca;color:#fff}.uk-button-success{background-color:#8cc14c;color:#fff}.uk-button-success:focus,.uk-button-success:hover{background-color:#8ec73b;color:#fff}.uk-button-success.uk-active,.uk-button-success:active{background-color:#72ae41;color:#fff}.uk-button-danger{background-color:#da314b;color:#fff}.uk-button-danger:focus,.uk-button-danger:hover{background-color:#e4354f;color:#fff}.uk-button-danger.uk-active,.uk-button-danger:active{background-color:#c91032;color:#fff}.uk-button:disabled{background-color:#f5f5f5;color:#999}.uk-button-link,.uk-button-link.uk-active,.uk-button-link:active,.uk-button-link:disabled,.uk-button-link:focus,.uk-button-link:hover{border-color:transparent;background:0 0}.uk-button-link{color:#07D}.uk-button-link.uk-active,.uk-button-link:active,.uk-button-link:focus,.uk-button-link:hover{color:#059;text-decoration:underline}.uk-button-link:disabled,.uk-icon-hover{color:#999}.uk-button-link:focus{outline:dotted 1px}.uk-button-mini{min-height:20px;padding:0 6px;line-height:20px;font-size:11px}.uk-button-small{min-height:25px;padding:0 10px;line-height:25px;font-size:12px}.uk-button-large{min-height:40px;padding:0 15px;line-height:40px;font-size:16px}.uk-button-group{display:inline-block;position:relative;font-size:0;white-space:nowrap}.uk-button-group>*{display:inline-block}.uk-button-group .uk-button{vertical-align:top}.uk-badge,.uk-button-dropdown,.uk-close,.uk-overlay,.uk-overlay-area-content{vertical-align:middle}.uk-button-dropdown{display:inline-block;position:relative}[class*=uk-icon-]{font-family:FontAwesome;display:inline-block;font-weight:400;font-style:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[class*=uk-icon-],[class*=uk-icon-]:focus,[class*=uk-icon-]:hover{text-decoration:none}.uk-icon-small{font-size:150%;vertical-align:-10%}.uk-icon-medium{font-size:200%;vertical-align:-16%}.uk-icon-large{font-size:250%;vertical-align:-22%}.uk-icon-justify{width:1em;text-align:center}.uk-icon-spin{display:inline-block;animation:uk-rotate 2s infinite linear}.uk-icon-hover:hover{color:#444}.uk-icon-button{box-sizing:border-box;display:inline-block;width:35px;height:35px;border-radius:100%;background:#eee;line-height:35px;color:#444;font-size:18px;text-align:center}.uk-icon-button:focus,.uk-icon-button:hover{background-color:#f5f5f5;color:#444;outline:0}.uk-icon-button:active{background-color:#ddd;color:#444}.uk-icon-glass:before{content:\"\\f000\"}.uk-icon-music:before{content:\"\\f001\"}.uk-icon-search:before{content:\"\\f002\"}.uk-icon-envelope-o:before{content:\"\\f003\"}.uk-icon-heart:before{content:\"\\f004\"}.uk-icon-star:before{content:\"\\f005\"}.uk-icon-star-o:before{content:\"\\f006\"}.uk-icon-user:before{content:\"\\f007\"}.uk-icon-film:before{content:\"\\f008\"}.uk-icon-th-large:before{content:\"\\f009\"}.uk-icon-th:before{content:\"\\f00a\"}.uk-icon-th-list:before{content:\"\\f00b\"}.uk-icon-check:before{content:\"\\f00c\"}.uk-icon-close:before,.uk-icon-remove:before,.uk-icon-times:before{content:\"\\f00d\"}.uk-icon-search-plus:before{content:\"\\f00e\"}.uk-icon-search-minus:before{content:\"\\f010\"}.uk-icon-power-off:before{content:\"\\f011\"}.uk-icon-signal:before{content:\"\\f012\"}.uk-icon-cog:before,.uk-icon-gear:before{content:\"\\f013\"}.uk-icon-trash-o:before{content:\"\\f014\"}.uk-icon-home:before{content:\"\\f015\"}.uk-icon-file-o:before{content:\"\\f016\"}.uk-icon-clock-o:before{content:\"\\f017\"}.uk-icon-road:before{content:\"\\f018\"}.uk-icon-download:before{content:\"\\f019\"}.uk-icon-arrow-circle-o-down:before{content:\"\\f01a\"}.uk-icon-arrow-circle-o-up:before{content:\"\\f01b\"}.uk-icon-inbox:before{content:\"\\f01c\"}.uk-icon-play-circle-o:before{content:\"\\f01d\"}.uk-icon-repeat:before,.uk-icon-rotate-right:before{content:\"\\f01e\"}.uk-icon-refresh:before{content:\"\\f021\"}.uk-icon-list-alt:before{content:\"\\f022\"}.uk-icon-lock:before{content:\"\\f023\"}.uk-icon-flag:before{content:\"\\f024\"}.uk-icon-headphones:before{content:\"\\f025\"}.uk-icon-volume-off:before{content:\"\\f026\"}.uk-icon-volume-down:before{content:\"\\f027\"}.uk-icon-volume-up:before{content:\"\\f028\"}.uk-icon-qrcode:before{content:\"\\f029\"}.uk-icon-barcode:before{content:\"\\f02a\"}.uk-icon-tag:before{content:\"\\f02b\"}.uk-icon-tags:before{content:\"\\f02c\"}.uk-icon-book:before{content:\"\\f02d\"}.uk-icon-bookmark:before{content:\"\\f02e\"}.uk-icon-print:before{content:\"\\f02f\"}.uk-icon-camera:before{content:\"\\f030\"}.uk-icon-font:before{content:\"\\f031\"}.uk-icon-bold:before{content:\"\\f032\"}.uk-icon-italic:before{content:\"\\f033\"}.uk-icon-text-height:before{content:\"\\f034\"}.uk-icon-text-width:before{content:\"\\f035\"}.uk-icon-align-left:before{content:\"\\f036\"}.uk-icon-align-center:before{content:\"\\f037\"}.uk-icon-align-right:before{content:\"\\f038\"}.uk-icon-align-justify:before{content:\"\\f039\"}.uk-icon-list:before{content:\"\\f03a\"}.uk-icon-dedent:before,.uk-icon-outdent:before{content:\"\\f03b\"}.uk-icon-indent:before{content:\"\\f03c\"}.uk-icon-video-camera:before{content:\"\\f03d\"}.uk-icon-image:before,.uk-icon-photo:before,.uk-icon-picture-o:before{content:\"\\f03e\"}.uk-icon-pencil:before{content:\"\\f040\"}.uk-icon-map-marker:before{content:\"\\f041\"}.uk-icon-adjust:before{content:\"\\f042\"}.uk-icon-tint:before{content:\"\\f043\"}.uk-icon-edit:before,.uk-icon-pencil-square-o:before{content:\"\\f044\"}.uk-icon-share-square-o:before{content:\"\\f045\"}.uk-icon-check-square-o:before{content:\"\\f046\"}.uk-icon-arrows:before{content:\"\\f047\"}.uk-icon-step-backward:before{content:\"\\f048\"}.uk-icon-fast-backward:before{content:\"\\f049\"}.uk-icon-backward:before{content:\"\\f04a\"}.uk-icon-play:before{content:\"\\f04b\"}.uk-icon-pause:before{content:\"\\f04c\"}.uk-icon-stop:before{content:\"\\f04d\"}.uk-icon-forward:before{content:\"\\f04e\"}.uk-icon-fast-forward:before{content:\"\\f050\"}.uk-icon-step-forward:before{content:\"\\f051\"}.uk-icon-eject:before{content:\"\\f052\"}.uk-icon-chevron-left:before{content:\"\\f053\"}.uk-icon-chevron-right:before{content:\"\\f054\"}.uk-icon-plus-circle:before{content:\"\\f055\"}.uk-icon-minus-circle:before{content:\"\\f056\"}.uk-icon-times-circle:before{content:\"\\f057\"}.uk-icon-check-circle:before{content:\"\\f058\"}.uk-icon-question-circle:before{content:\"\\f059\"}.uk-icon-info-circle:before{content:\"\\f05a\"}.uk-icon-crosshairs:before{content:\"\\f05b\"}.uk-icon-times-circle-o:before{content:\"\\f05c\"}.uk-icon-check-circle-o:before{content:\"\\f05d\"}.uk-icon-ban:before{content:\"\\f05e\"}.uk-icon-arrow-left:before{content:\"\\f060\"}.uk-icon-arrow-right:before{content:\"\\f061\"}.uk-icon-arrow-up:before{content:\"\\f062\"}.uk-icon-arrow-down:before{content:\"\\f063\"}.uk-icon-mail-forward:before,.uk-icon-share:before{content:\"\\f064\"}.uk-icon-expand:before{content:\"\\f065\"}.uk-icon-compress:before{content:\"\\f066\"}.uk-icon-plus:before{content:\"\\f067\"}.uk-icon-minus:before{content:\"\\f068\"}.uk-icon-asterisk:before{content:\"\\f069\"}.uk-icon-exclamation-circle:before{content:\"\\f06a\"}.uk-icon-gift:before{content:\"\\f06b\"}.uk-icon-leaf:before{content:\"\\f06c\"}.uk-icon-fire:before{content:\"\\f06d\"}.uk-icon-eye:before{content:\"\\f06e\"}.uk-icon-eye-slash:before{content:\"\\f070\"}.uk-icon-exclamation-triangle:before,.uk-icon-warning:before{content:\"\\f071\"}.uk-icon-plane:before{content:\"\\f072\"}.uk-icon-calendar:before{content:\"\\f073\"}.uk-icon-random:before{content:\"\\f074\"}.uk-icon-comment:before{content:\"\\f075\"}.uk-icon-magnet:before{content:\"\\f076\"}.uk-icon-chevron-up:before{content:\"\\f077\"}.uk-icon-chevron-down:before{content:\"\\f078\"}.uk-icon-retweet:before{content:\"\\f079\"}.uk-icon-shopping-cart:before{content:\"\\f07a\"}.uk-icon-folder:before{content:\"\\f07b\"}.uk-icon-folder-open:before{content:\"\\f07c\"}.uk-icon-arrows-v:before{content:\"\\f07d\"}.uk-icon-arrows-h:before{content:\"\\f07e\"}.uk-icon-bar-chart-o:before,.uk-icon-bar-chart:before{content:\"\\f080\"}.uk-icon-twitter-square:before{content:\"\\f081\"}.uk-icon-facebook-square:before{content:\"\\f082\"}.uk-icon-camera-retro:before{content:\"\\f083\"}.uk-icon-key:before{content:\"\\f084\"}.uk-icon-cogs:before,.uk-icon-gears:before{content:\"\\f085\"}.uk-icon-comments:before{content:\"\\f086\"}.uk-icon-thumbs-o-up:before{content:\"\\f087\"}.uk-icon-thumbs-o-down:before{content:\"\\f088\"}.uk-icon-star-half:before{content:\"\\f089\"}.uk-icon-heart-o:before{content:\"\\f08a\"}.uk-icon-sign-out:before{content:\"\\f08b\"}.uk-icon-linkedin-square:before{content:\"\\f08c\"}.uk-icon-thumb-tack:before{content:\"\\f08d\"}.uk-icon-external-link:before{content:\"\\f08e\"}.uk-icon-sign-in:before{content:\"\\f090\"}.uk-icon-trophy:before{content:\"\\f091\"}.uk-icon-github-square:before{content:\"\\f092\"}.uk-icon-upload:before{content:\"\\f093\"}.uk-icon-lemon-o:before{content:\"\\f094\"}.uk-icon-phone:before{content:\"\\f095\"}.uk-icon-square-o:before{content:\"\\f096\"}.uk-icon-bookmark-o:before{content:\"\\f097\"}.uk-icon-phone-square:before{content:\"\\f098\"}.uk-icon-twitter:before{content:\"\\f099\"}.uk-icon-facebook-f:before,.uk-icon-facebook:before{content:\"\\f09a\"}.uk-icon-github:before{content:\"\\f09b\"}.uk-icon-unlock:before{content:\"\\f09c\"}.uk-icon-credit-card:before{content:\"\\f09d\"}.uk-icon-rss:before{content:\"\\f09e\"}.uk-icon-hdd-o:before{content:\"\\f0a0\"}.uk-icon-bullhorn:before{content:\"\\f0a1\"}.uk-icon-bell:before{content:\"\\f0f3\"}.uk-icon-certificate:before{content:\"\\f0a3\"}.uk-icon-hand-o-right:before{content:\"\\f0a4\"}.uk-icon-hand-o-left:before{content:\"\\f0a5\"}.uk-icon-hand-o-up:before{content:\"\\f0a6\"}.uk-icon-hand-o-down:before{content:\"\\f0a7\"}.uk-icon-arrow-circle-left:before{content:\"\\f0a8\"}.uk-icon-arrow-circle-right:before{content:\"\\f0a9\"}.uk-icon-arrow-circle-up:before{content:\"\\f0aa\"}.uk-icon-arrow-circle-down:before{content:\"\\f0ab\"}.uk-icon-globe:before{content:\"\\f0ac\"}.uk-icon-wrench:before{content:\"\\f0ad\"}.uk-icon-tasks:before{content:\"\\f0ae\"}.uk-icon-filter:before{content:\"\\f0b0\"}.uk-icon-briefcase:before{content:\"\\f0b1\"}.uk-icon-arrows-alt:before{content:\"\\f0b2\"}.uk-icon-group:before,.uk-icon-users:before{content:\"\\f0c0\"}.uk-icon-chain:before,.uk-icon-link:before{content:\"\\f0c1\"}.uk-icon-cloud:before{content:\"\\f0c2\"}.uk-icon-flask:before{content:\"\\f0c3\"}.uk-icon-cut:before,.uk-icon-scissors:before{content:\"\\f0c4\"}.uk-icon-copy:before,.uk-icon-files-o:before{content:\"\\f0c5\"}.uk-icon-paperclip:before{content:\"\\f0c6\"}.uk-icon-floppy-o:before,.uk-icon-save:before{content:\"\\f0c7\"}.uk-icon-square:before{content:\"\\f0c8\"}.uk-icon-bars:before,.uk-icon-navicon:before,.uk-icon-reorder:before{content:\"\\f0c9\"}.uk-icon-list-ul:before{content:\"\\f0ca\"}.uk-icon-list-ol:before{content:\"\\f0cb\"}.uk-icon-strikethrough:before{content:\"\\f0cc\"}.uk-icon-underline:before{content:\"\\f0cd\"}.uk-icon-table:before{content:\"\\f0ce\"}.uk-icon-magic:before{content:\"\\f0d0\"}.uk-icon-truck:before{content:\"\\f0d1\"}.uk-icon-pinterest:before{content:\"\\f0d2\"}.uk-icon-pinterest-square:before{content:\"\\f0d3\"}.uk-icon-google-plus-square:before{content:\"\\f0d4\"}.uk-icon-google-plus:before{content:\"\\f0d5\"}.uk-icon-money:before{content:\"\\f0d6\"}.uk-icon-caret-down:before{content:\"\\f0d7\"}.uk-icon-caret-up:before{content:\"\\f0d8\"}.uk-icon-caret-left:before{content:\"\\f0d9\"}.uk-icon-caret-right:before{content:\"\\f0da\"}.uk-icon-columns:before{content:\"\\f0db\"}.uk-icon-sort:before,.uk-icon-unsorted:before{content:\"\\f0dc\"}.uk-icon-sort-desc:before,.uk-icon-sort-down:before{content:\"\\f0dd\"}.uk-icon-sort-asc:before,.uk-icon-sort-up:before{content:\"\\f0de\"}.uk-icon-envelope:before{content:\"\\f0e0\"}.uk-icon-linkedin:before{content:\"\\f0e1\"}.uk-icon-rotate-left:before,.uk-icon-undo:before{content:\"\\f0e2\"}.uk-icon-gavel:before,.uk-icon-legal:before{content:\"\\f0e3\"}.uk-icon-dashboard:before,.uk-icon-tachometer:before{content:\"\\f0e4\"}.uk-icon-comment-o:before{content:\"\\f0e5\"}.uk-icon-comments-o:before{content:\"\\f0e6\"}.uk-icon-bolt:before,.uk-icon-flash:before{content:\"\\f0e7\"}.uk-icon-sitemap:before{content:\"\\f0e8\"}.uk-icon-umbrella:before{content:\"\\f0e9\"}.uk-icon-clipboard:before,.uk-icon-paste:before{content:\"\\f0ea\"}.uk-icon-lightbulb-o:before{content:\"\\f0eb\"}.uk-icon-exchange:before{content:\"\\f0ec\"}.uk-icon-cloud-download:before{content:\"\\f0ed\"}.uk-icon-cloud-upload:before{content:\"\\f0ee\"}.uk-icon-user-md:before{content:\"\\f0f0\"}.uk-icon-stethoscope:before{content:\"\\f0f1\"}.uk-icon-suitcase:before{content:\"\\f0f2\"}.uk-icon-bell-o:before{content:\"\\f0a2\"}.uk-icon-coffee:before{content:\"\\f0f4\"}.uk-icon-cutlery:before{content:\"\\f0f5\"}.uk-icon-file-text-o:before{content:\"\\f0f6\"}.uk-icon-building-o:before{content:\"\\f0f7\"}.uk-icon-hospital-o:before{content:\"\\f0f8\"}.uk-icon-ambulance:before{content:\"\\f0f9\"}.uk-icon-medkit:before{content:\"\\f0fa\"}.uk-icon-fighter-jet:before{content:\"\\f0fb\"}.uk-icon-beer:before{content:\"\\f0fc\"}.uk-icon-h-square:before{content:\"\\f0fd\"}.uk-icon-plus-square:before{content:\"\\f0fe\"}.uk-icon-angle-double-left:before{content:\"\\f100\"}.uk-icon-angle-double-right:before{content:\"\\f101\"}.uk-icon-angle-double-up:before{content:\"\\f102\"}.uk-icon-angle-double-down:before{content:\"\\f103\"}.uk-icon-angle-left:before{content:\"\\f104\"}.uk-icon-angle-right:before{content:\"\\f105\"}.uk-icon-angle-up:before{content:\"\\f106\"}.uk-icon-angle-down:before{content:\"\\f107\"}.uk-icon-desktop:before{content:\"\\f108\"}.uk-icon-laptop:before{content:\"\\f109\"}.uk-icon-tablet:before{content:\"\\f10a\"}.uk-icon-mobile-phone:before,.uk-icon-mobile:before{content:\"\\f10b\"}.uk-icon-circle-o:before{content:\"\\f10c\"}.uk-icon-quote-left:before{content:\"\\f10d\"}.uk-icon-quote-right:before{content:\"\\f10e\"}.uk-icon-spinner:before{content:\"\\f110\"}.uk-icon-circle:before{content:\"\\f111\"}.uk-icon-mail-reply:before,.uk-icon-reply:before{content:\"\\f112\"}.uk-icon-github-alt:before{content:\"\\f113\"}.uk-icon-folder-o:before{content:\"\\f114\"}.uk-icon-folder-open-o:before{content:\"\\f115\"}.uk-icon-smile-o:before{content:\"\\f118\"}.uk-icon-frown-o:before{content:\"\\f119\"}.uk-icon-meh-o:before{content:\"\\f11a\"}.uk-icon-gamepad:before{content:\"\\f11b\"}.uk-icon-keyboard-o:before{content:\"\\f11c\"}.uk-icon-flag-o:before{content:\"\\f11d\"}.uk-icon-flag-checkered:before{content:\"\\f11e\"}.uk-icon-terminal:before{content:\"\\f120\"}.uk-icon-code:before{content:\"\\f121\"}.uk-icon-mail-reply-all:before,.uk-icon-reply-all:before{content:\"\\f122\"}.uk-icon-star-half-empty:before,.uk-icon-star-half-full:before,.uk-icon-star-half-o:before{content:\"\\f123\"}.uk-icon-location-arrow:before{content:\"\\f124\"}.uk-icon-crop:before{content:\"\\f125\"}.uk-icon-code-fork:before{content:\"\\f126\"}.uk-icon-chain-broken:before,.uk-icon-unlink:before{content:\"\\f127\"}.uk-icon-question:before{content:\"\\f128\"}.uk-icon-info:before{content:\"\\f129\"}.uk-icon-exclamation:before{content:\"\\f12a\"}.uk-icon-superscript:before{content:\"\\f12b\"}.uk-icon-subscript:before{content:\"\\f12c\"}.uk-icon-eraser:before{content:\"\\f12d\"}.uk-icon-puzzle-piece:before{content:\"\\f12e\"}.uk-icon-microphone:before{content:\"\\f130\"}.uk-icon-microphone-slash:before{content:\"\\f131\"}.uk-icon-shield:before{content:\"\\f132\"}.uk-icon-calendar-o:before{content:\"\\f133\"}.uk-icon-fire-extinguisher:before{content:\"\\f134\"}.uk-icon-rocket:before{content:\"\\f135\"}.uk-icon-maxcdn:before{content:\"\\f136\"}.uk-icon-chevron-circle-left:before{content:\"\\f137\"}.uk-icon-chevron-circle-right:before{content:\"\\f138\"}.uk-icon-chevron-circle-up:before{content:\"\\f139\"}.uk-icon-chevron-circle-down:before{content:\"\\f13a\"}.uk-icon-html5:before{content:\"\\f13b\"}.uk-icon-css3:before{content:\"\\f13c\"}.uk-icon-anchor:before{content:\"\\f13d\"}.uk-icon-unlock-alt:before{content:\"\\f13e\"}.uk-icon-bullseye:before{content:\"\\f140\"}.uk-icon-ellipsis-h:before{content:\"\\f141\"}.uk-icon-ellipsis-v:before{content:\"\\f142\"}.uk-icon-rss-square:before{content:\"\\f143\"}.uk-icon-play-circle:before{content:\"\\f144\"}.uk-icon-ticket:before{content:\"\\f145\"}.uk-icon-minus-square:before{content:\"\\f146\"}.uk-icon-minus-square-o:before{content:\"\\f147\"}.uk-icon-level-up:before{content:\"\\f148\"}.uk-icon-level-down:before{content:\"\\f149\"}.uk-icon-check-square:before{content:\"\\f14a\"}.uk-icon-pencil-square:before{content:\"\\f14b\"}.uk-icon-external-link-square:before{content:\"\\f14c\"}.uk-icon-share-square:before{content:\"\\f14d\"}.uk-icon-compass:before{content:\"\\f14e\"}.uk-icon-caret-square-o-down:before,.uk-icon-toggle-down:before{content:\"\\f150\"}.uk-icon-caret-square-o-up:before,.uk-icon-toggle-up:before{content:\"\\f151\"}.uk-icon-caret-square-o-right:before,.uk-icon-toggle-right:before{content:\"\\f152\"}.uk-icon-eur:before,.uk-icon-euro:before{content:\"\\f153\"}.uk-icon-gbp:before{content:\"\\f154\"}.uk-icon-dollar:before,.uk-icon-usd:before{content:\"\\f155\"}.uk-icon-inr:before,.uk-icon-rupee:before{content:\"\\f156\"}.uk-icon-cny:before,.uk-icon-jpy:before,.uk-icon-rmb:before,.uk-icon-yen:before{content:\"\\f157\"}.uk-icon-rouble:before,.uk-icon-rub:before,.uk-icon-ruble:before{content:\"\\f158\"}.uk-icon-krw:before,.uk-icon-won:before{content:\"\\f159\"}.uk-icon-bitcoin:before,.uk-icon-btc:before{content:\"\\f15a\"}.uk-icon-file:before{content:\"\\f15b\"}.uk-icon-file-text:before{content:\"\\f15c\"}.uk-icon-sort-alpha-asc:before{content:\"\\f15d\"}.uk-icon-sort-alpha-desc:before{content:\"\\f15e\"}.uk-icon-sort-amount-asc:before{content:\"\\f160\"}.uk-icon-sort-amount-desc:before{content:\"\\f161\"}.uk-icon-sort-numeric-asc:before{content:\"\\f162\"}.uk-icon-sort-numeric-desc:before{content:\"\\f163\"}.uk-icon-thumbs-up:before{content:\"\\f164\"}.uk-icon-thumbs-down:before{content:\"\\f165\"}.uk-icon-youtube-square:before{content:\"\\f166\"}.uk-icon-youtube:before{content:\"\\f167\"}.uk-icon-xing:before{content:\"\\f168\"}.uk-icon-xing-square:before{content:\"\\f169\"}.uk-icon-youtube-play:before{content:\"\\f16a\"}.uk-icon-dropbox:before{content:\"\\f16b\"}.uk-icon-stack-overflow:before{content:\"\\f16c\"}.uk-icon-instagram:before{content:\"\\f16d\"}.uk-icon-flickr:before{content:\"\\f16e\"}.uk-icon-adn:before{content:\"\\f170\"}.uk-icon-bitbucket:before{content:\"\\f171\"}.uk-icon-bitbucket-square:before{content:\"\\f172\"}.uk-icon-tumblr:before{content:\"\\f173\"}.uk-icon-tumblr-square:before{content:\"\\f174\"}.uk-icon-long-arrow-down:before{content:\"\\f175\"}.uk-icon-long-arrow-up:before{content:\"\\f176\"}.uk-icon-long-arrow-left:before{content:\"\\f177\"}.uk-icon-long-arrow-right:before{content:\"\\f178\"}.uk-icon-apple:before{content:\"\\f179\"}.uk-icon-windows:before{content:\"\\f17a\"}.uk-icon-android:before{content:\"\\f17b\"}.uk-icon-linux:before{content:\"\\f17c\"}.uk-icon-dribbble:before{content:\"\\f17d\"}.uk-icon-skype:before{content:\"\\f17e\"}.uk-icon-foursquare:before{content:\"\\f180\"}.uk-icon-trello:before{content:\"\\f181\"}.uk-icon-female:before{content:\"\\f182\"}.uk-icon-male:before{content:\"\\f183\"}.uk-icon-gittip:before,.uk-icon-gratipay:before{content:\"\\f184\"}.uk-icon-sun-o:before{content:\"\\f185\"}.uk-icon-moon-o:before{content:\"\\f186\"}.uk-icon-archive:before{content:\"\\f187\"}.uk-icon-bug:before{content:\"\\f188\"}.uk-icon-vk:before{content:\"\\f189\"}.uk-icon-weibo:before{content:\"\\f18a\"}.uk-icon-renren:before{content:\"\\f18b\"}.uk-icon-pagelines:before{content:\"\\f18c\"}.uk-icon-stack-exchange:before{content:\"\\f18d\"}.uk-icon-arrow-circle-o-right:before{content:\"\\f18e\"}.uk-icon-arrow-circle-o-left:before{content:\"\\f190\"}.uk-icon-caret-square-o-left:before,.uk-icon-toggle-left:before{content:\"\\f191\"}.uk-icon-dot-circle-o:before{content:\"\\f192\"}.uk-icon-wheelchair:before{content:\"\\f193\"}.uk-icon-vimeo-square:before{content:\"\\f194\"}.uk-icon-try:before,.uk-icon-turkish-lira:before{content:\"\\f195\"}.uk-icon-plus-square-o:before{content:\"\\f196\"}.uk-icon-space-shuttle:before{content:\"\\f197\"}.uk-icon-slack:before{content:\"\\f198\"}.uk-icon-envelope-square:before{content:\"\\f199\"}.uk-icon-wordpress:before{content:\"\\f19a\"}.uk-icon-openid:before{content:\"\\f19b\"}.uk-icon-bank:before,.uk-icon-institution:before,.uk-icon-university:before{content:\"\\f19c\"}.uk-icon-graduation-cap:before,.uk-icon-mortar-board:before{content:\"\\f19d\"}.uk-icon-yahoo:before{content:\"\\f19e\"}.uk-icon-google:before{content:\"\\f1a0\"}.uk-icon-reddit:before{content:\"\\f1a1\"}.uk-icon-reddit-square:before{content:\"\\f1a2\"}.uk-icon-stumbleupon-circle:before{content:\"\\f1a3\"}.uk-icon-stumbleupon:before{content:\"\\f1a4\"}.uk-icon-delicious:before{content:\"\\f1a5\"}.uk-icon-digg:before{content:\"\\f1a6\"}.uk-icon-pied-piper:before{content:\"\\f1a7\"}.uk-icon-pied-piper-alt:before{content:\"\\f1a8\"}.uk-icon-drupal:before{content:\"\\f1a9\"}.uk-icon-joomla:before{content:\"\\f1aa\"}.uk-icon-language:before{content:\"\\f1ab\"}.uk-icon-fax:before{content:\"\\f1ac\"}.uk-icon-building:before{content:\"\\f1ad\"}.uk-icon-child:before{content:\"\\f1ae\"}.uk-icon-paw:before{content:\"\\f1b0\"}.uk-icon-spoon:before{content:\"\\f1b1\"}.uk-icon-cube:before{content:\"\\f1b2\"}.uk-icon-cubes:before{content:\"\\f1b3\"}.uk-icon-behance:before{content:\"\\f1b4\"}.uk-icon-behance-square:before{content:\"\\f1b5\"}.uk-icon-steam:before{content:\"\\f1b6\"}.uk-icon-steam-square:before{content:\"\\f1b7\"}.uk-icon-recycle:before{content:\"\\f1b8\"}.uk-icon-automobile:before,.uk-icon-car:before{content:\"\\f1b9\"}.uk-icon-cab:before,.uk-icon-taxi:before{content:\"\\f1ba\"}.uk-icon-tree:before{content:\"\\f1bb\"}.uk-icon-spotify:before{content:\"\\f1bc\"}.uk-icon-deviantart:before{content:\"\\f1bd\"}.uk-icon-soundcloud:before{content:\"\\f1be\"}.uk-icon-database:before{content:\"\\f1c0\"}.uk-icon-file-pdf-o:before{content:\"\\f1c1\"}.uk-icon-file-word-o:before{content:\"\\f1c2\"}.uk-icon-file-excel-o:before{content:\"\\f1c3\"}.uk-icon-file-powerpoint-o:before{content:\"\\f1c4\"}.uk-icon-file-image-o:before,.uk-icon-file-photo-o:before,.uk-icon-file-picture-o:before{content:\"\\f1c5\"}.uk-icon-file-archive-o:before,.uk-icon-file-zip-o:before{content:\"\\f1c6\"}.uk-icon-file-audio-o:before,.uk-icon-file-sound-o:before{content:\"\\f1c7\"}.uk-icon-file-movie-o:before,.uk-icon-file-video-o:before{content:\"\\f1c8\"}.uk-icon-file-code-o:before{content:\"\\f1c9\"}.uk-icon-vine:before{content:\"\\f1ca\"}.uk-icon-codepen:before{content:\"\\f1cb\"}.uk-icon-jsfiddle:before{content:\"\\f1cc\"}.uk-icon-life-bouy:before,.uk-icon-life-buoy:before,.uk-icon-life-ring:before,.uk-icon-life-saver:before,.uk-icon-support:before{content:\"\\f1cd\"}.uk-icon-circle-o-notch:before{content:\"\\f1ce\"}.uk-icon-ra:before,.uk-icon-rebel:before{content:\"\\f1d0\"}.uk-icon-empire:before,.uk-icon-ge:before{content:\"\\f1d1\"}.uk-icon-git-square:before{content:\"\\f1d2\"}.uk-icon-git:before{content:\"\\f1d3\"}.uk-icon-hacker-news:before{content:\"\\f1d4\"}.uk-icon-tencent-weibo:before{content:\"\\f1d5\"}.uk-icon-qq:before{content:\"\\f1d6\"}.uk-icon-wechat:before,.uk-icon-weixin:before{content:\"\\f1d7\"}.uk-icon-paper-plane:before,.uk-icon-send:before{content:\"\\f1d8\"}.uk-icon-paper-plane-o:before,.uk-icon-send-o:before{content:\"\\f1d9\"}.uk-icon-history:before{content:\"\\f1da\"}.uk-icon-circle-thin:before,.uk-icon-genderless:before{content:\"\\f1db\"}.uk-icon-header:before{content:\"\\f1dc\"}.uk-icon-paragraph:before{content:\"\\f1dd\"}.uk-icon-sliders:before{content:\"\\f1de\"}.uk-icon-share-alt:before{content:\"\\f1e0\"}.uk-icon-share-alt-square:before{content:\"\\f1e1\"}.uk-icon-bomb:before{content:\"\\f1e2\"}.uk-icon-futbol-o:before,.uk-icon-soccer-ball-o:before{content:\"\\f1e3\"}.uk-icon-tty:before{content:\"\\f1e4\"}.uk-icon-binoculars:before{content:\"\\f1e5\"}.uk-icon-plug:before{content:\"\\f1e6\"}.uk-icon-slideshare:before{content:\"\\f1e7\"}.uk-icon-twitch:before{content:\"\\f1e8\"}.uk-icon-yelp:before{content:\"\\f1e9\"}.uk-icon-newspaper-o:before{content:\"\\f1ea\"}.uk-icon-wifi:before{content:\"\\f1eb\"}.uk-icon-calculator:before{content:\"\\f1ec\"}.uk-icon-paypal:before{content:\"\\f1ed\"}.uk-icon-google-wallet:before{content:\"\\f1ee\"}.uk-icon-cc-visa:before{content:\"\\f1f0\"}.uk-icon-cc-mastercard:before{content:\"\\f1f1\"}.uk-icon-cc-discover:before{content:\"\\f1f2\"}.uk-icon-cc-amex:before{content:\"\\f1f3\"}.uk-icon-cc-paypal:before{content:\"\\f1f4\"}.uk-icon-cc-stripe:before{content:\"\\f1f5\"}.uk-icon-bell-slash:before{content:\"\\f1f6\"}.uk-icon-bell-slash-o:before{content:\"\\f1f7\"}.uk-icon-trash:before{content:\"\\f1f8\"}.uk-icon-copyright:before{content:\"\\f1f9\"}.uk-icon-at:before{content:\"\\f1fa\"}.uk-icon-eyedropper:before{content:\"\\f1fb\"}.uk-icon-paint-brush:before{content:\"\\f1fc\"}.uk-icon-birthday-cake:before{content:\"\\f1fd\"}.uk-icon-area-chart:before{content:\"\\f1fe\"}.uk-icon-pie-chart:before{content:\"\\f200\"}.uk-icon-line-chart:before{content:\"\\f201\"}.uk-icon-lastfm:before{content:\"\\f202\"}.uk-icon-lastfm-square:before{content:\"\\f203\"}.uk-icon-toggle-off:before{content:\"\\f204\"}.uk-icon-toggle-on:before{content:\"\\f205\"}.uk-icon-bicycle:before{content:\"\\f206\"}.uk-icon-bus:before{content:\"\\f207\"}.uk-icon-ioxhost:before{content:\"\\f208\"}.uk-icon-angellist:before{content:\"\\f209\"}.uk-icon-cc:before{content:\"\\f20a\"}.uk-icon-ils:before,.uk-icon-shekel:before,.uk-icon-sheqel:before{content:\"\\f20b\"}.uk-icon-meanpath:before{content:\"\\f20c\"}.uk-icon-buysellads:before{content:\"\\f20d\"}.uk-icon-connectdevelop:before{content:\"\\f20e\"}.uk-icon-dashcube:before{content:\"\\f210\"}.uk-icon-forumbee:before{content:\"\\f211\"}.uk-icon-leanpub:before{content:\"\\f212\"}.uk-icon-sellsy:before{content:\"\\f213\"}.uk-icon-shirtsinbulk:before{content:\"\\f214\"}.uk-icon-simplybuilt:before{content:\"\\f215\"}.uk-icon-skyatlas:before{content:\"\\f216\"}.uk-icon-cart-plus:before{content:\"\\f217\"}.uk-icon-cart-arrow-down:before{content:\"\\f218\"}.uk-icon-diamond:before{content:\"\\f219\"}.uk-icon-ship:before{content:\"\\f21a\"}.uk-icon-user-secret:before{content:\"\\f21b\"}.uk-icon-motorcycle:before{content:\"\\f21c\"}.uk-icon-street-view:before{content:\"\\f21d\"}.uk-icon-heartbeat:before{content:\"\\f21e\"}.uk-icon-venus:before{content:\"\\f221\"}.uk-icon-mars:before{content:\"\\f222\"}.uk-icon-mercury:before{content:\"\\f223\"}.uk-icon-transgender:before{content:\"\\f224\"}.uk-icon-transgender-alt:before{content:\"\\f225\"}.uk-icon-venus-double:before{content:\"\\f226\"}.uk-icon-mars-double:before{content:\"\\f227\"}.uk-icon-venus-mars:before{content:\"\\f228\"}.uk-icon-mars-stroke:before{content:\"\\f229\"}.uk-icon-mars-stroke-v:before{content:\"\\f22a\"}.uk-icon-mars-stroke-h:before{content:\"\\f22b\"}.uk-icon-neuter:before{content:\"\\f22c\"}.uk-icon-facebook-official:before{content:\"\\f230\"}.uk-icon-pinterest-p:before{content:\"\\f231\"}.uk-icon-whatsapp:before{content:\"\\f232\"}.uk-icon-server:before{content:\"\\f233\"}.uk-icon-user-plus:before{content:\"\\f234\"}.uk-icon-user-times:before{content:\"\\f235\"}.uk-icon-bed:before,.uk-icon-hotel:before{content:\"\\f236\"}.uk-icon-viacoin:before{content:\"\\f237\"}.uk-icon-train:before{content:\"\\f238\"}.uk-icon-subway:before{content:\"\\f239\"}.uk-icon-medium-logo:before{content:\"\\f23a\"}.uk-icon-500px:before{content:\"\\f26e\"}.uk-icon-amazon:before{content:\"\\f270\"}.uk-icon-balance-scale:before{content:\"\\f24e\"}.uk-icon-battery-0:before,.uk-icon-battery-empty:before{content:\"\\f244\"}.uk-icon-battery-1:before,.uk-icon-battery-quarter:before{content:\"\\f243\"}.uk-icon-battery-2:before,.uk-icon-battery-half:before{content:\"\\f242\"}.uk-icon-battery-3:before,.uk-icon-battery-three-quarters:before{content:\"\\f241\"}.uk-icon-battery-4:before,.uk-icon-battery-full:before{content:\"\\f240\"}.uk-icon-black-tie:before{content:\"\\f27e\"}.uk-icon-calendar-check-o:before{content:\"\\f274\"}.uk-icon-calendar-minus-o:before{content:\"\\f272\"}.uk-icon-calendar-plus-o:before{content:\"\\f271\"}.uk-icon-calendar-times-o:before{content:\"\\f273\"}.uk-icon-cc-diners-club:before{content:\"\\f24c\"}.uk-icon-cc-jcb:before{content:\"\\f24b\"}.uk-icon-chrome:before{content:\"\\f268\"}.uk-icon-clone:before{content:\"\\f24d\"}.uk-icon-commenting:before{content:\"\\f27a\"}.uk-icon-commenting-o:before{content:\"\\f27b\"}.uk-icon-contao:before{content:\"\\f26d\"}.uk-icon-creative-commons:before{content:\"\\f25e\"}.uk-icon-expeditedssl:before{content:\"\\f23e\"}.uk-icon-firefox:before{content:\"\\f269\"}.uk-icon-fonticons:before{content:\"\\f280\"}.uk-icon-get-pocket:before{content:\"\\f265\"}.uk-icon-gg:before{content:\"\\f260\"}.uk-icon-gg-circle:before{content:\"\\f261\"}.uk-icon-hand-lizard-o:before{content:\"\\f258\"}.uk-icon-hand-paper-o:before,.uk-icon-hand-stop-o:before{content:\"\\f256\"}.uk-icon-hand-peace-o:before{content:\"\\f25b\"}.uk-icon-hand-pointer-o:before{content:\"\\f25a\"}.uk-icon-hand-grab-o:before,.uk-icon-hand-rock-o:before{content:\"\\f255\"}.uk-icon-hand-scissors-o:before{content:\"\\f257\"}.uk-icon-hand-spock-o:before{content:\"\\f259\"}.uk-icon-hourglass:before{content:\"\\f254\"}.uk-icon-hourglass-o:before{content:\"\\f250\"}.uk-icon-hourglass-1:before,.uk-icon-hourglass-start:before{content:\"\\f251\"}.uk-icon-hourglass-2:before,.uk-icon-hourglass-half:before{content:\"\\f252\"}.uk-icon-hourglass-3:before,.uk-icon-hourglass-end:before{content:\"\\f253\"}.uk-icon-houzz:before{content:\"\\f27c\"}.uk-icon-i-cursor:before{content:\"\\f246\"}.uk-icon-industry:before{content:\"\\f275\"}.uk-icon-internet-explorer:before{content:\"\\f26b\"}.uk-icon-map:before{content:\"\\f279\"}.uk-icon-map-o:before{content:\"\\f278\"}.uk-icon-map-pin:before{content:\"\\f276\"}.uk-icon-map-signs:before{content:\"\\f277\"}.uk-icon-mouse-pointer:before{content:\"\\f245\"}.uk-icon-object-group:before{content:\"\\f247\"}.uk-icon-object-ungroup:before{content:\"\\f248\"}.uk-icon-odnoklassniki:before{content:\"\\f263\"}.uk-icon-odnoklassniki-square:before{content:\"\\f264\"}.uk-icon-opencart:before{content:\"\\f23d\"}.uk-icon-opera:before{content:\"\\f26a\"}.uk-icon-optin-monster:before{content:\"\\f23c\"}.uk-icon-registered:before{content:\"\\f25d\"}.uk-icon-safari:before{content:\"\\f267\"}.uk-icon-sticky-note:before{content:\"\\f249\"}.uk-icon-sticky-note-o:before{content:\"\\f24a\"}.uk-icon-television:before,.uk-icon-tv:before{content:\"\\f26c\"}.uk-icon-trademark:before{content:\"\\f25c\"}.uk-icon-tripadvisor:before{content:\"\\f262\"}.uk-icon-vimeo:before{content:\"\\f27d\"}.uk-icon-wikipedia-w:before{content:\"\\f266\"}.uk-icon-y-combinator:before,.uk-icon-yc:before{content:\"\\f23b\"}.uk-icon-y-combinator-square:before,.uk-icon-yc-square:before{content:\"\\f1d4\"}.uk-icon-bluetooth:before{content:\"\\f293\"}.uk-icon-bluetooth-b:before{content:\"\\f294\"}.uk-icon-codiepie:before{content:\"\\f284\"}.uk-icon-credit-card-alt:before{content:\"\\f283\"}.uk-icon-edge:before{content:\"\\f282\"}.uk-icon-fort-awesome:before{content:\"\\f286\"}.uk-icon-hashtag:before{content:\"\\f292\"}.uk-icon-mixcloud:before{content:\"\\f289\"}.uk-icon-modx:before{content:\"\\f285\"}.uk-icon-pause-circle:before{content:\"\\f28b\"}.uk-icon-pause-circle-o:before{content:\"\\f28c\"}.uk-icon-percent:before{content:\"\\f295\"}.uk-icon-product-hunt:before{content:\"\\f288\"}.uk-icon-reddit-alien:before{content:\"\\f281\"}.uk-icon-scribd:before{content:\"\\f28a\"}.uk-icon-shopping-bag:before{content:\"\\f290\"}.uk-icon-shopping-basket:before{content:\"\\f291\"}.uk-icon-stop-circle:before{content:\"\\f28d\"}.uk-icon-stop-circle-o:before{content:\"\\f28e\"}.uk-icon-usb:before{content:\"\\f287\"}.uk-icon-american-sign-language-interpreting:before,.uk-icon-asl-interpreting:before{content:\"\\f2a3\"}.uk-icon-assistive-listening-systems:before{content:\"\\f2a2\"}.uk-icon-audio-description:before{content:\"\\f29e\"}.uk-icon-blind:before{content:\"\\f29d\"}.uk-icon-braille:before{content:\"\\f2a1\"}.uk-icon-deaf:before,.uk-icon-deafness:before{content:\"\\f2a4\"}.uk-icon-envira:before{content:\"\\f299\"}.uk-icon-fa:before,.uk-icon-font-awesome:before{content:\"\\f2b4\"}.uk-icon-first-order:before{content:\"\\f2b0\"}.uk-icon-gitlab:before{content:\"\\f296\"}.uk-icon-glide:before{content:\"\\f2a5\"}.uk-icon-glide-g:before{content:\"\\f2a6\"}.uk-icon-hard-of-hearing:before{content:\"\\f2a4\"}.uk-icon-low-vision:before{content:\"\\f2a8\"}.uk-icon-question-circle-o:before{content:\"\\f29c\"}.uk-icon-sign-language:before,.uk-icon-signing:before{content:\"\\f2a7\"}.uk-icon-snapchat:before{content:\"\\f2ab\"}.uk-icon-snapchat-ghost:before{content:\"\\f2ac\"}.uk-icon-snapchat-square:before{content:\"\\f2ad\"}.uk-icon-themeisle:before{content:\"\\f2b2\"}.uk-icon-universal-access:before{content:\"\\f29a\"}.uk-icon-viadeo:before{content:\"\\f2a9\"}.uk-icon-viadeo-square:before{content:\"\\f2aa\"}.uk-icon-volume-control-phone:before{content:\"\\f2a0\"}.uk-icon-wheelchair-alt:before{content:\"\\f29b\"}.uk-icon-wpbeginner:before{content:\"\\f297\"}.uk-icon-wpforms:before{content:\"\\f298\"}.uk-icon-yoast:before{content:\"\\f2b1\"}.uk-close::-moz-focus-inner{border:0;padding:0}.uk-close{border:none;font:inherit;color:inherit;padding:0;background:0 0;box-sizing:content-box;width:20px;line-height:20px;opacity:.3}.uk-badge-notification,.uk-container,.uk-dropdown,.uk-dropdown-blank,.uk-overlay-area-content,.uk-responsive-height,.uk-responsive-width,.uk-scrollable-box,.uk-slidenav,.uk-thumbnail,[class*=uk-height]{box-sizing:border-box}.uk-close:after{display:block;content:\"\\f00d\";font-family:FontAwesome}.uk-close:focus,.uk-close:hover{opacity:.5;outline:0;color:inherit;text-decoration:none;cursor:pointer}.uk-badge,a.uk-badge:hover{color:#fff}.uk-close-alt{padding:2px;border-radius:50%;background:#eee;opacity:1}.uk-close-alt:focus,.uk-close-alt:hover{opacity:1}.uk-close-alt:after{opacity:.5}.uk-close-alt:focus:after,.uk-close-alt:hover:after{opacity:.8}.uk-badge{display:inline-block;padding:0 5px;background:#00a8e6;font-size:10px;font-weight:700;line-height:14px;text-align:center;text-transform:none}.uk-badge-notification{min-width:18px;border-radius:500px;font-size:12px;line-height:18px}.uk-badge-success{background-color:#8cc14c}.uk-badge-warning{background-color:#faa732}.uk-badge-danger{background-color:#da314b}.uk-alert{margin-bottom:15px;padding:10px;background:#ebf7fd;color:#2d7091}*+.uk-alert{margin-top:15px}.uk-alert>:last-child{margin-bottom:0}.uk-alert h1,.uk-alert h2,.uk-alert h3,.uk-alert h4,.uk-alert h5,.uk-alert h6{color:inherit}.uk-alert>.uk-close:first-child{float:right}.uk-alert>.uk-close:first-child+*{margin-top:0}.uk-alert-success{background:#f2fae3;color:#659f13}.uk-alert-warning{background:#fffceb;color:#e28327}.uk-alert-danger{background:#fff1f0;color:#d85030}.uk-alert-large{padding:20px}.uk-alert-large>.uk-close:first-child{margin:-10px -10px 0 0}.uk-overlay,.uk-thumbnail{margin:0;display:inline-block;max-width:100%}.uk-overlay-area-content>:last-child,.uk-overlay-panel.uk-flex>*>:last-child,.uk-overlay-panel>:last-child,.uk-overlay>:first-child{margin-bottom:0}.uk-thumbnail{padding:4px;border:1px solid #ddd;background:#fff}a.uk-thumbnail:focus,a.uk-thumbnail:hover{border-color:#aaa;background-color:#fff;text-decoration:none;outline:0}.uk-thumbnail-caption{padding-top:4px;text-align:center;color:#444}.uk-thumbnail-mini{width:150px}.uk-thumbnail-small{width:200px}.uk-thumbnail-medium{width:300px}.uk-thumbnail-large{width:400px}.uk-thumbnail-expand,.uk-thumbnail-expand>img{width:100%}.uk-overlay{position:relative;overflow:hidden;-webkit-transform:translateZ(0)}.uk-overlay-area:empty:before,.uk-overlay-icon:before{content:\"\\f002\";width:50px;height:50px;margin-top:-25px;margin-left:-25px;font-size:50px;line-height:1;text-align:center;font-family:FontAwesome}.uk-overlay.uk-border-circle{-webkit-mask-image:-webkit-radial-gradient(circle,#fff 100%,#000 100%)}.uk-overlay-panel{position:absolute;top:0;bottom:0;left:0;right:0;padding:20px;color:#fff}.uk-overlay-panel a[class*=uk-icon-]:not(.uk-icon-button),.uk-overlay-panel h1,.uk-overlay-panel h2,.uk-overlay-panel h3,.uk-overlay-panel h4,.uk-overlay-panel h5,.uk-overlay-panel h6{color:inherit}.uk-overlay-panel a:not([class]){color:inherit;text-decoration:underline}.uk-overlay-active :not(.uk-active)>.uk-overlay-panel:not(.uk-ignore),.uk-overlay-hover:not(:hover):not(.uk-hover) .uk-overlay-panel:not(.uk-ignore){opacity:0}.uk-overlay-background{background:rgba(0,0,0,.5)}.uk-overlay-image{padding:0}.uk-overlay-top{bottom:auto}.uk-overlay-bottom{top:auto}.uk-overlay-left{right:auto}.uk-overlay-right{left:auto}.uk-overlay-icon:before{position:absolute;top:50%;left:50%;color:#fff}.uk-overlay-blur,.uk-overlay-fade,.uk-overlay-grayscale,.uk-overlay-scale,.uk-overlay-spin,[class*=uk-overlay-slide]{transition-duration:.3s;transition-timing-function:ease-out;transition-property:opacity,transform,filter}.uk-overlay-active .uk-overlay-fade,.uk-overlay-active .uk-overlay-scale,.uk-overlay-active .uk-overlay-spin,.uk-overlay-active [class*=uk-overlay-slide]{transition-duration:.8s}.uk-overlay-fade{opacity:.7}.uk-overlay-active .uk-active>.uk-overlay-fade,.uk-overlay-hover.uk-hover .uk-overlay-fade,.uk-overlay-hover:hover .uk-overlay-fade{opacity:1}.uk-overlay-scale{-webkit-transform:scale(1);transform:scale(1)}.uk-overlay-active .uk-active>.uk-overlay-scale,.uk-overlay-hover.uk-hover .uk-overlay-scale,.uk-overlay-hover:hover .uk-overlay-scale{-webkit-transform:scale(1.1);transform:scale(1.1)}.uk-overlay-spin{-webkit-transform:scale(1) rotate(0);transform:scale(1) rotate(0)}.uk-overlay-active .uk-active>.uk-overlay-spin,.uk-overlay-hover.uk-hover .uk-overlay-spin,.uk-overlay-hover:hover .uk-overlay-spin{-webkit-transform:scale(1.1) rotate(3deg);transform:scale(1.1) rotate(3deg)}.uk-overlay-grayscale{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.uk-overlay-active .uk-active>.uk-overlay-grayscale,.uk-overlay-hover.uk-hover .uk-overlay-grayscale,.uk-overlay-hover:hover .uk-overlay-grayscale{-webkit-filter:grayscale(0);filter:grayscale(0)}[class*=uk-overlay-slide]{opacity:0}.uk-overlay-slide-top{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.uk-overlay-slide-bottom{-webkit-transform:translateY(100%);transform:translateY(100%)}.uk-overlay-slide-left{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uk-overlay-slide-right{-webkit-transform:translateX(100%);transform:translateX(100%)}.uk-overlay-active .uk-active>[class*=uk-overlay-slide],.uk-overlay-hover.uk-hover [class*=uk-overlay-slide],.uk-overlay-hover:hover [class*=uk-overlay-slide]{opacity:1;-webkit-transform:translateX(0) translateY(0);transform:translateX(0) translateY(0)}.uk-overlay-area,.uk-overlay-caption{-webkit-transition:opacity .15s linear;-webkit-transform:translate3d(0,0,0);position:absolute;right:0;bottom:0}.uk-overlay-area{top:0;left:0;background:rgba(0,0,0,.3);opacity:0;transition:opacity .15s linear}.uk-overlay-toggle.uk-hover .uk-overlay-area,.uk-overlay-toggle:hover .uk-overlay-area,.uk-overlay.uk-hover .uk-overlay-area,.uk-overlay:hover .uk-overlay-area{opacity:1}.uk-overlay-area:empty:before{position:absolute;top:50%;left:50%;color:#fff}.uk-overlay-area:not(:empty){font-size:0}.uk-overlay-area:not(:empty):before{content:'';display:inline-block;height:100%;vertical-align:middle}.uk-overlay-area-content{display:inline-block;width:100%;font-size:1rem;text-align:center;padding:0 15px;color:#fff}.uk-overlay-area-content a:not([class]),.uk-overlay-area-content a:not([class]):hover{color:inherit}.uk-overlay-caption{left:0;padding:15px;background:rgba(0,0,0,.5);color:#fff;opacity:0;transition:opacity .15s linear}.uk-overlay-toggle.uk-hover .uk-overlay-caption,.uk-overlay-toggle:hover .uk-overlay-caption,.uk-overlay.uk-hover .uk-overlay-caption,.uk-overlay:hover .uk-overlay-caption{opacity:1}[class*=uk-column-]{-webkit-column-gap:25px;-moz-column-gap:25px;column-gap:25px}.uk-column-1-2{-webkit-column-count:2;-moz-column-count:2;column-count:2}.uk-column-1-3{-webkit-column-count:3;-moz-column-count:3;column-count:3}.uk-column-1-4{-webkit-column-count:4;-moz-column-count:4;column-count:4}.uk-column-1-5{-webkit-column-count:5;-moz-column-count:5;column-count:5}.uk-column-1-6{-webkit-column-count:6;-moz-column-count:6;column-count:6}@media (min-width:480px){.uk-column-small-1-2{-webkit-column-count:2;-moz-column-count:2;column-count:2}.uk-column-small-1-3{-webkit-column-count:3;-moz-column-count:3;column-count:3}.uk-column-small-1-4{-webkit-column-count:4;-moz-column-count:4;column-count:4}.uk-column-small-1-5{-webkit-column-count:5;-moz-column-count:5;column-count:5}.uk-column-small-1-6{-webkit-column-count:6;-moz-column-count:6;column-count:6}}@media (min-width:768px){.uk-column-medium-1-2{-webkit-column-count:2;-moz-column-count:2;column-count:2}.uk-column-medium-1-3{-webkit-column-count:3;-moz-column-count:3;column-count:3}.uk-column-medium-1-4{-webkit-column-count:4;-moz-column-count:4;column-count:4}.uk-column-medium-1-5{-webkit-column-count:5;-moz-column-count:5;column-count:5}.uk-column-medium-1-6{-webkit-column-count:6;-moz-column-count:6;column-count:6}}@media (min-width:960px){.uk-column-large-1-2{-webkit-column-count:2;-moz-column-count:2;column-count:2}.uk-column-large-1-3{-webkit-column-count:3;-moz-column-count:3;column-count:3}.uk-column-large-1-4{-webkit-column-count:4;-moz-column-count:4;column-count:4}.uk-column-large-1-5{-webkit-column-count:5;-moz-column-count:5;column-count:5}.uk-column-large-1-6{-webkit-column-count:6;-moz-column-count:6;column-count:6}}[class*=uk-animation-]{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}@media screen{[data-uk-scrollspy*=uk-animation-]:not([data-uk-scrollspy*=target]){opacity:0}}.uk-animation-fade{-webkit-animation-name:uk-fade;animation-name:uk-fade;-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-timing-function:linear!important;animation-timing-function:linear!important}.uk-animation-scale-up{-webkit-animation-name:uk-fade-scale-02;animation-name:uk-fade-scale-02}.uk-animation-scale-down{-webkit-animation-name:uk-fade-scale-18;animation-name:uk-fade-scale-18}.uk-animation-slide-top{-webkit-animation-name:uk-fade-top;animation-name:uk-fade-top}.uk-animation-slide-bottom{-webkit-animation-name:uk-fade-bottom;animation-name:uk-fade-bottom}.uk-animation-slide-left{-webkit-animation-name:uk-fade-left;animation-name:uk-fade-left}.uk-animation-slide-right{-webkit-animation-name:uk-fade-right;animation-name:uk-fade-right}.uk-animation-scale{-webkit-animation-name:uk-scale-12;animation-name:uk-scale-12}.uk-animation-shake{-webkit-animation-name:uk-shake;animation-name:uk-shake}.uk-animation-reverse{-webkit-animation-direction:reverse;animation-direction:reverse;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}.uk-animation-15{-webkit-animation-duration:15s;animation-duration:15s}.uk-animation-top-left{-webkit-transform-origin:0 0;transform-origin:0 0}.uk-animation-top-center{-webkit-transform-origin:50% 0;transform-origin:50% 0}.uk-animation-top-right{-webkit-transform-origin:100% 0;transform-origin:100% 0}.uk-animation-middle-left{-webkit-transform-origin:0 50%;transform-origin:0 50%}.uk-animation-middle-right{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.uk-animation-bottom-left{-webkit-transform-origin:0 100%;transform-origin:0 100%}.uk-animation-bottom-center{-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.uk-animation-bottom-right{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.uk-animation-hover:not(:hover),.uk-animation-hover:not(:hover) [class*=uk-animation-],.uk-touch .uk-animation-hover:not(.uk-hover),.uk-touch .uk-animation-hover:not(.uk-hover) [class*=uk-animation-]{-webkit-animation-name:none;animation-name:none}@-webkit-keyframes uk-fade{0%{opacity:0}100%{opacity:1}}@keyframes uk-fade{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes uk-fade-top{0%{opacity:0;-webkit-transform:translateY(-100%)}100%{opacity:1;-webkit-transform:translateY(0)}}@keyframes uk-fade-top{0%{opacity:0;transform:translateY(-100%)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes uk-fade-bottom{0%{opacity:0;-webkit-transform:translateY(100%)}100%{opacity:1;-webkit-transform:translateY(0)}}@keyframes uk-fade-bottom{0%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes uk-fade-left{0%{opacity:0;-webkit-transform:translateX(-100%)}100%{opacity:1;-webkit-transform:translateX(0)}}@keyframes uk-fade-left{0%{opacity:0;transform:translateX(-100%)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes uk-fade-right{0%{opacity:0;-webkit-transform:translateX(100%)}100%{opacity:1;-webkit-transform:translateX(0)}}@keyframes uk-fade-right{0%{opacity:0;transform:translateX(100%)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes uk-fade-scale-02{0%{opacity:0;-webkit-transform:scale(.2)}100%{opacity:1;-webkit-transform:scale(1)}}@keyframes uk-fade-scale-02{0%{opacity:0;transform:scale(.2)}100%{opacity:1;transform:scale(1)}}@-webkit-keyframes uk-fade-scale-15{0%{opacity:0;-webkit-transform:scale(1.5)}100%{opacity:1;-webkit-transform:scale(1)}}@keyframes uk-fade-scale-15{0%{opacity:0;transform:scale(1.5)}100%{opacity:1;transform:scale(1)}}@-webkit-keyframes uk-fade-scale-18{0%{opacity:0;-webkit-transform:scale(1.8)}100%{opacity:1;-webkit-transform:scale(1)}}@keyframes uk-fade-scale-18{0%{opacity:0;transform:scale(1.8)}100%{opacity:1;transform:scale(1)}}@-webkit-keyframes uk-slide-left{0%{-webkit-transform:translateX(-100%)}100%{-webkit-transform:translateX(0)}}@keyframes uk-slide-left{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@-webkit-keyframes uk-slide-right{0%{-webkit-transform:translateX(100%)}100%{-webkit-transform:translateX(0)}}@keyframes uk-slide-right{0%{transform:translateX(100%)}100%{transform:translateX(0)}}@-webkit-keyframes uk-slide-left-33{0%{-webkit-transform:translateX(33%)}100%{-webkit-transform:translateX(0)}}@keyframes uk-slide-left-33{0%{transform:translateX(33%)}100%{transform:translateX(0)}}@-webkit-keyframes uk-slide-right-33{0%{-webkit-transform:translateX(-33%)}100%{-webkit-transform:translateX(0)}}@keyframes uk-slide-right-33{0%{transform:translateX(-33%)}100%{transform:translateX(0)}}@-webkit-keyframes uk-scale-12{0%{-webkit-transform:scale(1.2)}100%{-webkit-transform:scale(1)}}@keyframes uk-scale-12{0%{transform:scale(1.2)}100%{transform:scale(1)}}@-webkit-keyframes uk-rotate{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(359deg)}}@keyframes uk-rotate{0%{transform:rotate(0)}100%{transform:rotate(359deg)}}@-webkit-keyframes uk-shake{0%,100%{-webkit-transform:translateX(0)}10%{-webkit-transform:translateX(-9px)}20%{-webkit-transform:translateX(8px)}30%{-webkit-transform:translateX(-7px)}40%{-webkit-transform:translateX(6px)}50%{-webkit-transform:translateX(-5px)}60%{-webkit-transform:translateX(4px)}70%{-webkit-transform:translateX(-3px)}80%{-webkit-transform:translateX(2px)}90%{-webkit-transform:translateX(-1px)}}@keyframes uk-shake{0%,100%{transform:translateX(0)}10%{transform:translateX(-9px)}20%{transform:translateX(8px)}30%{transform:translateX(-7px)}40%{transform:translateX(6px)}50%{transform:translateX(-5px)}60%{transform:translateX(4px)}70%{transform:translateX(-3px)}80%{transform:translateX(2px)}90%{transform:translateX(-1px)}}@-webkit-keyframes uk-slide-top-fixed{0%{opacity:0;-webkit-transform:translateY(-10px)}100%{opacity:1;-webkit-transform:translateY(0)}}@keyframes uk-slide-top-fixed{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes uk-slide-bottom-fixed{0%{opacity:0;-webkit-transform:translateY(10px)}100%{opacity:1;-webkit-transform:translateY(0)}}@keyframes uk-slide-bottom-fixed{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.uk-dropdown,.uk-dropdown-blank{display:none;position:absolute;z-index:970;width:200px}.uk-dropdown{padding:15px;background:#f5f5f5;color:#444;font-size:1rem;vertical-align:top}.uk-open>.uk-dropdown,.uk-open>.uk-dropdown-blank{display:block;-webkit-animation:uk-fade .2s ease-in-out;animation:uk-fade .2s ease-in-out;-webkit-transform-origin:0 0;transform-origin:0 0}.uk-dropdown-top{margin-top:-5px}.uk-dropdown-bottom{margin-top:5px}.uk-dropdown-left{margin-left:-5px}.uk-dropdown-right{margin-left:5px}.uk-dropdown .uk-nav{margin:0 -15px}.uk-dropdown-grid>[class*=uk-width-]>.uk-panel+.uk-panel,.uk-dropdown-stack>.uk-dropdown-grid>[class*=uk-width-]:nth-child(n+2),.uk-grid .uk-dropdown-grid+.uk-dropdown-grid{margin-top:15px}@media (min-width:768px){.uk-dropdown:not(.uk-dropdown-stack)>.uk-dropdown-grid{margin-left:-15px;margin-right:-15px}.uk-dropdown:not(.uk-dropdown-stack)>.uk-dropdown-grid>[class*=uk-width-]{padding-left:15px;padding-right:15px}.uk-dropdown:not(.uk-dropdown-stack)>.uk-dropdown-grid>[class*=uk-width-]:nth-child(n+2){border-left:1px solid #ddd}.uk-dropdown-width-2:not(.uk-dropdown-stack){width:400px}.uk-dropdown-width-3:not(.uk-dropdown-stack){width:600px}.uk-dropdown-width-4:not(.uk-dropdown-stack){width:800px}.uk-dropdown-width-5:not(.uk-dropdown-stack){width:1000px}}@media (max-width:767px){.uk-dropdown-grid>[class*=uk-width-]{width:100%}.uk-dropdown-grid>[class*=uk-width-]:nth-child(n+2){margin-top:15px}}.uk-dropdown-stack>.uk-dropdown-grid>[class*=uk-width-]{width:100%}.uk-dropdown-small{min-width:150px;width:auto;padding:5px;white-space:nowrap}.uk-dropdown-small .uk-nav{margin:0 -5px}.uk-dropdown-navbar{margin-top:0;background:#f5f5f5;color:#444}.uk-open>.uk-dropdown-navbar{-webkit-animation:uk-slide-top-fixed .2s ease-in-out;animation:uk-slide-top-fixed .2s ease-in-out}.uk-dropdown-scrollable{overflow-y:auto;max-height:200px}.uk-modal{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1010;overflow-y:auto;-webkit-overflow-scrolling:touch;background:rgba(0,0,0,.6);opacity:0;-webkit-transition:opacity .15s linear;transition:opacity .15s linear;touch-action:cross-slide-y pinch-zoom double-tap-zoom;-webkit-transform:translateZ(0);transform:translateZ(0)}.uk-modal.uk-open{opacity:1}.uk-modal-page,.uk-modal-page body{overflow:hidden}.uk-modal-dialog{position:relative;box-sizing:border-box;margin:50px auto;padding:20px;width:600px;max-width:100%;max-width:calc(100% - 20px);background:#fff;opacity:0;-webkit-transform:translateY(-100px);transform:translateY(-100px);-webkit-transition:opacity .3s linear,-webkit-transform .3s ease-out;transition:opacity .3s linear,transform .3s ease-out}@media (max-width:767px){.uk-modal-dialog{width:auto;margin:10px auto}}.uk-open .uk-modal-dialog{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.uk-modal-dialog>:not([class*=uk-modal-]):last-child{margin-bottom:0}.uk-modal-dialog>.uk-close:first-child{margin:-10px -10px 0 0;float:right}.uk-modal-dialog>.uk-close:first-child+:not([class*=uk-modal-]){margin-top:0}.uk-modal-dialog-lightbox{margin:15px auto;padding:0;max-width:95%;max-width:calc(100% - 30px);min-height:50px}.uk-modal-dialog-lightbox>.uk-close:first-child{position:absolute;top:-12px;right:-12px;margin:0;float:none}@media (max-width:767px){.uk-modal-dialog-lightbox>.uk-close:first-child{top:-7px;right:-7px}}.uk-modal-dialog-blank{margin:0;padding:0;width:100%;max-width:100%;-webkit-transition:opacity .3s linear;transition:opacity .3s linear}.uk-modal-dialog-blank>.uk-close:first-child{position:absolute;top:20px;right:20px;z-index:1;margin:0;float:none}@media (min-width:768px){.uk-modal-dialog-large{width:930px}}@media (min-width:1220px){.uk-column-xlarge-1-2{-webkit-column-count:2;-moz-column-count:2;column-count:2}.uk-column-xlarge-1-3{-webkit-column-count:3;-moz-column-count:3;column-count:3}.uk-column-xlarge-1-4{-webkit-column-count:4;-moz-column-count:4;column-count:4}.uk-column-xlarge-1-5{-webkit-column-count:5;-moz-column-count:5;column-count:5}.uk-column-xlarge-1-6{-webkit-column-count:6;-moz-column-count:6;column-count:6}.uk-modal-dialog-large{width:1130px}}.uk-modal-header{margin-bottom:15px}.uk-modal-footer{margin-top:15px}.uk-modal-footer>:last-child,.uk-modal-header>:last-child{margin-bottom:0}.uk-modal-caption{position:absolute;left:0;right:0;bottom:-20px;margin-bottom:-10px;color:#fff;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uk-modal-spinner{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:25px;color:#ddd}.uk-offcanvas,.uk-offcanvas-bar{position:fixed;left:0;top:0;bottom:0}.uk-modal-spinner:after{content:\"\\f110\";display:block;font-family:FontAwesome;animation:uk-rotate 2s infinite linear}.uk-clearfix:after,.uk-clearfix:before,.uk-container:after,.uk-container:before{content:\"\"}.uk-offcanvas{display:none;right:0;z-index:1000;touch-action:none;background:rgba(0,0,0,.1)}.uk-offcanvas.uk-active{display:block}.uk-offcanvas-page{position:fixed;-webkit-transition:margin-left .3s ease-in-out;transition:margin-left .3s ease-in-out;margin-left:0}.uk-offcanvas-bar{-webkit-transform:translateX(-100%);transform:translateX(-100%);z-index:1001;width:270px;max-width:100%;background:#333;overflow-y:auto;-webkit-overflow-scrolling:touch;-webkit-transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out;-ms-scroll-chaining:none}.uk-offcanvas.uk-active .uk-offcanvas-bar.uk-offcanvas-bar-show{-webkit-transform:translateX(0);transform:translateX(0)}.uk-offcanvas-bar-flip{left:auto;right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.uk-offcanvas-bar[mode=none]{-webkit-transition:none;transition:none}.uk-offcanvas-bar[mode=reveal]{-webkit-transform:translateX(0);transform:translateX(0);clip:rect(0,0,100vh,0);-webkit-transition:-webkit-transform .3s ease-in-out,clip .3s ease-in-out;transition:transform .3s ease-in-out,clip .3s ease-in-out}.uk-offcanvas-bar-flip[mode=reveal]{clip:none;-webkit-transform:translateX(100%);transform:translateX(100%)}.uk-offcanvas-bar-flip[mode=reveal]>*{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out}.uk-offcanvas.uk-active .uk-offcanvas-bar-flip[mode=reveal].uk-offcanvas-bar-show>*{-webkit-transform:translateX(0);transform:translateX(0)}.uk-offcanvas .uk-panel{margin:20px 15px;color:#777}.uk-offcanvas .uk-panel a:not([class]),.uk-offcanvas .uk-panel-title{color:#ccc}.uk-offcanvas .uk-panel a:not([class]):hover{color:#fff}.uk-switcher{margin:0;padding:0;touch-action:cross-slide-y pinch-zoom double-tap-zoom}.uk-switcher>:not(.uk-active){display:none}.uk-text-small{font-size:11px;line-height:16px}.uk-text-large{font-size:18px;line-height:24px;font-weight:400}.uk-text-bold{font-weight:700}.uk-text-muted{color:#999!important}.uk-text-primary{color:#2d7091!important}.uk-text-success{color:#659f13!important}.uk-text-warning{color:#e28327!important}.uk-text-danger{color:#d85030!important}.uk-text-contrast{color:#fff!important}.uk-text-left{text-align:left!important}.uk-text-right{text-align:right!important}.uk-text-center{text-align:center!important}.uk-text-justify{text-align:justify!important}.uk-text-top{vertical-align:top!important}.uk-text-middle{vertical-align:middle!important}.uk-text-bottom{vertical-align:bottom!important}@media (max-width:959px){.uk-text-center-medium{text-align:center!important}.uk-text-left-medium{text-align:left!important}}.uk-text-nowrap{white-space:nowrap}.uk-text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uk-text-break{word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;-moz-hyphens:auto;hyphens:auto}.uk-text-capitalize{text-transform:capitalize!important}.uk-text-lowercase{text-transform:lowercase!important}.uk-text-uppercase{text-transform:uppercase!important}.uk-container{max-width:980px;padding:0 25px}@media (min-width:1220px){.uk-container{max-width:1200px;padding:0 35px}}.uk-container:after,.uk-container:before{display:table}.uk-container-center{margin-left:auto;margin-right:auto}.uk-clearfix:before{display:table-cell}.uk-clearfix:after{display:table}.uk-nbfc{overflow:hidden}.uk-nbfc-alt{display:table-cell;width:10000px}.uk-float-left{float:left}.uk-float-right{float:right}[class*=uk-float-]{max-width:100%}[class*=uk-align-]{display:block;margin-bottom:15px}.uk-align-left{margin-right:15px;float:left}.uk-align-right{margin-left:15px;float:right}@media (min-width:768px){.uk-align-medium-left{margin-right:15px;float:left}.uk-align-medium-right{margin-left:15px;float:right}}.uk-align-center{margin-left:auto;margin-right:auto}.uk-vertical-align{font-size:0}.uk-vertical-align:before{content:'';display:inline-block;height:100%;vertical-align:middle}.uk-vertical-align-bottom,.uk-vertical-align-middle{display:inline-block;max-width:100%;font-size:1rem}.uk-vertical-align-middle{vertical-align:middle}.uk-vertical-align-bottom{vertical-align:bottom}.uk-height-1-1{height:100%}.uk-height-viewport{height:100vh;min-height:600px}.uk-responsive-width{max-width:100%!important;height:auto}.uk-responsive-height{max-height:100%;width:auto}.uk-margin{margin-bottom:15px}*+.uk-margin{margin-top:15px}.uk-margin-top{margin-top:15px!important}.uk-margin-bottom{margin-bottom:15px!important}.uk-margin-left{margin-left:15px!important}.uk-margin-right{margin-right:15px!important}.uk-margin-large{margin-bottom:50px}*+.uk-margin-large{margin-top:50px}.uk-margin-large-top{margin-top:50px!important}.uk-margin-large-bottom{margin-bottom:50px!important}.uk-margin-large-left{margin-left:50px!important}.uk-margin-large-right{margin-right:50px!important}.uk-margin-small{margin-bottom:5px}*+.uk-margin-small{margin-top:5px}.uk-margin-small-top{margin-top:5px!important}.uk-margin-small-bottom{margin-bottom:5px!important}.uk-margin-small-left{margin-left:5px!important}.uk-margin-small-right{margin-right:5px!important}.uk-margin-remove{margin:0!important}.uk-margin-top-remove{margin-top:0!important}.uk-margin-bottom-remove{margin-bottom:0!important}.uk-overflow-container>:last-child,.uk-scrollable-box>:last-child{margin-bottom:0}.uk-padding-remove{padding:0!important}.uk-padding-top-remove{padding-top:0!important}.uk-padding-bottom-remove{padding-bottom:0!important}.uk-padding-vertical-remove{padding-top:0!important;padding-bottom:0!important}.uk-border-circle{border-radius:50%}.uk-border-rounded{border-radius:5px}.uk-heading-large{font-size:36px;line-height:42px}.uk-link-muted,.uk-link-muted a,.uk-link-muted a:hover,.uk-link-muted:hover{color:#444}.uk-link-reset,.uk-link-reset a,.uk-link-reset a:focus,.uk-link-reset a:hover,.uk-link-reset:focus,.uk-link-reset:hover{color:inherit;text-decoration:none}.uk-scrollable-text{height:300px;overflow-y:scroll;-webkit-overflow-scrolling:touch;resize:both}.uk-scrollable-box{height:170px;padding:10px;border:1px solid #ddd;overflow:auto;-webkit-overflow-scrolling:touch;resize:both}.uk-contrast .uk-list-line>li:nth-child(n+2),.uk-contrast .uk-nav-side .uk-nav-divider,.uk-contrast .uk-tab-grid:before,.uk-contrast hr{border-top-color:rgba(255,255,255,.2)}.uk-overflow-hidden{overflow:hidden}.uk-overflow-container{overflow:auto;-webkit-overflow-scrolling:touch}.uk-position-absolute,[class*=uk-position-top],[class*=uk-position-bottom]{position:absolute!important}.uk-position-top{top:0;left:0;right:0}.uk-position-bottom{bottom:0;left:0;right:0}.uk-position-top-left{top:0;left:0}.uk-position-top-right{top:0;right:0}.uk-position-bottom-left{bottom:0;left:0}.uk-position-bottom-right{bottom:0;right:0}.uk-position-cover{position:absolute;top:0;bottom:0;left:0;right:0}.uk-position-relative{position:relative!important}.uk-autocomplete,.uk-slidenav-position{position:relative}.uk-position-z-index{z-index:1}.uk-display-block{display:block!important}.uk-display-inline{display:inline!important}.uk-display-inline-block{display:inline-block!important;max-width:100%}@media (min-width:960px){.uk-hidden-large,.uk-visible-medium,.uk-visible-small{display:none!important}}@media (min-width:768px) and (max-width:959px){.uk-hidden-medium,.uk-visible-large,.uk-visible-small{display:none!important}}@media (max-width:767px){.uk-text-center-small{text-align:center!important}.uk-text-left-small{text-align:left!important}.uk-hidden-small,.uk-visible-large,.uk-visible-medium{display:none!important}}.uk-hidden{display:none!important}.uk-visible-hover:hover .uk-hidden,.uk-visible-hover:hover .uk-invisible{display:block!important;visibility:visible!important}.uk-visible-hover-inline:hover .uk-hidden,.uk-visible-hover-inline:hover .uk-invisible{display:inline-block!important;visibility:visible!important}.uk-notouch .uk-hidden-notouch,.uk-touch .uk-hidden-touch{display:none!important}.uk-flex{display:-ms-flexbox;display:-webkit-flex;display:flex}.uk-flex-inline{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex}.uk-flex-inline>*,.uk-flex>*{-ms-flex-negative:1}.uk-flex-top{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start}.uk-flex-middle{-ms-flex-align:center;-webkit-align-items:center;align-items:center}.uk-flex-bottom{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end}.uk-flex-center{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center}.uk-flex-right{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.uk-flex-space-between{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.uk-flex-space-around{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around}.uk-flex-row-reverse{-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.uk-flex-column{-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column}.uk-flex-column-reverse{-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.uk-flex-nowrap{-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.uk-flex-wrap{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap}.uk-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.uk-flex-wrap-top{-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start}.uk-flex-wrap-middle{-ms-flex-line-pack:center;-webkit-align-content:center;align-content:center}.uk-flex-wrap-bottom{-ms-flex-line-pack:end;-webkit-align-content:flex-end;align-content:flex-end}.uk-flex-wrap-space-between{-ms-flex-line-pack:justify;-webkit-align-content:space-between;align-content:space-between}.uk-flex-wrap-space-around{-ms-flex-line-pack:distribute;-webkit-align-content:space-around;align-content:space-around}.uk-flex-order-first{-ms-flex-order:-1;-webkit-order:-1;order:-1}.uk-flex-order-last{-ms-flex-order:99;-webkit-order:99;order:99}@media (min-width:480px){.uk-flex-order-first-small{-ms-flex-order:-1;-webkit-order:-1;order:-1}.uk-flex-order-last-small{-ms-flex-order:99;-webkit-order:99;order:99}}@media (min-width:768px){.uk-heading-large{font-size:52px;line-height:64px}.uk-flex-order-first-medium{-ms-flex-order:-1;-webkit-order:-1;order:-1}.uk-flex-order-last-medium{-ms-flex-order:99;-webkit-order:99;order:99}}@media (min-width:960px){.uk-flex-order-first-large{-ms-flex-order:-1;-webkit-order:-1;order:-1}.uk-flex-order-last-large{-ms-flex-order:99;-webkit-order:99;order:99}}@media (min-width:1220px){.uk-flex-order-first-xlarge{-ms-flex-order:-1;-webkit-order:-1;order:-1}.uk-flex-order-last-xlarge{-ms-flex-order:99;-webkit-order:99;order:99}}.uk-flex-item-none{-ms-flex:none;-webkit-flex:none;flex:none}.uk-flex-item-auto{-ms-flex:auto;-webkit-flex:auto;flex:auto;-ms-flex-negative:1}.uk-flex-item-1{-ms-flex:1;-webkit-flex:1;flex:1}.uk-contrast{color:#fff}.uk-contrast .uk-link,.uk-contrast a:not([class]){color:rgba(255,255,255,.7);text-decoration:none}.uk-contrast .uk-link:hover,.uk-contrast a:not([class]):hover{color:#fff;text-decoration:underline}.uk-contrast :not(pre)>code,.uk-contrast :not(pre)>kbd,.uk-contrast :not(pre)>samp,.uk-contrast em,.uk-contrast h1,.uk-contrast h2,.uk-contrast h3,.uk-contrast h4,.uk-contrast h5,.uk-contrast h6{color:#fff}.uk-contrast .uk-nav li>a,.uk-contrast .uk-nav li>a:hover{text-decoration:none}.uk-contrast .uk-nav-side>li>a{color:#fff}.uk-contrast .uk-nav-side>li>a:focus,.uk-contrast .uk-nav-side>li>a:hover{background:rgba(255,255,255,.1);color:#fff}.uk-contrast .uk-nav-side>li.uk-active>a{background:#fff;color:#444}.uk-contrast .uk-nav-side .uk-nav-header{color:#fff}.uk-contrast .uk-nav-side ul a{color:rgba(255,255,255,.7)}.uk-contrast .uk-nav-side ul a:hover{color:#fff}.uk-contrast .uk-subnav>*>a{color:rgba(255,255,255,.7);text-decoration:none}.uk-contrast .uk-subnav>*>a:focus,.uk-contrast .uk-subnav>*>a:hover{color:#fff;text-decoration:none}.uk-contrast .uk-subnav>.uk-active>a{color:#fff}.uk-contrast .uk-subnav-line>:nth-child(n+2):before{border-left-color:rgba(255,255,255,.2)}.uk-contrast .uk-subnav-pill>*>a:focus,.uk-contrast .uk-subnav-pill>*>a:hover{background:rgba(255,255,255,.7);color:#444;text-decoration:none}.uk-contrast .uk-subnav-pill>.uk-active>a{background:#fff;color:#444}.uk-contrast .uk-tab{border-bottom-color:rgba(255,255,255,.2)}.uk-contrast .uk-tab>li>a{border-color:transparent;color:rgba(255,255,255,.7)}.uk-contrast .uk-tab>li.uk-open>a,.uk-contrast .uk-tab>li>a:focus,.uk-contrast .uk-tab>li>a:hover{border-color:rgba(255,255,255,.7);background:rgba(255,255,255,.7);color:#444;text-decoration:none}.uk-contrast .uk-tab>li.uk-active>a{border-color:rgba(255,255,255,.2);border-bottom-color:transparent;background:#fff;color:#444}.uk-contrast .uk-tab-center{border-bottom-color:rgba(255,255,255,.2)}.uk-contrast .uk-form input:not([type]),.uk-contrast .uk-form input[type=text],.uk-contrast .uk-form input[type=password],.uk-contrast .uk-form input[type=email],.uk-contrast .uk-form input[type=url],.uk-contrast .uk-form input[type=search],.uk-contrast .uk-form input[type=tel],.uk-contrast .uk-form input[type=number],.uk-contrast .uk-form input[type=datetime],.uk-contrast .uk-form input[type=datetime-local],.uk-contrast .uk-form input[type=date],.uk-contrast .uk-form input[type=month],.uk-contrast .uk-form input[type=time],.uk-contrast .uk-form input[type=week],.uk-contrast .uk-form input[type=color],.uk-contrast .uk-form select,.uk-contrast .uk-form textarea{border-color:rgba(255,255,255,.8);background:rgba(255,255,255,.8);color:#444;background-clip:padding-box}.uk-contrast .uk-form input:not([type]):focus,.uk-contrast .uk-form input[type=text]:focus,.uk-contrast .uk-form input[type=password]:focus,.uk-contrast .uk-form input[type=email]:focus,.uk-contrast .uk-form input[type=url]:focus,.uk-contrast .uk-form input[type=search]:focus,.uk-contrast .uk-form input[type=tel]:focus,.uk-contrast .uk-form input[type=number]:focus,.uk-contrast .uk-form input[type=datetime]:focus,.uk-contrast .uk-form input[type=datetime-local]:focus,.uk-contrast .uk-form input[type=date]:focus,.uk-contrast .uk-form input[type=month]:focus,.uk-contrast .uk-form input[type=time]:focus,.uk-contrast .uk-form input[type=week]:focus,.uk-contrast .uk-form input[type=color]:focus,.uk-contrast .uk-form select:focus,.uk-contrast .uk-form textarea:focus{border-color:#fff;background:#fff;color:#444}.uk-contrast .uk-form :-ms-input-placeholder{color:rgba(68,68,68,.7)!important}.uk-contrast .uk-form ::-moz-placeholder{color:rgba(68,68,68,.7)}.uk-contrast .uk-form ::-webkit-input-placeholder{color:rgba(68,68,68,.7)}.uk-contrast .uk-button{color:#444;background:#fff}.uk-contrast .uk-button:focus,.uk-contrast .uk-button:hover{background-color:rgba(255,255,255,.8);color:#444}.uk-contrast .uk-button.uk-active,.uk-contrast .uk-button:active{background-color:rgba(255,255,255,.7);color:#444}.uk-contrast .uk-button-primary{background-color:#00a8e6;color:#fff}.uk-contrast .uk-button-primary:focus,.uk-contrast .uk-button-primary:hover{background-color:#35b3ee;color:#fff}.uk-contrast .uk-button-primary.uk-active,.uk-contrast .uk-button-primary:active{background-color:#0091ca;color:#fff}.uk-contrast .uk-icon-hover{color:rgba(255,255,255,.7)}.uk-contrast .uk-icon-hover:hover{color:#fff}.uk-contrast .uk-icon-button{background:#fff;color:#444}.uk-contrast .uk-icon-button:focus,.uk-contrast .uk-icon-button:hover{background-color:rgba(255,255,255,.8);color:#444}.uk-contrast .uk-icon-button:active{background-color:rgba(255,255,255,.7);color:#444}.uk-contrast .uk-text-muted{color:rgba(255,255,255,.6)!important}.uk-contrast .uk-text-primary{color:#2d7091!important}@media print{blockquote,img,pre,tr{page-break-inside:avoid}*,:after,:before{background:0 0!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}blockquote,pre{border:1px solid #999}thead{display:table-header-group}img{max-width:100%!important}@page{margin:.5cm}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}.uk-autocomplete{display:inline-block;max-width:100%;vertical-align:middle}.uk-dropdown-flip{left:auto;right:0}.uk-nav-autocomplete>li>a{color:#444}.uk-nav-autocomplete>li.uk-active>a{background:#00a8e6;color:#fff;outline:0}.uk-nav-autocomplete .uk-nav-header{color:#999}.uk-nav-autocomplete .uk-nav-divider{border-top:1px solid #ddd}.uk-slidenav{display:inline-block;width:60px;height:60px;line-height:60px;color:rgba(50,50,50,.4);font-size:60px;text-align:center}.uk-slidenav:focus,.uk-slidenav:hover{outline:0;text-decoration:none;color:rgba(50,50,50,.7);cursor:pointer}.uk-slidenav:active{color:rgba(50,50,50,.9)}.uk-slidenav-previous:before{content:\"\\f104\";font-family:FontAwesome}.uk-slidenav-next:before{content:\"\\f105\";font-family:FontAwesome}.uk-slidenav-position .uk-slidenav{display:none;position:absolute;top:50%;z-index:1;margin-top:-30px}.uk-slidenav-position:hover .uk-slidenav{display:block}.uk-slidenav-position .uk-slidenav-previous{left:20px}.uk-slidenav-position .uk-slidenav-next{right:20px}.uk-slidenav-contrast{color:rgba(255,255,255,.5)}.uk-slidenav-contrast:focus,.uk-slidenav-contrast:hover{color:rgba(255,255,255,.7)}.uk-slidenav-contrast:active{color:rgba(255,255,255,.9)}.uk-form-file{display:inline-block;vertical-align:middle;position:relative;overflow:hidden}.uk-form-file input[type=file]{position:absolute;top:0;z-index:1;width:100%;opacity:0;cursor:pointer;left:0;font-size:500px}.uk-dotnav{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-left:-15px;margin-top:-15px;padding:0}.uk-dotnav>*{-ms-flex:none;-webkit-flex:none;flex:none;padding-left:15px;margin-top:15px;float:left}.uk-dotnav:after,.uk-dotnav:before{content:\"\";display:block;overflow:hidden}.uk-dotnav>*>*{display:block;box-sizing:content-box;width:20px;height:20px;border-radius:50%;background:rgba(50,50,50,.1);text-indent:100%;overflow:hidden;white-space:nowrap}.contact-body .uk-list-line>li,.conversation-chat .headBox,.main-contanier,.plyr,.plyr *,.plyr ::after,.plyr ::before,.popup-messages,.postContent{box-sizing:border-box}.uk-dotnav>*>:focus,.uk-dotnav>*>:hover{background:rgba(50,50,50,.4);outline:0}.uk-dotnav>*>:active{background:rgba(50,50,50,.6)}.uk-dotnav>.uk-active>*{background:rgba(50,50,50,.4)}.uk-dotnav-contrast>*>*{background:rgba(255,255,255,.4)}.uk-dotnav-contrast>*>:focus,.uk-dotnav-contrast>*>:hover{background:rgba(255,255,255,.7)}.uk-dotnav-contrast>*>:active,.uk-dotnav-contrast>.uk-active>*{background:rgba(255,255,255,.9)}.uk-dotnav-vertical{-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column}.uk-dotnav-vertical>*{float:none}.emoji{width:1.5em;height:1.5em;display:inline-block;margin-bottom:-.25em;background-size:contain}.name-limited{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis}.main-contanier{position:fixed}.contact-body #scrollFriendList{position:relative;overflow:auto;margin:0;float:left;height:96vh}.contact-body .uk-list-line>li{background-color:#ececec;padding:5px 10px;display:block;float:left;width:100%;margin:0}.contact-body li._frd:hover{background:#DEDEDE}.contact-body li ._itemFrd{display:flex;display:-webkit-flex;display:-webkit-box;display:-moz-flex;display:-moz-box;display:-ms-flexbox;color:#2C3E50}.contact-body li ._itemFrd:hover{text-decoration:none}.contact-body li ._itemFrd .item{position:relative}.contact-body li ._itemFrd .item img{max-width:32px;height:32px;border-radius:50%;min-width:32px}.contact-body li ._itemFrd .item span{position:absolute;background-color:#65a830;border-radius:50%;border:2px solid #f6f7f8;width:10px;height:10px;left:22px;top:22px;z-index:1}.miniFriendList .headList,.windowNewMessage .headerBoxMessage{font-weight:700;color:#FFF;border-bottom:none;float:left;position:relative;cursor:pointer}.contact-body li ._itemFrd .item span.nk_offline{display:none;background-color:#ccc}.contact-body li ._itemFrd .lr-name{margin-left:10px;font-size:10pt;padding:7px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:135px}.friend-list.miniFriendList .search-minimax{display:none}.friend-list.miniFriendList #scrollFriendList{height:350px}.friend-list.miniFriendList{position:relative;overflow:hidden;width:274px;box-shadow:0 2px 8px 0 rgba(0,0,0,.3);padding:0;z-index:100;float:left;margin-right:15px;bottom:0}.friend-list.miniFriendList .headList{display:block}.miniFriendList span#icon-open{width:14px;height:15px;background-position:-75px -522px;cursor:pointer}.miniFriendList .headList{height:29px;width:100%;background-color:#3BB5E5;font-size:12px;line-height:29px}.miniFriendList .btn-setting{height:28px;line-height:28px}.miniFriendList .btn-setting a{padding-right:7px;font-size:15px}.miniFriendList .btn-setting span{font-size:15px;vertical-align:middle;margin-top:-2px}.miniFriendList span.online{background-color:#65a830;border-radius:50%;width:7px;height:7px;float:left;margin:10px 8px 0}.miniFriendList .uk-icon-external-link.minimum{transform:rotate(-180deg);-moz-transform:rotate(-180deg);-webkit-transform:rotate(-180deg);-o-transform:rotate(-180deg);margin-top:-4px}.windowNewMessage .headerBoxMessage{height:29px;width:100%;background-color:#ccc;font-size:14px;line-height:29px;padding:0 8px;box-sizing:border-box}.miniFriendList .headList span{color:#fff}.miniFriendList .friendListMin{display:block;-webkit-overflow-scrolling:touch;font-size:13px;padding:0;margin:0}.miniFriendList #mousescrollLeft{height:101vh;margin-top:42px}.miniFriendList .chatListItem,.miniFriendList .friendListMin{overflow:hidden;width:100%}.miniFriendList .chatListItem:hover,.miniFriendList .friendListMin:hover{overflow-y:scroll}.miniFriendList .chatListItem::-webkit-scrollbar,.miniFriendList .friendListMin::-webkit-scrollbar{width:10px}.miniFriendList .chatListItem::-webkit-scrollbar-thumb,.miniFriendList .friendListMin::-webkit-scrollbar-thumb{height:32px;border-radius:5px;-webkit-border-radius:5px;border:1px solid #f6f7f8;background-color:#cacaca}.miniFriendList .chatListItem::-webkit-scrollbar-track,.miniFriendList .friendListMin::-webkit-scrollbar-track{background-color:transparent}.miniFriendList .search-miniFrm{float:left;width:274px}.miniFriendList .search-miniFrm .input-search input{width:100%}.miniFriendList .search-miniFrm .input-search span{font-size:10pt;left:7px}.miniFriendList .friendList a,.miniFriendList .friendListMin a{width:100%;float:left;color:#333;cursor:pointer}.conversation-chat,.windowNewMessage{float:right;width:210px;height:350px;border:1px solid #ddd;margin-right:9px;z-index:9999;position:relative;bottom:0}.conversation-chat.open,.windowNewMessage.open{display:block;bottom:320px;width:250px}.conversation-chat.open .headBox,.windowNewMessage.open .headerBoxMessage{background:#0e76bc}.newMessagebox .inputAddF{padding:0 5px;background:#fff;border-bottom:1px solid #D0D1D5;display:flex}.newMessagebox .inputAddF label{margin:3px 0;font-weight:400}.newMessagebox .inputAddF input{width:100%;border:none;padding:4px 0 4px 15px;font-size:10pt;outline:0}.newMessagebox .popup-messages{height:235px}.frmNewMessage.active .btn-setting span{color:#CEE3F2;padding-right:16px;line-height:1px}img.avatar-img{border-radius:50%;min-width:32px}.conversation-chat .headBox{color:#555;padding:7px 8px;float:left;height:29px;width:100%;position:relative;background-color:#fff}.conversation-chat .offline,.conversation-chat .online{border-radius:50%;width:7px;height:7px;margin:5px 8px 0 0;float:left}.conversation-chat .offline{background-color:#ccc}.conversation-chat .online{background-color:#88e241}.chatbox-highlight{background:#3BB5E5!important;color:#fff!important}.conversation-chat.open .headBox{color:#fff}.chatbox-actions a{color:#e3e9f5}.chatbox-actions a:hover{color:#fff}.conversation-chat.open .headBox .avatar,.conversation-chat.open .icon-windowChat{display:block}.headBox .avatar{float:left;display:none}.icon-windowChat{float:right;margin-top:-3px}.icon-windowChat a{margin-left:5px}.conversation-chat .nofuser{margin-left:8px;float:left;position:relative;display:flex}.conversation-chat .nofuser .name a{color:#555}.conversation-chat.open .nofuser .name a{color:#fff}.conversation-chat .nofuser .name{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:120px;line-height:1;font-weight:700}.plyr,.popup-messages .partner .content-conversation{max-width:100%}.popup-messages{background-color:#ececec;width:100%;height:289px;border-top:none;padding:8px;overflow-y:auto;overflow-x:hidden;float:left;border-bottom:1px solid #ccc}.postContent{width:100%;padding:2px 10px 10px;float:left;border:none;border-bottom:none;background-color:#FFF}.postContent .iconPostContent span{font-size:16px;color:#737373;margin-right:5px}.uploadStatusMin{display:block;width:100%;padding:6px 0;font-size:12px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:none;outline:0}.popup-messages .partner{display:flex}.popup-messages .owner{display:flex;justify-content:flex-end}.popup-messages .owner .content-conversation{max-width:100%;float:right}.popup-messages .content-conversation>p{overflow-x:auto;padding:5px 7px;background:#fff;border-radius:12px;margin:0 0 2px;border:1px solid #D0D1D5;font-size:10pt}.popup-messages .owner .content-conversation p{background-color:#e0edff}.popup-messages .trix-content img.emoji{height:28px;width:auto}.popup-messages .endConver{font-size:9pt}.plyr input[type=range]:focus,.plyr:focus{outline:0}.plyr .plyr__video-embed iframe,.plyr__tooltip{pointer-events:none}@keyframes plyr-progress{to{background-position:25px 0}}.plyr{position:relative;min-width:200px;font-family:Avenir,'Avenir Next','Helvetica Neue','Segoe UI',Helvetica,Arial,sans-serif;direction:ltr}.plyr a,.plyr button,.plyr input,.plyr label{-ms-touch-action:manipulation;touch-action:manipulation}.plyr audio,.plyr video{width:100%;height:auto;vertical-align:middle;border-radius:inherit}.plyr input[type=range]{display:block;height:20px;width:100%;margin:0;padding:0;vertical-align:middle;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border:none;background:0 0}.plyr input[type=range]::-webkit-slider-runnable-track{height:8px;background:0 0;border:0;border-radius:4px;-webkit-user-select:none;user-select:none}.plyr input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;margin-top:-4px;position:relative;height:16px;width:16px;background:#fff;border:2px solid transparent;border-radius:100%;transition:background .2s ease,border .2s ease,transform .2s ease;box-shadow:0 1px 1px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.15);box-sizing:border-box}.plyr input[type=range]::-moz-range-track{height:8px;background:0 0;border:0;border-radius:4px;-moz-user-select:none;user-select:none}.plyr input[type=range]::-moz-range-thumb{position:relative;height:16px;width:16px;background:#fff;border:2px solid transparent;border-radius:100%;transition:background .2s ease,border .2s ease,transform .2s ease;box-shadow:0 1px 1px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.15);box-sizing:border-box}.plyr input[type=range]::-ms-track{height:8px;background:0 0;border:0;color:transparent}.plyr input[type=range]::-ms-fill-upper{height:8px;background:0 0;border:0;border-radius:4px;-ms-user-select:none;user-select:none}.plyr input[type=range]::-ms-fill-lower{height:8px;border:0;border-radius:4px;-ms-user-select:none;user-select:none;background:#3498db}.plyr input[type=range]::-ms-thumb{position:relative;height:16px;width:16px;background:#fff;border:2px solid transparent;border-radius:100%;transition:background .2s ease,border .2s ease,transform .2s ease;box-shadow:0 1px 1px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.15);box-sizing:border-box;margin-top:0}.plyr input[type=range]::-ms-tooltip{display:none}.plyr input[type=range]::-moz-focus-outer{border:0}.plyr input[type=range].tab-focus:focus{outline-offset:3px}.plyr input[type=range]:active::-webkit-slider-thumb{background:#3498db;border-color:#fff;transform:scale(1.25)}.plyr input[type=range]:active::-moz-range-thumb{background:#3498db;border-color:#fff;transform:scale(1.25)}.plyr input[type=range]:active::-ms-thumb{background:#3498db;border-color:#fff;transform:scale(1.25)}.plyr--video input[type=range].tab-focus:focus{outline:rgba(255,255,255,.5) dotted 1px}.plyr--audio input[type=range].tab-focus:focus{outline:rgba(86,93,100,.5) dotted 1px}.plyr__sr-only{clip:rect(1px,1px,1px,1px);overflow:hidden;position:absolute!important;padding:0!important;border:0!important;height:1px!important;width:1px!important}.plyr__video-wrapper{position:relative;background:#000;border-radius:inherit;-webkit-mask-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)}.plyr__video-embed{padding-bottom:56.25%;height:0;overflow:hidden}.plyr__video-embed iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.plyr__video-embed>div{position:relative;padding-bottom:200%;transform:translateY(-35.95%)}.plyr video::-webkit-media-text-track-container{display:none}.plyr__captions{display:none;position:absolute;bottom:0;left:0;width:100%;padding:20px;transform:translateY(-40px);transition:transform .3s ease;color:#fff;font-size:16px;text-align:center;font-weight:400}.plyr__captions span{border-radius:2px;padding:3px 10px;background:rgba(0,0,0,.7);-webkit-box-decoration-break:clone;box-decoration-break:clone;line-height:150%}.plyr__captions span:empty{display:none}@media (min-width:768px){.plyr__captions{font-size:24px}}.plyr--captions-active .plyr__captions{display:block}.plyr--fullscreen-active .plyr__captions{font-size:32px}.plyr--hide-controls .plyr__captions{transform:translateY(-15px)}.plyr ::-webkit-media-controls{display:none}.plyr__controls{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;line-height:1;text-align:center}.plyr__controls .plyr__progress,.plyr__controls .plyr__time,.plyr__controls>button{margin-left:5px}.plyr__controls .plyr__progress:first-child,.plyr__controls .plyr__time:first-child,.plyr__controls>button:first-child{margin-left:0}.plyr__controls .plyr__volume{margin-left:5px}.plyr__controls [data-plyr=pause]{margin-left:0}.plyr__controls button{position:relative;display:inline-block;-ms-flex-negative:0;flex-shrink:0;overflow:visible;vertical-align:middle;padding:7px;border:0;background:0 0;border-radius:3px;cursor:pointer;transition:background .3s ease,color .3s ease,opacity .3s ease;color:inherit}.plyr__controls button svg{width:18px;height:18px;display:block;fill:currentColor}.plyr__controls button:focus{outline:0}.plyr__controls .icon--captions-on,.plyr__controls .icon--exit-fullscreen,.plyr__controls .icon--muted{display:none}@media (min-width:480px){.plyr__controls .plyr__progress,.plyr__controls .plyr__time,.plyr__controls>button{margin-left:10px}}.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none}.plyr--video .plyr__controls{position:absolute;left:0;right:0;bottom:0;padding:50px 10px 10px;background:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,.5));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;color:#fff;transition:opacity .3s ease}.plyr--video .plyr__controls button.tab-focus:focus,.plyr--video .plyr__controls button:hover{background:#3498db;color:#fff}.plyr--audio .plyr__controls{padding:10px;border-radius:inherit;background:#fff;border:1px solid #dbe3e8;color:#565D64}.plyr--audio .plyr__controls button.tab-focus:focus,.plyr--audio .plyr__controls button:hover,.plyr__play-large{background:#3498db;color:#fff}.plyr__play-large{display:none;position:absolute;z-index:1;top:50%;left:50%;transform:translate(-50%,-50%);padding:10px;border:4px solid currentColor;border-radius:100%;box-shadow:0 1px 1px rgba(0,0,0,.15);transition:all .3s ease}.plyr__play-large svg{position:relative;left:2px;width:20px;height:20px;display:block;fill:currentColor}.plyr__play-large:focus{outline:rgba(255,255,255,.5) dotted 1px}.plyr .plyr__play-large{display:inline-block}.plyr--audio .plyr__play-large,.plyr--playing .plyr__controls [data-plyr=play],.plyr__controls [data-plyr=pause]{display:none}.plyr--playing .plyr__play-large{opacity:0;visibility:hidden}.plyr--playing .plyr__controls [data-plyr=pause]{display:inline-block}.plyr--captions-active .plyr__controls .icon--captions-on,.plyr--fullscreen-active .icon--exit-fullscreen,.plyr--muted .plyr__controls .icon--muted{display:block}.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr--captions-active .plyr__controls .icon--captions-on+svg,.plyr--fullscreen-active .icon--exit-fullscreen+svg,.plyr--muted .plyr__controls .icon--muted+svg{display:none}.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen]{display:inline-block}.plyr__tooltip{position:absolute;z-index:2;bottom:100%;margin-bottom:10px;padding:5px 7.5px;opacity:0;background:rgba(0,0,0,.7);border-radius:3px;color:#fff;font-size:14px;line-height:1.3;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s .1s ease,opacity .2s .1s ease}.plyr__tooltip::before{content:'';position:absolute;width:0;height:0;left:50%;transform:translateX(-50%);bottom:-4px;border-right:4px solid transparent;border-top:4px solid rgba(0,0,0,.7);border-left:4px solid transparent;z-index:2}.plyr button.tab-focus:focus .plyr__tooltip,.plyr button:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%,0) scale(1)}.plyr button:hover .plyr__tooltip{z-index:3}.plyr__controls button:first-child .plyr__tooltip{left:0;transform:translate(0,10px) scale(.8);transform-origin:0 100%}.plyr__controls button:first-child .plyr__tooltip::before{left:16px}.plyr__controls button:last-child .plyr__tooltip{right:0;transform:translate(0,10px) scale(.8);transform-origin:100% 100%}.plyr__controls button:last-child .plyr__tooltip::before{left:auto;right:16px;transform:translateX(50%)}.plyr__controls button:first-child .plyr__tooltip--visible,.plyr__controls button:first-child.tab-focus:focus .plyr__tooltip,.plyr__controls button:first-child:hover .plyr__tooltip,.plyr__controls button:last-child .plyr__tooltip--visible,.plyr__controls button:last-child.tab-focus:focus .plyr__tooltip,.plyr__controls button:last-child:hover .plyr__tooltip{transform:translate(0,0) scale(1)}.plyr__progress{position:relative;display:none;-ms-flex:1;flex:1}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress input[type=range]::-webkit-slider-runnable-track{background:0 0}.plyr__progress input[type=range]::-moz-range-track{background:0 0}.plyr__progress input[type=range]::-ms-fill-upper{background:0 0}.plyr__progress .plyr__tooltip{left:0}.plyr .plyr__progress{display:inline-block}.plyr__progress--buffer,.plyr__progress--played,.plyr__volume--display{position:absolute;left:0;top:50%;width:100%;height:8px;margin:-4px 0 0;padding:0;vertical-align:top;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;border-radius:100px}.plyr__progress--buffer::-webkit-progress-bar,.plyr__progress--played::-webkit-progress-bar,.plyr__volume--display::-webkit-progress-bar{background:0 0}.plyr__progress--buffer::-webkit-progress-value,.plyr__progress--played::-webkit-progress-value,.plyr__volume--display::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:8px}.plyr__progress--buffer::-moz-progress-bar,.plyr__progress--played::-moz-progress-bar,.plyr__volume--display::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:8px}.plyr__progress--buffer::-ms-fill,.plyr__progress--played::-ms-fill,.plyr__volume--display::-ms-fill{border-radius:100px}.plyr__progress--played,.plyr__volume--display{z-index:1;color:#3498db;background:0 0;transition:none}.plyr__progress--played::-webkit-progress-value,.plyr__volume--display::-webkit-progress-value{min-width:8px;max-width:99%;border-top-right-radius:0;border-bottom-right-radius:0;transition:none}.plyr__progress--played::-moz-progress-bar,.plyr__volume--display::-moz-progress-bar{min-width:8px;max-width:99%;border-top-right-radius:0;border-bottom-right-radius:0;transition:none}.plyr__progress--played::-ms-fill,.plyr__volume--display::-ms-fill{display:none}.plyr__progress--buffer::-webkit-progress-value{transition:width .2s ease}.plyr__progress--buffer::-moz-progress-bar{transition:width .2s ease}.plyr__progress--buffer::-ms-fill{transition:width .2s ease}.plyr--video .plyr__progress--buffer,.plyr--video .plyr__volume--display{background:rgba(255,255,255,.25)}.plyr--video .plyr__progress--buffer{color:rgba(255,255,255,.25)}.plyr--audio .plyr__progress--buffer,.plyr--audio .plyr__volume--display{background:rgba(198,214,219,.66)}.plyr--audio .plyr__progress--buffer{color:rgba(198,214,219,.66)}.plyr--loading .plyr__progress--buffer{animation:plyr-progress 1s linear infinite;background-size:25px 25px;background-repeat:repeat-x;background-image:linear-gradient(-45deg,rgba(0,0,0,.15) 25%,transparent 25%,transparent 50%,rgba(0,0,0,.15) 50%,rgba(0,0,0,.15) 75%,transparent 75%,transparent);color:transparent}.plyr--video.plyr--loading .plyr__progress--buffer{background-color:rgba(255,255,255,.25)}.plyr--audio.plyr--loading .plyr__progress--buffer{background-color:rgba(198,214,219,.66)}.plyr__time{display:inline-block;vertical-align:middle;font-size:14px}.plyr__time+.plyr__time{display:none}@media (min-width:768px){.plyr__time+.plyr__time{display:inline-block}}.plyr__time+.plyr__time::before{content:'\\2044';margin-right:10px}.plyr__volume{display:none}.plyr .plyr__volume{-ms-flex:1;flex:1;position:relative}.plyr .plyr__volume input[type=range]{position:relative;z-index:2}@media (min-width:480px){.plyr .plyr__volume{display:block;max-width:60px}}@media (min-width:768px){.plyr .plyr__volume{max-width:100px}}.plyr--is-ios .plyr__volume,.plyr--is-ios [data-plyr=mute]{display:none!important}.plyr--fullscreen-active{position:fixed;top:0;left:0;right:0;bottom:0;height:100%;width:100%;z-index:10000000;background:#000;border-radius:0!important}.plyr--fullscreen-active video{height:100%}.plyr--fullscreen-active .plyr__video-wrapper{height:100%;width:100%}.plyr--fullscreen-active .plyr__controls{position:absolute;bottom:0;left:0;right:0}.plyr--fullscreen-active.plyr--vimeo .plyr__video-wrapper{height:0;top:50%;transform:translateY(-50%)}");
})
(function(factory) {
  if (typeof define == 'function' && define.amd)
    define([], factory);
  else if (typeof module == 'object' && module.exports && typeof require == 'function')
    module.exports = factory();
  else
    factory();
});